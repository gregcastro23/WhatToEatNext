{"file":"/data/data/com.termux/files/home/WhatToEatNext/__tests__/elementalNormalization.test.ts","mappings":"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","names":[],"sources":["/data/data/com.termux/files/home/WhatToEatNext/__tests__/elementalNormalization.test.ts"],"sourcesContent":["/**\n * Elemental Normalization Tests\n *\n * Comprehensive tests for the elemental normalization utilities\n * including normalizeForDisplay, isNormalized, convertNormalizedToRaw, etc.\n */\n\nimport { describe, expect, test } from \"@jest/globals\";\nimport {\n  normalizeForDisplay,\n  getTotalIntensity,\n  getDominantElementByIntensity,\n  isNormalized,\n  convertNormalizedToRaw,\n  getRelativeStrengths,\n  formatAsPercentages,\n  compareIntensities,\n} from \"@/utils/elemental/normalization\";\nimport type {\n  RawElementalProperties,\n  NormalizedElementalProperties,\n} from \"@/types/alchemy\";\n\n// Sample test data\nconst rawProperties: RawElementalProperties = {\n  Fire: 5.2,\n  Water: 3.1,\n  Earth: 1.8,\n  Air: 1.2,\n};\n\nconst normalizedProperties: NormalizedElementalProperties = {\n  Fire: 0.25,\n  Water: 0.25,\n  Earth: 0.25,\n  Air: 0.25,\n};\n\nconst highFireRaw: RawElementalProperties = {\n  Fire: 8.0,\n  Water: 2.0,\n  Earth: 2.0,\n  Air: 2.0,\n};\n\nconst zeroProperties: RawElementalProperties = {\n  Fire: 0,\n  Water: 0,\n  Earth: 0,\n  Air: 0,\n};\n\ndescribe(\"Elemental Normalization Utilities\", () => {\n  describe(\"normalizeForDisplay\", () => {\n    test(\"normalizes raw values to percentages summing to 1.0\", () => {\n      const result = normalizeForDisplay(rawProperties);\n\n      const total = result.Fire + result.Water + result.Earth + result.Air;\n      expect(total).toBeCloseTo(1.0, 6);\n    });\n\n    test(\"preserves relative proportions\", () => {\n      const result = normalizeForDisplay(rawProperties);\n\n      // Fire should be largest (5.2 / 11.3 = 0.46)\n      expect(result.Fire).toBeCloseTo(5.2 / 11.3, 2);\n      expect(result.Water).toBeCloseTo(3.1 / 11.3, 2);\n      expect(result.Earth).toBeCloseTo(1.8 / 11.3, 2);\n      expect(result.Air).toBeCloseTo(1.2 / 11.3, 2);\n    });\n\n    test(\"returns default values for zero input\", () => {\n      const result = normalizeForDisplay(zeroProperties);\n\n      expect(result.Fire).toBe(0.25);\n      expect(result.Water).toBe(0.25);\n      expect(result.Earth).toBe(0.25);\n      expect(result.Air).toBe(0.25);\n    });\n\n    test(\"works with already normalized values\", () => {\n      const result = normalizeForDisplay(normalizedProperties);\n\n      const total = result.Fire + result.Water + result.Earth + result.Air;\n      expect(total).toBeCloseTo(1.0, 6);\n    });\n\n    test(\"handles high-intensity raw values\", () => {\n      const highIntensity = { Fire: 100, Water: 50, Earth: 30, Air: 20 };\n      const result = normalizeForDisplay(highIntensity);\n\n      const total = result.Fire + result.Water + result.Earth + result.Air;\n      expect(total).toBeCloseTo(1.0, 6);\n      expect(result.Fire).toBeCloseTo(0.5, 2); // 100/200\n    });\n  });\n\n  describe(\"getTotalIntensity\", () => {\n    test(\"sums all element values\", () => {\n      const result = getTotalIntensity(rawProperties);\n\n      expect(result).toBeCloseTo(5.2 + 3.1 + 1.8 + 1.2, 6);\n      expect(result).toBeCloseTo(11.3, 6);\n    });\n\n    test(\"returns 1.0 for normalized properties\", () => {\n      const result = getTotalIntensity(normalizedProperties);\n\n      expect(result).toBeCloseTo(1.0, 6);\n    });\n\n    test(\"returns 0 for zero properties\", () => {\n      const result = getTotalIntensity(zeroProperties);\n\n      expect(result).toBe(0);\n    });\n  });\n\n  describe(\"getDominantElementByIntensity\", () => {\n    test(\"returns element with highest value\", () => {\n      const result = getDominantElementByIntensity(rawProperties);\n\n      expect(result).toBe(\"Fire\");\n    });\n\n    test(\"works with high-intensity values\", () => {\n      const result = getDominantElementByIntensity(highFireRaw);\n\n      expect(result).toBe(\"Fire\");\n    });\n\n    test(\"returns first element for equal values\", () => {\n      const equalProperties = {\n        Fire: 0.25,\n        Water: 0.25,\n        Earth: 0.25,\n        Air: 0.25,\n      };\n      const result = getDominantElementByIntensity(equalProperties);\n\n      // Should return first element (order depends on Object.entries)\n      expect([\"Fire\", \"Water\", \"Earth\", \"Air\"]).toContain(result);\n    });\n  });\n\n  describe(\"isNormalized\", () => {\n    test(\"returns true for normalized properties (sum = 1.0)\", () => {\n      const result = isNormalized(normalizedProperties);\n\n      expect(result).toBe(true);\n    });\n\n    test(\"returns false for raw properties (sum > 1.0)\", () => {\n      const result = isNormalized(rawProperties);\n\n      expect(result).toBe(false);\n    });\n\n    test(\"handles edge cases near 1.0\", () => {\n      const nearNormalized = {\n        Fire: 0.24,\n        Water: 0.26,\n        Earth: 0.25,\n        Air: 0.25,\n      };\n      const result = isNormalized(nearNormalized);\n\n      expect(result).toBe(true);\n    });\n\n    test(\"returns true for sum of 1.05 (within tolerance)\", () => {\n      const nearNormalized = {\n        Fire: 0.26,\n        Water: 0.26,\n        Earth: 0.26,\n        Air: 0.27,\n      };\n      const result = isNormalized(nearNormalized);\n\n      // Should still be considered normalized (within tolerance)\n      expect(result).toBe(true);\n    });\n  });\n\n  describe(\"convertNormalizedToRaw\", () => {\n    test(\"scales normalized values to reference intensity\", () => {\n      const result = convertNormalizedToRaw(normalizedProperties, 10);\n\n      expect(result.Fire).toBe(2.5);\n      expect(result.Water).toBe(2.5);\n      expect(result.Earth).toBe(2.5);\n      expect(result.Air).toBe(2.5);\n\n      const total = result.Fire + result.Water + result.Earth + result.Air;\n      expect(total).toBe(10);\n    });\n\n    test(\"uses default reference intensity of 4.0\", () => {\n      const result = convertNormalizedToRaw(normalizedProperties);\n\n      const total = result.Fire + result.Water + result.Earth + result.Air;\n      expect(total).toBe(4.0);\n    });\n\n    test(\"returns raw values unchanged when already raw\", () => {\n      const result = convertNormalizedToRaw(rawProperties, 10);\n\n      // Should detect that rawProperties is not normalized (sum != 1.0)\n      // and return values as-is\n      expect(result.Fire).toBe(5.2);\n      expect(result.Water).toBe(3.1);\n      expect(result.Earth).toBe(1.8);\n      expect(result.Air).toBe(1.2);\n    });\n  });\n\n  describe(\"getRelativeStrengths\", () => {\n    test(\"calculates element strength relative to average\", () => {\n      const result = getRelativeStrengths(highFireRaw);\n\n      // Total = 14, average = 3.5\n      // Fire = 8 / 3.5 = 2.29\n      expect(result.Fire).toBeCloseTo(8 / 3.5, 2);\n      expect(result.Water).toBeCloseTo(2 / 3.5, 2);\n    });\n\n    test(\"returns all 1.0 for zero properties\", () => {\n      const result = getRelativeStrengths(zeroProperties);\n\n      expect(result.Fire).toBe(1);\n      expect(result.Water).toBe(1);\n      expect(result.Earth).toBe(1);\n      expect(result.Air).toBe(1);\n    });\n\n    test(\"balanced properties have strength of 1.0\", () => {\n      const balanced = { Fire: 5, Water: 5, Earth: 5, Air: 5 };\n      const result = getRelativeStrengths(balanced);\n\n      expect(result.Fire).toBe(1);\n      expect(result.Water).toBe(1);\n      expect(result.Earth).toBe(1);\n      expect(result.Air).toBe(1);\n    });\n  });\n\n  describe(\"formatAsPercentages\", () => {\n    test(\"formats raw values as percentage strings\", () => {\n      const result = formatAsPercentages(rawProperties);\n\n      expect(result.Fire).toBe(\"46.0%\");\n      expect(result.Water).toBe(\"27.4%\");\n      expect(result.Earth).toBe(\"15.9%\");\n      expect(result.Air).toBe(\"10.6%\");\n    });\n\n    test(\"respects decimal places parameter\", () => {\n      const result = formatAsPercentages(rawProperties, 2);\n\n      expect(result.Fire).toContain(\"46.\");\n      expect(result.Fire.split(\".\")[1]).toBe(\"02%\");\n    });\n\n    test(\"works with already normalized values\", () => {\n      const result = formatAsPercentages(normalizedProperties);\n\n      expect(result.Fire).toBe(\"25.0%\");\n      expect(result.Water).toBe(\"25.0%\");\n      expect(result.Earth).toBe(\"25.0%\");\n      expect(result.Air).toBe(\"25.0%\");\n    });\n  });\n\n  describe(\"compareIntensities\", () => {\n    test(\"calculates differences between two property sets\", () => {\n      const props1 = { Fire: 5.2, Water: 3.1, Earth: 1.8, Air: 1.2 };\n      const props2 = { Fire: 3.0, Water: 4.0, Earth: 2.0, Air: 1.0 };\n\n      const result = compareIntensities(props1, props2);\n\n      expect(result.Fire).toBeCloseTo(2.2, 6);\n      expect(result.Water).toBeCloseTo(-0.9, 6);\n      expect(result.Earth).toBeCloseTo(-0.2, 6);\n      expect(result.Air).toBeCloseTo(0.2, 6);\n    });\n\n    test(\"returns zeros for identical properties\", () => {\n      const result = compareIntensities(rawProperties, rawProperties);\n\n      expect(result.Fire).toBe(0);\n      expect(result.Water).toBe(0);\n      expect(result.Earth).toBe(0);\n      expect(result.Air).toBe(0);\n    });\n  });\n\n  describe(\"Integration Tests\", () => {\n    test(\"round-trip: normalize -> convert back preserves proportions\", () => {\n      const original = { Fire: 4, Water: 3, Earth: 2, Air: 1 };\n      const originalTotal = getTotalIntensity(original);\n\n      const normalized = normalizeForDisplay(original);\n      const restored = convertNormalizedToRaw(normalized, originalTotal);\n\n      expect(restored.Fire).toBeCloseTo(original.Fire, 5);\n      expect(restored.Water).toBeCloseTo(original.Water, 5);\n      expect(restored.Earth).toBeCloseTo(original.Earth, 5);\n      expect(restored.Air).toBeCloseTo(original.Air, 5);\n    });\n\n    test(\"dominant element is consistent across normalization\", () => {\n      const raw = { Fire: 8, Water: 2, Earth: 3, Air: 1 };\n      const normalized = normalizeForDisplay(raw);\n\n      const rawDominant = getDominantElementByIntensity(raw);\n      const normalizedDominant = getDominantElementByIntensity(normalized);\n\n      expect(rawDominant).toBe(normalizedDominant);\n      expect(rawDominant).toBe(\"Fire\");\n    });\n\n    test(\"relative strengths remain consistent after normalization\", () => {\n      const raw = { Fire: 10, Water: 5, Earth: 3, Air: 2 };\n      const normalized = normalizeForDisplay(raw);\n\n      const rawStrengths = getRelativeStrengths(raw);\n      const normalizedStrengths = getRelativeStrengths(normalized);\n\n      // Relative strengths should be the same\n      expect(rawStrengths.Fire).toBeCloseTo(normalizedStrengths.Fire, 5);\n      expect(rawStrengths.Water).toBeCloseTo(normalizedStrengths.Water, 5);\n      expect(rawStrengths.Earth).toBeCloseTo(normalizedStrengths.Earth, 5);\n      expect(rawStrengths.Air).toBeCloseTo(normalizedStrengths.Air, 5);\n    });\n  });\n});\n"],"version":3}