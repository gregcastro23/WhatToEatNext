f81aceac34bc9841782b66298d7ab684
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// Mock all external dependencies for E2E simulation
jest.mock('next/navigation', () => ({
    useRouter: () => ({
        push: jest.fn(),
        back: jest.fn(),
        forward: jest.fn(),
        refresh: jest.fn(),
        replace: jest.fn(),
    }),
}));
jest.mock('@/utils/logger', () => ({
    logger: {
        debug: jest.fn(),
        info: jest.fn(),
        warn: jest.fn(),
        error: jest.fn(),
    },
}));
// Mock realistic component behaviors for E2E testing
jest.mock('@/components/CuisineRecommender', () => {
    return function MockCuisineRecommender() {
        const [selectedCuisine, setSelectedCuisine] = react_2.default.useState(null);
        const [showRecipes, setShowRecipes] = react_2.default.useState(false);
        const cuisines = [
            { name: 'Italian', score: 95, recipes: ['Pasta Marinara', 'Risotto', 'Pizza Margherita'] },
            { name: 'Chinese', score: 88, recipes: ['Fried Rice', 'Sweet and Sour Pork', 'Kung Pao Chicken'] },
            { name: 'Mexican', score: 82, recipes: ['Tacos', 'Enchiladas', 'Guacamole'] },
            { name: 'Indian', score: 79, recipes: ['Curry', 'Biryani', 'Naan'] },
        ];
        const handleCuisineSelect = (cuisine) => {
            setSelectedCuisine(cuisine.name);
            setShowRecipes(true);
        };
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'cuisine-recommender', children: [(0, jsx_runtime_1.jsx)("h3", { children: "Cuisine Recommendations" }), (0, jsx_runtime_1.jsx)("div", { className: 'cuisine-grid', children: cuisines.map(cuisine => ((0, jsx_runtime_1.jsx)("div", { className: 'cuisine-card', "data-testid": `cuisine-card-${cuisine.name.toLowerCase()}`, children: (0, jsx_runtime_1.jsxs)("button", { onClick: () => handleCuisineSelect(cuisine), className: selectedCuisine === cuisine.name ? 'selected' : '', "data-testid": `cuisine-${cuisine.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("h4", { children: cuisine.name }), (0, jsx_runtime_1.jsxs)("div", { className: 'score', children: ["Match: ", cuisine.score, "%"] })] }) }, cuisine.name))) }), showRecipes && selectedCuisine && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'recipe-recommendations', className: 'recipe-section', children: [(0, jsx_runtime_1.jsxs)("h4", { children: ["Recommended ", selectedCuisine, " Recipes"] }), (0, jsx_runtime_1.jsx)("div", { className: 'recipe-list', children: cuisines
                                .find(c => c.name === selectedCuisine)
                                ?.recipes.map(recipe => ((0, jsx_runtime_1.jsx)("button", { "data-testid": `recipe-${recipe.toLowerCase().replace(/\s+/g, '-')}`, className: 'recipe-button', children: recipe }, recipe))) })] }))] }));
    };
});
jest.mock('@/components/IngredientRecommender', () => {
    return function MockIngredientRecommender({ maxDisplayed = 8 }) {
        const [selectedIngredients, setSelectedIngredients] = react_2.default.useState([]);
        const [expandedIngredient, setExpandedIngredient] = react_2.default.useState(null);
        const ingredients = [
            { name: 'Tomatoes', category: 'Vegetables', properties: ['Umami', 'Acidic', 'Fresh'] },
            { name: 'Onions', category: 'Vegetables', properties: ['Sweet', 'Pungent', 'Aromatic'] },
            { name: 'Garlic', category: 'Aromatics', properties: ['Pungent', 'Savory', 'Aromatic'] },
            { name: 'Basil', category: 'Herbs', properties: ['Fresh', 'Aromatic', 'Sweet'] },
            { name: 'Olive Oil', category: 'Oils', properties: ['Rich', 'Fruity', 'Smooth'] },
            { name: 'Cheese', category: 'Dairy', properties: ['Creamy', 'Salty', 'Rich'] },
            { name: 'Pasta', category: 'Grains', properties: ['Neutral', 'Filling', 'Versatile'] },
            { name: 'Chicken', category: 'Proteins', properties: ['Lean', 'Mild', 'Versatile'] },
        ];
        const displayedIngredients = ingredients.slice(0, maxDisplayed);
        const toggleIngredient = (ingredient) => {
            setSelectedIngredients(prev => void prev.includes(ingredient) ? prev.filter(i => i !== ingredient) : [...prev, ingredient]);
        };
        const toggleExpanded = (ingredient) => {
            setExpandedIngredient(prev => (prev === ingredient ? null : ingredient));
        };
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'ingredient-recommender', children: [(0, jsx_runtime_1.jsx)("h3", { children: "Ingredient Recommendations" }), (0, jsx_runtime_1.jsx)("div", { className: 'ingredient-grid', children: displayedIngredients.map(ingredient => ((0, jsx_runtime_1.jsxs)("div", { className: 'ingredient-card', "data-testid": `ingredient-card-${ingredient.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("button", { onClick: () => toggleIngredient(ingredient.name), className: selectedIngredients.includes(ingredient.name) ? 'selected' : '', "data-testid": `ingredient-${ingredient.name.toLowerCase()}`, children: ingredient.name }), (0, jsx_runtime_1.jsx)("button", { onClick: () => toggleExpanded(ingredient.name), "data-testid": `expand-${ingredient.name.toLowerCase()}`, className: 'expand-button', children: expandedIngredient === ingredient.name ? '▼' : '▶' }), expandedIngredient === ingredient.name && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": `details-${ingredient.name.toLowerCase()}`, className: 'ingredient-details', children: [(0, jsx_runtime_1.jsxs)("div", { children: ["Category: ", ingredient.category] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Properties: ", ingredient.properties.join(', ')] })] }))] }, ingredient.name))) }), selectedIngredients.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'selected-ingredients-summary', className: 'selection-summary', children: [(0, jsx_runtime_1.jsxs)("h4", { children: ["Selected Ingredients (", selectedIngredients.length, ")"] }), (0, jsx_runtime_1.jsx)("div", { children: selectedIngredients.join(', ') })] }))] }));
    };
});
jest.mock('@/components/CookingMethodsSection', () => {
    return function MockCookingMethodsSection({ maxDisplayed = 6, onViewMore, }) {
        const [selectedMethod, setSelectedMethod] = react_2.default.useState(null);
        const methods = [
            { name: 'Sauté', time: '5-10 min', difficulty: 'Easy', description: 'Quick cooking in a pan with oil' },
            { name: 'Roast', time: '30-60 min', difficulty: 'Medium', description: 'Cooking in the oven with dry heat' },
            { name: 'Grill', time: '10-20 min', difficulty: 'Medium', description: 'Cooking over direct heat' },
            { name: 'Steam', time: '10-15 min', difficulty: 'Easy', description: 'Cooking with steam heat' },
            { name: 'Braise', time: '60-120 min', difficulty: 'Hard', description: 'Slow cooking with liquid' },
            { name: 'Stir-fry', time: '5-8 min', difficulty: 'Medium', description: 'Quick cooking while stirring' },
        ];
        const displayedMethods = methods.slice(0, maxDisplayed);
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'cooking-methods', children: [(0, jsx_runtime_1.jsx)("h3", { children: "Cooking Methods" }), (0, jsx_runtime_1.jsx)("div", { className: 'methods-grid', children: displayedMethods.map(method => ((0, jsx_runtime_1.jsxs)("div", { className: 'method-card', "data-testid": `method-card-${method.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsxs)("button", { onClick: () => setSelectedMethod(method.name), className: selectedMethod === method.name ? 'selected' : '', "data-testid": `method-${method.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("h4", { children: method.name }), (0, jsx_runtime_1.jsxs)("div", { className: 'method-info', children: [(0, jsx_runtime_1.jsxs)("div", { children: ["Time: ", method.time] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Difficulty: ", method.difficulty] })] })] }), selectedMethod === method.name && ((0, jsx_runtime_1.jsx)("div", { "data-testid": `method-details-${method.name.toLowerCase()}`, className: 'method-details', children: (0, jsx_runtime_1.jsx)("p", { children: method.description }) }))] }, method.name))) }), (0, jsx_runtime_1.jsx)("button", { onClick: onViewMore, "data-testid": 'view-more-methods', className: 'view-more-button', children: "View All Cooking Methods" })] }));
    };
});
jest.mock('@/components/recipes/RecipeBuilderSimple', () => {
    return function MockRecipeBuilderSimple() {
        const [recipeName, setRecipeName] = react_2.default.useState('');
        const [ingredients, setIngredients] = react_2.default.useState([]);
        const [steps, setSteps] = react_2.default.useState([]);
        const [servings, setServings] = react_2.default.useState(4);
        const [prepTime, setPrepTime] = react_2.default.useState(15);
        const [cookTime, setCookTime] = react_2.default.useState(30);
        const addIngredient = () => {
            setIngredients(prev => [...prev, { name: '', quantity: '' }]);
        };
        const updateIngredient = (index, field, value) => {
            setIngredients(prev => prev.map((ing, i) => (i === index ? { ...ing, [field]: value } : ing)));
        };
        const removeIngredient = (index) => {
            setIngredients(prev => prev.filter((_, i) => i !== index));
        };
        const addStep = () => {
            setSteps(prev => [...prev, { instruction: '', timing: '' }]);
        };
        const updateStep = (index, field, value) => {
            setSteps(prev => prev.map((step, i) => (i === index ? { ...step, [field]: value } : step)));
        };
        const removeStep = (index) => {
            setSteps(prev => prev.filter((_, i) => i !== index));
        };
        const canSave = recipeName.trim() && ingredients.some(ing => ing.name.trim()) && void steps.some(step => step.instruction.trim());
        const totalTime = prepTime + cookTime;
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'recipe-builder', children: [(0, jsx_runtime_1.jsx)("h3", { children: "Recipe Builder" }), (0, jsx_runtime_1.jsxs)("div", { className: 'recipe-form', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'recipe-header', children: [(0, jsx_runtime_1.jsx)("input", { type: 'text', placeholder: 'Recipe Name', value: recipeName, onChange: e => setRecipeName(e.target.value), "data-testid": 'recipe-name-input' }), (0, jsx_runtime_1.jsxs)("div", { className: 'recipe-meta', children: [(0, jsx_runtime_1.jsx)("input", { type: 'number', value: servings, onChange: e => setServings(parseInt(e.target.value) || 1), "data-testid": 'servings-input', min: '1' }), (0, jsx_runtime_1.jsx)("input", { type: 'number', value: prepTime, onChange: e => setPrepTime(parseInt(e.target.value) || 0), "data-testid": 'prep-time-input', min: '0' }), (0, jsx_runtime_1.jsx)("input", { type: 'number', value: cookTime, onChange: e => setCookTime(parseInt(e.target.value) || 0), "data-testid": 'cook-time-input', min: '0' })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'ingredients-section', children: [(0, jsx_runtime_1.jsx)("h4", { children: "Ingredients" }), (0, jsx_runtime_1.jsx)("button", { onClick: addIngredient, "data-testid": 'add-ingredient', children: "Add Ingredient" }), ingredients.map((ingredient, index) => ((0, jsx_runtime_1.jsxs)("div", { className: 'ingredient-row', "data-testid": `ingredient-row-${index}`, children: [(0, jsx_runtime_1.jsx)("input", { type: 'text', placeholder: 'Quantity', value: ingredient.quantity, onChange: e => updateIngredient(index, 'quantity', e.target.value), "data-testid": `ingredient-quantity-${index}` }), (0, jsx_runtime_1.jsx)("input", { type: 'text', placeholder: 'Ingredient name', value: ingredient.name, onChange: e => updateIngredient(index, 'name', e.target.value), "data-testid": `ingredient-name-${index}` }), (0, jsx_runtime_1.jsx)("button", { onClick: () => removeIngredient(index), "data-testid": `remove-ingredient-${index}`, children: "Remove" })] }, index))), (0, jsx_runtime_1.jsxs)("div", { "data-testid": 'ingredients-count', children: [", Ingredients: ", ingredients.length] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'steps-section', children: [(0, jsx_runtime_1.jsx)("h4", { children: "Instructions" }), (0, jsx_runtime_1.jsx)("button", { onClick: addStep, "data-testid": 'add-step', children: "Add Step" }), steps.map((step, index) => ((0, jsx_runtime_1.jsxs)("div", { className: 'step-row', "data-testid": `step-row-${index}`, children: [(0, jsx_runtime_1.jsx)("span", { className: 'step-number', children: index + 1 }), (0, jsx_runtime_1.jsx)("textarea", { placeholder: 'Describe this step...', value: step.instruction, onChange: e => updateStep(index, 'instruction', e.target.value), "data-testid": `step-instruction-${index}` }), (0, jsx_runtime_1.jsx)("input", { type: 'text', placeholder: 'Timing', value: step.timing, onChange: e => updateStep(index, 'timing', e.target.value), "data-testid": `step-timing-${index}` }), (0, jsx_runtime_1.jsx)("button", { onClick: () => removeStep(index), "data-testid": `remove-step-${index}`, children: "Remove" })] }, index))), (0, jsx_runtime_1.jsxs)("div", { "data-testid": 'steps-count', children: [", Steps: ", steps.length] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'recipe-summary', "data-testid": 'recipe-summary', children: [(0, jsx_runtime_1.jsx)("h4", { children: "Recipe Summary" }), (0, jsx_runtime_1.jsxs)("div", { children: ["Name: ", recipeName || 'Untitled Recipe'] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Servings: ", servings] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Total Time: ", totalTime, " minutes"] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Ingredients: ", ingredients.length] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Steps: ", steps.length] })] }), (0, jsx_runtime_1.jsx)("button", { disabled: !canSave, "data-testid": 'save-recipe', className: canSave ? 'enabled' : 'disabled', children: "Save Recipe" })] })] }));
    };
});
/**
 * End-to-End Tests for Main Page Workflows
 *
 * These tests simulate complete user workflows on the main page,
 * testing the integration between all components and user interactions.
 *
 * Note: These tests use jsdom and testing-library to simulate E2E scenarios
 * without requiring a full browser environment.
 */
const react_1 = require("@testing-library/react");
const user_event_1 = __importDefault(require("@testing-library/user-event"));
const react_2 = __importDefault(require("react"));
const MainPageLayout_1 = __importDefault(require("@/components/layout/MainPageLayout"));
const hooks_1 = require("@/contexts/AlchemicalContext/hooks");
const useStatePreservation_1 = require("@/hooks/useStatePreservation");
void jest.mock('@/contexts/AlchemicalContext/hooks');
void jest.mock('@/hooks/useStatePreservation');
describe('Main Page E2E Workflows', () => {
    const mockAlchemicalContext = {
        state: {
            astrologicalState: { sunSign: 'aries' },
            elementalState: { Fire: 0.3, Water: 0.2, Earth: 0.3, Air: 0.2 },
        },
        planetaryPositions: { sun: { sign: 'aries' } },
        isDaytime: true,
    };
    const mockNavigationState = {
        saveState: jest.fn(),
        getState: jest.fn(() => ({})),
    };
    const mockScrollPreservation = {
        restoreScrollPosition: jest.fn(),
    };
    beforeEach(() => {
        void jest.clearAllMocks();
        hooks_1.useAlchemical.mockReturnValue(mockAlchemicalContext);
        useStatePreservation_1.useNavigationState.mockReturnValue(mockNavigationState);
        useStatePreservation_1.useScrollPreservation.mockReturnValue(mockScrollPreservation);
        useStatePreservation_1.useAutoStateCleanup.mockReturnValue(undefined);
        // Mock DOM methods
        void Object.defineProperty(window, 'scrollY', { value: 0, writable: true });
        jest.spyOn(document, 'getElementById').mockImplementation(() => ({
            scrollIntoView: jest.fn(),
            style: {},
            classList: { add: jest.fn(), remove: jest.fn() },
        }));
    });
    afterEach(() => {
        void jest.restoreAllMocks();
    });
    it('completes full meal planning workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        // Wait for all components to load
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cuisine-recommender')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('ingredient-recommender')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('cooking-methods')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Step 1: Select a cuisine
        const italianCuisine = react_1.screen.getByTestId('italian-cuisine');
        void user.click(italianCuisine);
        // Verify cuisine selection and recipe recommendations appear
        expect(react_1.screen.getByTestId('recipe-recommendations')).toBeInTheDocument();
        expect(react_1.screen.getByText('Recommended Italian Recipes')).toBeInTheDocument();
        // Step 2: Select ingredients
        const tomatoes = react_1.screen.getByTestId('ingredient-tomatoes');
        const basil = react_1.screen.getByTestId('ingredient-basil');
        const oliveOil = react_1.screen.getByTestId('ingredient-olive oil');
        void user.click(tomatoes);
        void user.click(basil);
        void user.click(oliveOil);
        // Verify ingredient selection
        expect(react_1.screen.getByTestId('selected-ingredients-summary')).toBeInTheDocument();
        expect(react_1.screen.getByText('Selected Ingredients (3)')).toBeInTheDocument();
        // Step 3: Select cooking method
        const sauteMethod = react_1.screen.getByTestId('method-sauté');
        void user.click(sauteMethod);
        // Verify method selection and details
        expect(react_1.screen.getByTestId('method-details-sauté')).toBeInTheDocument();
        // Step 4: Build a recipe
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        void user.type(recipeNameInput, 'Italian Tomato Basil Sauté');
        // Add ingredients to recipe
        const addIngredientButton = react_1.screen.getByTestId('add-ingredient');
        void user.click(addIngredientButton);
        void user.click(addIngredientButton);
        void user.click(addIngredientButton);
        // Fill in ingredient details
        void user.type(react_1.screen.getByTestId('ingredient-quantity-0'), '2 cups');
        void user.type(react_1.screen.getByTestId('ingredient-name-0'), 'Fresh Tomatoes');
        void user.type(react_1.screen.getByTestId('ingredient-quantity-1'), '1/4 cup');
        void user.type(react_1.screen.getByTestId('ingredient-name-1'), 'Fresh Basil');
        void user.type(react_1.screen.getByTestId('ingredient-quantity-2'), '2 tbsp');
        void user.type(react_1.screen.getByTestId('ingredient-name-2'), 'Olive Oil');
        // Add cooking steps
        const addStepButton = react_1.screen.getByTestId('add-step');
        void user.click(addStepButton);
        void user.click(addStepButton);
        user.type(react_1.screen.getByTestId('step-instruction-0'), 'Heat olive oil in a large pan over medium heat');
        void user.type(react_1.screen.getByTestId('step-timing-0'), '2 min');
        user.type(react_1.screen.getByTestId('step-instruction-1'), 'Add tomatoes and basil, sauté until tender');
        void user.type(react_1.screen.getByTestId('step-timing-1'), '8 min');
        // Verify recipe can be saved
        const saveButton = react_1.screen.getByTestId('save-recipe');
        expect(saveButton).toBeEnabled();
        // Save the recipe
        void user.click(saveButton);
        // Verify the complete workflow
        expect(react_1.screen.getByDisplayValue('Italian Tomato Basil Sauté')).toBeInTheDocument();
        expect(react_1.screen.getByText('Ingredients: 3')).toBeInTheDocument();
        expect(react_1.screen.getByText('Steps: 2')).toBeInTheDocument();
    });
    it('handles ingredient exploration workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('ingredient-recommender')).toBeInTheDocument();
        });
        // Expand ingredient details
        const expandTomatoes = react_1.screen.getByTestId('expand-tomatoes');
        void user.click(expandTomatoes);
        // Verify details are shown
        expect(react_1.screen.getByTestId('details-tomatoes')).toBeInTheDocument();
        expect(react_1.screen.getByText('Category: Vegetables')).toBeInTheDocument();
        expect(react_1.screen.getByText('Properties: Umami, Acidic, Fresh')).toBeInTheDocument();
        // Expand another ingredient
        const expandGarlic = react_1.screen.getByTestId('expand-garlic');
        void user.click(expandGarlic);
        expect(react_1.screen.getByTestId('details-garlic')).toBeInTheDocument();
        expect(react_1.screen.getByText('Category: Aromatics')).toBeInTheDocument();
        // Collapse first ingredient
        void user.click(expandTomatoes);
        expect(react_1.screen.queryByTestId('details-tomatoes')).not.toBeInTheDocument();
        // Select multiple ingredients
        void user.click(react_1.screen.getByTestId('ingredient-tomatoes'));
        void user.click(react_1.screen.getByTestId('ingredient-garlic'));
        void user.click(react_1.screen.getByTestId('ingredient-basil'));
        // Verify selection summary
        expect(react_1.screen.getByText('Selected Ingredients (3)')).toBeInTheDocument();
        expect(react_1.screen.getByText('Tomatoes, Garlic, Basil')).toBeInTheDocument();
    });
    it('handles cooking method exploration workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cooking-methods')).toBeInTheDocument();
        });
        // Select different cooking methods and view details
        const roastMethod = react_1.screen.getByTestId('method-roast');
        void user.click(roastMethod);
        expect(react_1.screen.getByTestId('method-details-roast')).toBeInTheDocument();
        expect(react_1.screen.getByText('Cooking in the oven with dry heat')).toBeInTheDocument();
        // Switch to another method
        const grillMethod = react_1.screen.getByTestId('method-grill');
        void user.click(grillMethod);
        expect(react_1.screen.getByTestId('method-details-grill')).toBeInTheDocument();
        expect(react_1.screen.getByText('Cooking over direct heat')).toBeInTheDocument();
        // Previous method details should be hidden
        expect(react_1.screen.queryByTestId('method-details-roast')).not.toBeInTheDocument();
        // Test view more functionality
        const viewMoreButton = react_1.screen.getByTestId('view-more-methods');
        expect(viewMoreButton).toBeInTheDocument();
    });
    it('handles complete recipe creation workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Create a complete recipe from scratch
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        void user.type(recipeNameInput, 'Mediterranean Chicken');
        // Update recipe metadata
        const servingsInput = react_1.screen.getByTestId('servings-input');
        const prepTimeInput = react_1.screen.getByTestId('prep-time-input');
        const cookTimeInput = react_1.screen.getByTestId('cook-time-input');
        void user.clear(servingsInput);
        void user.type(servingsInput, '6');
        void user.clear(prepTimeInput);
        void user.type(prepTimeInput, '20');
        void user.clear(cookTimeInput);
        void user.type(cookTimeInput, '45');
        // Add multiple ingredients
        for (let i = 0; i < 4; i++) {
            void user.click(react_1.screen.getByTestId('add-ingredient'));
        }
        const ingredients = [
            { quantity: '2 lbs', name: 'Chicken Breast' },
            { quantity: '1 cup', name: 'Cherry Tomatoes' },
            { quantity: '1/2 cup', name: 'Kalamata Olives' },
            { quantity: '1/4 cup', name: 'Olive Oil' },
        ];
        for (let i = 0; i < ingredients.length; i++) {
            void user.type(react_1.screen.getByTestId(`ingredient-quantity-${i}`), ingredients[i].quantity);
            void user.type(react_1.screen.getByTestId(`ingredient-name-${i}`), ingredients[i].name);
        }
        // Add cooking steps
        for (let i = 0; i < 3; i++) {
            void user.click(react_1.screen.getByTestId('add-step'));
        }
        const steps = [
            { instruction: 'Preheat oven to 375°F and prepare chicken', timing: '5 min' },
            { instruction: 'Sear chicken in olive oil until golden', timing: '10 min' },
            { instruction: 'Add tomatoes and olives, bake until done', timing: '30 min' },
        ];
        for (let i = 0; i < steps.length; i++) {
            void user.type(react_1.screen.getByTestId(`step-instruction-${i}`), steps[i].instruction);
            void user.type(react_1.screen.getByTestId(`step-timing-${i}`), steps[i].timing);
        }
        // Verify recipe summary
        const summary = react_1.screen.getByTestId('recipe-summary');
        expect(summary).toHaveTextContent('Name: Mediterranean Chicken');
        expect(summary).toHaveTextContent('Servings: 6');
        expect(summary).toHaveTextContent('Total Time: 65 minutes');
        expect(summary).toHaveTextContent('Ingredients: 4');
        expect(summary).toHaveTextContent('Steps: 3');
        // Verify save button is enabled
        const saveButton = react_1.screen.getByTestId('save-recipe');
        expect(saveButton).toBeEnabled();
        expect(saveButton).toHaveClass('enabled');
        // Test ingredient removal
        void user.click(react_1.screen.getByTestId('remove-ingredient-3'));
        expect(react_1.screen.getByText('Ingredients: 3')).toBeInTheDocument();
        // Test step removal
        void user.click(react_1.screen.getByTestId('remove-step-0'));
        expect(react_1.screen.getByText('Steps: 2')).toBeInTheDocument();
        // Verify step renumbering
        expect(react_1.screen.getByDisplayValue('Sear chicken in olive oil until golden')).toBeInTheDocument();
    });
    it('handles navigation and state preservation workflow', async () => {
        const user = user_event_1.default.setup();
        const mockOnSectionNavigate = jest.fn();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { onSectionNavigate: mockOnSectionNavigate }));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cuisine-recommender')).toBeInTheDocument();
        });
        // Make selections across different components
        void user.click(react_1.screen.getByTestId('cuisine-italian'));
        void user.click(react_1.screen.getByTestId('ingredient-tomatoes'));
        void user.click(react_1.screen.getByTestId('method-sauté'));
        // Navigate between sections
        const cuisineNavButton = react_1.screen.getByText('Cuisine Recommendations');
        void user.click(cuisineNavButton);
        expect(mockOnSectionNavigate).toHaveBeenCalledWith('cuisine');
        const ingredientsNavButton = react_1.screen.getByText('Ingredient Recommendations');
        void user.click(ingredientsNavButton);
        expect(mockOnSectionNavigate).toHaveBeenCalledWith('ingredients');
        // Verify state preservation was called
        await (0, react_1.waitFor)(() => {
            expect(mockNavigationState.saveState).toHaveBeenCalled();
        });
        // Verify selections are maintained after navigation
        expect(react_1.screen.getByTestId('recipe-recommendations')).toBeInTheDocument();
        expect(react_1.screen.getByText('Selected Ingredients (1)')).toBeInTheDocument();
        expect(react_1.screen.getByTestId('method-details-sauté')).toBeInTheDocument();
    });
    it('handles error recovery workflow', async () => {
        const user = user_event_1.default.setup();
        // Mock console.error to avoid noise
        const consoleSpy = jest.spyOn(console, 'error').mockImplementation(() => { });
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Simulate user creating a recipe and encountering an error
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        void user.type(recipeNameInput, 'Test Recipe');
        // Add ingredient
        void user.click(react_1.screen.getByTestId('add-ingredient'));
        void user.type(react_1.screen.getByTestId('ingredient-name-0'), 'Test Ingredient');
        // Add step
        void user.click(react_1.screen.getByTestId('add-step'));
        void user.type(react_1.screen.getByTestId('step-instruction-0'), 'Test step');
        // Verify recipe is valid
        expect(react_1.screen.getByTestId('save-recipe')).toBeEnabled();
        // The main page should continue to function despite any errors
        expect(react_1.screen.getByText('What to Eat Next')).toBeInTheDocument();
        expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        consoleSpy.mockRestore();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvY29uc2VydmF0aXZlLXdhdmUtMjAyNS0wOC0xMVQwNS0yMS0zMy00MTBaL3NyYy9fX3Rlc3RzX18vZTJlL01haW5QYWdlV29ya2Zsb3dzLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQWtCQSxvREFBb0Q7QUFDcEQsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLFNBQVMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ2hCLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2YsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDZixPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNsQixPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNsQixPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtLQUNuQixDQUFDO0NBQ0gsQ0FBQyxDQUFDLENBQUM7QUFJSixJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDakMsTUFBTSxFQUFFO1FBQ04sS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDaEIsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNmLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0tBQ2pCO0NBQ0YsQ0FBQyxDQUFDLENBQUM7QUFFSixxREFBcUQ7QUFDckQsSUFBSSxDQUFDLElBQUksQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUU7SUFDaEQsT0FBTyxTQUFTLHNCQUFzQjtRQUNwQyxNQUFNLENBQUMsZUFBZSxFQUFFLGtCQUFrQixDQUFDLEdBQUcsZUFBSyxDQUFDLFFBQVEsQ0FBZ0IsSUFBSSxDQUFDLENBQUM7UUFDbEYsTUFBTSxDQUFDLFdB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QUMsZUFBZSxFQUFFLGFBQWEsQ0FBQyxDQUFDO1FBRS9DLGlCQUFpQjtRQUNqQixLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7UUFDdEQsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQU0sQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBRTNFLFdBQVc7UUFDWCxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ2hELEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFNLENBQUMsV0FBVyxDQUFDLG9CQUFvQixDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFFdEUseUJBQXlCO1FBQ3pCLE1BQU0sQ0FBQyxjQUFNLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFeEQsK0RBQStEO1FBQy9ELE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ2pFLE1BQU0sQ0FBQyxjQUFNLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBRWpFLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMzQixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9HcmVnQ2FzdHJvL0Rlc2t0b3AvV2hhdFRvRWF0TmV4dC9iYWNrdXBzL2NvbnNlcnZhdGl2ZS13YXZlLTIwMjUtMDgtMTFUMDUtMjEtMzMtNDEwWi9zcmMvX190ZXN0c19fL2UyZS9NYWluUGFnZVdvcmtmbG93cy50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVuZC10by1FbmQgVGVzdHMgZm9yIE1haW4gUGFnZSBXb3JrZmxvd3NcbiAqXG4gKiBUaGVzZSB0ZXN0cyBzaW11bGF0ZSBjb21wbGV0ZSB1c2VyIHdvcmtmbG93cyBvbiB0aGUgbWFpbiBwYWdlLFxuICogdGVzdGluZyB0aGUgaW50ZWdyYXRpb24gYmV0d2VlbiBhbGwgY29tcG9uZW50cyBhbmQgdXNlciBpbnRlcmFjdGlvbnMuXG4gKlxuICogTm90ZTogVGhlc2UgdGVzdHMgdXNlIGpzZG9tIGFuZCB0ZXN0aW5nLWxpYnJhcnkgdG8gc2ltdWxhdGUgRTJFIHNjZW5hcmlvc1xuICogd2l0aG91dCByZXF1aXJpbmcgYSBmdWxsIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gKi9cblxuaW1wb3J0IHsgYWN0LCByZW5kZXIsIHNjcmVlbiwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IE1haW5QYWdlTGF5b3V0IGZyb20gJ0AvY29tcG9uZW50cy9sYXlvdXQvTWFpblBhZ2VMYXlvdXQnO1xuaW1wb3J0IHsgdXNlQWxjaGVtaWNhbCB9IGZyb20gJ0AvY29udGV4dHMvQWxjaGVtaWNhbENvbnRleHQvaG9va3MnO1xuaW1wb3J0IHsgdXNlQXV0b1N0YXRlQ2xlYW51cCwgdXNlTmF2aWdhdGlvblN0YXRlLCB1c2VTY3JvbGxQcmVzZXJ2YXRpb24gfSBmcm9tICdAL2hvb2tzL3VzZVN0YXRlUHJlc2VydmF0aW9uJztcblxuLy8gTW9jayBhbGwgZXh0ZXJuYWwgZGVwZW5kZW5jaWVzIGZvciBFMkUgc2ltdWxhdGlvblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6ICgpID0+ICh7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIGJhY2s6IGplc3QuZm4oKSxcbiAgICBmb3J3YXJkOiBqZXN0LmZuKCksXG4gICAgcmVmcmVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgfSksXG59KSk7XG5cbnZvaWQgamVzdC5tb2NrKCdAL2NvbnRleHRzL0FsY2hlbWljYWxDb250ZXh0L2hvb2tzJyk7XG52b2lkIGplc3QubW9jaygnQC9ob29rcy91c2VTdGF0ZVByZXNlcnZhdGlvbicpO1xuamVzdC5tb2NrKCdAL3V0aWxzL2xvZ2dlcicsICgpID0+ICh7XG4gIGxvZ2dlcjoge1xuICAgIGRlYnVnOiBqZXN0LmZuKCksXG4gICAgaW5mbzogamVzdC5mbigpLFxuICAgIHdhcm46IGplc3QuZm4oKSxcbiAgICBlcnJvcjogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBNb2NrIHJlYWxpc3RpYyBjb21wb25lbnQgYmVoYXZpb3JzIGZvciBFMkUgdGVzdGluZ1xuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvQ3Vpc2luZVJlY29tbWVuZGVyJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0N1aXNpbmVSZWNvbW1lbmRlcigpIHtcbiAgICBjb25zdCBbc2VsZWN0ZWRDdWlzaW5lLCBzZXRTZWxlY3RlZEN1aXNpbmVdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3Nob3dSZWNpcGVzLCBzZXRTaG93UmVjaXBlc10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCBjdWlzaW5lcyA9IFtcbiAgICAgIHsgbmFtZTogJ0l0YWxpYW4nLCBzY29yZTogOTUsIHJlY2lwZXM6IFsnUGFzdGEgTWFyaW5hcmEnLCAnUmlzb3R0bycsICdQaXp6YSBNYXJnaGVyaXRhJ10gfSxcbiAgICAgIHsgbmFtZTogJ0NoaW5lc2UnLCBzY29yZTogODgsIHJlY2lwZXM6IFsnRnJpZWQgUmljZScsICdTd2VldCBhbmQgU291ciBQb3JrJywgJ0t1bmcgUGFvIENoaWNrZW4nXSB9LFxuICAgICAgeyBuYW1lOiAnTWV4aWNhbicsIHNjb3JlOiA4MiwgcmVjaXBlczogWydUYWNvcycsICdFbmNoaWxhZGFzJywgJ0d1YWNhbW9sZSddIH0sXG4gICAgICB7IG5hbWU6ICdJbmRpYW4nLCBzY29yZTogNzksIHJlY2lwZXM6IFsnQ3VycnknLCAnQmlyeWFuaScsICdOYWFuJ10gfSxcbiAgICBdO1xuXG4gICAgY29uc3QgaGFuZGxlQ3Vpc2luZVNlbGVjdCA9IChjdWlzaW5lOiBhbnkpID0+IHtcbiAgICAgIHNldFNlbGVjdGVkQ3Vpc2luZShjdWlzaW5lLm5hbWUpO1xuICAgICAgc2V0U2hvd1JlY2lwZXModHJ1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPSdjdWlzaW5lLXJlY29tbWVuZGVyJz5cbiAgICAgICAgPGgzPkN1aXNpbmUgUmVjb21tZW5kYXRpb25zPC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2N1aXNpbmUtZ3JpZCc+XG4gICAgICAgICAge2N1aXNpbmVzLm1hcChjdWlzaW5lID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtjdWlzaW5lLm5hbWV9IGNsYXNzTmFtZT0nY3Vpc2luZS1jYXJkJyBkYXRhLXRlc3RpZD17YGN1aXNpbmUtY2FyZC0ke2N1aXNpbmUubmFtZS50b0xvd2VyQ2FzZSgpfWB9PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ3Vpc2luZVNlbGVjdChjdWlzaW5lKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3NlbGVjdGVkQ3Vpc2luZSA9PT0gY3Vpc2luZS5uYW1lID8gJ3NlbGVjdGVkJyA6ICcnfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgY3Vpc2luZS0ke2N1aXNpbmUubmFtZS50b0xvd2VyQ2FzZSgpfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDQ+e2N1aXNpbmUubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzY29yZSc+TWF0Y2g6IHtjdWlzaW5lLnNjb3JlfSU8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3Nob3dSZWNpcGVzICYmIHNlbGVjdGVkQ3Vpc2luZSAmJiAoXG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD0ncmVjaXBlLXJlY29tbWVuZGF0aW9ucycgY2xhc3NOYW1lPSdyZWNpcGUtc2VjdGlvbic+XG4gICAgICAgICAgICA8aDQ+UmVjb21tZW5kZWQge3NlbGVjdGVkQ3Vpc2luZX0gUmVjaXBlczwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVjaXBlLWxpc3QnPlxuICAgICAgICAgICAgICB7Y3Vpc2luZXNcbiAgICAgICAgICAgICAgICAuZmluZChjID0+IGMubmFtZSA9PT0gc2VsZWN0ZWRDdWlzaW5lKVxuICAgICAgICAgICAgICAgID8ucmVjaXBlcy5tYXAocmVjaXBlID0+IChcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAga2V5PXtyZWNpcGV9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgcmVjaXBlLSR7cmVjaXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfWB9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ncmVjaXBlLWJ1dHRvbidcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3JlY2lwZX1cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xufSk7XG5cbmplc3QubW9jaygnQC9jb21wb25lbnRzL0luZ3JlZGllbnRSZWNvbW1lbmRlcicsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tJbmdyZWRpZW50UmVjb21tZW5kZXIoeyBtYXhEaXNwbGF5ZWQgPSA4IH06IHsgbWF4RGlzcGxheWVkPzogbnVtYmVyIH0pIHtcbiAgICBjb25zdCBbc2VsZWN0ZWRJbmdyZWRpZW50cywgc2V0U2VsZWN0ZWRJbmdyZWRpZW50c10gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICAgIGNvbnN0IFtleHBhbmRlZEluZ3JlZGllbnQsIHNldEV4cGFuZGVkSW5ncmVkaWVudF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAgIGNvbnN0IGluZ3JlZGllbnRzID0gW1xuICAgICAgeyBuYW1lOiAnVG9tYXRvZXMnLCBjYXRlZ29yeTogJ1ZlZ2V0YWJsZXMnLCBwcm9wZXJ0aWVzOiBbJ1VtYW1pJywgJ0FjaWRpYycsICdGcmVzaCddIH0sXG4gICAgICB7IG5hbWU6ICdPbmlvbnMnLCBjYXRlZ29yeTogJ1ZlZ2V0YWJsZXMnLCBwcm9wZXJ0aWVzOiBbJ1N3ZWV0JywgJ1B1bmdlbnQnLCAnQXJvbWF0aWMnXSB9LFxuICAgICAgeyBuYW1lOiAnR2FybGljJywgY2F0ZWdvcnk6ICdBcm9tYXRpY3MnLCBwcm9wZXJ0aWVzOiBbJ1B1bmdlbnQnLCAnU2F2b3J5JywgJ0Fyb21hdGljJ10gfSxcbiAgICAgIHsgbmFtZTogJ0Jhc2lsJywgY2F0ZWdvcnk6ICdIZXJicycsIHByb3BlcnRpZXM6IFsnRnJlc2gnLCAnQXJvbWF0aWMnLCAnU3dlZXQnXSB9LFxuICAgICAgeyBuYW1lOiAnT2xpdmUgT2lsJywgY2F0ZWdvcnk6ICdPaWxzJywgcHJvcGVydGllczogWydSaWNoJywgJ0ZydWl0eScsICdTbW9vdGgnXSB9LFxuICAgICAgeyBuYW1lOiAnQ2hlZXNlJywgY2F0ZWdvcnk6ICdEYWlyeScsIHByb3BlcnRpZXM6IFsnQ3JlYW15JywgJ1NhbHR5JywgJ1JpY2gnXSB9LFxuICAgICAgeyBuYW1lOiAnUGFzdGEnLCBjYXRlZ29yeTogJ0dyYWlucycsIHByb3BlcnRpZXM6IFsnTmV1dHJhbCcsICdGaWxsaW5nJywgJ1ZlcnNhdGlsZSddIH0sXG4gICAgICB7IG5hbWU6ICdDaGlja2VuJywgY2F0ZWdvcnk6ICdQcm90ZWlucycsIHByb3BlcnRpZXM6IFsnTGVhbicsICdNaWxkJywgJ1ZlcnNhdGlsZSddIH0sXG4gICAgXTtcblxuICAgIGNvbnN0IGRpc3BsYXllZEluZ3JlZGllbnRzID0gaW5ncmVkaWVudHMuc2xpY2UoMCwgbWF4RGlzcGxheWVkKTtcblxuICAgIGNvbnN0IHRvZ2dsZUluZ3JlZGllbnQgPSAoaW5ncmVkaWVudDogc3RyaW5nKSA9PiB7XG4gICAgICBzZXRTZWxlY3RlZEluZ3JlZGllbnRzKHByZXYgPT5cbiAgICAgICAgdm9pZCBwcmV2LmluY2x1ZGVzKGluZ3JlZGllbnQpID8gcHJldi5maWx0ZXIoaSA9PiBpICE9PSBpbmdyZWRpZW50KSA6IFsuLi5wcmV2LCBpbmdyZWRpZW50XSxcbiAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IHRvZ2dsZUV4cGFuZGVkID0gKGluZ3JlZGllbnQ6IHN0cmluZykgPT4ge1xuICAgICAgc2V0RXhwYW5kZWRJbmdyZWRpZW50KHByZXYgPT4gKHByZXYgPT09IGluZ3JlZGllbnQgPyBudWxsIDogaW5ncmVkaWVudCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBkYXRhLXRlc3RpZD0naW5ncmVkaWVudC1yZWNvbW1lbmRlcic+XG4gICAgICAgIDxoMz5JbmdyZWRpZW50IFJlY29tbWVuZGF0aW9uczwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdpbmdyZWRpZW50LWdyaWQnPlxuICAgICAgICAgIHtkaXNwbGF5ZWRJbmdyZWRpZW50cy5tYXAoaW5ncmVkaWVudCA9PiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGtleT17aW5ncmVkaWVudC5uYW1lfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2luZ3JlZGllbnQtY2FyZCdcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BpbmdyZWRpZW50LWNhcmQtJHtpbmdyZWRpZW50Lm5hbWUudG9Mb3dlckNhc2UoKX1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlSW5ncmVkaWVudChpbmdyZWRpZW50Lm5hbWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c2VsZWN0ZWRJbmdyZWRpZW50cy5pbmNsdWRlcyhpbmdyZWRpZW50Lm5hbWUpID8gJ3NlbGVjdGVkJyA6ICcnfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgaW5ncmVkaWVudC0ke2luZ3JlZGllbnQubmFtZS50b0xvd2VyQ2FzZSgpfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aW5ncmVkaWVudC5uYW1lfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUV4cGFuZGVkKGluZ3JlZGllbnQubmFtZSl9XG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BleHBhbmQtJHtpbmdyZWRpZW50Lm5hbWUudG9Mb3dlckNhc2UoKX1gfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZXhwYW5kLWJ1dHRvbidcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtleHBhbmRlZEluZ3JlZGllbnQgPT09IGluZ3JlZGllbnQubmFtZSA/ICfilrwnIDogJ+KWtid9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgIHtleHBhbmRlZEluZ3JlZGllbnQgPT09IGluZ3JlZGllbnQubmFtZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD17YGRldGFpbHMtJHtpbmdyZWRpZW50Lm5hbWUudG9Mb3dlckNhc2UoKX1gfSBjbGFzc05hbWU9J2luZ3JlZGllbnQtZGV0YWlscyc+XG4gICAgICAgICAgICAgICAgICA8ZGl2PkNhdGVnb3J5OiB7aW5ncmVkaWVudC5jYXRlZ29yeX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+UHJvcGVydGllczoge2luZ3JlZGllbnQucHJvcGVydGllcy5qb2luKCcsICcpfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtzZWxlY3RlZEluZ3JlZGllbnRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9J3NlbGVjdGVkLWluZ3JlZGllbnRzLXN1bW1hcnknIGNsYXNzTmFtZT0nc2VsZWN0aW9uLXN1bW1hcnknPlxuICAgICAgICAgICAgPGg0PlNlbGVjdGVkIEluZ3JlZGllbnRzICh7c2VsZWN0ZWRJbmdyZWRpZW50cy5sZW5ndGh9KTwvaDQ+XG4gICAgICAgICAgICA8ZGl2PntzZWxlY3RlZEluZ3JlZGllbnRzLmpvaW4oJywgJyl9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xufSk7XG5cbmplc3QubW9jaygnQC9jb21wb25lbnRzL0Nvb2tpbmdNZXRob2RzU2VjdGlvbicsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tDb29raW5nTWV0aG9kc1NlY3Rpb24oe1xuICAgIG1heERpc3BsYXllZCA9IDYsXG4gICAgb25WaWV3TW9yZSxcbiAgfToge1xuICAgIG1heERpc3BsYXllZD86IG51bWJlcjtcbiAgICBvblZpZXdNb3JlPzogKCkgPT4gdm9pZDtcbiAgfSkge1xuICAgIGNvbnN0IFtzZWxlY3RlZE1ldGhvZCwgc2V0U2VsZWN0ZWRNZXRob2RdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgICBjb25zdCBtZXRob2RzID0gW1xuICAgICAgeyBuYW1lOiAnU2F1dMOpJywgdGltZTogJzUtMTAgbWluJywgZGlmZmljdWx0eTogJ0Vhc3knLCBkZXNjcmlwdGlvbjogJ1F1aWNrIGNvb2tpbmcgaW4gYSBwYW4gd2l0aCBvaWwnIH0sXG4gICAgICB7IG5hbWU6ICdSb2FzdCcsIHRpbWU6ICczMC02MCBtaW4nLCBkaWZmaWN1bHR5OiAnTWVkaXVtJywgZGVzY3JpcHRpb246ICdDb29raW5nIGluIHRoZSBvdmVuIHdpdGggZHJ5IGhlYXQnIH0sXG4gICAgICB7IG5hbWU6ICdHcmlsbCcsIHRpbWU6ICcxMC0yMCBtaW4nLCBkaWZmaWN1bHR5OiAnTWVkaXVtJywgZGVzY3JpcHRpb246ICdDb29raW5nIG92ZXIgZGlyZWN0IGhlYXQnIH0sXG4gICAgICB7IG5hbWU6ICdTdGVhbScsIHRpbWU6ICcxMC0xNSBtaW4nLCBkaWZmaWN1bHR5OiAnRWFzeScsIGRlc2NyaXB0aW9uOiAnQ29va2luZyB3aXRoIHN0ZWFtIGhlYXQnIH0sXG4gICAgICB7IG5hbWU6ICdCcmFpc2UnLCB0aW1lOiAnNjAtMTIwIG1pbicsIGRpZmZpY3VsdHk6ICdIYXJkJywgZGVzY3JpcHRpb246ICdTbG93IGNvb2tpbmcgd2l0aCBsaXF1aWQnIH0sXG4gICAgICB7IG5hbWU6ICdTdGlyLWZyeScsIHRpbWU6ICc1LTggbWluJywgZGlmZmljdWx0eTogJ01lZGl1bScsIGRlc2NyaXB0aW9uOiAnUXVpY2sgY29va2luZyB3aGlsZSBzdGlycmluZycgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgZGlzcGxheWVkTWV0aG9kcyA9IG1ldGhvZHMuc2xpY2UoMCwgbWF4RGlzcGxheWVkKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPSdjb29raW5nLW1ldGhvZHMnPlxuICAgICAgICA8aDM+Q29va2luZyBNZXRob2RzPC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21ldGhvZHMtZ3JpZCc+XG4gICAgICAgICAge2Rpc3BsYXllZE1ldGhvZHMubWFwKG1ldGhvZCA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17bWV0aG9kLm5hbWV9IGNsYXNzTmFtZT0nbWV0aG9kLWNhcmQnIGRhdGEtdGVzdGlkPXtgbWV0aG9kLWNhcmQtJHttZXRob2QubmFtZS50b0xvd2VyQ2FzZSgpfWB9PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRNZXRob2QobWV0aG9kLm5hbWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c2VsZWN0ZWRNZXRob2QgPT09IG1ldGhvZC5uYW1lID8gJ3NlbGVjdGVkJyA6ICcnfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgbWV0aG9kLSR7bWV0aG9kLm5hbWUudG9Mb3dlckNhc2UoKX1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGg0PnttZXRob2QubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZXRob2QtaW5mbyc+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlRpbWU6IHttZXRob2QudGltZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+RGlmZmljdWx0eToge21ldGhvZC5kaWZmaWN1bHR5fTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICB7c2VsZWN0ZWRNZXRob2QgPT09IG1ldGhvZC5uYW1lICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPXtgbWV0aG9kLWRldGFpbHMtJHttZXRob2QubmFtZS50b0xvd2VyQ2FzZSgpfWB9IGNsYXNzTmFtZT0nbWV0aG9kLWRldGFpbHMnPlxuICAgICAgICAgICAgICAgICAgPHA+e21ldGhvZC5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvblZpZXdNb3JlfSBkYXRhLXRlc3RpZD0ndmlldy1tb3JlLW1ldGhvZHMnIGNsYXNzTmFtZT0ndmlldy1tb3JlLWJ1dHRvbic+XG4gICAgICAgICAgVmlldyBBbGwgQ29va2luZyBNZXRob2RzXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcbn0pO1xuXG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy9yZWNpcGVzL1JlY2lwZUJ1aWxkZXJTaW1wbGUnLCAoKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBNb2NrUmVjaXBlQnVpbGRlclNpbXBsZSgpIHtcbiAgICBjb25zdCBbcmVjaXBlTmFtZSwgc2V0UmVjaXBlTmFtZV0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW2luZ3JlZGllbnRzLCBzZXRJbmdyZWRpZW50c10gPSBSZWFjdC51c2VTdGF0ZTxBcnJheTx7IG5hbWU6IHN0cmluZzsgcXVhbnRpdHk6IHN0cmluZyB9Pj4oW10pO1xuICAgIGNvbnN0IFtzdGVwcywgc2V0U3RlcHNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8eyBpbnN0cnVjdGlvbjogc3RyaW5nOyB0aW1pbmc6IHN0cmluZyB9Pj4oW10pO1xuICAgIGNvbnN0IFtzZXJ2aW5ncywgc2V0U2VydmluZ3NdID0gUmVhY3QudXNlU3RhdGUoNCk7XG4gICAgY29uc3QgW3ByZXBUaW1lLCBzZXRQcmVwVGltZV0gPSBSZWFjdC51c2VTdGF0ZSgxNSk7XG4gICAgY29uc3QgW2Nvb2tUaW1lLCBzZXRDb29rVGltZV0gPSBSZWFjdC51c2VTdGF0ZSgzMCk7XG5cbiAgICBjb25zdCBhZGRJbmdyZWRpZW50ID0gKCkgPT4ge1xuICAgICAgc2V0SW5ncmVkaWVudHMocHJldiA9PiBbLi4ucHJldiwgeyBuYW1lOiAnJywgcXVhbnRpdHk6ICcnIH1dKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSW5ncmVkaWVudCA9IChpbmRleDogbnVtYmVyLCBmaWVsZDogJ25hbWUnIHwgJ3F1YW50aXR5JywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgc2V0SW5ncmVkaWVudHMocHJldiA9PiBwcmV2Lm1hcCgoaW5nLCBpKSA9PiAoaSA9PT0gaW5kZXggPyB7IC4uLmluZywgW2ZpZWxkXTogdmFsdWUgfSA6IGluZykpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVtb3ZlSW5ncmVkaWVudCA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBzZXRJbmdyZWRpZW50cyhwcmV2ID0+IHByZXYuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCkpO1xuICAgIH07XG5cbiAgICBjb25zdCBhZGRTdGVwID0gKCkgPT4ge1xuICAgICAgc2V0U3RlcHMocHJldiA9PiBbLi4ucHJldiwgeyBpbnN0cnVjdGlvbjogJycsIHRpbWluZzogJycgfV0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVTdGVwID0gKGluZGV4OiBudW1iZXIsIGZpZWxkOiAnaW5zdHJ1Y3Rpb24nIHwgJ3RpbWluZycsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIHNldFN0ZXBzKHByZXYgPT4gcHJldi5tYXAoKHN0ZXAsIGkpID0+IChpID09PSBpbmRleCA/IHsgLi4uc3RlcCwgW2ZpZWxkXTogdmFsdWUgfSA6IHN0ZXApKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbW92ZVN0ZXAgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgc2V0U3RlcHMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2FuU2F2ZSA9XG4gICAgICByZWNpcGVOYW1lLnRyaW0oKSAmJiBpbmdyZWRpZW50cy5zb21lKGluZyA9PiBpbmcubmFtZS50cmltKCkpICYmIHZvaWQgc3RlcHMuc29tZShzdGVwID0+IHN0ZXAuaW5zdHJ1Y3Rpb24udHJpbSgpKTtcblxuICAgIGNvbnN0IHRvdGFsVGltZSA9IHByZXBUaW1lICsgY29va1RpbWU7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBkYXRhLXRlc3RpZD0ncmVjaXBlLWJ1aWxkZXInPlxuICAgICAgICA8aDM+UmVjaXBlIEJ1aWxkZXI8L2gzPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWNpcGUtZm9ybSc+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JlY2lwZS1oZWFkZXInPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdSZWNpcGUgTmFtZSdcbiAgICAgICAgICAgICAgdmFsdWU9e3JlY2lwZU5hbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFJlY2lwZU5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0ncmVjaXBlLW5hbWUtaW5wdXQnXG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVjaXBlLW1ldGEnPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPSdudW1iZXInXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlcnZpbmdzfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFNlcnZpbmdzKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAxKX1cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nc2VydmluZ3MtaW5wdXQnXG4gICAgICAgICAgICAgICAgbWluPScxJ1xuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPSdudW1iZXInXG4gICAgICAgICAgICAgICAgdmFsdWU9e3ByZXBUaW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFByZXBUaW1lKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAwKX1cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0ncHJlcC10aW1lLWlucHV0J1xuICAgICAgICAgICAgICAgIG1pbj0nMCdcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT0nbnVtYmVyJ1xuICAgICAgICAgICAgICAgIHZhbHVlPXtjb29rVGltZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRDb29rVGltZShwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfHwgMCl9XG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J2Nvb2stdGltZS1pbnB1dCdcbiAgICAgICAgICAgICAgICBtaW49JzAnXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdpbmdyZWRpZW50cy1zZWN0aW9uJz5cbiAgICAgICAgICAgIDxoND5JbmdyZWRpZW50czwvaDQ+XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2FkZEluZ3JlZGllbnR9IGRhdGEtdGVzdGlkPSdhZGQtaW5ncmVkaWVudCc+XG4gICAgICAgICAgICAgIEFkZCBJbmdyZWRpZW50XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAge2luZ3JlZGllbnRzLm1hcCgoaW5ncmVkaWVudCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9J2luZ3JlZGllbnQtcm93JyBkYXRhLXRlc3RpZD17YGluZ3JlZGllbnQtcm93LSR7aW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J1F1YW50aXR5J1xuICAgICAgICAgICAgICAgICAgdmFsdWU9e2luZ3JlZGllbnQucXVhbnRpdHl9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB1cGRhdGVJbmdyZWRpZW50KGluZGV4LCAncXVhbnRpdHknLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGluZ3JlZGllbnQtcXVhbnRpdHktJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0luZ3JlZGllbnQgbmFtZSdcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbmdyZWRpZW50Lm5hbWV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB1cGRhdGVJbmdyZWRpZW50KGluZGV4LCAnbmFtZScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgaW5ncmVkaWVudC1uYW1lLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcmVtb3ZlSW5ncmVkaWVudChpbmRleCl9IGRhdGEtdGVzdGlkPXtgcmVtb3ZlLWluZ3JlZGllbnQtJHtpbmRleH1gfT5cbiAgICAgICAgICAgICAgICAgIFJlbW92ZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPSdpbmdyZWRpZW50cy1jb3VudCc+LCBJbmdyZWRpZW50czoge2luZ3JlZGllbnRzLmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdGVwcy1zZWN0aW9uJz5cbiAgICAgICAgICAgIDxoND5JbnN0cnVjdGlvbnM8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXthZGRTdGVwfSBkYXRhLXRlc3RpZD0nYWRkLXN0ZXAnPlxuICAgICAgICAgICAgICBBZGQgU3RlcFxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIHtzdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPSdzdGVwLXJvdycgZGF0YS10ZXN0aWQ9e2BzdGVwLXJvdy0ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3RlcC1udW1iZXInPntpbmRleCArIDF9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0Rlc2NyaWJlIHRoaXMgc3RlcC4uLidcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdGVwLmluc3RydWN0aW9ufVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXBkYXRlU3RlcChpbmRleCwgJ2luc3RydWN0aW9uJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BzdGVwLWluc3RydWN0aW9uLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdUaW1pbmcnXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c3RlcC50aW1pbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB1cGRhdGVTdGVwKGluZGV4LCAndGltaW5nJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BzdGVwLXRpbWluZy0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJlbW92ZVN0ZXAoaW5kZXgpfSBkYXRhLXRlc3RpZD17YHJlbW92ZS1zdGVwLSR7aW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICBSZW1vdmVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cblxuICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD0nc3RlcHMtY291bnQnPiwgU3RlcHM6IHtzdGVwcy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVjaXBlLXN1bW1hcnknIGRhdGEtdGVzdGlkPSdyZWNpcGUtc3VtbWFyeSc+XG4gICAgICAgICAgICA8aDQ+UmVjaXBlIFN1bW1hcnk8L2g0PlxuICAgICAgICAgICAgPGRpdj5OYW1lOiB7cmVjaXBlTmFtZSB8fCAnVW50aXRsZWQgUmVjaXBlJ308L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+U2VydmluZ3M6IHtzZXJ2aW5nc308L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+VG90YWwgVGltZToge3RvdGFsVGltZX0gbWludXRlczwvZGl2PlxuICAgICAgICAgICAgPGRpdj5JbmdyZWRpZW50czoge2luZ3JlZGllbnRzLmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+U3RlcHM6IHtzdGVwcy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8YnV0dG9uIGRpc2FibGVkPXshY2FuU2F2ZX0gZGF0YS10ZXN0aWQ9J3NhdmUtcmVjaXBlJyBjbGFzc05hbWU9e2NhblNhdmUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfT5cbiAgICAgICAgICAgIFNhdmUgUmVjaXBlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcbn0pO1xuXG5kZXNjcmliZSgnTWFpbiBQYWdlIEUyRSBXb3JrZmxvd3MnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tBbGNoZW1pY2FsQ29udGV4dCA9IHtcbiAgICBzdGF0ZToge1xuICAgICAgYXN0cm9sb2dpY2FsU3RhdGU6IHsgc3VuU2lnbjogJ2FyaWVzJyB9LFxuICAgICAgZWxlbWVudGFsU3RhdGU6IHsgRmlyZTogMC4zLCBXYXRlcjogMC4yLCBFYXJ0aDogMC4zLCBBaXI6IDAuMiB9LFxuICAgIH0sXG4gICAgcGxhbmV0YXJ5UG9zaXRpb25zOiB7IHN1bjogeyBzaWduOiAnYXJpZXMnIH0gfSxcbiAgICBpc0RheXRpbWU6IHRydWUsXG4gIH07XG5cbiAgY29uc3QgbW9ja05hdmlnYXRpb25TdGF0ZSA9IHtcbiAgICBzYXZlU3RhdGU6IGplc3QuZm4oKSxcbiAgICBnZXRTdGF0ZTogamVzdC5mbigoKSA9PiAoe30pKSxcbiAgfTtcblxuICBjb25zdCBtb2NrU2Nyb2xsUHJlc2VydmF0aW9uID0ge1xuICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogamVzdC5mbigpLFxuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHZvaWQgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICAodXNlQWxjaGVtaWNhbCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShtb2NrQWxjaGVtaWNhbENvbnRleHQpO1xuICAgICh1c2VOYXZpZ2F0aW9uU3RhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja05hdmlnYXRpb25TdGF0ZSk7XG4gICAgKHVzZVNjcm9sbFByZXNlcnZhdGlvbiBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShtb2NrU2Nyb2xsUHJlc2VydmF0aW9uKTtcbiAgICAodXNlQXV0b1N0YXRlQ2xlYW51cCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh1bmRlZmluZWQpO1xuXG4gICAgLy8gTW9jayBET00gbWV0aG9kc1xuICAgIHZvaWQgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Njcm9sbFknLCB7IHZhbHVlOiAwLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgICBqZXN0LnNweU9uKGRvY3VtZW50LCAnZ2V0RWxlbWVudEJ5SWQnKS5tb2NrSW1wbGVtZW50YXRpb24oXG4gICAgICAoKSA9PlxuICAgICAgICAoe1xuICAgICAgICAgIHNjcm9sbEludG9WaWV3OiBqZXN0LmZuKCksXG4gICAgICAgICAgc3R5bGU6IHt9LFxuICAgICAgICAgIGNsYXNzTGlzdDogeyBhZGQ6IGplc3QuZm4oKSwgcmVtb3ZlOiBqZXN0LmZuKCkgfSxcbiAgICAgICAgfSkgYXMgYW55LFxuICAgICk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgdm9pZCBqZXN0LnJlc3RvcmVBbGxNb2NrcygpO1xuICB9KTtcblxuICBpdCgnY29tcGxldGVzIGZ1bGwgbWVhbCBwbGFubmluZyB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG5cbiAgICBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxNYWluUGFnZUxheW91dCAvPik7XG4gICAgfSk7XG5cbiAgICAvLyBXYWl0IGZvciBhbGwgY29tcG9uZW50cyB0byBsb2FkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjdWlzaW5lLXJlY29tbWVuZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXJlY29tbWVuZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb29raW5nLW1ldGhvZHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1idWlsZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTdGVwIDE6IFNlbGVjdCBhIGN1aXNpbmVcbiAgICBjb25zdCBpdGFsaWFuQ3Vpc2luZSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnaXRhbGlhbi1jdWlzaW5lJyk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKGl0YWxpYW5DdWlzaW5lKTtcblxuICAgIC8vIFZlcmlmeSBjdWlzaW5lIHNlbGVjdGlvbiBhbmQgcmVjaXBlIHJlY29tbWVuZGF0aW9ucyBhcHBlYXJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNpcGUtcmVjb21tZW5kYXRpb25zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1JlY29tbWVuZGVkIEl0YWxpYW4gUmVjaXBlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gU3RlcCAyOiBTZWxlY3QgaW5ncmVkaWVudHNcbiAgICBjb25zdCB0b21hdG9lcyA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC10b21hdG9lcycpO1xuICAgIGNvbnN0IGJhc2lsID0gc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LWJhc2lsJyk7XG4gICAgY29uc3Qgb2xpdmVPaWwgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtb2xpdmUgb2lsJyk7XG5cbiAgICB2b2lkIHVzZXIuY2xpY2sodG9tYXRvZXMpO1xuICAgIHZvaWQgdXNlci5jbGljayhiYXNpbCk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKG9saXZlT2lsKTtcblxuICAgIC8vIFZlcmlmeSBpbmdyZWRpZW50IHNlbGVjdGlvblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlbGVjdGVkLWluZ3JlZGllbnRzLXN1bW1hcnknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0ZWQgSW5ncmVkaWVudHMgKDMpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBTdGVwIDM6IFNlbGVjdCBjb29raW5nIG1ldGhvZFxuICAgIGNvbnN0IHNhdXRlTWV0aG9kID0gc2NyZWVuLmdldEJ5VGVzdElkKCdtZXRob2Qtc2F1dMOpJyk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKHNhdXRlTWV0aG9kKTtcblxuICAgIC8vIFZlcmlmeSBtZXRob2Qgc2VsZWN0aW9uIGFuZCBkZXRhaWxzXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbWV0aG9kLWRldGFpbHMtc2F1dMOpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBTdGVwIDQ6IEJ1aWxkIGEgcmVjaXBlXG4gICAgY29uc3QgcmVjaXBlTmFtZUlucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNpcGUtbmFtZS1pbnB1dCcpO1xuICAgIHZvaWQgdXNlci50eXBlKHJlY2lwZU5hbWVJbnB1dCwgJ0l0YWxpYW4gVG9tYXRvIEJhc2lsIFNhdXTDqScpO1xuXG4gICAgLy8gQWRkIGluZ3JlZGllbnRzIHRvIHJlY2lwZVxuICAgIGNvbnN0IGFkZEluZ3JlZGllbnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkZC1pbmdyZWRpZW50Jyk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKGFkZEluZ3JlZGllbnRCdXR0b24pO1xuICAgIHZvaWQgdXNlci5jbGljayhhZGRJbmdyZWRpZW50QnV0dG9uKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soYWRkSW5ncmVkaWVudEJ1dHRvbik7XG5cbiAgICAvLyBGaWxsIGluIGluZ3JlZGllbnQgZGV0YWlsc1xuICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1xdWFudGl0eS0wJyksICcyIGN1cHMnKTtcbiAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtbmFtZS0wJyksICdGcmVzaCBUb21hdG9lcycpO1xuXG4gICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXF1YW50aXR5LTEnKSwgJzEvNCBjdXAnKTtcbiAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtbmFtZS0xJyksICdGcmVzaCBCYXNpbCcpO1xuXG4gICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXF1YW50aXR5LTInKSwgJzIgdGJzcCcpO1xuICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1uYW1lLTInKSwgJ09saXZlIE9pbCcpO1xuXG4gICAgLy8gQWRkIGNvb2tpbmcgc3RlcHNcbiAgICBjb25zdCBhZGRTdGVwQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdhZGQtc3RlcCcpO1xuICAgIHZvaWQgdXNlci5jbGljayhhZGRTdGVwQnV0dG9uKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soYWRkU3RlcEJ1dHRvbik7XG5cbiAgICB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdzdGVwLWluc3RydWN0aW9uLTAnKSwgJ0hlYXQgb2xpdmUgb2lsIGluIGEgbGFyZ2UgcGFuIG92ZXIgbWVkaXVtIGhlYXQnKTtcbiAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ3N0ZXAtdGltaW5nLTAnKSwgJzIgbWluJyk7XG5cbiAgICB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdzdGVwLWluc3RydWN0aW9uLTEnKSwgJ0FkZCB0b21hdG9lcyBhbmQgYmFzaWwsIHNhdXTDqSB1bnRpbCB0ZW5kZXInKTtcbiAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ3N0ZXAtdGltaW5nLTEnKSwgJzggbWluJyk7XG5cbiAgICAvLyBWZXJpZnkgcmVjaXBlIGNhbiBiZSBzYXZlZFxuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NhdmUtcmVjaXBlJyk7XG4gICAgZXhwZWN0KHNhdmVCdXR0b24pLnRvQmVFbmFibGVkKCk7XG5cbiAgICAvLyBTYXZlIHRoZSByZWNpcGVcbiAgICB2b2lkIHVzZXIuY2xpY2soc2F2ZUJ1dHRvbik7XG5cbiAgICAvLyBWZXJpZnkgdGhlIGNvbXBsZXRlIHdvcmtmbG93XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnSXRhbGlhbiBUb21hdG8gQmFzaWwgU2F1dMOpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0luZ3JlZGllbnRzOiAzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1N0ZXBzOiAyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGluZ3JlZGllbnQgZXhwbG9yYXRpb24gd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuXG4gICAgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8TWFpblBhZ2VMYXlvdXQgLz4pO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXJlY29tbWVuZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBFeHBhbmQgaW5ncmVkaWVudCBkZXRhaWxzXG4gICAgY29uc3QgZXhwYW5kVG9tYXRvZXMgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2V4cGFuZC10b21hdG9lcycpO1xuICAgIHZvaWQgdXNlci5jbGljayhleHBhbmRUb21hdG9lcyk7XG5cbiAgICAvLyBWZXJpZnkgZGV0YWlscyBhcmUgc2hvd25cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdkZXRhaWxzLXRvbWF0b2VzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhdGVnb3J5OiBWZWdldGFibGVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb3BlcnRpZXM6IFVtYW1pLCBBY2lkaWMsIEZyZXNoJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBFeHBhbmQgYW5vdGhlciBpbmdyZWRpZW50XG4gICAgY29uc3QgZXhwYW5kR2FybGljID0gc2NyZWVuLmdldEJ5VGVzdElkKCdleHBhbmQtZ2FybGljJyk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKGV4cGFuZEdhcmxpYyk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdkZXRhaWxzLWdhcmxpYycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYXRlZ29yeTogQXJvbWF0aWNzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBDb2xsYXBzZSBmaXJzdCBpbmdyZWRpZW50XG4gICAgdm9pZCB1c2VyLmNsaWNrKGV4cGFuZFRvbWF0b2VzKTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ2RldGFpbHMtdG9tYXRvZXMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBTZWxlY3QgbXVsdGlwbGUgaW5ncmVkaWVudHNcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXRvbWF0b2VzJykpO1xuICAgIHZvaWQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtZ2FybGljJykpO1xuICAgIHZvaWQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtYmFzaWwnKSk7XG5cbiAgICAvLyBWZXJpZnkgc2VsZWN0aW9uIHN1bW1hcnlcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0ZWQgSW5ncmVkaWVudHMgKDMpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RvbWF0b2VzLCBHYXJsaWMsIEJhc2lsJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGNvb2tpbmcgbWV0aG9kIGV4cGxvcmF0aW9uIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcblxuICAgIGFjdChhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPE1haW5QYWdlTGF5b3V0IC8+KTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29va2luZy1tZXRob2RzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTZWxlY3QgZGlmZmVyZW50IGNvb2tpbmcgbWV0aG9kcyBhbmQgdmlldyBkZXRhaWxzXG4gICAgY29uc3Qgcm9hc3RNZXRob2QgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ21ldGhvZC1yb2FzdCcpO1xuICAgIHZvaWQgdXNlci5jbGljayhyb2FzdE1ldGhvZCk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtZXRob2QtZGV0YWlscy1yb2FzdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb29raW5nIGluIHRoZSBvdmVuIHdpdGggZHJ5IGhlYXQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFN3aXRjaCB0byBhbm90aGVyIG1ldGhvZFxuICAgIGNvbnN0IGdyaWxsTWV0aG9kID0gc2NyZWVuLmdldEJ5VGVzdElkKCdtZXRob2QtZ3JpbGwnKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soZ3JpbGxNZXRob2QpO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbWV0aG9kLWRldGFpbHMtZ3JpbGwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29va2luZyBvdmVyIGRpcmVjdCBoZWF0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBQcmV2aW91cyBtZXRob2QgZGV0YWlscyBzaG91bGQgYmUgaGlkZGVuXG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdtZXRob2QtZGV0YWlscy1yb2FzdCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFRlc3QgdmlldyBtb3JlIGZ1bmN0aW9uYWxpdHlcbiAgICBjb25zdCB2aWV3TW9yZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgndmlldy1tb3JlLW1ldGhvZHMnKTtcbiAgICBleHBlY3Qodmlld01vcmVCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGNvbXBsZXRlIHJlY2lwZSBjcmVhdGlvbiB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG5cbiAgICBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxNYWluUGFnZUxheW91dCAvPik7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1idWlsZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgYSBjb21wbGV0ZSByZWNpcGUgZnJvbSBzY3JhdGNoXG4gICAgY29uc3QgcmVjaXBlTmFtZUlucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNpcGUtbmFtZS1pbnB1dCcpO1xuICAgIHZvaWQgdXNlci50eXBlKHJlY2lwZU5hbWVJbnB1dCwgJ01lZGl0ZXJyYW5lYW4gQ2hpY2tlbicpO1xuXG4gICAgLy8gVXBkYXRlIHJlY2lwZSBtZXRhZGF0YVxuICAgIGNvbnN0IHNlcnZpbmdzSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlcnZpbmdzLWlucHV0Jyk7XG4gICAgY29uc3QgcHJlcFRpbWVJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncHJlcC10aW1lLWlucHV0Jyk7XG4gICAgY29uc3QgY29va1RpbWVJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnY29vay10aW1lLWlucHV0Jyk7XG5cbiAgICB2b2lkIHVzZXIuY2xlYXIoc2VydmluZ3NJbnB1dCk7XG4gICAgdm9pZCB1c2VyLnR5cGUoc2VydmluZ3NJbnB1dCwgJzYnKTtcblxuICAgIHZvaWQgdXNlci5jbGVhcihwcmVwVGltZUlucHV0KTtcbiAgICB2b2lkIHVzZXIudHlwZShwcmVwVGltZUlucHV0LCAnMjAnKTtcblxuICAgIHZvaWQgdXNlci5jbGVhcihjb29rVGltZUlucHV0KTtcbiAgICB2b2lkIHVzZXIudHlwZShjb29rVGltZUlucHV0LCAnNDUnKTtcblxuICAgIC8vIEFkZCBtdWx0aXBsZSBpbmdyZWRpZW50c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdhZGQtaW5ncmVkaWVudCcpKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmdyZWRpZW50cyA9IFtcbiAgICAgIHsgcXVhbnRpdHk6ICcyIGxicycsIG5hbWU6ICdDaGlja2VuIEJyZWFzdCcgfSxcbiAgICAgIHsgcXVhbnRpdHk6ICcxIGN1cCcsIG5hbWU6ICdDaGVycnkgVG9tYXRvZXMnIH0sXG4gICAgICB7IHF1YW50aXR5OiAnMS8yIGN1cCcsIG5hbWU6ICdLYWxhbWF0YSBPbGl2ZXMnIH0sXG4gICAgICB7IHF1YW50aXR5OiAnMS80IGN1cCcsIG5hbWU6ICdPbGl2ZSBPaWwnIH0sXG4gICAgXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5ncmVkaWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZChgaW5ncmVkaWVudC1xdWFudGl0eS0ke2l9YCksIGluZ3JlZGllbnRzW2ldLnF1YW50aXR5KTtcbiAgICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZChgaW5ncmVkaWVudC1uYW1lLSR7aX1gKSwgaW5ncmVkaWVudHNbaV0ubmFtZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGNvb2tpbmcgc3RlcHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgdm9pZCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRkLXN0ZXAnKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RlcHMgPSBbXG4gICAgICB7IGluc3RydWN0aW9uOiAnUHJlaGVhdCBvdmVuIHRvIDM3NcKwRiBhbmQgcHJlcGFyZSBjaGlja2VuJywgdGltaW5nOiAnNSBtaW4nIH0sXG4gICAgICB7IGluc3RydWN0aW9uOiAnU2VhciBjaGlja2VuIGluIG9saXZlIG9pbCB1bnRpbCBnb2xkZW4nLCB0aW1pbmc6ICcxMCBtaW4nIH0sXG4gICAgICB7IGluc3RydWN0aW9uOiAnQWRkIHRvbWF0b2VzIGFuZCBvbGl2ZXMsIGJha2UgdW50aWwgZG9uZScsIHRpbWluZzogJzMwIG1pbicgfSxcbiAgICBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKGBzdGVwLWluc3RydWN0aW9uLSR7aX1gKSwgc3RlcHNbaV0uaW5zdHJ1Y3Rpb24pO1xuICAgICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKGBzdGVwLXRpbWluZy0ke2l9YCksIHN0ZXBzW2ldLnRpbWluZyk7XG4gICAgfVxuXG4gICAgLy8gVmVyaWZ5IHJlY2lwZSBzdW1tYXJ5XG4gICAgY29uc3Qgc3VtbWFyeSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLXN1bW1hcnknKTtcbiAgICBleHBlY3Qoc3VtbWFyeSkudG9IYXZlVGV4dENvbnRlbnQoJ05hbWU6IE1lZGl0ZXJyYW5lYW4gQ2hpY2tlbicpO1xuICAgIGV4cGVjdChzdW1tYXJ5KS50b0hhdmVUZXh0Q29udGVudCgnU2VydmluZ3M6IDYnKTtcbiAgICBleHBlY3Qoc3VtbWFyeSkudG9IYXZlVGV4dENvbnRlbnQoJ1RvdGFsIFRpbWU6IDY1IG1pbnV0ZXMnKTtcbiAgICBleHBlY3Qoc3VtbWFyeSkudG9IYXZlVGV4dENvbnRlbnQoJ0luZ3JlZGllbnRzOiA0Jyk7XG4gICAgZXhwZWN0KHN1bW1hcnkpLnRvSGF2ZVRleHRDb250ZW50KCdTdGVwczogMycpO1xuXG4gICAgLy8gVmVyaWZ5IHNhdmUgYnV0dG9uIGlzIGVuYWJsZWRcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzYXZlLXJlY2lwZScpO1xuICAgIGV4cGVjdChzYXZlQnV0dG9uKS50b0JlRW5hYmxlZCgpO1xuICAgIGV4cGVjdChzYXZlQnV0dG9uKS50b0hhdmVDbGFzcygnZW5hYmxlZCcpO1xuXG4gICAgLy8gVGVzdCBpbmdyZWRpZW50IHJlbW92YWxcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdyZW1vdmUtaW5ncmVkaWVudC0zJykpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbmdyZWRpZW50czogMycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gVGVzdCBzdGVwIHJlbW92YWxcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdyZW1vdmUtc3RlcC0wJykpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTdGVwczogMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gVmVyaWZ5IHN0ZXAgcmVudW1iZXJpbmdcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5RGlzcGxheVZhbHVlKCdTZWFyIGNoaWNrZW4gaW4gb2xpdmUgb2lsIHVudGlsIGdvbGRlbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBuYXZpZ2F0aW9uIGFuZCBzdGF0ZSBwcmVzZXJ2YXRpb24gd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgIGNvbnN0IG1vY2tPblNlY3Rpb25OYXZpZ2F0ZSA9IGplc3QuZm4oKTtcblxuICAgIGFjdChhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPE1haW5QYWdlTGF5b3V0IG9uU2VjdGlvbk5hdmlnYXRlPXttb2NrT25TZWN0aW9uTmF2aWdhdGV9IC8+KTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY3Vpc2luZS1yZWNvbW1lbmRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gTWFrZSBzZWxlY3Rpb25zIGFjcm9zcyBkaWZmZXJlbnQgY29tcG9uZW50c1xuICAgIHZvaWQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2N1aXNpbmUtaXRhbGlhbicpKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXRvbWF0b2VzJykpO1xuICAgIHZvaWQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ21ldGhvZC1zYXV0w6knKSk7XG5cbiAgICAvLyBOYXZpZ2F0ZSBiZXR3ZWVuIHNlY3Rpb25zXG4gICAgY29uc3QgY3Vpc2luZU5hdkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0N1aXNpbmUgUmVjb21tZW5kYXRpb25zJyk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKGN1aXNpbmVOYXZCdXR0b24pO1xuICAgIGV4cGVjdChtb2NrT25TZWN0aW9uTmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjdWlzaW5lJyk7XG5cbiAgICBjb25zdCBpbmdyZWRpZW50c05hdkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0luZ3JlZGllbnQgUmVjb21tZW5kYXRpb25zJyk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKGluZ3JlZGllbnRzTmF2QnV0dG9uKTtcbiAgICBleHBlY3QobW9ja09uU2VjdGlvbk5hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnaW5ncmVkaWVudHMnKTtcblxuICAgIC8vIFZlcmlmeSBzdGF0ZSBwcmVzZXJ2YXRpb24gd2FzIGNhbGxlZFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tOYXZpZ2F0aW9uU3RhdGUuc2F2ZVN0YXRlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICAvLyBWZXJpZnkgc2VsZWN0aW9ucyBhcmUgbWFpbnRhaW5lZCBhZnRlciBuYXZpZ2F0aW9uXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLXJlY29tbWVuZGF0aW9ucycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWxlY3RlZCBJbmdyZWRpZW50cyAoMSknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtZXRob2QtZGV0YWlscy1zYXV0w6knKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgZXJyb3IgcmVjb3Zlcnkgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuXG4gICAgLy8gTW9jayBjb25zb2xlLmVycm9yIHRvIGF2b2lkIG5vaXNlXG4gICAgY29uc3QgY29uc29sZVNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcblxuICAgIGFjdChhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPE1haW5QYWdlTGF5b3V0IC8+KTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLWJ1aWxkZXInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIFNpbXVsYXRlIHVzZXIgY3JlYXRpbmcgYSByZWNpcGUgYW5kIGVuY291bnRlcmluZyBhbiBlcnJvclxuICAgIGNvbnN0IHJlY2lwZU5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLW5hbWUtaW5wdXQnKTtcbiAgICB2b2lkIHVzZXIudHlwZShyZWNpcGVOYW1lSW5wdXQsICdUZXN0IFJlY2lwZScpO1xuXG4gICAgLy8gQWRkIGluZ3JlZGllbnRcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdhZGQtaW5ncmVkaWVudCcpKTtcbiAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtbmFtZS0wJyksICdUZXN0IEluZ3JlZGllbnQnKTtcblxuICAgIC8vIEFkZCBzdGVwXG4gICAgdm9pZCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRkLXN0ZXAnKSk7XG4gICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdzdGVwLWluc3RydWN0aW9uLTAnKSwgJ1Rlc3Qgc3RlcCcpO1xuXG4gICAgLy8gVmVyaWZ5IHJlY2lwZSBpcyB2YWxpZFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NhdmUtcmVjaXBlJykpLnRvQmVFbmFibGVkKCk7XG5cbiAgICAvLyBUaGUgbWFpbiBwYWdlIHNob3VsZCBjb250aW51ZSB0byBmdW5jdGlvbiBkZXNwaXRlIGFueSBlcnJvcnNcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnV2hhdCB0byBFYXQgTmV4dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1idWlsZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=