300ecc904983be12e36b929e23d882c9
"use strict";
/**
 * Domain-Specific Rule Behavior Tests
 *
 * Tests the behavior of domain-specific linting rules for astrological calculations
 * by directly testing the rule logic and integration patterns.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const elementalValidation_1 = require("@/utils/astrology/elementalValidation");
const astrologicalValidation_1 = require("@/utils/astrology/astrologicalValidation");
const transitValidation_1 = require("@/utils/astrology/transitValidation");
describe('Domain-Specific Rule Behavior', () => {
    describe('Planetary Constants Preservation', () => {
        test('should identify protected planetary constants', () => {
            const PROTECTED_CONSTANTS = [
                'DEGREES_PER_SIGN',
                'SIGNS_PER_CIRCLE',
                'MAX_LONGITUDE',
                'RELIABLE_POSITIONS',
                'MARCH2025_POSITIONS',
                'FALLBACK_POSITIONS',
                'TRANSIT_DATES',
                'RETROGRADE_PHASES',
                'ELEMENTAL_COMPATIBILITY',
                'SELF_REINFORCEMENT_THRESHOLD',
                'HARMONY_THRESHOLD'
            ];
            // Test that these constants are recognized as protected
            PROTECTED_CONSTANTS.forEach(constant => {
                expect(constant).toMatch(/^[A-Z0-9_]+$/); // Should be uppercase with underscores and numbers
                expect(constant.length).toBeGreaterThan(3); // Should be meaningful names
            });
        });
        test('should preserve mathematical constants in calculations', () => {
            const DEGREES_PER_SIGN = 30;
            const SIGNS_PER_CIRCLE = 12;
            const MAX_LONGITUDE = 360;
            // These values should never change
            expect(DEGREES_PER_SIGN).toBe(30);
            expect(SIGNS_PER_CIRCLE).toBe(12);
            expect(MAX_LONGITUDE).toBe(360);
            expect(DEGREES_PER_SIGN * SIGNS_PER_CIRCLE).toBe(MAX_LONGITUDE);
        });
        test('should preserve fallback position structures', () => {
            const RELIABLE_POSITIONS = {
                sun: { sign: 'aries', degree: 8.5, exactLongitude: 8.5, isRetrograde: false },
                moon: { sign: 'aries', degree: 1.57, exactLongitude: 1.57, isRetrograde: false },
                mercury: { sign: 'aries', degree: 0.85, exactLongitude: 0.85, isRetrograde: true }
            };
            // Fallback positions should maintain structure
            Object.values(RELIABLE_POSITIONS).forEach(position => {
                expect(position).toHaveProperty('sign');
                expect(position).toHaveProperty('degree');
                expect(position).toHaveProperty('exactLongitude');
                expect(position).toHaveProperty('isRetrograde');
                expect(typeof position.degree).toBe('number');
                expect(typeof position.isRetrograde).toBe('boolean');
            });
        });
    });
    describe('Planetary Position Structure Validation', () => {
        test('should validate complete planetary position objects', () => {
            const validPosition = {
                sign: 'aries',
                degree: 15.5,
                exactLongitude: 15.5,
                isRetrograde: false
            };
            const positions = {
                sun: validPosition,
                moon: validPosition,
                mercury: validPosition,
                venus: validPosition,
                mars: validPosition,
                jupiter: validPosition,
                saturn: validPosition
            };
            const result = (0, astrologicalValidation_1.validatePlanetaryPositions)(positions);
            expect(result.isValid).toBe(true);
            expect(result.errors).toHaveLength(0);
        });
        test('should detect missing required properties', () => {
            const incompletePosition = {
                sign: 'aries',
                degree: 15.5
                // Missing exactLongitude and isRetrograde
            };
            const positions = { sun: incompletePosition };
            const result = (0, astrologicalValidation_1.validatePlanetaryPositions)(positions);
            expect(result.isValid).toBe(false);
            expect(result.errors.some(error => error.includes('exactLongitude'))).toBe(true);
            expect(result.errors.some(error => error.includes('isRetrograde'))).toBe(true);
        });
        test('should validate planetary position value ranges', () => {
            const invalidPosition = {
                sign: 'aries',
                degree: 35,
                exactLongitude: 35,
                isRetrograde: false
            };
            const positions = { sun: invalidPosition };
            const result = (0, astrologicalValidation_1.validatePlanetaryPositions)(positions, { strictMode: true });
            expect(result.isValid).toBe(false);
            expect(result.errors.some(error => error.includes('35'))).toBe(true);
        });
        test('should handle retrograde validation correctly', () => {
            const sunRetrograde = {
                sign: 'aries',
                degree: 15,
                exactLongitude: 15,
                isRetrograde: true // Sun cannot be retrograde
            };
            const positions = { sun: sunRetrograde };
            const result = (0, astrologicalValidation_1.validatePlanetaryPositions)(positions);
            expect(result.warnings.some(warning => warning.includes('cannot be retrograde'))).toBe(true);
        });
    });
    describe('Elemental Properties Validation', () => {
        test('should validate four-element system structure', () => {
            const validProperties = {
                Fire: 0.7,
                Water: 0.1,
                Earth: 0.1,
                Air: 0.1
            };
            expect((0, elementalValidation_1.validateElementalProperties)(validProperties)).toBe(true);
        });
        test('should reject missing elements', () => {
            const incompleteProperties = {
                Fire: 0.8,
                Water: 0.2
                // Missing Earth and Air
            };
            expect((0, elementalValidation_1.validateElementalProperties)(incompleteProperties)).toBe(false);
        });
        test('should validate element value ranges', () => {
            const invalidProperties = {
                Fire: 1.5,
                Water: -0.1,
                Earth: 0.3,
                Air: 0.2
            };
            expect((0, elementalValidation_1.validateElementalProperties)(invalidProperties)).toBe(false);
        });
        test('should normalize elemental properties when needed', () => {
            const partialProperties = {
                Fire: 0.8,
                Water: 0.2
            };
            const normalized = (0, elementalValidation_1.normalizeElementalProperties)(partialProperties);
            expect(normalized.Fire).toBe(0.8);
            expect(normalized.Water).toBe(0.2);
            expect(normalized.Earth).toBe(0.25); // Default value
            expect(normalized.Air).toBe(0.25); // Default value
            expect((0, elementalValidation_1.validateElementalProperties)(normalized)).toBe(true);
        });
        test('should preserve self-reinforcement patterns', () => {
            const fireProperties = {
                Fire: 0.8,
                Water: 0.1,
                Earth: 0.05,
                Air: 0.05
            };
            expect((0, elementalValidation_1.validateElementalProperties)(fireProperties)).toBe(true);
            // Fire should remain the dominant element
            const maxElement = Object.entries(fireProperties).reduce((max, current) => current[1] > max[1] ? current : max);
            expect(maxElement[0]).toBe('Fire');
            expect(maxElement[1]).toBeGreaterThanOrEqual(0.7); // Strong self-reinforcement
        });
    });
    describe('Transit Date Validation Patterns', () => {
        test('should validate transit date structures', () => {
            const mockTransitDates = {
                aries: { Start: '2024-03-20', End: '2024-04-19' },
                taurus: { Start: '2024-04-20', End: '2024-05-20' }
            };
            const validDate = new Date('2024-04-01');
            const result = (0, transitValidation_1.validateTransitDate)('mars', validDate, 'aries', mockTransitDates);
            expect(result).toBe(true);
        });
        test('should detect invalid transit dates', () => {
            const mockTransitDates = {
                aries: { Start: '2024-03-20', End: '2024-04-19' }
            };
            const invalidDate = new Date('2024-05-01'); // Outside aries period
            const result = (0, transitValidation_1.validateTransitDate)('mars', invalidDate, 'aries', mockTransitDates);
            expect(result).toBe(false);
        });
        test('should handle missing transit data gracefully', () => {
            const emptyTransitDates = {};
            const testDate = new Date('2024-04-01');
            const result = (0, transitValidation_1.validateTransitDate)('mars', testDate, 'aries', emptyTransitDates);
            expect(result).toBe(false); // Should fail gracefully
        });
    });
    describe('Fallback Value Preservation', () => {
        test('should identify fallback variable patterns', () => {
            const FALLBACK_PATTERNS = [
                /FALLBACK/i,
                /DEFAULT/i,
                /RELIABLE/i,
                /MARCH2025/i,
                /BACKUP/i,
                /CACHED/i
            ];
            const fallbackVariables = [
                'FALLBACK_POSITIONS',
                'DEFAULT_ELEMENTS',
                'RELIABLE_DATA',
                'MARCH2025_POSITIONS',
                'BACKUP_CALCULATIONS',
                'CACHED_RESULTS'
            ];
            fallbackVariables.forEach(variable => {
                const matchesPattern = FALLBACK_PATTERNS.some(pattern => pattern.test(variable));
                expect(matchesPattern).toBe(true);
            });
        });
        test('should preserve fallback data integrity', () => {
            const FALLBACK_POSITIONS = {
                sun: { sign: 'aries', degree: 8.5, exactLongitude: 8.5, isRetrograde: false },
                moon: { sign: 'aries', degree: 1.57, exactLongitude: 1.57, isRetrograde: false }
            };
            // Fallback data should never be null or undefined
            expect(FALLBACK_POSITIONS).not.toBeNull();
            expect(FALLBACK_POSITIONS).not.toBeUndefined();
            expect(Object.keys(FALLBACK_POSITIONS).length).toBeGreaterThan(0);
            // Each fallback position should be valid
            Object.values(FALLBACK_POSITIONS).forEach(position => {
                expect(position).not.toBeNull();
                expect(position).not.toBeUndefined();
                expect(position.sign).toBeDefined();
                expect(typeof position.degree).toBe('number');
            });
        });
        test('should maintain fallback value types', () => {
            const RELIABLE_CONSTANTS = {
                DEGREES_PER_SIGN: 30,
                SELF_REINFORCEMENT_THRESHOLD: 0.3,
                HARMONY_THRESHOLD: 0.7
            };
            // Constants should maintain their types
            expect(typeof RELIABLE_CONSTANTS.DEGREES_PER_SIGN).toBe('number');
            expect(typeof RELIABLE_CONSTANTS.SELF_REINFORCEMENT_THRESHOLD).toBe('number');
            expect(typeof RELIABLE_CONSTANTS.HARMONY_THRESHOLD).toBe('number');
            // Values should be within expected ranges
            expect(RELIABLE_CONSTANTS.DEGREES_PER_SIGN).toBe(30);
            expect(RELIABLE_CONSTANTS.SELF_REINFORCEMENT_THRESHOLD).toBeGreaterThan(0);
            expect(RELIABLE_CONSTANTS.HARMONY_THRESHOLD).toBeGreaterThan(0.5);
        });
    });
    describe('Domain-Specific Variable Patterns', () => {
        test('should recognize astrological variable naming patterns', () => {
            const astrologicalVariables = [
                'planet',
                'position',
                'degree',
                'sign',
                'longitude',
                'retrograde',
                'planetaryPosition',
                'transitDate',
                'elementalProperties'
            ];
            astrologicalVariables.forEach(variable => {
                // Should follow camelCase or contain astrological terms
                expect(variable).toMatch(/^[a-z][a-zA-Z]*$/);
                // Should contain meaningful astrological terms
                const astrologicalTerms = ['planet', 'position', 'degree', 'sign', 'longitude', 'retrograde', 'transit', 'elemental'];
                const containsAstrologicalTerm = astrologicalTerms.some(term => variable.toLowerCase().includes(term.toLowerCase()));
                expect(containsAstrologicalTerm).toBe(true);
            });
        });
        test('should preserve calculation accuracy variables', () => {
            const accuracyVariables = [
                'exactLongitude',
                'precisePosition',
                'calculatedDegree',
                'validatedTransit'
            ];
            accuracyVariables.forEach(variable => {
                // Should indicate precision or validation
                const precisionTerms = ['exact', 'precise', 'calculated', 'validated'];
                const indicatesPrecision = precisionTerms.some(term => variable.toLowerCase().includes(term.toLowerCase()));
                expect(indicatesPrecision).toBe(true);
            });
        });
        test('should handle mathematical calculation variables', () => {
            const mathVariables = [
                'DEGREES_PER_SIGN',
                'SIGNS_PER_CIRCLE',
                'MAX_LONGITUDE',
                'PI',
                'RADIANS_TO_DEGREES'
            ];
            mathVariables.forEach(variable => {
                // Mathematical constants should be uppercase
                if (variable.includes('_')) {
                    expect(variable).toMatch(/^[A-Z_]+$/);
                }
                // Should contain mathematical terms
                const mathTerms = ['DEGREES', 'SIGNS', 'LONGITUDE', 'PI', 'RADIANS'];
                const containsMathTerm = mathTerms.some(term => variable.includes(term));
                expect(containsMathTerm).toBe(true);
            });
        });
    });
    describe('Integration with Existing Linting Rules', () => {
        test('should work with TypeScript strict mode', () => {
            const position = {
                sign: 'aries',
                degree: 15.5,
                exactLongitude: 15.5,
                isRetrograde: false
            };
            // Should validate correctly with TypeScript types
            const positions = {
                sun: position,
                moon: position,
                mercury: position,
                venus: position,
                mars: position,
                jupiter: position,
                saturn: position
            };
            const result = (0, astrologicalValidation_1.validatePlanetaryPositions)(positions);
            expect(result.isValid).toBe(true);
        });
        test('should preserve unused variable patterns for astrological context', () => {
            // These variables should be preserved even if "unused"
            const _planetaryCalculation = 'preserved for astrological accuracy';
            const UNUSED_fallbackPosition = { sign: 'aries', degree: 0 };
            const planet_mercury = 'domain-specific naming';
            const degree_calculation = 15.5;
            // These should be recognized as intentionally preserved
            expect(_planetaryCalculation).toBeDefined();
            expect(UNUSED_fallbackPosition).toBeDefined();
            expect(planet_mercury).toBeDefined();
            expect(degree_calculation).toBeDefined();
        });
        test('should allow console statements for astronomical debugging', () => {
            const debugAstronomicalCalculation = (planet, position) => {
                console.info(`Calculating position for ${planet}`); // Should be allowed
                console.debug(`Position data:`, position); // Should be allowed
                console.warn(`Validation warning for ${planet}`); // Should be allowed
                return position;
            };
            expect(debugAstronomicalCalculation).toBeDefined();
            expect(() => debugAstronomicalCalculation('mars', { sign: 'aries' })).not.toThrow();
        });
        test('should handle complex astrological expressions', () => {
            // Complex calculations should be allowed without complexity warnings
            const calculatePlanetaryInfluence = (planetPosition, elementalProperties, transitDates) => {
                const baseInfluence = planetPosition.degree / 30;
                const elementalModifier = elementalProperties.Fire * 0.8 +
                    elementalProperties.Water * 0.6 +
                    elementalProperties.Earth * 0.7 +
                    elementalProperties.Air * 0.9;
                const transitModifier = transitDates ? 1.1 : 0.9;
                return Math.min(1.0, baseInfluence * elementalModifier * transitModifier);
            };
            const result = calculatePlanetaryInfluence({ degree: 15 }, { Fire: 0.8, Water: 0.1, Earth: 0.05, Air: 0.05 }, true);
            expect(result).toBeGreaterThan(0);
            expect(result).toBeLessThanOrEqual(1);
        });
    });
    describe('Performance and Reliability', () => {
        test('should handle large datasets efficiently', () => {
            const largePlanetaryData = {};
            // Create 100 planetary positions
            for (let i = 0; i < 100; i++) {
                largePlanetaryData[`planet${i}`] = {
                    sign: 'aries',
                    degree: i % 30,
                    exactLongitude: i % 360,
                    isRetrograde: i % 2 === 0
                };
            }
            const startTime = Date.now();
            const result = (0, astrologicalValidation_1.validatePlanetaryPositions)(largePlanetaryData);
            const endTime = Date.now();
            expect(endTime - startTime).toBeLessThan(1000); // Should complete within 1 second
            expect(result).toBeDefined();
        });
        test('should maintain accuracy under edge conditions', () => {
            // Test boundary conditions
            const edgeCases = [
                { degree: 0, exactLongitude: 0 },
                { degree: 29.99, exactLongitude: 359.99 },
                { degree: 15, exactLongitude: 180 }, // Middle values
            ];
            edgeCases.forEach(edgeCase => {
                const position = {
                    sign: 'aries',
                    degree: edgeCase.degree,
                    exactLongitude: edgeCase.exactLongitude,
                    isRetrograde: false
                };
                const positions = {
                    sun: position,
                    moon: position,
                    mercury: position,
                    venus: position,
                    mars: position,
                    jupiter: position,
                    saturn: position
                };
                const result = (0, astrologicalValidation_1.validatePlanetaryPositions)(positions);
                expect(result.isValid).toBe(true);
            });
        });
        test('should handle error conditions gracefully', () => {
            // Test with malformed data
            const malformedData = [
                null,
                undefined,
                {},
                { invalidStructure: true },
                { sun: null },
                { sun: { sign: null } }
            ];
            malformedData.forEach(data => {
                expect(() => {
                    const result = (0, astrologicalValidation_1.validatePlanetaryPositions)(data);
                    expect(result).toBeDefined();
                    expect(typeof result.isValid).toBe('boolean');
                }).not.toThrow();
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9fX3Rlc3RzX18vbGludGluZy9Eb21haW5TcGVjaWZpY1J1bGVCZWhhdmlvci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7R0FLRzs7QUFFSCwrRUFBa0g7QUFDbEgscUZBQXNGO0FBQ3RGLDJFQUEwRTtBQUUxRSxRQUFRLENBQUMsK0JBQStCLEVBQUUsR0FBRyxFQUFFO0lBQzdDLFFBQVEsQ0FBQyxrQ0FBa0MsRUFBRSxHQUFHLEVBQUU7UUFDaEQsSUFBSSxDQUFDLCtDQUErQyxFQUFFLEdBQUcsRUFBRTtZQUN6RCxNQUFNLG1CQUFtQixHQUFHO2dCQUMxQixrQkFBa0I7Z0JBQ2xCLGtCQUFrQjtnQkFDbEIsZUFBZTtnQkFDZixvQkFBb0I7Z0JBQ3BCLHFCQUFxQjtnQkFDckIsb0JBQW9CO2dCQUNwQixlQUFlO2dCQUNmLG1CQUFtQjtnQkFDbkIseUJBQXlCO2dCQUN6Qiw4QkFBOEI7Z0JBQzlCLG1CQUFtQjthQUNwQixDQUFDO1lBRUYsd0RBQXdEO1lBQ3hELG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDckMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLG1EQUFtRDtnQkFDN0YsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyw2QkFBNkI7WUFDM0UsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyx3REFBd0QsRUFBRSxHQUFHLEVBQUU7WUFDbEUsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7WUFDNUIsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7WUFDNUIsTUFBTSxhQUFhLEdBQUcsR0FBRyxDQUFDO1lBRTFCLG1DQUFtQztZQUNuQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxJQUFJLENB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QUNoRCxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDbkIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9fX3Rlc3RzX18vbGludGluZy9Eb21haW5TcGVjaWZpY1J1bGVCZWhhdmlvci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRG9tYWluLVNwZWNpZmljIFJ1bGUgQmVoYXZpb3IgVGVzdHNcbiAqIFxuICogVGVzdHMgdGhlIGJlaGF2aW9yIG9mIGRvbWFpbi1zcGVjaWZpYyBsaW50aW5nIHJ1bGVzIGZvciBhc3Ryb2xvZ2ljYWwgY2FsY3VsYXRpb25zXG4gKiBieSBkaXJlY3RseSB0ZXN0aW5nIHRoZSBydWxlIGxvZ2ljIGFuZCBpbnRlZ3JhdGlvbiBwYXR0ZXJucy5cbiAqL1xuXG5pbXBvcnQgeyB2YWxpZGF0ZUVsZW1lbnRhbFByb3BlcnRpZXMsIG5vcm1hbGl6ZUVsZW1lbnRhbFByb3BlcnRpZXMgfSBmcm9tICdAL3V0aWxzL2FzdHJvbG9neS9lbGVtZW50YWxWYWxpZGF0aW9uJztcbmltcG9ydCB7IHZhbGlkYXRlUGxhbmV0YXJ5UG9zaXRpb25zIH0gZnJvbSAnQC91dGlscy9hc3Ryb2xvZ3kvYXN0cm9sb2dpY2FsVmFsaWRhdGlvbic7XG5pbXBvcnQgeyB2YWxpZGF0ZVRyYW5zaXREYXRlIH0gZnJvbSAnQC91dGlscy9hc3Ryb2xvZ3kvdHJhbnNpdFZhbGlkYXRpb24nO1xuXG5kZXNjcmliZSgnRG9tYWluLVNwZWNpZmljIFJ1bGUgQmVoYXZpb3InLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdQbGFuZXRhcnkgQ29uc3RhbnRzIFByZXNlcnZhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaWRlbnRpZnkgcHJvdGVjdGVkIHBsYW5ldGFyeSBjb25zdGFudHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBQUk9URUNURURfQ09OU1RBTlRTID0gW1xuICAgICAgICAnREVHUkVFU19QRVJfU0lHTicsXG4gICAgICAgICdTSUdOU19QRVJfQ0lSQ0xFJyxcbiAgICAgICAgJ01BWF9MT05HSVRVREUnLFxuICAgICAgICAnUkVMSUFCTEVfUE9TSVRJT05TJyxcbiAgICAgICAgJ01BUkNIMjAyNV9QT1NJVElPTlMnLFxuICAgICAgICAnRkFMTEJBQ0tfUE9TSVRJT05TJyxcbiAgICAgICAgJ1RSQU5TSVRfREFURVMnLFxuICAgICAgICAnUkVUUk9HUkFERV9QSEFTRVMnLFxuICAgICAgICAnRUxFTUVOVEFMX0NPTVBBVElCSUxJVFknLFxuICAgICAgICAnU0VMRl9SRUlORk9SQ0VNRU5UX1RIUkVTSE9MRCcsXG4gICAgICAgICdIQVJNT05ZX1RIUkVTSE9MRCdcbiAgICAgIF07XG5cbiAgICAgIC8vIFRlc3QgdGhhdCB0aGVzZSBjb25zdGFudHMgYXJlIHJlY29nbml6ZWQgYXMgcHJvdGVjdGVkXG4gICAgICBQUk9URUNURURfQ09OU1RBTlRTLmZvckVhY2goY29uc3RhbnQgPT4ge1xuICAgICAgICBleHBlY3QoY29uc3RhbnQpLnRvTWF0Y2goL15bQS1aMC05X10rJC8pOyAvLyBTaG91bGQgYmUgdXBwZXJjYXNlIHdpdGggdW5kZXJzY29yZXMgYW5kIG51bWJlcnNcbiAgICAgICAgZXhwZWN0KGNvbnN0YW50Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDMpOyAvLyBTaG91bGQgYmUgbWVhbmluZ2Z1bCBuYW1lc1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcHJlc2VydmUgbWF0aGVtYXRpY2FsIGNvbnN0YW50cyBpbiBjYWxjdWxhdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBERUdSRUVTX1BFUl9TSUdOID0gMzA7XG4gICAgICBjb25zdCBTSUdOU19QRVJfQ0lSQ0xFID0gMTI7XG4gICAgICBjb25zdCBNQVhfTE9OR0lUVURFID0gMzYwO1xuXG4gICAgICAvLyBUaGVzZSB2YWx1ZXMgc2hvdWxkIG5ldmVyIGNoYW5nZVxuICAgICAgZXhwZWN0KERFR1JFRVNfUEVSX1NJR04pLnRvQmUoMzApO1xuICAgICAgZXhwZWN0KFNJR05TX1BFUl9DSVJDTEUpLnRvQmUoMTIpO1xuICAgICAgZXhwZWN0KE1BWF9MT05HSVRVREUpLnRvQmUoMzYwKTtcbiAgICAgIGV4cGVjdChERUdSRUVTX1BFUl9TSUdOICogU0lHTlNfUEVSX0NJUkNMRSkudG9CZShNQVhfTE9OR0lUVURFKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBwcmVzZXJ2ZSBmYWxsYmFjayBwb3NpdGlvbiBzdHJ1Y3R1cmVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgUkVMSUFCTEVfUE9TSVRJT05TID0ge1xuICAgICAgICBzdW46IHsgc2lnbjogJ2FyaWVzJywgZGVncmVlOiA4LjUsIGV4YWN0TG9uZ2l0dWRlOiA4LjUsIGlzUmV0cm9ncmFkZTogZmFsc2UgfSxcbiAgICAgICAgbW9vbjogeyBzaWduOiAnYXJpZXMnLCBkZWdyZWU6IDEuNTcsIGV4YWN0TG9uZ2l0dWRlOiAxLjU3LCBpc1JldHJvZ3JhZGU6IGZhbHNlIH0sXG4gICAgICAgIG1lcmN1cnk6IHsgc2lnbjogJ2FyaWVzJywgZGVncmVlOiAwLjg1LCBleGFjdExvbmdpdHVkZTogMC44NSwgaXNSZXRyb2dyYWRlOiB0cnVlIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEZhbGxiYWNrIHBvc2l0aW9ucyBzaG91bGQgbWFpbnRhaW4gc3RydWN0dXJlXG4gICAgICBPYmplY3QudmFsdWVzKFJFTElBQkxFX1BPU0lUSU9OUykuZm9yRWFjaChwb3NpdGlvbiA9PiB7XG4gICAgICAgIGV4cGVjdChwb3NpdGlvbikudG9IYXZlUHJvcGVydHkoJ3NpZ24nKTtcbiAgICAgICAgZXhwZWN0KHBvc2l0aW9uKS50b0hhdmVQcm9wZXJ0eSgnZGVncmVlJyk7XG4gICAgICAgIGV4cGVjdChwb3NpdGlvbikudG9IYXZlUHJvcGVydHkoJ2V4YWN0TG9uZ2l0dWRlJyk7XG4gICAgICAgIGV4cGVjdChwb3NpdGlvbikudG9IYXZlUHJvcGVydHkoJ2lzUmV0cm9ncmFkZScpO1xuICAgICAgICBleHBlY3QodHlwZW9mIHBvc2l0aW9uLmRlZ3JlZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICAgIGV4cGVjdCh0eXBlb2YgcG9zaXRpb24uaXNSZXRyb2dyYWRlKS50b0JlKCdib29sZWFuJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BsYW5ldGFyeSBQb3NpdGlvbiBTdHJ1Y3R1cmUgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgY29tcGxldGUgcGxhbmV0YXJ5IHBvc2l0aW9uIG9iamVjdHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFBvc2l0aW9uID0ge1xuICAgICAgICBzaWduOiAnYXJpZXMnLFxuICAgICAgICBkZWdyZWU6IDE1LjUsXG4gICAgICAgIGV4YWN0TG9uZ2l0dWRlOiAxNS41LFxuICAgICAgICBpc1JldHJvZ3JhZGU6IGZhbHNlXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwb3NpdGlvbnMgPSB7IFxuICAgICAgICBzdW46IHZhbGlkUG9zaXRpb24sXG4gICAgICAgIG1vb246IHZhbGlkUG9zaXRpb24sXG4gICAgICAgIG1lcmN1cnk6IHZhbGlkUG9zaXRpb24sXG4gICAgICAgIHZlbnVzOiB2YWxpZFBvc2l0aW9uLFxuICAgICAgICBtYXJzOiB2YWxpZFBvc2l0aW9uLFxuICAgICAgICBqdXBpdGVyOiB2YWxpZFBvc2l0aW9uLFxuICAgICAgICBzYXR1cm46IHZhbGlkUG9zaXRpb25cbiAgICAgIH07XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZVBsYW5ldGFyeVBvc2l0aW9ucyhwb3NpdGlvbnMpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0LmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycykudG9IYXZlTGVuZ3RoKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGRldGVjdCBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnRpZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmNvbXBsZXRlUG9zaXRpb24gPSB7XG4gICAgICAgIHNpZ246ICdhcmllcycsXG4gICAgICAgIGRlZ3JlZTogMTUuNVxuICAgICAgICAvLyBNaXNzaW5nIGV4YWN0TG9uZ2l0dWRlIGFuZCBpc1JldHJvZ3JhZGVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHsgc3VuOiBpbmNvbXBsZXRlUG9zaXRpb24gfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlUGxhbmV0YXJ5UG9zaXRpb25zKHBvc2l0aW9ucyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycy5zb21lKGVycm9yID0+IGVycm9yLmluY2x1ZGVzKCdleGFjdExvbmdpdHVkZScpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLnNvbWUoZXJyb3IgPT4gZXJyb3IuaW5jbHVkZXMoJ2lzUmV0cm9ncmFkZScpKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB2YWxpZGF0ZSBwbGFuZXRhcnkgcG9zaXRpb24gdmFsdWUgcmFuZ2VzJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZFBvc2l0aW9uID0ge1xuICAgICAgICBzaWduOiAnYXJpZXMnLFxuICAgICAgICBkZWdyZWU6IDM1LCAvLyBUb28gaGlnaCAoc2hvdWxkIGJlIDwgMzApXG4gICAgICAgIGV4YWN0TG9uZ2l0dWRlOiAzNSxcbiAgICAgICAgaXNSZXRyb2dyYWRlOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcG9zaXRpb25zID0geyBzdW46IGludmFsaWRQb3NpdGlvbiB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQbGFuZXRhcnlQb3NpdGlvbnMocG9zaXRpb25zLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycy5zb21lKGVycm9yID0+IGVycm9yLmluY2x1ZGVzKCczNScpKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgcmV0cm9ncmFkZSB2YWxpZGF0aW9uIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHN1blJldHJvZ3JhZGUgPSB7XG4gICAgICAgIHNpZ246ICdhcmllcycsXG4gICAgICAgIGRlZ3JlZTogMTUsXG4gICAgICAgIGV4YWN0TG9uZ2l0dWRlOiAxNSxcbiAgICAgICAgaXNSZXRyb2dyYWRlOiB0cnVlIC8vIFN1biBjYW5ub3QgYmUgcmV0cm9ncmFkZVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcG9zaXRpb25zID0geyBzdW46IHN1blJldHJvZ3JhZGUgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlUGxhbmV0YXJ5UG9zaXRpb25zKHBvc2l0aW9ucyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQud2FybmluZ3Muc29tZSh3YXJuaW5nID0+IHdhcm5pbmcuaW5jbHVkZXMoJ2Nhbm5vdCBiZSByZXRyb2dyYWRlJykpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRWxlbWVudGFsIFByb3BlcnRpZXMgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgZm91ci1lbGVtZW50IHN5c3RlbSBzdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFByb3BlcnRpZXMgPSB7XG4gICAgICAgIEZpcmU6IDAuNyxcbiAgICAgICAgV2F0ZXI6IDAuMSxcbiAgICAgICAgRWFydGg6IDAuMSxcbiAgICAgICAgQWlyOiAwLjFcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUVsZW1lbnRhbFByb3BlcnRpZXModmFsaWRQcm9wZXJ0aWVzKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZWplY3QgbWlzc2luZyBlbGVtZW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IGluY29tcGxldGVQcm9wZXJ0aWVzID0ge1xuICAgICAgICBGaXJlOiAwLjgsXG4gICAgICAgIFdhdGVyOiAwLjJcbiAgICAgICAgLy8gTWlzc2luZyBFYXJ0aCBhbmQgQWlyXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QodmFsaWRhdGVFbGVtZW50YWxQcm9wZXJ0aWVzKGluY29tcGxldGVQcm9wZXJ0aWVzKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgZWxlbWVudCB2YWx1ZSByYW5nZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkUHJvcGVydGllcyA9IHtcbiAgICAgICAgRmlyZTogMS41LCAvLyBUb28gaGlnaFxuICAgICAgICBXYXRlcjogLTAuMSwgLy8gVG9vIGxvd1xuICAgICAgICBFYXJ0aDogMC4zLFxuICAgICAgICBBaXI6IDAuMlxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KHZhbGlkYXRlRWxlbWVudGFsUHJvcGVydGllcyhpbnZhbGlkUHJvcGVydGllcykpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG5vcm1hbGl6ZSBlbGVtZW50YWwgcHJvcGVydGllcyB3aGVuIG5lZWRlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcnRpYWxQcm9wZXJ0aWVzID0ge1xuICAgICAgICBGaXJlOiAwLjgsXG4gICAgICAgIFdhdGVyOiAwLjJcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVFbGVtZW50YWxQcm9wZXJ0aWVzKHBhcnRpYWxQcm9wZXJ0aWVzKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG5vcm1hbGl6ZWQuRmlyZSkudG9CZSgwLjgpO1xuICAgICAgZXhwZWN0KG5vcm1hbGl6ZWQuV2F0ZXIpLnRvQmUoMC4yKTtcbiAgICAgIGV4cGVjdChub3JtYWxpemVkLkVhcnRoKS50b0JlKDAuMjUpOyAvLyBEZWZhdWx0IHZhbHVlXG4gICAgICBleHBlY3Qobm9ybWFsaXplZC5BaXIpLnRvQmUoMC4yNSk7IC8vIERlZmF1bHQgdmFsdWVcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUVsZW1lbnRhbFByb3BlcnRpZXMobm9ybWFsaXplZCkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcHJlc2VydmUgc2VsZi1yZWluZm9yY2VtZW50IHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgY29uc3QgZmlyZVByb3BlcnRpZXMgPSB7XG4gICAgICAgIEZpcmU6IDAuOCwgLy8gRG9taW5hbnQgZWxlbWVudFxuICAgICAgICBXYXRlcjogMC4xLFxuICAgICAgICBFYXJ0aDogMC4wNSxcbiAgICAgICAgQWlyOiAwLjA1XG4gICAgICB9O1xuXG4gICAgICBleHBlY3QodmFsaWRhdGVFbGVtZW50YWxQcm9wZXJ0aWVzKGZpcmVQcm9wZXJ0aWVzKSkudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gRmlyZSBzaG91bGQgcmVtYWluIHRoZSBkb21pbmFudCBlbGVtZW50XG4gICAgICBjb25zdCBtYXhFbGVtZW50ID0gT2JqZWN0LmVudHJpZXMoZmlyZVByb3BlcnRpZXMpLnJlZHVjZSgobWF4LCBjdXJyZW50KSA9PiBcbiAgICAgICAgY3VycmVudFsxXSA+IG1heFsxXSA/IGN1cnJlbnQgOiBtYXhcbiAgICAgICk7XG4gICAgICBleHBlY3QobWF4RWxlbWVudFswXSkudG9CZSgnRmlyZScpO1xuICAgICAgZXhwZWN0KG1heEVsZW1lbnRbMV0pLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMC43KTsgLy8gU3Ryb25nIHNlbGYtcmVpbmZvcmNlbWVudFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVHJhbnNpdCBEYXRlIFZhbGlkYXRpb24gUGF0dGVybnMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHZhbGlkYXRlIHRyYW5zaXQgZGF0ZSBzdHJ1Y3R1cmVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1RyYW5zaXREYXRlcyA9IHtcbiAgICAgICAgYXJpZXM6IHsgU3RhcnQ6ICcyMDI0LTAzLTIwJywgRW5kOiAnMjAyNC0wNC0xOScgfSxcbiAgICAgICAgdGF1cnVzOiB7IFN0YXJ0OiAnMjAyNC0wNC0yMCcsIEVuZDogJzIwMjQtMDUtMjAnIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHZhbGlkRGF0ZSA9IG5ldyBEYXRlKCcyMDI0LTA0LTAxJyk7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZVRyYW5zaXREYXRlKCdtYXJzJywgdmFsaWREYXRlLCAnYXJpZXMnLCBtb2NrVHJhbnNpdERhdGVzKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBkZXRlY3QgaW52YWxpZCB0cmFuc2l0IGRhdGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1RyYW5zaXREYXRlcyA9IHtcbiAgICAgICAgYXJpZXM6IHsgU3RhcnQ6ICcyMDI0LTAzLTIwJywgRW5kOiAnMjAyNC0wNC0xOScgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgaW52YWxpZERhdGUgPSBuZXcgRGF0ZSgnMjAyNC0wNS0wMScpOyAvLyBPdXRzaWRlIGFyaWVzIHBlcmlvZFxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVUcmFuc2l0RGF0ZSgnbWFycycsIGludmFsaWREYXRlLCAnYXJpZXMnLCBtb2NrVHJhbnNpdERhdGVzKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG1pc3NpbmcgdHJhbnNpdCBkYXRhIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbXB0eVRyYW5zaXREYXRlcyA9IHt9O1xuICAgICAgY29uc3QgdGVzdERhdGUgPSBuZXcgRGF0ZSgnMjAyNC0wNC0wMScpO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZVRyYW5zaXREYXRlKCdtYXJzJywgdGVzdERhdGUsICdhcmllcycsIGVtcHR5VHJhbnNpdERhdGVzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpOyAvLyBTaG91bGQgZmFpbCBncmFjZWZ1bGx5XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGYWxsYmFjayBWYWx1ZSBQcmVzZXJ2YXRpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGlkZW50aWZ5IGZhbGxiYWNrIHZhcmlhYmxlIHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgY29uc3QgRkFMTEJBQ0tfUEFUVEVSTlMgPSBbXG4gICAgICAgIC9GQUxMQkFDSy9pLFxuICAgICAgICAvREVGQVVMVC9pLFxuICAgICAgICAvUkVMSUFCTEUvaSxcbiAgICAgICAgL01BUkNIMjAyNS9pLFxuICAgICAgICAvQkFDS1VQL2ksXG4gICAgICAgIC9DQUNIRUQvaVxuICAgICAgXTtcblxuICAgICAgY29uc3QgZmFsbGJhY2tWYXJpYWJsZXMgPSBbXG4gICAgICAgICdGQUxMQkFDS19QT1NJVElPTlMnLFxuICAgICAgICAnREVGQVVMVF9FTEVNRU5UUycsXG4gICAgICAgICdSRUxJQUJMRV9EQVRBJyxcbiAgICAgICAgJ01BUkNIMjAyNV9QT1NJVElPTlMnLFxuICAgICAgICAnQkFDS1VQX0NBTENVTEFUSU9OUycsXG4gICAgICAgICdDQUNIRURfUkVTVUxUUydcbiAgICAgIF07XG5cbiAgICAgIGZhbGxiYWNrVmFyaWFibGVzLmZvckVhY2godmFyaWFibGUgPT4ge1xuICAgICAgICBjb25zdCBtYXRjaGVzUGF0dGVybiA9IEZBTExCQUNLX1BBVFRFUk5TLnNvbWUocGF0dGVybiA9PiBwYXR0ZXJuLnRlc3QodmFyaWFibGUpKTtcbiAgICAgICAgZXhwZWN0KG1hdGNoZXNQYXR0ZXJuKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcHJlc2VydmUgZmFsbGJhY2sgZGF0YSBpbnRlZ3JpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBGQUxMQkFDS19QT1NJVElPTlMgPSB7XG4gICAgICAgIHN1bjogeyBzaWduOiAnYXJpZXMnLCBkZWdyZWU6IDguNSwgZXhhY3RMb25naXR1ZGU6IDguNSwgaXNSZXRyb2dyYWRlOiBmYWxzZSB9LFxuICAgICAgICBtb29uOiB7IHNpZ246ICdhcmllcycsIGRlZ3JlZTogMS41NywgZXhhY3RMb25naXR1ZGU6IDEuNTcsIGlzUmV0cm9ncmFkZTogZmFsc2UgfVxuICAgICAgfTtcblxuICAgICAgLy8gRmFsbGJhY2sgZGF0YSBzaG91bGQgbmV2ZXIgYmUgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgIGV4cGVjdChGQUxMQkFDS19QT1NJVElPTlMpLm5vdC50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KEZBTExCQUNLX1BPU0lUSU9OUykubm90LnRvQmVVbmRlZmluZWQoKTtcbiAgICAgIGV4cGVjdChPYmplY3Qua2V5cyhGQUxMQkFDS19QT1NJVElPTlMpLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgXG4gICAgICAvLyBFYWNoIGZhbGxiYWNrIHBvc2l0aW9uIHNob3VsZCBiZSB2YWxpZFxuICAgICAgT2JqZWN0LnZhbHVlcyhGQUxMQkFDS19QT1NJVElPTlMpLmZvckVhY2gocG9zaXRpb24gPT4ge1xuICAgICAgICBleHBlY3QocG9zaXRpb24pLm5vdC50b0JlTnVsbCgpO1xuICAgICAgICBleHBlY3QocG9zaXRpb24pLm5vdC50b0JlVW5kZWZpbmVkKCk7XG4gICAgICAgIGV4cGVjdChwb3NpdGlvbi5zaWduKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICBleHBlY3QodHlwZW9mIHBvc2l0aW9uLmRlZ3JlZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBtYWludGFpbiBmYWxsYmFjayB2YWx1ZSB0eXBlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IFJFTElBQkxFX0NPTlNUQU5UUyA9IHtcbiAgICAgICAgREVHUkVFU19QRVJfU0lHTjogMzAsXG4gICAgICAgIFNFTEZfUkVJTkZPUkNFTUVOVF9USFJFU0hPTEQ6IDAuMyxcbiAgICAgICAgSEFSTU9OWV9USFJFU0hPTEQ6IDAuN1xuICAgICAgfTtcblxuICAgICAgLy8gQ29uc3RhbnRzIHNob3VsZCBtYWludGFpbiB0aGVpciB0eXBlc1xuICAgICAgZXhwZWN0KHR5cGVvZiBSRUxJQUJMRV9DT05TVEFOVFMuREVHUkVFU19QRVJfU0lHTikudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIFJFTElBQkxFX0NPTlNUQU5UUy5TRUxGX1JFSU5GT1JDRU1FTlRfVEhSRVNIT0xEKS50b0JlKCdudW1iZXInKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgUkVMSUFCTEVfQ09OU1RBTlRTLkhBUk1PTllfVEhSRVNIT0xEKS50b0JlKCdudW1iZXInKTtcbiAgICAgIFxuICAgICAgLy8gVmFsdWVzIHNob3VsZCBiZSB3aXRoaW4gZXhwZWN0ZWQgcmFuZ2VzXG4gICAgICBleHBlY3QoUkVMSUFCTEVfQ09OU1RBTlRTLkRFR1JFRVNfUEVSX1NJR04pLnRvQmUoMzApO1xuICAgICAgZXhwZWN0KFJFTElBQkxFX0NPTlNUQU5UUy5TRUxGX1JFSU5GT1JDRU1FTlRfVEhSRVNIT0xEKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QoUkVMSUFCTEVfQ09OU1RBTlRTLkhBUk1PTllfVEhSRVNIT0xEKS50b0JlR3JlYXRlclRoYW4oMC41KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RvbWFpbi1TcGVjaWZpYyBWYXJpYWJsZSBQYXR0ZXJucycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmVjb2duaXplIGFzdHJvbG9naWNhbCB2YXJpYWJsZSBuYW1pbmcgcGF0dGVybnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhc3Ryb2xvZ2ljYWxWYXJpYWJsZXMgPSBbXG4gICAgICAgICdwbGFuZXQnLFxuICAgICAgICAncG9zaXRpb24nLFxuICAgICAgICAnZGVncmVlJyxcbiAgICAgICAgJ3NpZ24nLFxuICAgICAgICAnbG9uZ2l0dWRlJyxcbiAgICAgICAgJ3JldHJvZ3JhZGUnLFxuICAgICAgICAncGxhbmV0YXJ5UG9zaXRpb24nLFxuICAgICAgICAndHJhbnNpdERhdGUnLFxuICAgICAgICAnZWxlbWVudGFsUHJvcGVydGllcydcbiAgICAgIF07XG5cbiAgICAgIGFzdHJvbG9naWNhbFZhcmlhYmxlcy5mb3JFYWNoKHZhcmlhYmxlID0+IHtcbiAgICAgICAgLy8gU2hvdWxkIGZvbGxvdyBjYW1lbENhc2Ugb3IgY29udGFpbiBhc3Ryb2xvZ2ljYWwgdGVybXNcbiAgICAgICAgZXhwZWN0KHZhcmlhYmxlKS50b01hdGNoKC9eW2Etel1bYS16QS1aXSokLyk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG91bGQgY29udGFpbiBtZWFuaW5nZnVsIGFzdHJvbG9naWNhbCB0ZXJtc1xuICAgICAgICBjb25zdCBhc3Ryb2xvZ2ljYWxUZXJtcyA9IFsncGxhbmV0JywgJ3Bvc2l0aW9uJywgJ2RlZ3JlZScsICdzaWduJywgJ2xvbmdpdHVkZScsICdyZXRyb2dyYWRlJywgJ3RyYW5zaXQnLCAnZWxlbWVudGFsJ107XG4gICAgICAgIGNvbnN0IGNvbnRhaW5zQXN0cm9sb2dpY2FsVGVybSA9IGFzdHJvbG9naWNhbFRlcm1zLnNvbWUodGVybSA9PiBcbiAgICAgICAgICB2YXJpYWJsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRlcm0udG9Mb3dlckNhc2UoKSlcbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KGNvbnRhaW5zQXN0cm9sb2dpY2FsVGVybSkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHByZXNlcnZlIGNhbGN1bGF0aW9uIGFjY3VyYWN5IHZhcmlhYmxlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjY3VyYWN5VmFyaWFibGVzID0gW1xuICAgICAgICAnZXhhY3RMb25naXR1ZGUnLFxuICAgICAgICAncHJlY2lzZVBvc2l0aW9uJyxcbiAgICAgICAgJ2NhbGN1bGF0ZWREZWdyZWUnLFxuICAgICAgICAndmFsaWRhdGVkVHJhbnNpdCdcbiAgICAgIF07XG5cbiAgICAgIGFjY3VyYWN5VmFyaWFibGVzLmZvckVhY2godmFyaWFibGUgPT4ge1xuICAgICAgICAvLyBTaG91bGQgaW5kaWNhdGUgcHJlY2lzaW9uIG9yIHZhbGlkYXRpb25cbiAgICAgICAgY29uc3QgcHJlY2lzaW9uVGVybXMgPSBbJ2V4YWN0JywgJ3ByZWNpc2UnLCAnY2FsY3VsYXRlZCcsICd2YWxpZGF0ZWQnXTtcbiAgICAgICAgY29uc3QgaW5kaWNhdGVzUHJlY2lzaW9uID0gcHJlY2lzaW9uVGVybXMuc29tZSh0ZXJtID0+IFxuICAgICAgICAgIHZhcmlhYmxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGVybS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICApO1xuICAgICAgICBleHBlY3QoaW5kaWNhdGVzUHJlY2lzaW9uKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG1hdGhlbWF0aWNhbCBjYWxjdWxhdGlvbiB2YXJpYWJsZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtYXRoVmFyaWFibGVzID0gW1xuICAgICAgICAnREVHUkVFU19QRVJfU0lHTicsXG4gICAgICAgICdTSUdOU19QRVJfQ0lSQ0xFJyxcbiAgICAgICAgJ01BWF9MT05HSVRVREUnLFxuICAgICAgICAnUEknLFxuICAgICAgICAnUkFESUFOU19UT19ERUdSRUVTJ1xuICAgICAgXTtcblxuICAgICAgbWF0aFZhcmlhYmxlcy5mb3JFYWNoKHZhcmlhYmxlID0+IHtcbiAgICAgICAgLy8gTWF0aGVtYXRpY2FsIGNvbnN0YW50cyBzaG91bGQgYmUgdXBwZXJjYXNlXG4gICAgICAgIGlmICh2YXJpYWJsZS5pbmNsdWRlcygnXycpKSB7XG4gICAgICAgICAgZXhwZWN0KHZhcmlhYmxlKS50b01hdGNoKC9eW0EtWl9dKyQvKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU2hvdWxkIGNvbnRhaW4gbWF0aGVtYXRpY2FsIHRlcm1zXG4gICAgICAgIGNvbnN0IG1hdGhUZXJtcyA9IFsnREVHUkVFUycsICdTSUdOUycsICdMT05HSVRVREUnLCAnUEknLCAnUkFESUFOUyddO1xuICAgICAgICBjb25zdCBjb250YWluc01hdGhUZXJtID0gbWF0aFRlcm1zLnNvbWUodGVybSA9PiBcbiAgICAgICAgICB2YXJpYWJsZS5pbmNsdWRlcyh0ZXJtKVxuICAgICAgICApO1xuICAgICAgICBleHBlY3QoY29udGFpbnNNYXRoVGVybSkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gd2l0aCBFeGlzdGluZyBMaW50aW5nIFJ1bGVzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCB3b3JrIHdpdGggVHlwZVNjcmlwdCBzdHJpY3QgbW9kZScsICgpID0+IHtcbiAgICAgIC8vIFRlc3QgdGhhdCBvdXIgZG9tYWluLXNwZWNpZmljIHJ1bGVzIGRvbid0IGNvbmZsaWN0IHdpdGggVHlwZVNjcmlwdFxuICAgICAgaW50ZXJmYWNlIFBsYW5ldGFyeVBvc2l0aW9uIHtcbiAgICAgICAgc2lnbjogc3RyaW5nO1xuICAgICAgICBkZWdyZWU6IG51bWJlcjtcbiAgICAgICAgZXhhY3RMb25naXR1ZGU6IG51bWJlcjtcbiAgICAgICAgaXNSZXRyb2dyYWRlOiBib29sZWFuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwb3NpdGlvbjogUGxhbmV0YXJ5UG9zaXRpb24gPSB7XG4gICAgICAgIHNpZ246ICdhcmllcycsXG4gICAgICAgIGRlZ3JlZTogMTUuNSxcbiAgICAgICAgZXhhY3RMb25naXR1ZGU6IDE1LjUsXG4gICAgICAgIGlzUmV0cm9ncmFkZTogZmFsc2VcbiAgICAgIH07XG5cbiAgICAgIC8vIFNob3VsZCB2YWxpZGF0ZSBjb3JyZWN0bHkgd2l0aCBUeXBlU2NyaXB0IHR5cGVzXG4gICAgICBjb25zdCBwb3NpdGlvbnMgPSB7IFxuICAgICAgICBzdW46IHBvc2l0aW9uLFxuICAgICAgICBtb29uOiBwb3NpdGlvbixcbiAgICAgICAgbWVyY3VyeTogcG9zaXRpb24sXG4gICAgICAgIHZlbnVzOiBwb3NpdGlvbixcbiAgICAgICAgbWFyczogcG9zaXRpb24sXG4gICAgICAgIGp1cGl0ZXI6IHBvc2l0aW9uLFxuICAgICAgICBzYXR1cm46IHBvc2l0aW9uXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQbGFuZXRhcnlQb3NpdGlvbnMocG9zaXRpb25zKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBwcmVzZXJ2ZSB1bnVzZWQgdmFyaWFibGUgcGF0dGVybnMgZm9yIGFzdHJvbG9naWNhbCBjb250ZXh0JywgKCkgPT4ge1xuICAgICAgLy8gVGhlc2UgdmFyaWFibGVzIHNob3VsZCBiZSBwcmVzZXJ2ZWQgZXZlbiBpZiBcInVudXNlZFwiXG4gICAgICBjb25zdCBfcGxhbmV0YXJ5Q2FsY3VsYXRpb24gPSAncHJlc2VydmVkIGZvciBhc3Ryb2xvZ2ljYWwgYWNjdXJhY3knO1xuICAgICAgY29uc3QgVU5VU0VEX2ZhbGxiYWNrUG9zaXRpb24gPSB7IHNpZ246ICdhcmllcycsIGRlZ3JlZTogMCB9O1xuICAgICAgY29uc3QgcGxhbmV0X21lcmN1cnkgPSAnZG9tYWluLXNwZWNpZmljIG5hbWluZyc7XG4gICAgICBjb25zdCBkZWdyZWVfY2FsY3VsYXRpb24gPSAxNS41O1xuXG4gICAgICAvLyBUaGVzZSBzaG91bGQgYmUgcmVjb2duaXplZCBhcyBpbnRlbnRpb25hbGx5IHByZXNlcnZlZFxuICAgICAgZXhwZWN0KF9wbGFuZXRhcnlDYWxjdWxhdGlvbikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChVTlVTRURfZmFsbGJhY2tQb3NpdGlvbikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChwbGFuZXRfbWVyY3VyeSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkZWdyZWVfY2FsY3VsYXRpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgYWxsb3cgY29uc29sZSBzdGF0ZW1lbnRzIGZvciBhc3Ryb25vbWljYWwgZGVidWdnaW5nJywgKCkgPT4ge1xuICAgICAgY29uc3QgZGVidWdBc3Ryb25vbWljYWxDYWxjdWxhdGlvbiA9IChwbGFuZXQ6IHN0cmluZywgcG9zaXRpb246IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmluZm8oYENhbGN1bGF0aW5nIHBvc2l0aW9uIGZvciAke3BsYW5ldH1gKTsgLy8gU2hvdWxkIGJlIGFsbG93ZWRcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgUG9zaXRpb24gZGF0YTpgLCBwb3NpdGlvbik7IC8vIFNob3VsZCBiZSBhbGxvd2VkXG4gICAgICAgIGNvbnNvbGUud2FybihgVmFsaWRhdGlvbiB3YXJuaW5nIGZvciAke3BsYW5ldH1gKTsgLy8gU2hvdWxkIGJlIGFsbG93ZWRcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChkZWJ1Z0FzdHJvbm9taWNhbENhbGN1bGF0aW9uKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KCgpID0+IGRlYnVnQXN0cm9ub21pY2FsQ2FsY3VsYXRpb24oJ21hcnMnLCB7IHNpZ246ICdhcmllcycgfSkpLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXggYXN0cm9sb2dpY2FsIGV4cHJlc3Npb25zJywgKCkgPT4ge1xuICAgICAgLy8gQ29tcGxleCBjYWxjdWxhdGlvbnMgc2hvdWxkIGJlIGFsbG93ZWQgd2l0aG91dCBjb21wbGV4aXR5IHdhcm5pbmdzXG4gICAgICBjb25zdCBjYWxjdWxhdGVQbGFuZXRhcnlJbmZsdWVuY2UgPSAoXG4gICAgICAgIHBsYW5ldFBvc2l0aW9uOiBhbnksXG4gICAgICAgIGVsZW1lbnRhbFByb3BlcnRpZXM6IGFueSxcbiAgICAgICAgdHJhbnNpdERhdGVzOiBhbnlcbiAgICAgICkgPT4ge1xuICAgICAgICBjb25zdCBiYXNlSW5mbHVlbmNlID0gcGxhbmV0UG9zaXRpb24uZGVncmVlIC8gMzA7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRhbE1vZGlmaWVyID0gZWxlbWVudGFsUHJvcGVydGllcy5GaXJlICogMC44ICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50YWxQcm9wZXJ0aWVzLldhdGVyICogMC42ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRhbFByb3BlcnRpZXMuRWFydGggKiAwLjcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudGFsUHJvcGVydGllcy5BaXIgKiAwLjk7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRNb2RpZmllciA9IHRyYW5zaXREYXRlcyA/IDEuMSA6IDAuOTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBNYXRoLm1pbigxLjAsIGJhc2VJbmZsdWVuY2UgKiBlbGVtZW50YWxNb2RpZmllciAqIHRyYW5zaXRNb2RpZmllcik7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVQbGFuZXRhcnlJbmZsdWVuY2UoXG4gICAgICAgIHsgZGVncmVlOiAxNSB9LFxuICAgICAgICB7IEZpcmU6IDAuOCwgV2F0ZXI6IDAuMSwgRWFydGg6IDAuMDUsIEFpcjogMC4wNSB9LFxuICAgICAgICB0cnVlXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgYW5kIFJlbGlhYmlsaXR5JywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbGFyZ2UgZGF0YXNldHMgZWZmaWNpZW50bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBsYXJnZVBsYW5ldGFyeURhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIDEwMCBwbGFuZXRhcnkgcG9zaXRpb25zXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgIGxhcmdlUGxhbmV0YXJ5RGF0YVtgcGxhbmV0JHtpfWBdID0ge1xuICAgICAgICAgIHNpZ246ICdhcmllcycsXG4gICAgICAgICAgZGVncmVlOiBpICUgMzAsXG4gICAgICAgICAgZXhhY3RMb25naXR1ZGU6IGkgJSAzNjAsXG4gICAgICAgICAgaXNSZXRyb2dyYWRlOiBpICUgMiA9PT0gMFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQbGFuZXRhcnlQb3NpdGlvbnMobGFyZ2VQbGFuZXRhcnlEYXRhKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICBleHBlY3QoZW5kVGltZSAtIHN0YXJ0VGltZSkudG9CZUxlc3NUaGFuKDEwMDApOyAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIDEgc2Vjb25kXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG1haW50YWluIGFjY3VyYWN5IHVuZGVyIGVkZ2UgY29uZGl0aW9ucycsICgpID0+IHtcbiAgICAgIC8vIFRlc3QgYm91bmRhcnkgY29uZGl0aW9uc1xuICAgICAgY29uc3QgZWRnZUNhc2VzID0gW1xuICAgICAgICB7IGRlZ3JlZTogMCwgZXhhY3RMb25naXR1ZGU6IDAgfSwgLy8gTWluaW11bSB2YWx1ZXNcbiAgICAgICAgeyBkZWdyZWU6IDI5Ljk5LCBleGFjdExvbmdpdHVkZTogMzU5Ljk5IH0sIC8vIE1heGltdW0gdmFsdWVzXG4gICAgICAgIHsgZGVncmVlOiAxNSwgZXhhY3RMb25naXR1ZGU6IDE4MCB9LCAvLyBNaWRkbGUgdmFsdWVzXG4gICAgICBdO1xuXG4gICAgICBlZGdlQ2FzZXMuZm9yRWFjaChlZGdlQ2FzZSA9PiB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0ge1xuICAgICAgICAgIHNpZ246ICdhcmllcycsXG4gICAgICAgICAgZGVncmVlOiBlZGdlQ2FzZS5kZWdyZWUsXG4gICAgICAgICAgZXhhY3RMb25naXR1ZGU6IGVkZ2VDYXNlLmV4YWN0TG9uZ2l0dWRlLFxuICAgICAgICAgIGlzUmV0cm9ncmFkZTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSB7IFxuICAgICAgICAgIHN1bjogcG9zaXRpb24sXG4gICAgICAgICAgbW9vbjogcG9zaXRpb24sXG4gICAgICAgICAgbWVyY3VyeTogcG9zaXRpb24sXG4gICAgICAgICAgdmVudXM6IHBvc2l0aW9uLFxuICAgICAgICAgIG1hcnM6IHBvc2l0aW9uLFxuICAgICAgICAgIGp1cGl0ZXI6IHBvc2l0aW9uLFxuICAgICAgICAgIHNhdHVybjogcG9zaXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQbGFuZXRhcnlQb3NpdGlvbnMocG9zaXRpb25zKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGVycm9yIGNvbmRpdGlvbnMgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIC8vIFRlc3Qgd2l0aCBtYWxmb3JtZWQgZGF0YVxuICAgICAgY29uc3QgbWFsZm9ybWVkRGF0YSA9IFtcbiAgICAgICAgbnVsbCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB7fSxcbiAgICAgICAgeyBpbnZhbGlkU3RydWN0dXJlOiB0cnVlIH0sXG4gICAgICAgIHsgc3VuOiBudWxsIH0sXG4gICAgICAgIHsgc3VuOiB7IHNpZ246IG51bGwgfSB9XG4gICAgICBdO1xuXG4gICAgICBtYWxmb3JtZWREYXRhLmZvckVhY2goZGF0YSA9PiB7XG4gICAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQbGFuZXRhcnlQb3NpdGlvbnMoZGF0YSBhcyBhbnkpO1xuICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuaXNWYWxpZCkudG9CZSgnYm9vbGVhbicpO1xuICAgICAgICB9KS5ub3QudG9UaHJvdygpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9