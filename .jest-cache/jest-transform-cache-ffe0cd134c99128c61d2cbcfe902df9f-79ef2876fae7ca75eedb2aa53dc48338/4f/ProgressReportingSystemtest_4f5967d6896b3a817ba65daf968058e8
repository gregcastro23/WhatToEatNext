a70ab74dc4743db9709d0f41d699917f
"use strict";
/**
 * Progress Reporting System Tests
 * Perfect Codebase Campaign - Comprehensive Testing
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
// Mock dependencies
jest.mock('./MetricsCollectionSystem');
jest.mock('./MilestoneValidationSystem');
jest.mock('fs');
const fs = __importStar(require("fs"));
const campaign_1 = require("../../types/campaign");
const MetricsCollectionSystem_1 = require("./MetricsCollectionSystem");
const MilestoneValidationSystem_1 = require("./MilestoneValidationSystem");
const ProgressReportingSystem_1 = require("./ProgressReportingSystem");
const MockMetricsCollectionSystem = MetricsCollectionSystem_1.MetricsCollectionSystem;
const MockMilestoneValidationSystem = MilestoneValidationSystem_1.MilestoneValidationSystem;
const mockFs = fs;
describe('ProgressReportingSystem', () => {
    let reportingSystem;
    let mockMetricsCollector;
    let mockValidationSystem;
    beforeEach(() => {
        jest.clearAllMocks();
        mockMetricsCollector = new MockMetricsCollectionSystem();
        mockValidationSystem = new MockMilestoneValidationSystem();
        reportingSystem = new ProgressReportingSystem_1.ProgressReportingSystem();
        reportingSystem.metricsCollector = mockMetricsCollector;
        reportingSystem.validationSystem = mockValidationSystem;
    });
    describe('Campaign Summary Report Generation', () => {
        test('should generate comprehensive campaign summary report', async () => {
            // Mock successful campaign metrics
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 0, target: 0, reduction: 86, percentage: 100 },
                lintingWarnings: { current: 0, target: 0, reduction: 4506, percentage: 100 },
                buildPerformance: { currentTime: 8, targetTime: 10, cacheHitRate: 0.85, memoryUsage: 45 },
                enterpriseSystems: { current: 250, target: 200, transformedExports: 250 },
                errorBreakdown: {},
                warningBreakdown: {},
                buildMetrics: {
                    buildTime: 8,
                    bundleSize: 420,
                    cacheHitRate: 0.85,
                    memoryUsage: 45,
                    cpuUsage: 15,
                    diskUsage: 1024,
                    compilationSpeed: 25,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 4096, free: 4096, percentage: 50 },
                    diskSpace: { total: 1000000, used: 500000, free: 500000, percentage: 50 },
                },
                trendData: { errorReductionRate: 10, warningReductionRate: 50, buildTimeImprovement: 2, systemGrowthRate: 5 },
            });
            // Mock successful phase validations
            mockValidationSystem.validateAllPhases.mockResolvedValue([
                {
                    phaseId: 'phase1',
                    phaseName: 'TypeScript Error Elimination',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [
                        {
                            milestone: 'Zero TypeScript Errors',
                            phase: 'phase1',
                            success: true,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: [],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: [],
                    nextSteps: ['Phase 1 complete - proceed to Phase 2'],
                },
                {
                    phaseId: 'phase2',
                    phaseName: 'Linting Excellence Achievement',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [
                        {
                            milestone: 'Zero Linting Warnings',
                            phase: 'phase2',
                            success: true,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: [],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: [],
                    nextSteps: ['Phase 2 complete - proceed to Phase 3'],
                },
                {
                    phaseId: 'phase3',
                    phaseName: 'Enterprise Intelligence Transformation',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [
                        {
                            milestone: 'Enterprise System Count Target',
                            phase: 'phase3',
                            success: true,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: [],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: [],
                    nextSteps: ['Phase 3 complete - proceed to Phase 4'],
                },
                {
                    phaseId: 'phase4',
                    phaseName: 'Performance Optimization Maintenance',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [
                        {
                            milestone: 'Build Performance Targets',
                            phase: 'phase4',
                            success: true,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: [],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: [],
                    nextSteps: ['Perfect Codebase Campaign Complete! ðŸŽ‰'],
                },
            ]);
            const report = await reportingSystem.generateCampaignSummaryReport();
            expect(report.campaignId).toBe('perfect-codebase-campaign');
            expect(report.overallStatus).toBe(ProgressReportingSystem_1.CampaignStatus.COMPLETED);
            expect(report.overallProgress).toBe(100);
            expect(report.phases).toHaveLength(4);
            expect(report.keyAchievements.length).toBeGreaterThan(0);
            expect(report.criticalIssues).toHaveLength(0);
            expect(report.executiveSummary).toContain('completed successfully');
        });
        test('should generate report for campaign in progress', async () => {
            // Mock partial progress metrics
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 10, target: 0, reduction: 76, percentage: 88 },
                lintingWarnings: { current: 500, target: 0, reduction: 4006, percentage: 89 },
                buildPerformance: { currentTime: 12, targetTime: 10, cacheHitRate: 0.75, memoryUsage: 55 },
                enterpriseSystems: { current: 150, target: 200, transformedExports: 150 },
                errorBreakdown: { TS2352: 5, TS2345: 3, TS2698: 2 },
                warningBreakdown: { '@typescript-eslint/no-explicit-any': 200, 'no-unused-vars': 300 },
                buildMetrics: {
                    buildTime: 12,
                    bundleSize: 480,
                    cacheHitRate: 0.75,
                    memoryUsage: 55,
                    cpuUsage: 25,
                    diskUsage: 1200,
                    compilationSpeed: 20,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 5120, free: 3072, percentage: 62 },
                    diskSpace: { total: 1000000, used: 600000, free: 400000, percentage: 60 },
                },
                trendData: { errorReductionRate: 5, warningReductionRate: 25, buildTimeImprovement: 1, systemGrowthRate: 3 },
            });
            // Mock mixed phase validations
            mockValidationSystem.validateAllPhases.mockResolvedValue([
                {
                    phaseId: 'phase1',
                    phaseName: 'TypeScript Error Elimination',
                    overallSuccess: false,
                    completionPercentage: 88,
                    milestones: [
                        {
                            milestone: 'Zero TypeScript Errors',
                            phase: 'phase1',
                            success: false,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: ['10 errors remaining'],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: ['TypeScript Error Count: expected 0, got 10'],
                    nextSteps: ['Continue with Enhanced TypeScript Error Fixer v3.0'],
                },
                {
                    phaseId: 'phase2',
                    phaseName: 'Linting Excellence Achievement',
                    overallSuccess: false,
                    completionPercentage: 75,
                    milestones: [],
                    criticalFailures: ['Linting Warning Count: expected 0, got 500'],
                    nextSteps: ['Continue with systematic linting fixes'],
                },
                {
                    phaseId: 'phase3',
                    phaseName: 'Enterprise Intelligence Transformation',
                    overallSuccess: false,
                    completionPercentage: 60,
                    milestones: [],
                    criticalFailures: ['Enterprise System Count: expected >= 200, got 150'],
                    nextSteps: ['Continue transforming exports to reach 200+ systems'],
                },
                {
                    phaseId: 'phase4',
                    phaseName: 'Performance Optimization Maintenance',
                    overallSuccess: false,
                    completionPercentage: 40,
                    milestones: [],
                    criticalFailures: ['Build Time: expected <= 10s, got 12s'],
                    nextSteps: ['Optimize build performance with caching improvements'],
                },
            ]);
            const report = await reportingSystem.generateCampaignSummaryReport();
            expect(report.overallStatus).toBe(ProgressReportingSystem_1.CampaignStatus.BLOCKED);
            expect(report.overallProgress).toBeLessThan(100);
            expect(report.criticalIssues.length).toBeGreaterThan(0);
            expect(report.recommendations.length).toBeGreaterThan(0);
            expect(report.executiveSummary).toContain('currently blocked');
        });
    });
    describe('Phase Completion Reports', () => {
        test('should generate detailed phase completion report', async () => {
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 0, target: 0, reduction: 86, percentage: 100 },
                lintingWarnings: { current: 0, target: 0, reduction: 4506, percentage: 100 },
                buildPerformance: { currentTime: 8, targetTime: 10, cacheHitRate: 0.85, memoryUsage: 45 },
                enterpriseSystems: { current: 250, target: 200, transformedExports: 250 },
                errorBreakdown: {},
                warningBreakdown: {},
                buildMetrics: {
                    buildTime: 8,
                    bundleSize: 420,
                    cacheHitRate: 0.85,
                    memoryUsage: 45,
                    cpuUsage: 15,
                    diskUsage: 1024,
                    compilationSpeed: 25,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 4096, free: 4096, percentage: 50 },
                    diskSpace: { total: 1000000, used: 500000, free: 500000, percentage: 50 },
                },
                trendData: { errorReductionRate: 10, warningReductionRate: 50, buildTimeImprovement: 2, systemGrowthRate: 5 },
            });
            mockValidationSystem.validatePhase1.mockResolvedValue({
                phaseId: 'phase1',
                phaseName: 'TypeScript Error Elimination',
                overallSuccess: true,
                completionPercentage: 100,
                milestones: [
                    {
                        milestone: 'Zero TypeScript Errors',
                        phase: 'phase1',
                        success: true,
                        timestamp: new Date(),
                        metrics: {},
                        criteria: [],
                        failureReasons: [],
                        recommendations: [],
                    },
                ],
                criticalFailures: [],
                nextSteps: ['Phase 1 complete - proceed to Phase 2'],
            });
            const report = await reportingSystem.generatePhaseCompletionReport('phase1');
            expect(report.phaseId).toBe('phase1');
            expect(report.phaseName).toBe('TypeScript Error Elimination');
            expect(report.status).toBe(campaign_1.PhaseStatus.COMPLETED);
            expect(report.achievements.length).toBeGreaterThan(0);
            expect(report.issues).toHaveLength(0);
        });
        test('should handle invalid phase ID', async () => {
            await expect(reportingSystem.generatePhaseCompletionReport('invalid-phase')).rejects.toThrow('Unknown phase: invalid-phase');
        });
    });
    describe('Visualization Data Generation', () => {
        test('should generate comprehensive visualization data', async () => {
            // Mock snapshots for time series data
            mockMetricsCollector.getSnapshots.mockReturnValue([
                {
                    id: 'snapshot1',
                    timestamp: new Date('2024-01-01'),
                    metrics: {
                        timestamp: new Date('2024-01-01'),
                        typeScriptErrors: { current: 50, target: 0, reduction: 36, percentage: 42 },
                        lintingWarnings: { current: 2000, target: 0, reduction: 2506, percentage: 56 },
                        buildPerformance: { currentTime: 15, targetTime: 10, cacheHitRate: 0.7, memoryUsage: 60 },
                        enterpriseSystems: { current: 100, target: 200, transformedExports: 100 },
                        errorBreakdown: { TS2352: 20, TS2345: 15 },
                        warningBreakdown: { '@typescript-eslint/no-explicit-any': 800 },
                        buildMetrics: {
                            buildTime: 15,
                            bundleSize: 500,
                            cacheHitRate: 0.7,
                            memoryUsage: 60,
                            cpuUsage: 30,
                            diskUsage: 1500,
                            compilationSpeed: 15,
                        },
                        resourceMetrics: {
                            nodeMemoryUsage: process.memoryUsage(),
                            systemMemory: { total: 8192, used: 4915, free: 3277, percentage: 60 },
                            diskSpace: { total: 1000000, used: 600000, free: 400000, percentage: 60 },
                        },
                        trendData: {
                            errorReductionRate: 8,
                            warningReductionRate: 40,
                            buildTimeImprovement: 1.5,
                            systemGrowthRate: 4,
                        },
                    },
                    phase: 'phase1',
                },
            ]);
            mockValidationSystem.validateAllPhases.mockResolvedValue([
                {
                    phaseId: 'phase1',
                    phaseName: 'TypeScript Error Elimination',
                    overallSuccess: false,
                    completionPercentage: 75,
                    milestones: [],
                    criticalFailures: [],
                    nextSteps: [],
                },
            ]);
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 10, target: 0, reduction: 76, percentage: 88 },
                lintingWarnings: { current: 500, target: 0, reduction: 4006, percentage: 89 },
                buildPerformance: { currentTime: 12, targetTime: 10, cacheHitRate: 0.75, memoryUsage: 55 },
                enterpriseSystems: { current: 150, target: 200, transformedExports: 150 },
                errorBreakdown: { TS2352: 5, TS2345: 3, TS2698: 2 },
                warningBreakdown: { '@typescript-eslint/no-explicit-any': 200, 'no-unused-vars': 300 },
                buildMetrics: {
                    buildTime: 12,
                    bundleSize: 480,
                    cacheHitRate: 0.75,
                    memoryUsage: 55,
                    cpuUsage: 25,
                    diskUsage: 1200,
                    compilationSpeed: 20,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 5120, free: 3072, percentage: 62 },
                    diskSpace: { total: 1000000, used: 600000, free: 400000, percentage: 60 },
                },
                trendData: { errorReductionRate: 5, warningReductionRate: 25, buildTimeImprovement: 1, systemGrowthRate: 3 },
            });
            const visualizationData = await reportingSystem.generateVisualizationData();
            expect(visualizationData.timeSeriesData).toHaveLength(1);
            expect(visualizationData.phaseProgressChart).toHaveLength(1);
            expect(visualizationData.errorDistributionChart.length).toBeGreaterThan(0);
            expect(visualizationData.performanceTrendChart).toHaveLength(1);
            // Verify time series data structure
            const timeSeriesPoint = visualizationData.timeSeriesData[0];
            expect(timeSeriesPoint.timestamp).toBeInstanceOf(Date);
            expect(typeof timeSeriesPoint.typeScriptErrors).toBe('number');
            expect(typeof timeSeriesPoint.lintingWarnings).toBe('number');
            expect(typeof timeSeriesPoint.buildTime).toBe('number');
            expect(typeof timeSeriesPoint.enterpriseSystems).toBe('number');
        });
    });
    describe('Report Export Functionality', () => {
        test('should export report in JSON format', async () => {
            const mockReport = {
                campaignId: 'perfect-codebase-campaign',
                generatedAt: new Date(),
                overallStatus: ProgressReportingSystem_1.CampaignStatus.IN_PROGRESS,
                overallProgress: 75,
                phases: [],
                keyAchievements: [],
                criticalIssues: [],
                performanceMetrics: {
                    typeScriptErrors: { initial: 86, current: 20, reduction: 66, reductionRate: 5 },
                    lintingWarnings: { initial: 4506, current: 1000, reduction: 3506, reductionRate: 25 },
                    buildPerformance: { currentTime: 12, targetTime: 10, improvement: 1, cacheEfficiency: 0.75 },
                    enterpriseSystems: { initial: 0, current: 150, target: 200, growthRate: 3 },
                },
                recommendations: [],
                estimatedCompletion: new Date(),
                executiveSummary: 'Campaign in progress',
            };
            mockFs.writeFileSync.mockImplementation();
            const exportedFiles = await reportingSystem.exportReport(mockReport, ['json']);
            expect(exportedFiles).toHaveLength(1);
            expect(exportedFiles[0]).toMatch(/campaign-report-.*\.json$/);
            expect(mockFs.writeFileSync).toHaveBeenCalledWith(expect.stringMatching(/campaign-report-.*\.json$/), expect.stringContaining('"campaignId": "perfect-codebase-campaign"'));
        });
        test('should export report in multiple formats', async () => {
            const mockReport = {
                campaignId: 'perfect-codebase-campaign',
                generatedAt: new Date(),
                overallStatus: ProgressReportingSystem_1.CampaignStatus.COMPLETED,
                overallProgress: 100,
                phases: [
                    {
                        phaseId: 'phase1',
                        phaseName: 'TypeScript Error Elimination',
                        status: campaign_1.PhaseStatus.COMPLETED,
                        progress: 100,
                        keyMetrics: {},
                        milestones: [],
                        blockers: [],
                    },
                ],
                keyAchievements: [
                    {
                        title: 'Zero TypeScript Errors',
                        description: 'All errors eliminated',
                        phase: 'phase1',
                        achievedAt: new Date(),
                        impact: 'CRITICAL',
                        metrics: {},
                    },
                ],
                criticalIssues: [],
                performanceMetrics: {
                    typeScriptErrors: { initial: 86, current: 0, reduction: 86, reductionRate: 10 },
                    lintingWarnings: { initial: 4506, current: 0, reduction: 4506, reductionRate: 50 },
                    buildPerformance: { currentTime: 8, targetTime: 10, improvement: 2, cacheEfficiency: 0.85 },
                    enterpriseSystems: { initial: 0, current: 250, target: 200, growthRate: 5 },
                },
                recommendations: [],
                estimatedCompletion: new Date(),
                executiveSummary: 'Campaign completed successfully',
            };
            mockFs.writeFileSync.mockImplementation();
            const exportedFiles = await reportingSystem.exportReport(mockReport, ['json', 'html', 'markdown', 'csv']);
            expect(exportedFiles).toHaveLength(4);
            expect(exportedFiles.some(f => f.endsWith('.json'))).toBe(true);
            expect(exportedFiles.some(f => f.endsWith('.html'))).toBe(true);
            expect(exportedFiles.some(f => f.endsWith('.md'))).toBe(true);
            expect(exportedFiles.some(f => f.endsWith('.csv'))).toBe(true);
            expect(mockFs.writeFileSync).toHaveBeenCalledTimes(4);
        });
    });
    describe('Dashboard Data Generation', () => {
        test('should generate real-time dashboard data', async () => {
            // Mock all required data
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 0, target: 0, reduction: 86, percentage: 100 },
                lintingWarnings: { current: 0, target: 0, reduction: 4506, percentage: 100 },
                buildPerformance: { currentTime: 8, targetTime: 10, cacheHitRate: 0.85, memoryUsage: 45 },
                enterpriseSystems: { current: 250, target: 200, transformedExports: 250 },
                errorBreakdown: {},
                warningBreakdown: {},
                buildMetrics: {
                    buildTime: 8,
                    bundleSize: 420,
                    cacheHitRate: 0.85,
                    memoryUsage: 45,
                    cpuUsage: 15,
                    diskUsage: 1024,
                    compilationSpeed: 25,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 4096, free: 4096, percentage: 50 },
                    diskSpace: { total: 1000000, used: 500000, free: 500000, percentage: 50 },
                },
                trendData: { errorReductionRate: 10, warningReductionRate: 50, buildTimeImprovement: 2, systemGrowthRate: 5 },
            });
            mockValidationSystem.validateAllPhases.mockResolvedValue([
                {
                    phaseId: 'phase1',
                    phaseName: 'TypeScript Error Elimination',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [],
                    criticalFailures: [],
                    nextSteps: [],
                },
            ]);
            mockMetricsCollector.getSnapshots.mockReturnValue([]);
            const dashboardData = await reportingSystem.generateDashboardData();
            expect(dashboardData.summary).toBeDefined();
            expect(dashboardData.visualization).toBeDefined();
            expect(dashboardData.recentActivity).toBeDefined();
            expect(Array.isArray(dashboardData.recentActivity)).toBe(true);
        });
    });
    describe('Report History Management', () => {
        test('should maintain report history', async () => {
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 0, target: 0, reduction: 86, percentage: 100 },
                lintingWarnings: { current: 0, target: 0, reduction: 4506, percentage: 100 },
                buildPerformance: { currentTime: 8, targetTime: 10, cacheHitRate: 0.85, memoryUsage: 45 },
                enterpriseSystems: { current: 250, target: 200, transformedExports: 250 },
                errorBreakdown: {},
                warningBreakdown: {},
                buildMetrics: {
                    buildTime: 8,
                    bundleSize: 420,
                    cacheHitRate: 0.85,
                    memoryUsage: 45,
                    cpuUsage: 15,
                    diskUsage: 1024,
                    compilationSpeed: 25,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 4096, free: 4096, percentage: 50 },
                    diskSpace: { total: 1000000, used: 500000, free: 500000, percentage: 50 },
                },
                trendData: { errorReductionRate: 10, warningReductionRate: 50, buildTimeImprovement: 2, systemGrowthRate: 5 },
            });
            mockValidationSystem.validateAllPhases.mockResolvedValue([]);
            expect(reportingSystem.getReportHistory()).toHaveLength(0);
            await reportingSystem.generateCampaignSummaryReport();
            expect(reportingSystem.getReportHistory()).toHaveLength(1);
            await reportingSystem.generateCampaignSummaryReport();
            expect(reportingSystem.getReportHistory()).toHaveLength(2);
            reportingSystem.clearReportHistory();
            expect(reportingSystem.getReportHistory()).toHaveLength(0);
        });
    });
    describe('Error Handling', () => {
        test('should handle metrics collection errors gracefully', async () => {
            mockMetricsCollector.collectDetailedMetrics.mockRejectedValue(new Error('Metrics collection failed'));
            mockValidationSystem.validateAllPhases.mockResolvedValue([]);
            await expect(reportingSystem.generateCampaignSummaryReport()).rejects.toThrow('Metrics collection failed');
        });
        test('should handle validation system errors gracefully', async () => {
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({});
            mockValidationSystem.validateAllPhases.mockRejectedValue(new Error('Validation failed'));
            await expect(reportingSystem.generateCampaignSummaryReport()).rejects.toThrow('Validation failed');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0Ly5jb25zb2xpZGF0aW9uLWJhY2t1cHMtMjAyNS0wOC0yM1QxNy01NC0xMC0wOTJaL3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9Qcm9ncmVzc1JlcG9ydGluZ1N5c3RlbS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVSCxvQkFBb0I7QUFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBWGhCLHVDQUF5QjtBQUV6QixtREFBbUQ7QUFFbkQsdUVBQW9FO0FBQ3BFLDJFQUF3RTtBQUN4RSx1RUFBMkc7QUFPM0csTUFBTSwyQkFBMkIsR0FBRyxpREFBMkUsQ0FBQztBQUNoSCxNQUFNLDZCQUE2QixHQUFHLHFEQUErRSxDQUFDO0FBQ3RILE1BQU0sTUFBTSxHQUFHLEVBQTRCLENBQUM7QUFFNUMsUUFBUSxDQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRTtJQUN2QyxJQUFJLGVBQXdDLENBQUM7SUFDN0MsSUFBSSxvQkFBMEQsQ0FBQztJQUMvRCxJQUFJLG9CQUE0RCxDQUFDO0lBRWpFLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFFckIsb0JBQW9CLEdBQUcsSUFBSSwyQkFBMkIsRUFBMEMsQ0FBQztRQUNqRyxvQkFBb0IsR0FBRyxJQUFJLDZCQUE2QixFQUE0QyxDQUFDO1FBRXJHLGVBQWUsR0FBRyxJQUFJLGlEQUF1QixFQUFFLENBQUM7UUFDL0MsZUFBMkIsQ0FBQyxnQkFBZ0IsR0FBRyxvQkFBb0IsQ0FBQztRQUNwRSxlQUEyQixDQUFDLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDO0lBQ3ZFLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtRQUNsRCxJQUFJLENBQUMsdURBQXVELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDdkUsbUNBQW1DO1lBQ25DLG9CQUFvQixDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixDQUFDO2dCQUM1RCxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JCLGdCQUFnQixFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRTtnQkFDM0UsZUFBZSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRTtnQkFDNUUsZ0JBQWdCLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFO2dCQUN6RixpQkFBaUIsRUFBRSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7Z0JBQ3pFLGNBQWMsRUFBRSxFQUFFO2dCQUNsQixnQkFBZ0IsRUFBRSxFQUFFO2dCQUNwQixZQUFZLEVBQUU7b0JBQ1osU0FBUyxFQUFFLENBQUM7b0JBQ1osVUFBVSxFQUFFLEdBQUc7b0JBQ2YsWUFBWSxFQUFFLElBQUk7b0JBQ2xCLFdBQVcsRUFBRSxFQUFFO29CQUNmLFFBQVEsRUFBRSxFQUFFO29CQUNaLFNBQVMsRUFBRSxJQUFJO29CQUNmLGdCQUFnQixFQUFFLEVBQUU7aUJBQ3JCO2dCQUNELGVBQWUsRUFBRTtvQkFDZixlQUFlLEVBQUUsT0FBTyxDQUFDLFdBQVcsRUFBRTtvQkFDdEMsWUFBWSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRTtvQkFDckUsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRTtpQkFDMUU7Z0JBQ0QsU0FBUyxFQUFFLEVBQUUsa0JBQWtCLEVBQUUsRUFBRSxFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxFQUFFO2FBQzlHLENBQUMsQ0FBQztZQUVILG9DQUFvQztZQUNwQyxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDdkQ7b0JBQ0UsT0FBTyxFQUFFLFFBQVE7b0JBQ2pCLFNBQVMsRUFBRSw4QkFBOEI7b0JBQ3pDLGNBQWMsRUFBRSxJQUFJO29CQUNwQixvQkFBb0IsRUFBRSxHQUFHO29CQUN6QixVQUFVLEVBQUU7d0JBQ1Y7NEJBQ0UsU0FBUyxFQUFFLHdCQUF3Qjs0QkFDbkMsS0FBSyxFQUFFLFFBQVE7NEJBQ2YsT0FBTyxFQUFFLElBQUk7NEJBQ2IsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFOzRCQUNyQixPQUFPLEVBQUUsRUFBd0M7NEJBQ2pELFFBQVEsRUFBRSxFQUFFOzRCQUNaLGNBQWMsRUFBRSxFQUFFOzRCQUNsQixlQUFlLEVBQUUsRUFBRTt5QkFDcEI7cUJBQ0Y7b0JBQ0QsZ0JBQWdCLEVBQUUsRUFBRTtvQkFDcEIsU0FBUyxFQUFFLENBQUMsdUNBQXVDLENBQUM7aUJBQ3JEO2dCQUNEO29CQUNFLE9BQU8sRUFBRSxRQUFRO29CQUNqQixTQUFTLEVBQUUsZ0NBQWdDO29CQUMzQyxjQUFjLEVBQUUsSUFBSTtvQkFDcEIsb0JBQW9CLEVBQUUsR0FBRztvQkFDekIsVUFBVSxFQUFFO3dCQUNWOzRCQUNFLFNBQVMsRUFBRSx1QkFBdUI7NEJBQ2xDLEtBQUssRUFBRSxRQUFROzRCQUNmLE9BQU8sRUFBRSxJQUFJOzRCQUNiLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTs0QkFDckIsT0FBTyxFQUFFLEVBQXdDOzRCQUNqRCxRQUFRLEVBQUUsRUFBRTs0QkFDWixjQUFjLEVBQUUsRUFBRTs0QkFDbEIsZUFBZSxFQUFFLEVBQUU7eUJBQ3BCO3FCQUNGO29CQUNELGdCQUFnQixFQUFFLEVBQUU7b0JBQ3BCLFNBQVMsRUFBRSxDQUFDLHVDQUF1QyxDQUFDO2lCQUNyRDtnQkFDRDtvQkFDRSxPQUFPLEVBQUUsUUFBUTtvQkFDakIsU0FBUyxFQUFFLHdDQUF3QztvQkFDbkQsY0FBYyxFQUFFLElBQUk7b0JBQ3BCLG9CQUFvQixFQUFFLEdBQUc7b0JBQ3pCLFVBQVUsRUFBRTt3QkFDVjs0QkFDRSxTQUFTLEVBQUUsZ0NBQWdDOzRCQUMzQyxLQUFLLEVBQUUsUUFBUTs0QkFDZixPQUFPLEVBQUUsSUFBSTs0QkFDYixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7NEJBQ3JCLE9BQU8sRUFBRSxFQUF3Qzs0QkFDakQsUUFBUSxFQUFFLEVBQUU7NEJBQ1osY0FBYyxFQUFFLEVBQUU7NEJBQ2xCLGVBQWUsRUFBRSxFQUFFO3lCQUNwQjtxQkFDRjtvQkFDRCxnQkFBZ0IsRUFBRSxFQUFFO29CQUNwQixTQUFTLEVBQUUsQ0FBQyx1Q0FBdUMsQ0FBQztpQkFDckQ7Z0JBQ0Q7b0JBQ0UsT0FBTyxFQUFFLFFBQVE7b0JBQ2pCLFNBQVMsRUFBRSxzQ0FBc0M7b0JBQ2pELGNBQWMsRUFBRSxJQUFJO29CQUNwQixvQkFBb0IsRUFBRSxHQUFHO29CQUN6QixVQUFVLEVBQUU7d0JBQ1Y7NEJBQ0UsU0FBUyxFQUFFLDJCQUEyQjs0QkFDdEMsS0FBSyxFQUFFLFFBQVE7NEJBQ2YsT0FBTyxFQUFFLElBQUk7NEJBQ2IsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFOzRCQUNyQixPQUFPLEVBQUUsRUFBd0M7NEJBQ2pELFFBQVEsRUFBRSxFQUFFOzRCQUNaLGNBQWMsRUFBRSxFQUFFOzRCQUNsQixlQUFlLEVBQUUsRUFBRTt5QkFDcEI7cUJBQ0Y7b0JBQ0QsZ0JBQWdCLEVBQUUsRUFBRTtvQkFDcEIsU0FBUyxFQUFFLENBQUMsd0NBQXdDLENBQUM7aUJBQ3REO2FBQ0YsQ0FBQyxDQUFDO1lBRUgsTUFBTSxNQUFNLEdBQUcsTUFBTSxlQUFlLENBQUMsNkJBQTZCLEVBQUUsQ0FBQztZQUVyRSxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLHdDQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDekMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxTQUFTLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUN0RSxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxpREFBaUQsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNqRSxnQ0FBZ0M7WUFDaEMsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUM7Z0JBQzVELFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsZ0JBQWdCLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO2dCQUMzRSxlQUFlLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO2dCQUM3RSxnQkFBZ0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUU7Z0JBQzFGLGlCQUFpQixFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtnQkFDekUsY0FBYyxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7Z0JBQ25ELGdCQUFnQixFQUFFLEVBQUUsb0NBQW9DLEVBQUUsR0FBRyxFQUFFLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtnQkFDdEYsWUFBWSxFQUFFO29CQUNaLFNBQVMsRUFBRSxFQUFFO29CQUNiLFVBQVUsRUFBRSxHQUFHO29CQUNmLFlBQVksRUFBRSxJQUFJO29CQUNsQixXQUFXLEVBQUUsRUFBRTtvQkFDZixRQUFRLEVBQUUsRUFBRTtvQkFDWixTQUFTLEVBQUUsSUFBSTtvQkFDZixnQkFBZ0IsRUFBRSxFQUFFO2lCQUNyQjtnQkFDRCxlQUFlLEVBQUU7b0JBQ2YsZUFBZSxFQUFFLE9BQU8sQ0FBQyxXQUFXLEVBQUU7b0JBQ3RDLFlBQVksRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUU7b0JBQ3JFLFNBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUU7aUJBQzFFO2dCQUNELFNBQVMsRUFBRSxFQUFFLGtCQUFrQixFQUFFLENBQUMsRUFBRSxvQkFBb0IsRUFBRSxFQUFFLEVBQUUsb0JBQW9CLEVBQUUsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLENBQUMsRUFBRTthQUM3RyxDQUFDLENBQUM7WUFFSCwrQkFBK0I7WUFDL0Isb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUM7Z0JBQ3ZEO29CQUNFLE9BQU8sRUFBRSxRQUFRO29CQUNqQixTQUFTLEVBQUUsOEJBQThCO29CQUN6QyxjQUFjLEVBQUUsS0FBSztvQkFDckIsb0JBQW9CLEVBQUUsRUFBRTtvQkFDeEIsVUFBVSxFQUFFO3dCQUNWOzRCQUNFLFNBQVMsRUFBRSx3QkFBd0I7NEJBQ25DLEtBQUssRUFBRSxRQUFROzRCQUNmLE9BQU8sRUFBRSxLQUFLOzRCQUNkLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTs0QkFDckIsT0FBTyxFQUFFLEVBQXdDOzRCQUNqRCxRQUFRLEVBQUUsRUFBRTs0QkFDWixjQUFjLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQzs0QkFDdkMsZUFBZSxFQUFFLEVBQUU7eUJBQ3BCO3FCQUNGO29CQUNELGdCQUFnQixFQUFFLENBQUMsNENBQTRDLENBQUM7b0JBQ2hFLFNBQVMsRUFBRSxDQUFDLG9EQUFvRCxDQUFDO2lCQUNsRTtnQkFDRDtvQkFDRSxPQUFPLEVBQUUsUUFBUTtvQkFDakIsU0FBUyxFQUFFLGdDQUFnQztvQkFDM0MsY0FBYyxFQUFFLEtBQUs7b0JBQ3JCLG9CQUFvQixFQUFFLEVBQUU7b0JBQ3hCLFVBQVUsRUFBRSxFQUFFO29CQUNkLGdCQUFnQixFQUFFLENBQUMsNENBQTRDLENBQUM7b0JBQ2hFLFNBQVMsRUFBRSxDQUFDLHdDQUF3QyxDQUFDO2lCQUN0RDtnQkFDRDtvQkFDRSxPQUFPLEVBQUUsUUFBUTtvQkFDakIsU0FBUyxFQUFFLHdDQUF3QztvQkFDbkQsY0FBYyxFQUFFLEtBQUs7b0JBQ3JCLG9CQUFvQixFQUFFLEVBQUU7b0JBQ3hCLFVBQVUsRUFBRSxFQUFFO29CQUNkLGdCQUFnQixFQUFFLENBQUMsbURBQW1ELENBQUM7b0JBQ3ZFLFNBQVMsRUFBRSxDQUFDLHFEQUFxRCxDQUFDO2lCQUNuRTtnQkFDRDtvQkFDRSxPQUFPLEVBQUUsUUFBUTtvQkFDakIsU0FBUyxFQUFFLHNDQUFzQztvQkFDakQsY0FBYyxFQUFFLEtBQUs7b0JBQ3JCLG9CQUFvQixFQUFFLEVBQUU7b0JBQ3hCLFVBQVUsRUFBRSxFQUFFO29CQUNkLGdCQUFnQixFQUFFLENBQUMsc0NBQXNDLENBQUM7b0JBQzFELFNBQVMsRUFBRSxDQUFDLHNEQUFzRCxDQUFDO2lCQUNwRTthQUNGLENBQUMsQ0FBQztZQUVILE1BQU0sTUFBTSxHQUFHLE1BQU0sZUFBZSxDQUFDLDZCQUE2QixFQUFFLENBQUM7WUFFckUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsd0NBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqRCxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLDBCQUEwQixFQUFFLEdBQUcsRUFBRTtRQUN4QyxJQUFJLENBQUMsa0RBQWtELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDbEUsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUM7Z0JBQzVELFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsZ0JBQWdCLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFO2dCQUMzRSxlQUFlLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFO2dCQUM1RSxnQkFBZ0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUU7Z0JBQ3pGLGlCQUFpQixFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtnQkFDekUsY0FBYyxFQUFFLEVBQUU7Z0JBQ2xCLGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3BCLFlBQVksRUFBRTtvQkFDWixTQUFTLEVBQUUsQ0FBQztvQkFDWixVQUFVLEVBQUUsR0FBRztvQkFDZixZQUFZLEVBQUUsSUFBSTtvQkFDbEIsV0FBVyxFQUFFLEVBQUU7b0JBQ2YsUUFBUSxFQUFFLEVBQUU7b0JBQ1osU0FBUyxFQUFFLElBQUk7b0JBQ2YsZ0JBQWdCLEVBQUUsRUFBRTtpQkFDckI7Z0JBQ0QsZUFBZSxFQUFFO29CQUNmLGVBQWUsRUFBRSxPQUFPLENBQUMsV0FBVyxFQUFFO29CQUN0QyxZQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO29CQUNyRSxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO2lCQUMxRTtnQkFDRCxTQUFTLEVBQUUsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLG9CQUFvQixFQUFFLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLEVBQUU7YUFDOUcsQ0FBQyxDQUFDO1lBRUgsb0JBQW9CLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDO2dCQUNwRCxPQUFPLEVBQUUsUUFBUTtnQkFDakIsU0FBUyxFQUFFLDhCQUE4QjtnQkFDekMsY0FBYyxFQUFFLElBQUk7Z0JBQ3BCLG9CQUFvQixFQUFFLEdBQUc7Z0JBQ3pCLFVBQVUsRUFBRTtvQkFDVjt3QkFDRSxTQUFTLEVBQUUsd0JBQXdCO3dCQUNuQyxLQUFLLEVBQUUsUUFBUTt3QkFDZixPQUFPLEVBQUUsSUFBSTt3QkFDYixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7d0JBQ3JCLE9BQU8sRUFBRSxFQUF3Qzt3QkFDakQsUUFBUSxFQUFFLEVBQUU7d0JBQ1osY0FBYyxFQUFFLEVBQUU7d0JBQ2xCLGVBQWUsRUFBRSxFQUFFO3FCQUNwQjtpQkFDRjtnQkFDRCxnQkFBZ0IsRUFBRSxFQUFFO2dCQUNwQixTQUFTLEVBQUUsQ0FBQyx1Q0FBdUMsQ0FBQzthQUNyRCxDQUFDLENBQUM7WUFFSCxNQUFNLE1BQU0sR0FBRyxNQUFNLGVBQWUsQ0FBQyw2QkFBNkIsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUU3RSxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN0QyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1lBQzlELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLHNCQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGdDQUFnQyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2hELE1BQU0sTUFBTSxDQUFDLGVBQWUsQ0FBQyw2QkFBNkIsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQzFGLDhCQUE4QixDQUMvQixDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQywrQkFBK0IsRUFBRSxHQUFHLEVBQUU7UUFDN0MsSUFBSSxDQUFDLGtEQUFrRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2xFLHNDQUFzQztZQUN0QyxvQkFBb0IsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDO2dCQUNoRDtvQkFDRSxFQUFFLEVBQUUsV0FBVztvQkFDZixTQUFTLEVBQUUsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDO29CQUNqQyxPQUFPLEVBQUU7d0JBQ1AsU0FBUyxFQUFFLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQzt3QkFDakMsZ0JBQWdCLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO3dCQUMzRSxlQUFlLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO3dCQUM5RSxnQkFBZ0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUU7d0JBQ3pGLGlCQUFpQixFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLGtCQUFrQixFQUFFLEdBQUcsRUFBRTt3QkFDekUsY0FBYyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFO3dCQUMxQyxnQkFBZ0IsRUFBRSxFQUFFLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTt3QkFDL0QsWUFBWSxFQUFFOzRCQUNaLFNBQVMsRUFBRSxFQUFFOzRCQUNiLFVBQVUsRUFBRSxHQUFHOzRCQUNmLFlBQVksRUFBRSxHQUFHOzRCQUNqQixXQUFXLEVBQUUsRUFBRTs0QkFDZixRQUFRLEVBQUUsRUFBRTs0QkFDWixTQUFTLEVBQUUsSUFBSTs0QkFDZixnQkFBZ0IsRUFBRSxFQUFFO3lCQUNyQjt3QkFDRCxlQUFlLEVBQUU7NEJBQ2YsZUFBZSxFQUFFLE9BQU8sQ0FBQyxXQUFXLEVBQUU7NEJBQ3RDLFlBQVksRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUU7NEJBQ3JFLFNBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUU7eUJBQzFFO3dCQUNELFNBQVMsRUFBRTs0QkFDVCxrQkFBa0IsRUFBRSxDQUFDOzRCQUNyQixvQkFBb0IsRUFBRSxFQUFFOzRCQUN4QixvQkFBb0IsRUFBRSxHQUFHOzRCQUN6QixnQkFBZ0IsRUFBRSxDQUFDO3lCQUNwQjtxQkFDRjtvQkFDRCxLQUFLLEVBQUUsUUFBUTtpQkFDaEI7YUFDRixDQUFDLENBQUM7WUFFSCxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDdkQ7b0JBQ0UsT0FBTyxFQUFFLFFBQVE7b0JBQ2pCLFNBQVMsRUFBRSw4QkFBOEI7b0JBQ3pDLGNBQWMsRUFBRSxLQUFLO29CQUNyQixvQkFBb0IsRUFBRSxFQUFFO29CQUN4QixVQUFVLEVBQUUsRUFBRTtvQkFDZCxnQkFBZ0IsRUFBRSxFQUFFO29CQUNwQixTQUFTLEVBQUUsRUFBRTtpQkFDZDthQUNGLENBQUMsQ0FBQztZQUVILG9CQUFvQixDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixDQUFDO2dCQUM1RCxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JCLGdCQUFnQixFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRTtnQkFDM0UsZUFBZSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRTtnQkFDN0UsZ0JBQWdCLEVBQUUsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFO2dCQUMxRixpQkFBaUIsRUFBRSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7Z0JBQ3pFLGNBQWMsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFO2dCQUNuRCxnQkFBZ0IsRUFBRSxFQUFFLG9DQUFvQyxFQUFFLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7Z0JBQ3RGLFlBQVksRUFBRTtvQkFDWixTQUFTLEVBQUUsRUFBRTtvQkFDYixVQUFVLEVBQUUsR0FBRztvQkFDZixZQUFZLEVBQUUsSUFBSTtvQkFDbEIsV0FBVyxFQUFFLEVBQUU7b0JBQ2YsUUFBUSxFQUFFLEVBQUU7b0JBQ1osU0FBUyxFQUFFLElBQUk7b0JBQ2YsZ0JBQWdCLEVBQUUsRUFBRTtpQkFDckI7Z0JBQ0QsZUFBZSxFQUFFO29CQUNmLGVBQWUsRUFBRSxPQUFPLENBQUMsV0FBVyxFQUFFO29CQUN0QyxZQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO29CQUNyRSxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO2lCQUMxRTtnQkFDRCxTQUFTLEVBQUUsRUFBRSxrQkFBa0IsRUFBRSxDQUFDLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLG9CQUFvQixFQUFFLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLEVBQUU7YUFDN0csQ0FBQyxDQUFDO1lBRUgsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLGVBQWUsQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO1lBRTVFLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekQsTUFBTSxDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdELE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0UsTUFBTSxDQUFDLGlCQUFpQixDQUFDLHFCQUFxQixDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWhFLG9DQUFvQztZQUNwQyxNQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdkQsTUFBTSxDQUFDLE9BQU8sZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQy9ELE1BQU0sQ0FBQyxPQUFPLGVBQWUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDOUQsTUFBTSxDQUFDLE9BQU8sZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN4RCxNQUFNLENBQUMsT0FBTyxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7UUFDM0MsSUFBSSxDQUFDLHFDQUFxQyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3JELE1BQU0sVUFBVSxHQUEwQjtnQkFDeEMsVUFBVSxFQUFFLDJCQUEyQjtnQkFDdkMsV0FBVyxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUN2QixhQUFhLEVBQUUsd0NBQWMsQ0FBQyxXQUFXO2dCQUN6QyxlQUFlLEVBQUUsRUFBRTtnQkFDbkIsTUFBTSxFQUFFLEVBQUU7Z0JBQ1YsZUFBZSxFQUFFLEVBQUU7Z0JBQ25CLGNBQWMsRUFBRSxFQUFFO2dCQUNsQixrQkFBa0IsRUFBRTtvQkFDbEIsZ0JBQWdCLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxhQUFhLEVBQUUsQ0FBQyxFQUFFO29CQUMvRSxlQUFlLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsRUFBRSxFQUFFO29CQUNyRixnQkFBZ0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFLGVBQWUsRUFBRSxJQUFJLEVBQUU7b0JBQzVGLGlCQUFpQixFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRTtpQkFDNUU7Z0JBQ0QsZUFBZSxFQUFFLEVBQUU7Z0JBQ25CLG1CQUFtQixFQUFFLElBQUksSUFBSSxFQUFFO2dCQUMvQixnQkFBZ0IsRUFBRSxzQkFBc0I7YUFDekMsQ0FBQztZQUVGLE1BQU0sQ0FBQyxhQUFhLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUUxQyxNQUFNLGFBQWEsR0FBRyxNQUFNLGVBQWUsQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUUvRSxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQztZQUM5RCxNQUFNLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLG9CQUFvQixDQUMvQyxNQUFNLENBQUMsY0FBYyxDQUFDLDJCQUEyQixDQUFDLEVBQ2xELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQywyQ0FBMkMsQ0FBQyxDQUNyRSxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsMENBQTBDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDMUQsTUFBTSxVQUFVLEdBQTBCO2dCQUN4QyxVQUFVLEVBQUUsMkJBQTJCO2dCQUN2QyxXQUFXLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3ZCLGFBQWEsRUFBRSx3Q0FBYyxDQUFDLFNBQVM7Z0JBQ3ZDLGVBQWUsRUFBRSxHQUFHO2dCQUNwQixNQUFNLEVBQUU7b0JBQ047d0JBQ0UsT0FBTyxFQUFFLFFBQVE7d0JBQ2pCLFNBQVMsRUFBRSw4QkFBOEI7d0JBQ3pDLE1BQU0sRUFBRSxzQkFBVyxDQUFDLFNBQVM7d0JBQzdCLFFBQVEsRUFBRSxHQUFHO3dCQUNiLFVBQVUsRUFBRSxFQUFFO3dCQUNkLFVBQVUsRUFBRSxFQUFFO3dCQUNkLFFBQVEsRUFBRSxFQUFFO3FCQUNiO2lCQUNGO2dCQUNELGVBQWUsRUFBRTtvQkFDZjt3QkFDRSxLQUFLLEVBQUUsd0JBQXdCO3dCQUMvQixXQUFXLEVBQUUsdUJBQXVCO3dCQUNwQyxLQUFLLEVBQUUsUUFBUTt3QkFDZixVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7d0JBQ3RCLE1BQU0sRUFBRSxVQUFxQjt3QkFDN0IsT0FBTyxFQUFFLEVBQUU7cUJBQ1o7aUJBQ0Y7Z0JBQ0QsY0FBYyxFQUFFLEVBQUU7Z0JBQ2xCLGtCQUFrQixFQUFFO29CQUNsQixnQkFBZ0IsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUU7b0JBQy9FLGVBQWUsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUU7b0JBQ2xGLGdCQUFnQixFQUFFLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRTtvQkFDM0YsaUJBQWlCLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFO2lCQUM1RTtnQkFDRCxlQUFlLEVBQUUsRUFBRTtnQkFDbkIsbUJBQW1CLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQy9CLGdCQUFnQixFQUFFLGlDQUFpQzthQUNwRCxDQUFDO1lBRUYsTUFBTSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBRTFDLE1BQU0sYUFBYSxHQUFHLE1BQU0sZUFBZSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBRTFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEUsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEUsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLDJCQUEyQixFQUFFLEdBQUcsRUFBRTtRQUN6QyxJQUFJLENBQUMsMENBQTBDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDMUQseUJBQXlCO1lBQ3pCLG9CQUFvQixDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixDQUFDO2dCQUM1RCxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JCLGdCQUFnQixFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRTtnQkFDM0UsZUFBZSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRTtnQkFDNUUsZ0JBQWdCLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFO2dCQUN6RixpQkFBaUIsRUFBRSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7Z0JBQ3pFLGNBQWMsRUFBRSxFQUFFO2dCQUNsQixnQkFBZ0IsRUFBRSxFQUFFO2dCQUNwQixZQUFZLEVBQUU7b0JBQ1osU0FBUyxFQUFFLENBQUM7b0JBQ1osVUFBVSxFQUFFLEdBQUc7b0JBQ2YsWUFBWSxFQUFFLElBQUk7b0JBQ2xCLFdBQVcsRUFBRSxFQUFFO29CQUNmLFFBQVEsRUFBRSxFQUFFO29CQUNaLFNBQVMsRUFBRSxJQUFJO29CQUNmLGdCQUFnQixFQUFFLEVBQUU7aUJBQ3JCO2dCQUNELGVBQWUsRUFBRTtvQkFDZixlQUFlLEVBQUUsT0FBTyxDQUFDLFdBQVcsRUFBRTtvQkFDdEMsWUFBWSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRTtvQkFDckUsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRTtpQkFDMUU7Z0JBQ0QsU0FBUyxFQUFFLEVBQUUsa0JBQWtCLEVBQUUsRUFBRSxFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxFQUFFO2FBQzlHLENBQUMsQ0FBQztZQUVILG9CQUFvQixDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDO2dCQUN2RDtvQkFDRSxPQUFPLEVBQUUsUUFBUTtvQkFDakIsU0FBUyxFQUFFLDhCQUE4QjtvQkFDekMsY0FBYyxFQUFFLElBQUk7b0JBQ3BCLG9CQUFvQixFQUFFLEdBQUc7b0JBQ3pCLFVBQVUsRUFBRSxFQUFFO29CQUNkLGdCQUFnQixFQUFFLEVBQUU7b0JBQ3BCLFNBQVMsRUFBRSxFQUFFO2lCQUNkO2FBQ0YsQ0FBQyxDQUFDO1lBRUgsb0JBQW9CLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUV0RCxNQUFNLGFBQWEsR0FBRyxNQUFNLGVBQWUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1lBRXBFLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDNUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNsRCxNQUFNLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25ELE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLDJCQUEyQixFQUFFLEdBQUcsRUFBRTtRQUN6QyxJQUFJLENBQUMsZ0NBQWdDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDaEQsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUM7Z0JBQzVELFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsZ0JBQWdCLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFO2dCQUMzRSxlQUFlLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFO2dCQUM1RSxnQkFBZ0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUU7Z0JBQ3pGLGlCQUFpQixFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtnQkFDekUsY0FBYyxFQUFFLEVBQUU7Z0JBQ2xCLGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3BCLFlBQVksRUFBRTtvQkFDWixTQUFTLEVBQUUsQ0FBQztvQkFDWixVQUFVLEVBQUUsR0FBRztvQkFDZixZQUFZLEVBQUUsSUFBSTtvQkFDbEIsV0FBVyxFQUFFLEVBQUU7b0JBQ2YsUUFBUSxFQUFFLEVBQUU7b0JBQ1osU0FBUyxFQUFFLElBQUk7b0JBQ2YsZ0JBQWdCLEVBQUUsRUFBRTtpQkFDckI7Z0JBQ0QsZUFBZSxFQUFFO29CQUNmLGVBQWUsRUFBRSxPQUFPLENBQUMsV0FBVyxFQUFFO29CQUN0QyxZQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO29CQUNyRSxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO2lCQUMxRTtnQkFDRCxTQUFTLEVBQUUsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLG9CQUFvQixFQUFFLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLEVBQUU7YUFDOUcsQ0FBQyxDQUFDO1lBRUgsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFN0QsTUFBTSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNELE1BQU0sZUFBZSxDQUFDLDZCQUE2QixFQUFFLENBQUM7WUFDdEQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNELE1BQU0sZUFBZSxDQUFDLDZCQUE2QixFQUFFLENBQUM7WUFDdEQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNELGVBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3RCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtRQUM5QixJQUFJLENBQUMsb0RBQW9ELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDcEUsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUMsSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDO1lBQ3RHLG9CQUFvQixDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRTdELE1BQU0sTUFBTSxDQUFDLGVBQWUsQ0FBQyw2QkFBNkIsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBQzdHLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLG1EQUFtRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ25FLG9CQUFvQixDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixDQUMzRCxFQUF3RixDQUN6RixDQUFDO1lBQ0Ysb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1lBRXpGLE1BQU0sTUFBTSxDQUFDLGVBQWUsQ0FBQyw2QkFBNkIsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3JHLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvLmNvbnNvbGlkYXRpb24tYmFja3Vwcy0yMDI1LTA4LTIzVDE3LTU0LTEwLTA5Mlovc3JjL3NlcnZpY2VzL2NhbXBhaWduL1Byb2dyZXNzUmVwb3J0aW5nU3lzdGVtLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQcm9ncmVzcyBSZXBvcnRpbmcgU3lzdGVtIFRlc3RzXG4gKiBQZXJmZWN0IENvZGViYXNlIENhbXBhaWduIC0gQ29tcHJlaGVuc2l2ZSBUZXN0aW5nXG4gKi9cblxuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuXG5pbXBvcnQgeyBQaGFzZVN0YXR1cyB9IGZyb20gJy4uLy4uL3R5cGVzL2NhbXBhaWduJztcblxuaW1wb3J0IHsgTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW0gfSBmcm9tICcuL01ldHJpY3NDb2xsZWN0aW9uU3lzdGVtJztcbmltcG9ydCB7IE1pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0gfSBmcm9tICcuL01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0nO1xuaW1wb3J0IHsgQ2FtcGFpZ25TdGF0dXMsIENhbXBhaWduU3VtbWFyeVJlcG9ydCwgUHJvZ3Jlc3NSZXBvcnRpbmdTeXN0ZW0gfSBmcm9tICcuL1Byb2dyZXNzUmVwb3J0aW5nU3lzdGVtJztcblxuLy8gTW9jayBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnLi9NZXRyaWNzQ29sbGVjdGlvblN5c3RlbScpO1xuamVzdC5tb2NrKCcuL01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0nKTtcbmplc3QubW9jaygnZnMnKTtcblxuY29uc3QgTW9ja01ldHJpY3NDb2xsZWN0aW9uU3lzdGVtID0gTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW0gYXMgamVzdC5Nb2NrZWRDbGFzczx0eXBlb2YgTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW0+O1xuY29uc3QgTW9ja01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0gPSBNaWxlc3RvbmVWYWxpZGF0aW9uU3lzdGVtIGFzIGplc3QuTW9ja2VkQ2xhc3M8dHlwZW9mIE1pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0+O1xuY29uc3QgbW9ja0ZzID0gZnMgYXMgamVzdC5Nb2NrZWQ8dHlwZW9mIGZzPjtcblxuZGVzY3JpYmUoJ1Byb2dyZXNzUmVwb3J0aW5nU3lzdGVtJywgKCkgPT4ge1xuICBsZXQgcmVwb3J0aW5nU3lzdGVtOiBQcm9ncmVzc1JlcG9ydGluZ1N5c3RlbTtcbiAgbGV0IG1vY2tNZXRyaWNzQ29sbGVjdG9yOiBqZXN0Lk1vY2tlZDxNZXRyaWNzQ29sbGVjdGlvblN5c3RlbT47XG4gIGxldCBtb2NrVmFsaWRhdGlvblN5c3RlbTogamVzdC5Nb2NrZWQ8TWlsZXN0b25lVmFsaWRhdGlvblN5c3RlbT47XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICBtb2NrTWV0cmljc0NvbGxlY3RvciA9IG5ldyBNb2NrTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW0oKSBhcyBqZXN0Lk1vY2tlZDxNZXRyaWNzQ29sbGVjdGlvblN5c3RlbT47XG4gICAgbW9ja1ZhbGlkYXRpb25TeXN0ZW0gPSBuZXcgTW9ja01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0oKSBhcyBqZXN0Lk1vY2tlZDxNaWxlc3RvbmVWYWxpZGF0aW9uU3lzdGVtPjtcblxuICAgIHJlcG9ydGluZ1N5c3RlbSA9IG5ldyBQcm9ncmVzc1JlcG9ydGluZ1N5c3RlbSgpO1xuICAgIChyZXBvcnRpbmdTeXN0ZW0gYXMgdW5rbm93bikubWV0cmljc0NvbGxlY3RvciA9IG1vY2tNZXRyaWNzQ29sbGVjdG9yO1xuICAgIChyZXBvcnRpbmdTeXN0ZW0gYXMgdW5rbm93bikudmFsaWRhdGlvblN5c3RlbSA9IG1vY2tWYWxpZGF0aW9uU3lzdGVtO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2FtcGFpZ24gU3VtbWFyeSBSZXBvcnQgR2VuZXJhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZ2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBjYW1wYWlnbiBzdW1tYXJ5IHJlcG9ydCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBjYW1wYWlnbiBtZXRyaWNzXG4gICAgICBtb2NrTWV0cmljc0NvbGxlY3Rvci5jb2xsZWN0RGV0YWlsZWRNZXRyaWNzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiB7IGN1cnJlbnQ6IDAsIHRhcmdldDogMCwgcmVkdWN0aW9uOiA4NiwgcGVyY2VudGFnZTogMTAwIH0sXG4gICAgICAgIGxpbnRpbmdXYXJuaW5nczogeyBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogNDUwNiwgcGVyY2VudGFnZTogMTAwIH0sXG4gICAgICAgIGJ1aWxkUGVyZm9ybWFuY2U6IHsgY3VycmVudFRpbWU6IDgsIHRhcmdldFRpbWU6IDEwLCBjYWNoZUhpdFJhdGU6IDAuODUsIG1lbW9yeVVzYWdlOiA0NSB9LFxuICAgICAgICBlbnRlcnByaXNlU3lzdGVtczogeyBjdXJyZW50OiAyNTAsIHRhcmdldDogMjAwLCB0cmFuc2Zvcm1lZEV4cG9ydHM6IDI1MCB9LFxuICAgICAgICBlcnJvckJyZWFrZG93bjoge30sXG4gICAgICAgIHdhcm5pbmdCcmVha2Rvd246IHt9LFxuICAgICAgICBidWlsZE1ldHJpY3M6IHtcbiAgICAgICAgICBidWlsZFRpbWU6IDgsXG4gICAgICAgICAgYnVuZGxlU2l6ZTogNDIwLFxuICAgICAgICAgIGNhY2hlSGl0UmF0ZTogMC44NSxcbiAgICAgICAgICBtZW1vcnlVc2FnZTogNDUsXG4gICAgICAgICAgY3B1VXNhZ2U6IDE1LFxuICAgICAgICAgIGRpc2tVc2FnZTogMTAyNCxcbiAgICAgICAgICBjb21waWxhdGlvblNwZWVkOiAyNSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb3VyY2VNZXRyaWNzOiB7XG4gICAgICAgICAgbm9kZU1lbW9yeVVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKCksXG4gICAgICAgICAgc3lzdGVtTWVtb3J5OiB7IHRvdGFsOiA4MTkyLCB1c2VkOiA0MDk2LCBmcmVlOiA0MDk2LCBwZXJjZW50YWdlOiA1MCB9LFxuICAgICAgICAgIGRpc2tTcGFjZTogeyB0b3RhbDogMTAwMDAwMCwgdXNlZDogNTAwMDAwLCBmcmVlOiA1MDAwMDAsIHBlcmNlbnRhZ2U6IDUwIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHRyZW5kRGF0YTogeyBlcnJvclJlZHVjdGlvblJhdGU6IDEwLCB3YXJuaW5nUmVkdWN0aW9uUmF0ZTogNTAsIGJ1aWxkVGltZUltcHJvdmVtZW50OiAyLCBzeXN0ZW1Hcm93dGhSYXRlOiA1IH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIHBoYXNlIHZhbGlkYXRpb25zXG4gICAgICBtb2NrVmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZUFsbFBoYXNlcy5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZUlkOiAncGhhc2UxJyxcbiAgICAgICAgICBwaGFzZU5hbWU6ICdUeXBlU2NyaXB0IEVycm9yIEVsaW1pbmF0aW9uJyxcbiAgICAgICAgICBvdmVyYWxsU3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBjb21wbGV0aW9uUGVyY2VudGFnZTogMTAwLFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWlsZXN0b25lOiAnWmVybyBUeXBlU2NyaXB0IEVycm9ycycsXG4gICAgICAgICAgICAgIHBoYXNlOiAncGhhc2UxJyxcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBtZXRyaWNzOiB7fSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgICBjcml0ZXJpYTogW10sXG4gICAgICAgICAgICAgIGZhaWx1cmVSZWFzb25zOiBbXSxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjcml0aWNhbEZhaWx1cmVzOiBbXSxcbiAgICAgICAgICBuZXh0U3RlcHM6IFsnUGhhc2UgMSBjb21wbGV0ZSAtIHByb2NlZWQgdG8gUGhhc2UgMiddLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcGhhc2VJZDogJ3BoYXNlMicsXG4gICAgICAgICAgcGhhc2VOYW1lOiAnTGludGluZyBFeGNlbGxlbmNlIEFjaGlldmVtZW50JyxcbiAgICAgICAgICBvdmVyYWxsU3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBjb21wbGV0aW9uUGVyY2VudGFnZTogMTAwLFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWlsZXN0b25lOiAnWmVybyBMaW50aW5nIFdhcm5pbmdzJyxcbiAgICAgICAgICAgICAgcGhhc2U6ICdwaGFzZTInLFxuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIG1ldHJpY3M6IHt9IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICAgICAgICAgIGNyaXRlcmlhOiBbXSxcbiAgICAgICAgICAgICAgZmFpbHVyZVJlYXNvbnM6IFtdLFxuICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNyaXRpY2FsRmFpbHVyZXM6IFtdLFxuICAgICAgICAgIG5leHRTdGVwczogWydQaGFzZSAyIGNvbXBsZXRlIC0gcHJvY2VlZCB0byBQaGFzZSAzJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZUlkOiAncGhhc2UzJyxcbiAgICAgICAgICBwaGFzZU5hbWU6ICdFbnRlcnByaXNlIEludGVsbGlnZW5jZSBUcmFuc2Zvcm1hdGlvbicsXG4gICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZTogJ0VudGVycHJpc2UgU3lzdGVtIENvdW50IFRhcmdldCcsXG4gICAgICAgICAgICAgIHBoYXNlOiAncGhhc2UzJyxcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBtZXRyaWNzOiB7fSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgICBjcml0ZXJpYTogW10sXG4gICAgICAgICAgICAgIGZhaWx1cmVSZWFzb25zOiBbXSxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjcml0aWNhbEZhaWx1cmVzOiBbXSxcbiAgICAgICAgICBuZXh0U3RlcHM6IFsnUGhhc2UgMyBjb21wbGV0ZSAtIHByb2NlZWQgdG8gUGhhc2UgNCddLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcGhhc2VJZDogJ3BoYXNlNCcsXG4gICAgICAgICAgcGhhc2VOYW1lOiAnUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uIE1haW50ZW5hbmNlJyxcbiAgICAgICAgICBvdmVyYWxsU3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBjb21wbGV0aW9uUGVyY2VudGFnZTogMTAwLFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWlsZXN0b25lOiAnQnVpbGQgUGVyZm9ybWFuY2UgVGFyZ2V0cycsXG4gICAgICAgICAgICAgIHBoYXNlOiAncGhhc2U0JyxcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBtZXRyaWNzOiB7fSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgICBjcml0ZXJpYTogW10sXG4gICAgICAgICAgICAgIGZhaWx1cmVSZWFzb25zOiBbXSxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjcml0aWNhbEZhaWx1cmVzOiBbXSxcbiAgICAgICAgICBuZXh0U3RlcHM6IFsnUGVyZmVjdCBDb2RlYmFzZSBDYW1wYWlnbiBDb21wbGV0ZSEg8J+OiSddLFxuICAgICAgICB9LFxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHJlcG9ydGluZ1N5c3RlbS5nZW5lcmF0ZUNhbXBhaWduU3VtbWFyeVJlcG9ydCgpO1xuXG4gICAgICBleHBlY3QocmVwb3J0LmNhbXBhaWduSWQpLnRvQmUoJ3BlcmZlY3QtY29kZWJhc2UtY2FtcGFpZ24nKTtcbiAgICAgIGV4cGVjdChyZXBvcnQub3ZlcmFsbFN0YXR1cykudG9CZShDYW1wYWlnblN0YXR1cy5DT01QTEVURUQpO1xuICAgICAgZXhwZWN0KHJlcG9ydC5vdmVyYWxsUHJvZ3Jlc3MpLnRvQmUoMTAwKTtcbiAgICAgIGV4cGVjdChyZXBvcnQucGhhc2VzKS50b0hhdmVMZW5ndGgoNCk7XG4gICAgICBleHBlY3QocmVwb3J0LmtleUFjaGlldmVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuY3JpdGljYWxJc3N1ZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuZXhlY3V0aXZlU3VtbWFyeSkudG9Db250YWluKCdjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZ2VuZXJhdGUgcmVwb3J0IGZvciBjYW1wYWlnbiBpbiBwcm9ncmVzcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgcGFydGlhbCBwcm9ncmVzcyBtZXRyaWNzXG4gICAgICBtb2NrTWV0cmljc0NvbGxlY3Rvci5jb2xsZWN0RGV0YWlsZWRNZXRyaWNzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiB7IGN1cnJlbnQ6IDEwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogNzYsIHBlcmNlbnRhZ2U6IDg4IH0sXG4gICAgICAgIGxpbnRpbmdXYXJuaW5nczogeyBjdXJyZW50OiA1MDAsIHRhcmdldDogMCwgcmVkdWN0aW9uOiA0MDA2LCBwZXJjZW50YWdlOiA4OSB9LFxuICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiAxMiwgdGFyZ2V0VGltZTogMTAsIGNhY2hlSGl0UmF0ZTogMC43NSwgbWVtb3J5VXNhZ2U6IDU1IH0sXG4gICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7IGN1cnJlbnQ6IDE1MCwgdGFyZ2V0OiAyMDAsIHRyYW5zZm9ybWVkRXhwb3J0czogMTUwIH0sXG4gICAgICAgIGVycm9yQnJlYWtkb3duOiB7IFRTMjM1MjogNSwgVFMyMzQ1OiAzLCBUUzI2OTg6IDIgfSxcbiAgICAgICAgd2FybmluZ0JyZWFrZG93bjogeyAnQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSc6IDIwMCwgJ25vLXVudXNlZC12YXJzJzogMzAwIH0sXG4gICAgICAgIGJ1aWxkTWV0cmljczoge1xuICAgICAgICAgIGJ1aWxkVGltZTogMTIsXG4gICAgICAgICAgYnVuZGxlU2l6ZTogNDgwLFxuICAgICAgICAgIGNhY2hlSGl0UmF0ZTogMC43NSxcbiAgICAgICAgICBtZW1vcnlVc2FnZTogNTUsXG4gICAgICAgICAgY3B1VXNhZ2U6IDI1LFxuICAgICAgICAgIGRpc2tVc2FnZTogMTIwMCxcbiAgICAgICAgICBjb21waWxhdGlvblNwZWVkOiAyMCxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb3VyY2VNZXRyaWNzOiB7XG4gICAgICAgICAgbm9kZU1lbW9yeVVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKCksXG4gICAgICAgICAgc3lzdGVtTWVtb3J5OiB7IHRvdGFsOiA4MTkyLCB1c2VkOiA1MTIwLCBmcmVlOiAzMDcyLCBwZXJjZW50YWdlOiA2MiB9LFxuICAgICAgICAgIGRpc2tTcGFjZTogeyB0b3RhbDogMTAwMDAwMCwgdXNlZDogNjAwMDAwLCBmcmVlOiA0MDAwMDAsIHBlcmNlbnRhZ2U6IDYwIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHRyZW5kRGF0YTogeyBlcnJvclJlZHVjdGlvblJhdGU6IDUsIHdhcm5pbmdSZWR1Y3Rpb25SYXRlOiAyNSwgYnVpbGRUaW1lSW1wcm92ZW1lbnQ6IDEsIHN5c3RlbUdyb3d0aFJhdGU6IDMgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIG1peGVkIHBoYXNlIHZhbGlkYXRpb25zXG4gICAgICBtb2NrVmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZUFsbFBoYXNlcy5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZUlkOiAncGhhc2UxJyxcbiAgICAgICAgICBwaGFzZU5hbWU6ICdUeXBlU2NyaXB0IEVycm9yIEVsaW1pbmF0aW9uJyxcbiAgICAgICAgICBvdmVyYWxsU3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDg4LFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWlsZXN0b25lOiAnWmVybyBUeXBlU2NyaXB0IEVycm9ycycsXG4gICAgICAgICAgICAgIHBoYXNlOiAncGhhc2UxJyxcbiAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgbWV0cmljczoge30gYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgICAgY3JpdGVyaWE6IFtdLFxuICAgICAgICAgICAgICBmYWlsdXJlUmVhc29uczogWycxMCBlcnJvcnMgcmVtYWluaW5nJ10sXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3JpdGljYWxGYWlsdXJlczogWydUeXBlU2NyaXB0IEVycm9yIENvdW50OiBleHBlY3RlZCAwLCBnb3QgMTAnXSxcbiAgICAgICAgICBuZXh0U3RlcHM6IFsnQ29udGludWUgd2l0aCBFbmhhbmNlZCBUeXBlU2NyaXB0IEVycm9yIEZpeGVyIHYzLjAnXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHBoYXNlSWQ6ICdwaGFzZTInLFxuICAgICAgICAgIHBoYXNlTmFtZTogJ0xpbnRpbmcgRXhjZWxsZW5jZSBBY2hpZXZlbWVudCcsXG4gICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiA3NSxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbXSxcbiAgICAgICAgICBjcml0aWNhbEZhaWx1cmVzOiBbJ0xpbnRpbmcgV2FybmluZyBDb3VudDogZXhwZWN0ZWQgMCwgZ290IDUwMCddLFxuICAgICAgICAgIG5leHRTdGVwczogWydDb250aW51ZSB3aXRoIHN5c3RlbWF0aWMgbGludGluZyBmaXhlcyddLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcGhhc2VJZDogJ3BoYXNlMycsXG4gICAgICAgICAgcGhhc2VOYW1lOiAnRW50ZXJwcmlzZSBJbnRlbGxpZ2VuY2UgVHJhbnNmb3JtYXRpb24nLFxuICAgICAgICAgIG92ZXJhbGxTdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBjb21wbGV0aW9uUGVyY2VudGFnZTogNjAsXG4gICAgICAgICAgbWlsZXN0b25lczogW10sXG4gICAgICAgICAgY3JpdGljYWxGYWlsdXJlczogWydFbnRlcnByaXNlIFN5c3RlbSBDb3VudDogZXhwZWN0ZWQgPj0gMjAwLCBnb3QgMTUwJ10sXG4gICAgICAgICAgbmV4dFN0ZXBzOiBbJ0NvbnRpbnVlIHRyYW5zZm9ybWluZyBleHBvcnRzIHRvIHJlYWNoIDIwMCsgc3lzdGVtcyddLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcGhhc2VJZDogJ3BoYXNlNCcsXG4gICAgICAgICAgcGhhc2VOYW1lOiAnUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uIE1haW50ZW5hbmNlJyxcbiAgICAgICAgICBvdmVyYWxsU3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDQwLFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFtdLFxuICAgICAgICAgIGNyaXRpY2FsRmFpbHVyZXM6IFsnQnVpbGQgVGltZTogZXhwZWN0ZWQgPD0gMTBzLCBnb3QgMTJzJ10sXG4gICAgICAgICAgbmV4dFN0ZXBzOiBbJ09wdGltaXplIGJ1aWxkIHBlcmZvcm1hbmNlIHdpdGggY2FjaGluZyBpbXByb3ZlbWVudHMnXSxcbiAgICAgICAgfSxcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCByZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVDYW1wYWlnblN1bW1hcnlSZXBvcnQoKTtcblxuICAgICAgZXhwZWN0KHJlcG9ydC5vdmVyYWxsU3RhdHVzKS50b0JlKENhbXBhaWduU3RhdHVzLkJMT0NLRUQpO1xuICAgICAgZXhwZWN0KHJlcG9ydC5vdmVyYWxsUHJvZ3Jlc3MpLnRvQmVMZXNzVGhhbigxMDApO1xuICAgICAgZXhwZWN0KHJlcG9ydC5jcml0aWNhbElzc3Vlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXBvcnQucmVjb21tZW5kYXRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlcG9ydC5leGVjdXRpdmVTdW1tYXJ5KS50b0NvbnRhaW4oJ2N1cnJlbnRseSBibG9ja2VkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQaGFzZSBDb21wbGV0aW9uIFJlcG9ydHMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGdlbmVyYXRlIGRldGFpbGVkIHBoYXNlIGNvbXBsZXRpb24gcmVwb3J0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgdHlwZVNjcmlwdEVycm9yczogeyBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogODYsIHBlcmNlbnRhZ2U6IDEwMCB9LFxuICAgICAgICBsaW50aW5nV2FybmluZ3M6IHsgY3VycmVudDogMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDQ1MDYsIHBlcmNlbnRhZ2U6IDEwMCB9LFxuICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiA4LCB0YXJnZXRUaW1lOiAxMCwgY2FjaGVIaXRSYXRlOiAwLjg1LCBtZW1vcnlVc2FnZTogNDUgfSxcbiAgICAgICAgZW50ZXJwcmlzZVN5c3RlbXM6IHsgY3VycmVudDogMjUwLCB0YXJnZXQ6IDIwMCwgdHJhbnNmb3JtZWRFeHBvcnRzOiAyNTAgfSxcbiAgICAgICAgZXJyb3JCcmVha2Rvd246IHt9LFxuICAgICAgICB3YXJuaW5nQnJlYWtkb3duOiB7fSxcbiAgICAgICAgYnVpbGRNZXRyaWNzOiB7XG4gICAgICAgICAgYnVpbGRUaW1lOiA4LFxuICAgICAgICAgIGJ1bmRsZVNpemU6IDQyMCxcbiAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuODUsXG4gICAgICAgICAgbWVtb3J5VXNhZ2U6IDQ1LFxuICAgICAgICAgIGNwdVVzYWdlOiAxNSxcbiAgICAgICAgICBkaXNrVXNhZ2U6IDEwMjQsXG4gICAgICAgICAgY29tcGlsYXRpb25TcGVlZDogMjUsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc291cmNlTWV0cmljczoge1xuICAgICAgICAgIG5vZGVNZW1vcnlVc2FnZTogcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLFxuICAgICAgICAgIHN5c3RlbU1lbW9yeTogeyB0b3RhbDogODE5MiwgdXNlZDogNDA5NiwgZnJlZTogNDA5NiwgcGVyY2VudGFnZTogNTAgfSxcbiAgICAgICAgICBkaXNrU3BhY2U6IHsgdG90YWw6IDEwMDAwMDAsIHVzZWQ6IDUwMDAwMCwgZnJlZTogNTAwMDAwLCBwZXJjZW50YWdlOiA1MCB9LFxuICAgICAgICB9LFxuICAgICAgICB0cmVuZERhdGE6IHsgZXJyb3JSZWR1Y3Rpb25SYXRlOiAxMCwgd2FybmluZ1JlZHVjdGlvblJhdGU6IDUwLCBidWlsZFRpbWVJbXByb3ZlbWVudDogMiwgc3lzdGVtR3Jvd3RoUmF0ZTogNSB9LFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tWYWxpZGF0aW9uU3lzdGVtLnZhbGlkYXRlUGhhc2UxLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgcGhhc2VJZDogJ3BoYXNlMScsXG4gICAgICAgIHBoYXNlTmFtZTogJ1R5cGVTY3JpcHQgRXJyb3IgRWxpbWluYXRpb24nLFxuICAgICAgICBvdmVyYWxsU3VjY2VzczogdHJ1ZSxcbiAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgbWlsZXN0b25lczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1pbGVzdG9uZTogJ1plcm8gVHlwZVNjcmlwdCBFcnJvcnMnLFxuICAgICAgICAgICAgcGhhc2U6ICdwaGFzZTEnLFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIG1ldHJpY3M6IHt9IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICAgICAgICBjcml0ZXJpYTogW10sXG4gICAgICAgICAgICBmYWlsdXJlUmVhc29uczogW10sXG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtdLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyaXRpY2FsRmFpbHVyZXM6IFtdLFxuICAgICAgICBuZXh0U3RlcHM6IFsnUGhhc2UgMSBjb21wbGV0ZSAtIHByb2NlZWQgdG8gUGhhc2UgMiddLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHJlcG9ydGluZ1N5c3RlbS5nZW5lcmF0ZVBoYXNlQ29tcGxldGlvblJlcG9ydCgncGhhc2UxJyk7XG5cbiAgICAgIGV4cGVjdChyZXBvcnQucGhhc2VJZCkudG9CZSgncGhhc2UxJyk7XG4gICAgICBleHBlY3QocmVwb3J0LnBoYXNlTmFtZSkudG9CZSgnVHlwZVNjcmlwdCBFcnJvciBFbGltaW5hdGlvbicpO1xuICAgICAgZXhwZWN0KHJlcG9ydC5zdGF0dXMpLnRvQmUoUGhhc2VTdGF0dXMuQ09NUExFVEVEKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuYWNoaWV2ZW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlcG9ydC5pc3N1ZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBwaGFzZSBJRCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVQaGFzZUNvbXBsZXRpb25SZXBvcnQoJ2ludmFsaWQtcGhhc2UnKSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnVW5rbm93biBwaGFzZTogaW52YWxpZC1waGFzZScsXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVmlzdWFsaXphdGlvbiBEYXRhIEdlbmVyYXRpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGdlbmVyYXRlIGNvbXByZWhlbnNpdmUgdmlzdWFsaXphdGlvbiBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBzbmFwc2hvdHMgZm9yIHRpbWUgc2VyaWVzIGRhdGFcbiAgICAgIG1vY2tNZXRyaWNzQ29sbGVjdG9yLmdldFNuYXBzaG90cy5tb2NrUmV0dXJuVmFsdWUoW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzbmFwc2hvdDEnLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoJzIwMjQtMDEtMDEnKSxcbiAgICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCcyMDI0LTAxLTAxJyksXG4gICAgICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiB7IGN1cnJlbnQ6IDUwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogMzYsIHBlcmNlbnRhZ2U6IDQyIH0sXG4gICAgICAgICAgICBsaW50aW5nV2FybmluZ3M6IHsgY3VycmVudDogMjAwMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDI1MDYsIHBlcmNlbnRhZ2U6IDU2IH0sXG4gICAgICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiAxNSwgdGFyZ2V0VGltZTogMTAsIGNhY2hlSGl0UmF0ZTogMC43LCBtZW1vcnlVc2FnZTogNjAgfSxcbiAgICAgICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7IGN1cnJlbnQ6IDEwMCwgdGFyZ2V0OiAyMDAsIHRyYW5zZm9ybWVkRXhwb3J0czogMTAwIH0sXG4gICAgICAgICAgICBlcnJvckJyZWFrZG93bjogeyBUUzIzNTI6IDIwLCBUUzIzNDU6IDE1IH0sXG4gICAgICAgICAgICB3YXJuaW5nQnJlYWtkb3duOiB7ICdAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55JzogODAwIH0sXG4gICAgICAgICAgICBidWlsZE1ldHJpY3M6IHtcbiAgICAgICAgICAgICAgYnVpbGRUaW1lOiAxNSxcbiAgICAgICAgICAgICAgYnVuZGxlU2l6ZTogNTAwLFxuICAgICAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuNyxcbiAgICAgICAgICAgICAgbWVtb3J5VXNhZ2U6IDYwLFxuICAgICAgICAgICAgICBjcHVVc2FnZTogMzAsXG4gICAgICAgICAgICAgIGRpc2tVc2FnZTogMTUwMCxcbiAgICAgICAgICAgICAgY29tcGlsYXRpb25TcGVlZDogMTUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzb3VyY2VNZXRyaWNzOiB7XG4gICAgICAgICAgICAgIG5vZGVNZW1vcnlVc2FnZTogcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLFxuICAgICAgICAgICAgICBzeXN0ZW1NZW1vcnk6IHsgdG90YWw6IDgxOTIsIHVzZWQ6IDQ5MTUsIGZyZWU6IDMyNzcsIHBlcmNlbnRhZ2U6IDYwIH0sXG4gICAgICAgICAgICAgIGRpc2tTcGFjZTogeyB0b3RhbDogMTAwMDAwMCwgdXNlZDogNjAwMDAwLCBmcmVlOiA0MDAwMDAsIHBlcmNlbnRhZ2U6IDYwIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJlbmREYXRhOiB7XG4gICAgICAgICAgICAgIGVycm9yUmVkdWN0aW9uUmF0ZTogOCxcbiAgICAgICAgICAgICAgd2FybmluZ1JlZHVjdGlvblJhdGU6IDQwLFxuICAgICAgICAgICAgICBidWlsZFRpbWVJbXByb3ZlbWVudDogMS41LFxuICAgICAgICAgICAgICBzeXN0ZW1Hcm93dGhSYXRlOiA0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBoYXNlOiAncGhhc2UxJyxcbiAgICAgICAgfSxcbiAgICAgIF0pO1xuXG4gICAgICBtb2NrVmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZUFsbFBoYXNlcy5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZUlkOiAncGhhc2UxJyxcbiAgICAgICAgICBwaGFzZU5hbWU6ICdUeXBlU2NyaXB0IEVycm9yIEVsaW1pbmF0aW9uJyxcbiAgICAgICAgICBvdmVyYWxsU3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDc1LFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFtdLFxuICAgICAgICAgIGNyaXRpY2FsRmFpbHVyZXM6IFtdLFxuICAgICAgICAgIG5leHRTdGVwczogW10sXG4gICAgICAgIH0sXG4gICAgICBdKTtcblxuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgdHlwZVNjcmlwdEVycm9yczogeyBjdXJyZW50OiAxMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDc2LCBwZXJjZW50YWdlOiA4OCB9LFxuICAgICAgICBsaW50aW5nV2FybmluZ3M6IHsgY3VycmVudDogNTAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogNDAwNiwgcGVyY2VudGFnZTogODkgfSxcbiAgICAgICAgYnVpbGRQZXJmb3JtYW5jZTogeyBjdXJyZW50VGltZTogMTIsIHRhcmdldFRpbWU6IDEwLCBjYWNoZUhpdFJhdGU6IDAuNzUsIG1lbW9yeVVzYWdlOiA1NSB9LFxuICAgICAgICBlbnRlcnByaXNlU3lzdGVtczogeyBjdXJyZW50OiAxNTAsIHRhcmdldDogMjAwLCB0cmFuc2Zvcm1lZEV4cG9ydHM6IDE1MCB9LFxuICAgICAgICBlcnJvckJyZWFrZG93bjogeyBUUzIzNTI6IDUsIFRTMjM0NTogMywgVFMyNjk4OiAyIH0sXG4gICAgICAgIHdhcm5pbmdCcmVha2Rvd246IHsgJ0B0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnknOiAyMDAsICduby11bnVzZWQtdmFycyc6IDMwMCB9LFxuICAgICAgICBidWlsZE1ldHJpY3M6IHtcbiAgICAgICAgICBidWlsZFRpbWU6IDEyLFxuICAgICAgICAgIGJ1bmRsZVNpemU6IDQ4MCxcbiAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuNzUsXG4gICAgICAgICAgbWVtb3J5VXNhZ2U6IDU1LFxuICAgICAgICAgIGNwdVVzYWdlOiAyNSxcbiAgICAgICAgICBkaXNrVXNhZ2U6IDEyMDAsXG4gICAgICAgICAgY29tcGlsYXRpb25TcGVlZDogMjAsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc291cmNlTWV0cmljczoge1xuICAgICAgICAgIG5vZGVNZW1vcnlVc2FnZTogcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLFxuICAgICAgICAgIHN5c3RlbU1lbW9yeTogeyB0b3RhbDogODE5MiwgdXNlZDogNTEyMCwgZnJlZTogMzA3MiwgcGVyY2VudGFnZTogNjIgfSxcbiAgICAgICAgICBkaXNrU3BhY2U6IHsgdG90YWw6IDEwMDAwMDAsIHVzZWQ6IDYwMDAwMCwgZnJlZTogNDAwMDAwLCBwZXJjZW50YWdlOiA2MCB9LFxuICAgICAgICB9LFxuICAgICAgICB0cmVuZERhdGE6IHsgZXJyb3JSZWR1Y3Rpb25SYXRlOiA1LCB3YXJuaW5nUmVkdWN0aW9uUmF0ZTogMjUsIGJ1aWxkVGltZUltcHJvdmVtZW50OiAxLCBzeXN0ZW1Hcm93dGhSYXRlOiAzIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdmlzdWFsaXphdGlvbkRhdGEgPSBhd2FpdCByZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVWaXN1YWxpemF0aW9uRGF0YSgpO1xuXG4gICAgICBleHBlY3QodmlzdWFsaXphdGlvbkRhdGEudGltZVNlcmllc0RhdGEpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdCh2aXN1YWxpemF0aW9uRGF0YS5waGFzZVByb2dyZXNzQ2hhcnQpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdCh2aXN1YWxpemF0aW9uRGF0YS5lcnJvckRpc3RyaWJ1dGlvbkNoYXJ0Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHZpc3VhbGl6YXRpb25EYXRhLnBlcmZvcm1hbmNlVHJlbmRDaGFydCkudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICAvLyBWZXJpZnkgdGltZSBzZXJpZXMgZGF0YSBzdHJ1Y3R1cmVcbiAgICAgIGNvbnN0IHRpbWVTZXJpZXNQb2ludCA9IHZpc3VhbGl6YXRpb25EYXRhLnRpbWVTZXJpZXNEYXRhWzBdO1xuICAgICAgZXhwZWN0KHRpbWVTZXJpZXNQb2ludC50aW1lc3RhbXApLnRvQmVJbnN0YW5jZU9mKERhdGUpO1xuICAgICAgZXhwZWN0KHR5cGVvZiB0aW1lU2VyaWVzUG9pbnQudHlwZVNjcmlwdEVycm9ycykudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHRpbWVTZXJpZXNQb2ludC5saW50aW5nV2FybmluZ3MpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiB0aW1lU2VyaWVzUG9pbnQuYnVpbGRUaW1lKS50b0JlKCdudW1iZXInKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgdGltZVNlcmllc1BvaW50LmVudGVycHJpc2VTeXN0ZW1zKS50b0JlKCdudW1iZXInKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlcG9ydCBFeHBvcnQgRnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZXhwb3J0IHJlcG9ydCBpbiBKU09OIGZvcm1hdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSZXBvcnQ6IENhbXBhaWduU3VtbWFyeVJlcG9ydCA9IHtcbiAgICAgICAgY2FtcGFpZ25JZDogJ3BlcmZlY3QtY29kZWJhc2UtY2FtcGFpZ24nLFxuICAgICAgICBnZW5lcmF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgb3ZlcmFsbFN0YXR1czogQ2FtcGFpZ25TdGF0dXMuSU5fUFJPR1JFU1MsXG4gICAgICAgIG92ZXJhbGxQcm9ncmVzczogNzUsXG4gICAgICAgIHBoYXNlczogW10sXG4gICAgICAgIGtleUFjaGlldmVtZW50czogW10sXG4gICAgICAgIGNyaXRpY2FsSXNzdWVzOiBbXSxcbiAgICAgICAgcGVyZm9ybWFuY2VNZXRyaWNzOiB7XG4gICAgICAgICAgdHlwZVNjcmlwdEVycm9yczogeyBpbml0aWFsOiA4NiwgY3VycmVudDogMjAsIHJlZHVjdGlvbjogNjYsIHJlZHVjdGlvblJhdGU6IDUgfSxcbiAgICAgICAgICBsaW50aW5nV2FybmluZ3M6IHsgaW5pdGlhbDogNDUwNiwgY3VycmVudDogMTAwMCwgcmVkdWN0aW9uOiAzNTA2LCByZWR1Y3Rpb25SYXRlOiAyNSB9LFxuICAgICAgICAgIGJ1aWxkUGVyZm9ybWFuY2U6IHsgY3VycmVudFRpbWU6IDEyLCB0YXJnZXRUaW1lOiAxMCwgaW1wcm92ZW1lbnQ6IDEsIGNhY2hlRWZmaWNpZW5jeTogMC43NSB9LFxuICAgICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7IGluaXRpYWw6IDAsIGN1cnJlbnQ6IDE1MCwgdGFyZ2V0OiAyMDAsIGdyb3d0aFJhdGU6IDMgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgICAgZXN0aW1hdGVkQ29tcGxldGlvbjogbmV3IERhdGUoKSxcbiAgICAgICAgZXhlY3V0aXZlU3VtbWFyeTogJ0NhbXBhaWduIGluIHByb2dyZXNzJyxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGcy53cml0ZUZpbGVTeW5jLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgICBjb25zdCBleHBvcnRlZEZpbGVzID0gYXdhaXQgcmVwb3J0aW5nU3lzdGVtLmV4cG9ydFJlcG9ydChtb2NrUmVwb3J0LCBbJ2pzb24nXSk7XG5cbiAgICAgIGV4cGVjdChleHBvcnRlZEZpbGVzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoZXhwb3J0ZWRGaWxlc1swXSkudG9NYXRjaCgvY2FtcGFpZ24tcmVwb3J0LS4qXFwuanNvbiQvKTtcbiAgICAgIGV4cGVjdChtb2NrRnMud3JpdGVGaWxlU3luYykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdNYXRjaGluZygvY2FtcGFpZ24tcmVwb3J0LS4qXFwuanNvbiQvKSxcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiY2FtcGFpZ25JZFwiOiBcInBlcmZlY3QtY29kZWJhc2UtY2FtcGFpZ25cIicpLFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBleHBvcnQgcmVwb3J0IGluIG11bHRpcGxlIGZvcm1hdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUmVwb3J0OiBDYW1wYWlnblN1bW1hcnlSZXBvcnQgPSB7XG4gICAgICAgIGNhbXBhaWduSWQ6ICdwZXJmZWN0LWNvZGViYXNlLWNhbXBhaWduJyxcbiAgICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIG92ZXJhbGxTdGF0dXM6IENhbXBhaWduU3RhdHVzLkNPTVBMRVRFRCxcbiAgICAgICAgb3ZlcmFsbFByb2dyZXNzOiAxMDAsXG4gICAgICAgIHBoYXNlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHBoYXNlSWQ6ICdwaGFzZTEnLFxuICAgICAgICAgICAgcGhhc2VOYW1lOiAnVHlwZVNjcmlwdCBFcnJvciBFbGltaW5hdGlvbicsXG4gICAgICAgICAgICBzdGF0dXM6IFBoYXNlU3RhdHVzLkNPTVBMRVRFRCxcbiAgICAgICAgICAgIHByb2dyZXNzOiAxMDAsXG4gICAgICAgICAgICBrZXlNZXRyaWNzOiB7fSxcbiAgICAgICAgICAgIG1pbGVzdG9uZXM6IFtdLFxuICAgICAgICAgICAgYmxvY2tlcnM6IFtdLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGtleUFjaGlldmVtZW50czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnWmVybyBUeXBlU2NyaXB0IEVycm9ycycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FsbCBlcnJvcnMgZWxpbWluYXRlZCcsXG4gICAgICAgICAgICBwaGFzZTogJ3BoYXNlMScsXG4gICAgICAgICAgICBhY2hpZXZlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgaW1wYWN0OiAnQ1JJVElDQUwnIGFzIHVua25vd24sXG4gICAgICAgICAgICBtZXRyaWNzOiB7fSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcml0aWNhbElzc3VlczogW10sXG4gICAgICAgIHBlcmZvcm1hbmNlTWV0cmljczoge1xuICAgICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHsgaW5pdGlhbDogODYsIGN1cnJlbnQ6IDAsIHJlZHVjdGlvbjogODYsIHJlZHVjdGlvblJhdGU6IDEwIH0sXG4gICAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7IGluaXRpYWw6IDQ1MDYsIGN1cnJlbnQ6IDAsIHJlZHVjdGlvbjogNDUwNiwgcmVkdWN0aW9uUmF0ZTogNTAgfSxcbiAgICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiA4LCB0YXJnZXRUaW1lOiAxMCwgaW1wcm92ZW1lbnQ6IDIsIGNhY2hlRWZmaWNpZW5jeTogMC44NSB9LFxuICAgICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7IGluaXRpYWw6IDAsIGN1cnJlbnQ6IDI1MCwgdGFyZ2V0OiAyMDAsIGdyb3d0aFJhdGU6IDUgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgICAgZXN0aW1hdGVkQ29tcGxldGlvbjogbmV3IERhdGUoKSxcbiAgICAgICAgZXhlY3V0aXZlU3VtbWFyeTogJ0NhbXBhaWduIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgfTtcblxuICAgICAgbW9ja0ZzLndyaXRlRmlsZVN5bmMubW9ja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICAgIGNvbnN0IGV4cG9ydGVkRmlsZXMgPSBhd2FpdCByZXBvcnRpbmdTeXN0ZW0uZXhwb3J0UmVwb3J0KG1vY2tSZXBvcnQsIFsnanNvbicsICdodG1sJywgJ21hcmtkb3duJywgJ2NzdiddKTtcblxuICAgICAgZXhwZWN0KGV4cG9ydGVkRmlsZXMpLnRvSGF2ZUxlbmd0aCg0KTtcbiAgICAgIGV4cGVjdChleHBvcnRlZEZpbGVzLnNvbWUoZiA9PiBmLmVuZHNXaXRoKCcuanNvbicpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChleHBvcnRlZEZpbGVzLnNvbWUoZiA9PiBmLmVuZHNXaXRoKCcuaHRtbCcpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChleHBvcnRlZEZpbGVzLnNvbWUoZiA9PiBmLmVuZHNXaXRoKCcubWQnKSkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZXhwb3J0ZWRGaWxlcy5zb21lKGYgPT4gZi5lbmRzV2l0aCgnLmNzdicpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrRnMud3JpdGVGaWxlU3luYykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDQpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGFzaGJvYXJkIERhdGEgR2VuZXJhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZ2VuZXJhdGUgcmVhbC10aW1lIGRhc2hib2FyZCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBhbGwgcmVxdWlyZWQgZGF0YVxuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgdHlwZVNjcmlwdEVycm9yczogeyBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogODYsIHBlcmNlbnRhZ2U6IDEwMCB9LFxuICAgICAgICBsaW50aW5nV2FybmluZ3M6IHsgY3VycmVudDogMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDQ1MDYsIHBlcmNlbnRhZ2U6IDEwMCB9LFxuICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiA4LCB0YXJnZXRUaW1lOiAxMCwgY2FjaGVIaXRSYXRlOiAwLjg1LCBtZW1vcnlVc2FnZTogNDUgfSxcbiAgICAgICAgZW50ZXJwcmlzZVN5c3RlbXM6IHsgY3VycmVudDogMjUwLCB0YXJnZXQ6IDIwMCwgdHJhbnNmb3JtZWRFeHBvcnRzOiAyNTAgfSxcbiAgICAgICAgZXJyb3JCcmVha2Rvd246IHt9LFxuICAgICAgICB3YXJuaW5nQnJlYWtkb3duOiB7fSxcbiAgICAgICAgYnVpbGRNZXRyaWNzOiB7XG4gICAgICAgICAgYnVpbGRUaW1lOiA4LFxuICAgICAgICAgIGJ1bmRsZVNpemU6IDQyMCxcbiAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuODUsXG4gICAgICAgICAgbWVtb3J5VXNhZ2U6IDQ1LFxuICAgICAgICAgIGNwdVVzYWdlOiAxNSxcbiAgICAgICAgICBkaXNrVXNhZ2U6IDEwMjQsXG4gICAgICAgICAgY29tcGlsYXRpb25TcGVlZDogMjUsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc291cmNlTWV0cmljczoge1xuICAgICAgICAgIG5vZGVNZW1vcnlVc2FnZTogcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLFxuICAgICAgICAgIHN5c3RlbU1lbW9yeTogeyB0b3RhbDogODE5MiwgdXNlZDogNDA5NiwgZnJlZTogNDA5NiwgcGVyY2VudGFnZTogNTAgfSxcbiAgICAgICAgICBkaXNrU3BhY2U6IHsgdG90YWw6IDEwMDAwMDAsIHVzZWQ6IDUwMDAwMCwgZnJlZTogNTAwMDAwLCBwZXJjZW50YWdlOiA1MCB9LFxuICAgICAgICB9LFxuICAgICAgICB0cmVuZERhdGE6IHsgZXJyb3JSZWR1Y3Rpb25SYXRlOiAxMCwgd2FybmluZ1JlZHVjdGlvblJhdGU6IDUwLCBidWlsZFRpbWVJbXByb3ZlbWVudDogMiwgc3lzdGVtR3Jvd3RoUmF0ZTogNSB9LFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tWYWxpZGF0aW9uU3lzdGVtLnZhbGlkYXRlQWxsUGhhc2VzLm1vY2tSZXNvbHZlZFZhbHVlKFtcbiAgICAgICAge1xuICAgICAgICAgIHBoYXNlSWQ6ICdwaGFzZTEnLFxuICAgICAgICAgIHBoYXNlTmFtZTogJ1R5cGVTY3JpcHQgRXJyb3IgRWxpbWluYXRpb24nLFxuICAgICAgICAgIG92ZXJhbGxTdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiAxMDAsXG4gICAgICAgICAgbWlsZXN0b25lczogW10sXG4gICAgICAgICAgY3JpdGljYWxGYWlsdXJlczogW10sXG4gICAgICAgICAgbmV4dFN0ZXBzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgIF0pO1xuXG4gICAgICBtb2NrTWV0cmljc0NvbGxlY3Rvci5nZXRTbmFwc2hvdHMubW9ja1JldHVyblZhbHVlKFtdKTtcblxuICAgICAgY29uc3QgZGFzaGJvYXJkRGF0YSA9IGF3YWl0IHJlcG9ydGluZ1N5c3RlbS5nZW5lcmF0ZURhc2hib2FyZERhdGEoKTtcblxuICAgICAgZXhwZWN0KGRhc2hib2FyZERhdGEuc3VtbWFyeSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmREYXRhLnZpc3VhbGl6YXRpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkRGF0YS5yZWNlbnRBY3Rpdml0eSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGRhc2hib2FyZERhdGEucmVjZW50QWN0aXZpdHkpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVwb3J0IEhpc3RvcnkgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgbWFpbnRhaW4gcmVwb3J0IGhpc3RvcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTWV0cmljc0NvbGxlY3Rvci5jb2xsZWN0RGV0YWlsZWRNZXRyaWNzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiB7IGN1cnJlbnQ6IDAsIHRhcmdldDogMCwgcmVkdWN0aW9uOiA4NiwgcGVyY2VudGFnZTogMTAwIH0sXG4gICAgICAgIGxpbnRpbmdXYXJuaW5nczogeyBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogNDUwNiwgcGVyY2VudGFnZTogMTAwIH0sXG4gICAgICAgIGJ1aWxkUGVyZm9ybWFuY2U6IHsgY3VycmVudFRpbWU6IDgsIHRhcmdldFRpbWU6IDEwLCBjYWNoZUhpdFJhdGU6IDAuODUsIG1lbW9yeVVzYWdlOiA0NSB9LFxuICAgICAgICBlbnRlcnByaXNlU3lzdGVtczogeyBjdXJyZW50OiAyNTAsIHRhcmdldDogMjAwLCB0cmFuc2Zvcm1lZEV4cG9ydHM6IDI1MCB9LFxuICAgICAgICBlcnJvckJyZWFrZG93bjoge30sXG4gICAgICAgIHdhcm5pbmdCcmVha2Rvd246IHt9LFxuICAgICAgICBidWlsZE1ldHJpY3M6IHtcbiAgICAgICAgICBidWlsZFRpbWU6IDgsXG4gICAgICAgICAgYnVuZGxlU2l6ZTogNDIwLFxuICAgICAgICAgIGNhY2hlSGl0UmF0ZTogMC44NSxcbiAgICAgICAgICBtZW1vcnlVc2FnZTogNDUsXG4gICAgICAgICAgY3B1VXNhZ2U6IDE1LFxuICAgICAgICAgIGRpc2tVc2FnZTogMTAyNCxcbiAgICAgICAgICBjb21waWxhdGlvblNwZWVkOiAyNSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb3VyY2VNZXRyaWNzOiB7XG4gICAgICAgICAgbm9kZU1lbW9yeVVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKCksXG4gICAgICAgICAgc3lzdGVtTWVtb3J5OiB7IHRvdGFsOiA4MTkyLCB1c2VkOiA0MDk2LCBmcmVlOiA0MDk2LCBwZXJjZW50YWdlOiA1MCB9LFxuICAgICAgICAgIGRpc2tTcGFjZTogeyB0b3RhbDogMTAwMDAwMCwgdXNlZDogNTAwMDAwLCBmcmVlOiA1MDAwMDAsIHBlcmNlbnRhZ2U6IDUwIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHRyZW5kRGF0YTogeyBlcnJvclJlZHVjdGlvblJhdGU6IDEwLCB3YXJuaW5nUmVkdWN0aW9uUmF0ZTogNTAsIGJ1aWxkVGltZUltcHJvdmVtZW50OiAyLCBzeXN0ZW1Hcm93dGhSYXRlOiA1IH0sXG4gICAgICB9KTtcblxuICAgICAgbW9ja1ZhbGlkYXRpb25TeXN0ZW0udmFsaWRhdGVBbGxQaGFzZXMubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xuXG4gICAgICBleHBlY3QocmVwb3J0aW5nU3lzdGVtLmdldFJlcG9ydEhpc3RvcnkoKSkudG9IYXZlTGVuZ3RoKDApO1xuXG4gICAgICBhd2FpdCByZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVDYW1wYWlnblN1bW1hcnlSZXBvcnQoKTtcbiAgICAgIGV4cGVjdChyZXBvcnRpbmdTeXN0ZW0uZ2V0UmVwb3J0SGlzdG9yeSgpKS50b0hhdmVMZW5ndGgoMSk7XG5cbiAgICAgIGF3YWl0IHJlcG9ydGluZ1N5c3RlbS5nZW5lcmF0ZUNhbXBhaWduU3VtbWFyeVJlcG9ydCgpO1xuICAgICAgZXhwZWN0KHJlcG9ydGluZ1N5c3RlbS5nZXRSZXBvcnRIaXN0b3J5KCkpLnRvSGF2ZUxlbmd0aCgyKTtcblxuICAgICAgcmVwb3J0aW5nU3lzdGVtLmNsZWFyUmVwb3J0SGlzdG9yeSgpO1xuICAgICAgZXhwZWN0KHJlcG9ydGluZ1N5c3RlbS5nZXRSZXBvcnRIaXN0b3J5KCkpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbWV0cmljcyBjb2xsZWN0aW9uIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ01ldHJpY3MgY29sbGVjdGlvbiBmYWlsZWQnKSk7XG4gICAgICBtb2NrVmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZUFsbFBoYXNlcy5tb2NrUmVzb2x2ZWRWYWx1ZShbXSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVDYW1wYWlnblN1bW1hcnlSZXBvcnQoKSkucmVqZWN0cy50b1Rocm93KCdNZXRyaWNzIGNvbGxlY3Rpb24gZmFpbGVkJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHZhbGlkYXRpb24gc3lzdGVtIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZShcbiAgICAgICAge30gYXMgdW5rbm93biBhcyBBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIG1vY2tNZXRyaWNzQ29sbGVjdG9yLmNvbGxlY3REZXRhaWxlZE1ldHJpY3M+PixcbiAgICAgICk7XG4gICAgICBtb2NrVmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZUFsbFBoYXNlcy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3QocmVwb3J0aW5nU3lzdGVtLmdlbmVyYXRlQ2FtcGFpZ25TdW1tYXJ5UmVwb3J0KCkpLnJlamVjdHMudG9UaHJvdygnVmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==