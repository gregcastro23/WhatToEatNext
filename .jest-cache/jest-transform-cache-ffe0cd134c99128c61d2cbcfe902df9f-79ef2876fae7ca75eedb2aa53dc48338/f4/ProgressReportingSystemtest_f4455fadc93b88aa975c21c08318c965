7d360400ed05f32f3d3306555f86b259
"use strict";
/**
 * Progress Reporting System Tests
 * Perfect Codebase Campaign - Comprehensive Testing
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
// Mock dependencies
jest.mock('./MetricsCollectionSystem');
jest.mock('./MilestoneValidationSystem');
jest.mock('fs');
const fs = __importStar(require("fs"));
const campaign_1 = require("../../types/campaign");
const MetricsCollectionSystem_1 = require("./MetricsCollectionSystem");
const MilestoneValidationSystem_1 = require("./MilestoneValidationSystem");
const ProgressReportingSystem_1 = require("./ProgressReportingSystem");
const MockMetricsCollectionSystem = MetricsCollectionSystem_1.MetricsCollectionSystem;
const MockMilestoneValidationSystem = MilestoneValidationSystem_1.MilestoneValidationSystem;
const mockFs = fs;
describe('ProgressReportingSystem', () => {
    let reportingSystem;
    let mockMetricsCollector;
    let mockValidationSystem;
    beforeEach(() => {
        jest.clearAllMocks();
        mockMetricsCollector = new MockMetricsCollectionSystem();
        mockValidationSystem = new MockMilestoneValidationSystem();
        reportingSystem = new ProgressReportingSystem_1.ProgressReportingSystem();
        reportingSystem.metricsCollector = mockMetricsCollector;
        reportingSystem.validationSystem = mockValidationSystem;
    });
    describe('Campaign Summary Report Generation', () => {
        test('should generate comprehensive campaign summary report', async () => {
            // Mock successful campaign metrics
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 0, target: 0, reduction: 86, percentage: 100 },
                lintingWarnings: { current: 0, target: 0, reduction: 4506, percentage: 100 },
                buildPerformance: { currentTime: 8, targetTime: 10, cacheHitRate: 0.85, memoryUsage: 45 },
                enterpriseSystems: { current: 250, target: 200, transformedExports: 250 },
                errorBreakdown: {},
                warningBreakdown: {},
                buildMetrics: {
                    buildTime: 8,
                    bundleSize: 420,
                    cacheHitRate: 0.85,
                    memoryUsage: 45,
                    cpuUsage: 15,
                    diskUsage: 1024,
                    compilationSpeed: 25,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 4096, free: 4096, percentage: 50 },
                    diskSpace: { total: 1000000, used: 500000, free: 500000, percentage: 50 },
                },
                trendData: { errorReductionRate: 10, warningReductionRate: 50, buildTimeImprovement: 2, systemGrowthRate: 5 },
            });
            // Mock successful phase validations
            mockValidationSystem.validateAllPhases.mockResolvedValue([
                {
                    phaseId: 'phase1',
                    phaseName: 'TypeScript Error Elimination',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [
                        {
                            milestone: 'Zero TypeScript Errors',
                            phase: 'phase1',
                            success: true,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: [],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: [],
                    nextSteps: ['Phase 1 complete - proceed to Phase 2'],
                },
                {
                    phaseId: 'phase2',
                    phaseName: 'Linting Excellence Achievement',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [
                        {
                            milestone: 'Zero Linting Warnings',
                            phase: 'phase2',
                            success: true,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: [],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: [],
                    nextSteps: ['Phase 2 complete - proceed to Phase 3'],
                },
                {
                    phaseId: 'phase3',
                    phaseName: 'Enterprise Intelligence Transformation',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [
                        {
                            milestone: 'Enterprise System Count Target',
                            phase: 'phase3',
                            success: true,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: [],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: [],
                    nextSteps: ['Phase 3 complete - proceed to Phase 4'],
                },
                {
                    phaseId: 'phase4',
                    phaseName: 'Performance Optimization Maintenance',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [
                        {
                            milestone: 'Build Performance Targets',
                            phase: 'phase4',
                            success: true,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: [],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: [],
                    nextSteps: ['Perfect Codebase Campaign Complete! ðŸŽ‰'],
                },
            ]);
            const report = await reportingSystem.generateCampaignSummaryReport();
            expect(report.campaignId).toBe('perfect-codebase-campaign');
            expect(report.overallStatus).toBe(ProgressReportingSystem_1.CampaignStatus.COMPLETED);
            expect(report.overallProgress).toBe(100);
            expect(report.phases).toHaveLength(4);
            expect(report.keyAchievements.length).toBeGreaterThan(0);
            expect(report.criticalIssues).toHaveLength(0);
            expect(report.executiveSummary).toContain('completed successfully');
        });
        test('should generate report for campaign in progress', async () => {
            // Mock partial progress metrics
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 10, target: 0, reduction: 76, percentage: 88 },
                lintingWarnings: { current: 500, target: 0, reduction: 4006, percentage: 89 },
                buildPerformance: { currentTime: 12, targetTime: 10, cacheHitRate: 0.75, memoryUsage: 55 },
                enterpriseSystems: { current: 150, target: 200, transformedExports: 150 },
                errorBreakdown: { TS2352: 5, TS2345: 3, TS2698: 2 },
                warningBreakdown: { '@typescript-eslint/no-explicit-any': 200, 'no-unused-vars': 300 },
                buildMetrics: {
                    buildTime: 12,
                    bundleSize: 480,
                    cacheHitRate: 0.75,
                    memoryUsage: 55,
                    cpuUsage: 25,
                    diskUsage: 1200,
                    compilationSpeed: 20,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 5120, free: 3072, percentage: 62 },
                    diskSpace: { total: 1000000, used: 600000, free: 400000, percentage: 60 },
                },
                trendData: { errorReductionRate: 5, warningReductionRate: 25, buildTimeImprovement: 1, systemGrowthRate: 3 },
            });
            // Mock mixed phase validations
            mockValidationSystem.validateAllPhases.mockResolvedValue([
                {
                    phaseId: 'phase1',
                    phaseName: 'TypeScript Error Elimination',
                    overallSuccess: false,
                    completionPercentage: 88,
                    milestones: [
                        {
                            milestone: 'Zero TypeScript Errors',
                            phase: 'phase1',
                            success: false,
                            timestamp: new Date(),
                            metrics: {},
                            criteria: [],
                            failureReasons: ['10 errors remaining'],
                            recommendations: [],
                        },
                    ],
                    criticalFailures: ['TypeScript Error Count: expected 0, got 10'],
                    nextSteps: ['Continue with Enhanced TypeScript Error Fixer v3.0'],
                },
                {
                    phaseId: 'phase2',
                    phaseName: 'Linting Excellence Achievement',
                    overallSuccess: false,
                    completionPercentage: 75,
                    milestones: [],
                    criticalFailures: ['Linting Warning Count: expected 0, got 500'],
                    nextSteps: ['Continue with systematic linting fixes'],
                },
                {
                    phaseId: 'phase3',
                    phaseName: 'Enterprise Intelligence Transformation',
                    overallSuccess: false,
                    completionPercentage: 60,
                    milestones: [],
                    criticalFailures: ['Enterprise System Count: expected >= 200, got 150'],
                    nextSteps: ['Continue transforming exports to reach 200+ systems'],
                },
                {
                    phaseId: 'phase4',
                    phaseName: 'Performance Optimization Maintenance',
                    overallSuccess: false,
                    completionPercentage: 40,
                    milestones: [],
                    criticalFailures: ['Build Time: expected <= 10s, got 12s'],
                    nextSteps: ['Optimize build performance with caching improvements'],
                },
            ]);
            const report = await reportingSystem.generateCampaignSummaryReport();
            expect(report.overallStatus).toBe(ProgressReportingSystem_1.CampaignStatus.BLOCKED);
            expect(report.overallProgress).toBeLessThan(100);
            expect(report.criticalIssues.length).toBeGreaterThan(0);
            expect(report.recommendations.length).toBeGreaterThan(0);
            expect(report.executiveSummary).toContain('currently blocked');
        });
    });
    describe('Phase Completion Reports', () => {
        test('should generate detailed phase completion report', async () => {
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 0, target: 0, reduction: 86, percentage: 100 },
                lintingWarnings: { current: 0, target: 0, reduction: 4506, percentage: 100 },
                buildPerformance: { currentTime: 8, targetTime: 10, cacheHitRate: 0.85, memoryUsage: 45 },
                enterpriseSystems: { current: 250, target: 200, transformedExports: 250 },
                errorBreakdown: {},
                warningBreakdown: {},
                buildMetrics: {
                    buildTime: 8,
                    bundleSize: 420,
                    cacheHitRate: 0.85,
                    memoryUsage: 45,
                    cpuUsage: 15,
                    diskUsage: 1024,
                    compilationSpeed: 25,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 4096, free: 4096, percentage: 50 },
                    diskSpace: { total: 1000000, used: 500000, free: 500000, percentage: 50 },
                },
                trendData: { errorReductionRate: 10, warningReductionRate: 50, buildTimeImprovement: 2, systemGrowthRate: 5 },
            });
            mockValidationSystem.validatePhase1.mockResolvedValue({
                phaseId: 'phase1',
                phaseName: 'TypeScript Error Elimination',
                overallSuccess: true,
                completionPercentage: 100,
                milestones: [
                    {
                        milestone: 'Zero TypeScript Errors',
                        phase: 'phase1',
                        success: true,
                        timestamp: new Date(),
                        metrics: {},
                        criteria: [],
                        failureReasons: [],
                        recommendations: [],
                    },
                ],
                criticalFailures: [],
                nextSteps: ['Phase 1 complete - proceed to Phase 2'],
            });
            const report = await reportingSystem.generatePhaseCompletionReport('phase1');
            expect(report.phaseId).toBe('phase1');
            expect(report.phaseName).toBe('TypeScript Error Elimination');
            expect(report.status).toBe(campaign_1.PhaseStatus.COMPLETED);
            expect(report.achievements.length).toBeGreaterThan(0);
            expect(report.issues).toHaveLength(0);
        });
        test('should handle invalid phase ID', async () => {
            await expect(reportingSystem.generatePhaseCompletionReport('invalid-phase')).rejects.toThrow('Unknown phase: invalid-phase');
        });
    });
    describe('Visualization Data Generation', () => {
        test('should generate comprehensive visualization data', async () => {
            // Mock snapshots for time series data
            mockMetricsCollector.getSnapshots.mockReturnValue([
                {
                    id: 'snapshot1',
                    timestamp: new Date('2024-01-01'),
                    metrics: {
                        timestamp: new Date('2024-01-01'),
                        typeScriptErrors: { current: 50, target: 0, reduction: 36, percentage: 42 },
                        lintingWarnings: { current: 2000, target: 0, reduction: 2506, percentage: 56 },
                        buildPerformance: { currentTime: 15, targetTime: 10, cacheHitRate: 0.7, memoryUsage: 60 },
                        enterpriseSystems: { current: 100, target: 200, transformedExports: 100 },
                        errorBreakdown: { TS2352: 20, TS2345: 15 },
                        warningBreakdown: { '@typescript-eslint/no-explicit-any': 800 },
                        buildMetrics: {
                            buildTime: 15,
                            bundleSize: 500,
                            cacheHitRate: 0.7,
                            memoryUsage: 60,
                            cpuUsage: 30,
                            diskUsage: 1500,
                            compilationSpeed: 15,
                        },
                        resourceMetrics: {
                            nodeMemoryUsage: process.memoryUsage(),
                            systemMemory: { total: 8192, used: 4915, free: 3277, percentage: 60 },
                            diskSpace: { total: 1000000, used: 600000, free: 400000, percentage: 60 },
                        },
                        trendData: {
                            errorReductionRate: 8,
                            warningReductionRate: 40,
                            buildTimeImprovement: 1.5,
                            systemGrowthRate: 4,
                        },
                    },
                    phase: 'phase1',
                },
            ]);
            mockValidationSystem.validateAllPhases.mockResolvedValue([
                {
                    phaseId: 'phase1',
                    phaseName: 'TypeScript Error Elimination',
                    overallSuccess: false,
                    completionPercentage: 75,
                    milestones: [],
                    criticalFailures: [],
                    nextSteps: [],
                },
            ]);
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 10, target: 0, reduction: 76, percentage: 88 },
                lintingWarnings: { current: 500, target: 0, reduction: 4006, percentage: 89 },
                buildPerformance: { currentTime: 12, targetTime: 10, cacheHitRate: 0.75, memoryUsage: 55 },
                enterpriseSystems: { current: 150, target: 200, transformedExports: 150 },
                errorBreakdown: { TS2352: 5, TS2345: 3, TS2698: 2 },
                warningBreakdown: { '@typescript-eslint/no-explicit-any': 200, 'no-unused-vars': 300 },
                buildMetrics: {
                    buildTime: 12,
                    bundleSize: 480,
                    cacheHitRate: 0.75,
                    memoryUsage: 55,
                    cpuUsage: 25,
                    diskUsage: 1200,
                    compilationSpeed: 20,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 5120, free: 3072, percentage: 62 },
                    diskSpace: { total: 1000000, used: 600000, free: 400000, percentage: 60 },
                },
                trendData: { errorReductionRate: 5, warningReductionRate: 25, buildTimeImprovement: 1, systemGrowthRate: 3 },
            });
            const visualizationData = await reportingSystem.generateVisualizationData();
            expect(visualizationData.timeSeriesData).toHaveLength(1);
            expect(visualizationData.phaseProgressChart).toHaveLength(1);
            expect(visualizationData.errorDistributionChart.length).toBeGreaterThan(0);
            expect(visualizationData.performanceTrendChart).toHaveLength(1);
            // Verify time series data structure
            const timeSeriesPoint = visualizationData.timeSeriesData[0];
            expect(timeSeriesPoint.timestamp).toBeInstanceOf(Date);
            expect(typeof timeSeriesPoint.typeScriptErrors).toBe('number');
            expect(typeof timeSeriesPoint.lintingWarnings).toBe('number');
            expect(typeof timeSeriesPoint.buildTime).toBe('number');
            expect(typeof timeSeriesPoint.enterpriseSystems).toBe('number');
        });
    });
    describe('Report Export Functionality', () => {
        test('should export report in JSON format', async () => {
            const mockReport = {
                campaignId: 'perfect-codebase-campaign',
                generatedAt: new Date(),
                overallStatus: ProgressReportingSystem_1.CampaignStatus.IN_PROGRESS,
                overallProgress: 75,
                phases: [],
                keyAchievements: [],
                criticalIssues: [],
                performanceMetrics: {
                    typeScriptErrors: { initial: 86, current: 20, reduction: 66, reductionRate: 5 },
                    lintingWarnings: { initial: 4506, current: 1000, reduction: 3506, reductionRate: 25 },
                    buildPerformance: { currentTime: 12, targetTime: 10, improvement: 1, cacheEfficiency: 0.75 },
                    enterpriseSystems: { initial: 0, current: 150, target: 200, growthRate: 3 },
                },
                recommendations: [],
                estimatedCompletion: new Date(),
                executiveSummary: 'Campaign in progress',
            };
            mockFs.writeFileSync.mockImplementation();
            const exportedFiles = await reportingSystem.exportReport(mockReport, ['json']);
            expect(exportedFiles).toHaveLength(1);
            expect(exportedFiles[0]).toMatch(/campaign-report-.*\.json$/);
            expect(mockFs.writeFileSync).toHaveBeenCalledWith(expect.stringMatching(/campaign-report-.*\.json$/), expect.stringContaining('"campaignId": "perfect-codebase-campaign"'));
        });
        test('should export report in multiple formats', async () => {
            const mockReport = {
                campaignId: 'perfect-codebase-campaign',
                generatedAt: new Date(),
                overallStatus: ProgressReportingSystem_1.CampaignStatus.COMPLETED,
                overallProgress: 100,
                phases: [
                    {
                        phaseId: 'phase1',
                        phaseName: 'TypeScript Error Elimination',
                        status: campaign_1.PhaseStatus.COMPLETED,
                        progress: 100,
                        keyMetrics: {},
                        milestones: [],
                        blockers: [],
                    },
                ],
                keyAchievements: [
                    {
                        title: 'Zero TypeScript Errors',
                        description: 'All errors eliminated',
                        phase: 'phase1',
                        achievedAt: new Date(),
                        impact: 'CRITICAL',
                        metrics: {},
                    },
                ],
                criticalIssues: [],
                performanceMetrics: {
                    typeScriptErrors: { initial: 86, current: 0, reduction: 86, reductionRate: 10 },
                    lintingWarnings: { initial: 4506, current: 0, reduction: 4506, reductionRate: 50 },
                    buildPerformance: { currentTime: 8, targetTime: 10, improvement: 2, cacheEfficiency: 0.85 },
                    enterpriseSystems: { initial: 0, current: 250, target: 200, growthRate: 5 },
                },
                recommendations: [],
                estimatedCompletion: new Date(),
                executiveSummary: 'Campaign completed successfully',
            };
            mockFs.writeFileSync.mockImplementation();
            const exportedFiles = await reportingSystem.exportReport(mockReport, ['json', 'html', 'markdown', 'csv']);
            expect(exportedFiles).toHaveLength(4);
            expect(exportedFiles.some(f => f.endsWith('.json'))).toBe(true);
            expect(exportedFiles.some(f => f.endsWith('.html'))).toBe(true);
            expect(exportedFiles.some(f => f.endsWith('.md'))).toBe(true);
            expect(exportedFiles.some(f => f.endsWith('.csv'))).toBe(true);
            expect(mockFs.writeFileSync).toHaveBeenCalledTimes(4);
        });
    });
    describe('Dashboard Data Generation', () => {
        test('should generate real-time dashboard data', async () => {
            // Mock all required data
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 0, target: 0, reduction: 86, percentage: 100 },
                lintingWarnings: { current: 0, target: 0, reduction: 4506, percentage: 100 },
                buildPerformance: { currentTime: 8, targetTime: 10, cacheHitRate: 0.85, memoryUsage: 45 },
                enterpriseSystems: { current: 250, target: 200, transformedExports: 250 },
                errorBreakdown: {},
                warningBreakdown: {},
                buildMetrics: {
                    buildTime: 8,
                    bundleSize: 420,
                    cacheHitRate: 0.85,
                    memoryUsage: 45,
                    cpuUsage: 15,
                    diskUsage: 1024,
                    compilationSpeed: 25,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 4096, free: 4096, percentage: 50 },
                    diskSpace: { total: 1000000, used: 500000, free: 500000, percentage: 50 },
                },
                trendData: { errorReductionRate: 10, warningReductionRate: 50, buildTimeImprovement: 2, systemGrowthRate: 5 },
            });
            mockValidationSystem.validateAllPhases.mockResolvedValue([
                {
                    phaseId: 'phase1',
                    phaseName: 'TypeScript Error Elimination',
                    overallSuccess: true,
                    completionPercentage: 100,
                    milestones: [],
                    criticalFailures: [],
                    nextSteps: [],
                },
            ]);
            mockMetricsCollector.getSnapshots.mockReturnValue([]);
            const dashboardData = await reportingSystem.generateDashboardData();
            expect(dashboardData.summary).toBeDefined();
            expect(dashboardData.visualization).toBeDefined();
            expect(dashboardData.recentActivity).toBeDefined();
            expect(Array.isArray(dashboardData.recentActivity)).toBe(true);
        });
    });
    describe('Report History Management', () => {
        test('should maintain report history', async () => {
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({
                timestamp: new Date(),
                typeScriptErrors: { current: 0, target: 0, reduction: 86, percentage: 100 },
                lintingWarnings: { current: 0, target: 0, reduction: 4506, percentage: 100 },
                buildPerformance: { currentTime: 8, targetTime: 10, cacheHitRate: 0.85, memoryUsage: 45 },
                enterpriseSystems: { current: 250, target: 200, transformedExports: 250 },
                errorBreakdown: {},
                warningBreakdown: {},
                buildMetrics: {
                    buildTime: 8,
                    bundleSize: 420,
                    cacheHitRate: 0.85,
                    memoryUsage: 45,
                    cpuUsage: 15,
                    diskUsage: 1024,
                    compilationSpeed: 25,
                },
                resourceMetrics: {
                    nodeMemoryUsage: process.memoryUsage(),
                    systemMemory: { total: 8192, used: 4096, free: 4096, percentage: 50 },
                    diskSpace: { total: 1000000, used: 500000, free: 500000, percentage: 50 },
                },
                trendData: { errorReductionRate: 10, warningReductionRate: 50, buildTimeImprovement: 2, systemGrowthRate: 5 },
            });
            mockValidationSystem.validateAllPhases.mockResolvedValue([]);
            expect(reportingSystem.getReportHistory()).toHaveLength(0);
            await reportingSystem.generateCampaignSummaryReport();
            expect(reportingSystem.getReportHistory()).toHaveLength(1);
            await reportingSystem.generateCampaignSummaryReport();
            expect(reportingSystem.getReportHistory()).toHaveLength(2);
            reportingSystem.clearReportHistory();
            expect(reportingSystem.getReportHistory()).toHaveLength(0);
        });
    });
    describe('Error Handling', () => {
        test('should handle metrics collection errors gracefully', async () => {
            mockMetricsCollector.collectDetailedMetrics.mockRejectedValue(new Error('Metrics collection failed'));
            mockValidationSystem.validateAllPhases.mockResolvedValue([]);
            await expect(reportingSystem.generateCampaignSummaryReport()).rejects.toThrow('Metrics collection failed');
        });
        test('should handle validation system errors gracefully', async () => {
            mockMetricsCollector.collectDetailedMetrics.mockResolvedValue({});
            mockValidationSystem.validateAllPhases.mockRejectedValue(new Error('Validation failed'));
            await expect(reportingSystem.generateCampaignSummaryReport()).rejects.toThrow('Validation failed');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvY29uc2VydmF0aXZlLXdhdmUtMjAyNS0wOC0xMVQwNS0yMS0zMy00MTBaL3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9Qcm9ncmVzc1JlcG9ydGluZ1N5c3RlbS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVSCxvQkFBb0I7QUFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBWGhCLHVDQUF5QjtBQUV6QixtREFBbUQ7QUFFbkQsdUVBQW9FO0FBQ3BFLDJFQUF3RTtBQUN4RSx1RUFBMkc7QUFPM0csTUFBTSwyQkFBMkIsR0FBRyxpREFBMkUsQ0FBQztBQUNoSCxNQUFNLDZCQUE2QixHQUFHLHFEQUErRSxDQUFDO0FBQ3RILE1BQU0sTUFBTSxHQUFHLEVBQTRCLENBQUM7QUFFNUMsUUFBUSxDQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRTtJQUN2QyxJQUFJLGVBQXdDLENBQUM7SUFDN0MsSUFBSSxvQkFBMEQsQ0FBQztJQUMvRCxJQUFJLG9CQUE0RCxDQUFDO0lBRWpFLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFFckIsb0JBQW9CLEdBQUcsSUFBSSwyQkFBMkIsRUFBMEMsQ0FBQztRQUNqRyxvQkFBb0IsR0FBRyxJQUFJLDZCQUE2QixFQUE0QyxDQUFDO1FBRXJHLGVBQWUsR0FBRyxJQUFJLGlEQUF1QixFQUFFLENBQUM7UUFDL0MsZUFBdUIsQ0FBQyxnQkFBZ0IsR0FBRyxvQkFBb0IsQ0FBQztRQUNoRSxlQUF1QixDQUFDLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDO0lBQ25FLENBQUMsQ0FBQyxDQUFDO0lBRUgs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O1lBQ0Ysb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1lBRXpGLE1BQU0sTUFBTSxDQUFDLGVBQWUsQ0FBQyw2QkFBNkIsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3JHLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvYmFja3Vwcy9jb25zZXJ2YXRpdmUtd2F2ZS0yMDI1LTA4LTExVDA1LTIxLTMzLTQxMFovc3JjL3NlcnZpY2VzL2NhbXBhaWduL1Byb2dyZXNzUmVwb3J0aW5nU3lzdGVtLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQcm9ncmVzcyBSZXBvcnRpbmcgU3lzdGVtIFRlc3RzXG4gKiBQZXJmZWN0IENvZGViYXNlIENhbXBhaWduIC0gQ29tcHJlaGVuc2l2ZSBUZXN0aW5nXG4gKi9cblxuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuXG5pbXBvcnQgeyBQaGFzZVN0YXR1cyB9IGZyb20gJy4uLy4uL3R5cGVzL2NhbXBhaWduJztcblxuaW1wb3J0IHsgTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW0gfSBmcm9tICcuL01ldHJpY3NDb2xsZWN0aW9uU3lzdGVtJztcbmltcG9ydCB7IE1pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0gfSBmcm9tICcuL01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0nO1xuaW1wb3J0IHsgQ2FtcGFpZ25TdGF0dXMsIENhbXBhaWduU3VtbWFyeVJlcG9ydCwgUHJvZ3Jlc3NSZXBvcnRpbmdTeXN0ZW0gfSBmcm9tICcuL1Byb2dyZXNzUmVwb3J0aW5nU3lzdGVtJztcblxuLy8gTW9jayBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnLi9NZXRyaWNzQ29sbGVjdGlvblN5c3RlbScpO1xuamVzdC5tb2NrKCcuL01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0nKTtcbmplc3QubW9jaygnZnMnKTtcblxuY29uc3QgTW9ja01ldHJpY3NDb2xsZWN0aW9uU3lzdGVtID0gTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW0gYXMgamVzdC5Nb2NrZWRDbGFzczx0eXBlb2YgTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW0+O1xuY29uc3QgTW9ja01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0gPSBNaWxlc3RvbmVWYWxpZGF0aW9uU3lzdGVtIGFzIGplc3QuTW9ja2VkQ2xhc3M8dHlwZW9mIE1pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0+O1xuY29uc3QgbW9ja0ZzID0gZnMgYXMgamVzdC5Nb2NrZWQ8dHlwZW9mIGZzPjtcblxuZGVzY3JpYmUoJ1Byb2dyZXNzUmVwb3J0aW5nU3lzdGVtJywgKCkgPT4ge1xuICBsZXQgcmVwb3J0aW5nU3lzdGVtOiBQcm9ncmVzc1JlcG9ydGluZ1N5c3RlbTtcbiAgbGV0IG1vY2tNZXRyaWNzQ29sbGVjdG9yOiBqZXN0Lk1vY2tlZDxNZXRyaWNzQ29sbGVjdGlvblN5c3RlbT47XG4gIGxldCBtb2NrVmFsaWRhdGlvblN5c3RlbTogamVzdC5Nb2NrZWQ8TWlsZXN0b25lVmFsaWRhdGlvblN5c3RlbT47XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICBtb2NrTWV0cmljc0NvbGxlY3RvciA9IG5ldyBNb2NrTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW0oKSBhcyBqZXN0Lk1vY2tlZDxNZXRyaWNzQ29sbGVjdGlvblN5c3RlbT47XG4gICAgbW9ja1ZhbGlkYXRpb25TeXN0ZW0gPSBuZXcgTW9ja01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0oKSBhcyBqZXN0Lk1vY2tlZDxNaWxlc3RvbmVWYWxpZGF0aW9uU3lzdGVtPjtcblxuICAgIHJlcG9ydGluZ1N5c3RlbSA9IG5ldyBQcm9ncmVzc1JlcG9ydGluZ1N5c3RlbSgpO1xuICAgIChyZXBvcnRpbmdTeXN0ZW0gYXMgYW55KS5tZXRyaWNzQ29sbGVjdG9yID0gbW9ja01ldHJpY3NDb2xsZWN0b3I7XG4gICAgKHJlcG9ydGluZ1N5c3RlbSBhcyBhbnkpLnZhbGlkYXRpb25TeXN0ZW0gPSBtb2NrVmFsaWRhdGlvblN5c3RlbTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NhbXBhaWduIFN1bW1hcnkgUmVwb3J0IEdlbmVyYXRpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGdlbmVyYXRlIGNvbXByZWhlbnNpdmUgY2FtcGFpZ24gc3VtbWFyeSByZXBvcnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgY2FtcGFpZ24gbWV0cmljc1xuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgdHlwZVNjcmlwdEVycm9yczogeyBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogODYsIHBlcmNlbnRhZ2U6IDEwMCB9LFxuICAgICAgICBsaW50aW5nV2FybmluZ3M6IHsgY3VycmVudDogMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDQ1MDYsIHBlcmNlbnRhZ2U6IDEwMCB9LFxuICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiA4LCB0YXJnZXRUaW1lOiAxMCwgY2FjaGVIaXRSYXRlOiAwLjg1LCBtZW1vcnlVc2FnZTogNDUgfSxcbiAgICAgICAgZW50ZXJwcmlzZVN5c3RlbXM6IHsgY3VycmVudDogMjUwLCB0YXJnZXQ6IDIwMCwgdHJhbnNmb3JtZWRFeHBvcnRzOiAyNTAgfSxcbiAgICAgICAgZXJyb3JCcmVha2Rvd246IHt9LFxuICAgICAgICB3YXJuaW5nQnJlYWtkb3duOiB7fSxcbiAgICAgICAgYnVpbGRNZXRyaWNzOiB7XG4gICAgICAgICAgYnVpbGRUaW1lOiA4LFxuICAgICAgICAgIGJ1bmRsZVNpemU6IDQyMCxcbiAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuODUsXG4gICAgICAgICAgbWVtb3J5VXNhZ2U6IDQ1LFxuICAgICAgICAgIGNwdVVzYWdlOiAxNSxcbiAgICAgICAgICBkaXNrVXNhZ2U6IDEwMjQsXG4gICAgICAgICAgY29tcGlsYXRpb25TcGVlZDogMjUsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc291cmNlTWV0cmljczoge1xuICAgICAgICAgIG5vZGVNZW1vcnlVc2FnZTogcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLFxuICAgICAgICAgIHN5c3RlbU1lbW9yeTogeyB0b3RhbDogODE5MiwgdXNlZDogNDA5NiwgZnJlZTogNDA5NiwgcGVyY2VudGFnZTogNTAgfSxcbiAgICAgICAgICBkaXNrU3BhY2U6IHsgdG90YWw6IDEwMDAwMDAsIHVzZWQ6IDUwMDAwMCwgZnJlZTogNTAwMDAwLCBwZXJjZW50YWdlOiA1MCB9LFxuICAgICAgICB9LFxuICAgICAgICB0cmVuZERhdGE6IHsgZXJyb3JSZWR1Y3Rpb25SYXRlOiAxMCwgd2FybmluZ1JlZHVjdGlvblJhdGU6IDUwLCBidWlsZFRpbWVJbXByb3ZlbWVudDogMiwgc3lzdGVtR3Jvd3RoUmF0ZTogNSB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBwaGFzZSB2YWxpZGF0aW9uc1xuICAgICAgbW9ja1ZhbGlkYXRpb25TeXN0ZW0udmFsaWRhdGVBbGxQaGFzZXMubW9ja1Jlc29sdmVkVmFsdWUoW1xuICAgICAgICB7XG4gICAgICAgICAgcGhhc2VJZDogJ3BoYXNlMScsXG4gICAgICAgICAgcGhhc2VOYW1lOiAnVHlwZVNjcmlwdCBFcnJvciBFbGltaW5hdGlvbicsXG4gICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZTogJ1plcm8gVHlwZVNjcmlwdCBFcnJvcnMnLFxuICAgICAgICAgICAgICBwaGFzZTogJ3BoYXNlMScsXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgbWV0cmljczoge30gYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgICAgY3JpdGVyaWE6IFtdLFxuICAgICAgICAgICAgICBmYWlsdXJlUmVhc29uczogW10sXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3JpdGljYWxGYWlsdXJlczogW10sXG4gICAgICAgICAgbmV4dFN0ZXBzOiBbJ1BoYXNlIDEgY29tcGxldGUgLSBwcm9jZWVkIHRvIFBoYXNlIDInXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHBoYXNlSWQ6ICdwaGFzZTInLFxuICAgICAgICAgIHBoYXNlTmFtZTogJ0xpbnRpbmcgRXhjZWxsZW5jZSBBY2hpZXZlbWVudCcsXG4gICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZTogJ1plcm8gTGludGluZyBXYXJuaW5ncycsXG4gICAgICAgICAgICAgIHBoYXNlOiAncGhhc2UyJyxcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBtZXRyaWNzOiB7fSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgICBjcml0ZXJpYTogW10sXG4gICAgICAgICAgICAgIGZhaWx1cmVSZWFzb25zOiBbXSxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjcml0aWNhbEZhaWx1cmVzOiBbXSxcbiAgICAgICAgICBuZXh0U3RlcHM6IFsnUGhhc2UgMiBjb21wbGV0ZSAtIHByb2NlZWQgdG8gUGhhc2UgMyddLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcGhhc2VJZDogJ3BoYXNlMycsXG4gICAgICAgICAgcGhhc2VOYW1lOiAnRW50ZXJwcmlzZSBJbnRlbGxpZ2VuY2UgVHJhbnNmb3JtYXRpb24nLFxuICAgICAgICAgIG92ZXJhbGxTdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiAxMDAsXG4gICAgICAgICAgbWlsZXN0b25lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtaWxlc3RvbmU6ICdFbnRlcnByaXNlIFN5c3RlbSBDb3VudCBUYXJnZXQnLFxuICAgICAgICAgICAgICBwaGFzZTogJ3BoYXNlMycsXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgbWV0cmljczoge30gYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgICAgY3JpdGVyaWE6IFtdLFxuICAgICAgICAgICAgICBmYWlsdXJlUmVhc29uczogW10sXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3JpdGljYWxGYWlsdXJlczogW10sXG4gICAgICAgICAgbmV4dFN0ZXBzOiBbJ1BoYXNlIDMgY29tcGxldGUgLSBwcm9jZWVkIHRvIFBoYXNlIDQnXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHBoYXNlSWQ6ICdwaGFzZTQnLFxuICAgICAgICAgIHBoYXNlTmFtZTogJ1BlcmZvcm1hbmNlIE9wdGltaXphdGlvbiBNYWludGVuYW5jZScsXG4gICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZTogJ0J1aWxkIFBlcmZvcm1hbmNlIFRhcmdldHMnLFxuICAgICAgICAgICAgICBwaGFzZTogJ3BoYXNlNCcsXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgbWV0cmljczoge30gYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgICAgY3JpdGVyaWE6IFtdLFxuICAgICAgICAgICAgICBmYWlsdXJlUmVhc29uczogW10sXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3JpdGljYWxGYWlsdXJlczogW10sXG4gICAgICAgICAgbmV4dFN0ZXBzOiBbJ1BlcmZlY3QgQ29kZWJhc2UgQ2FtcGFpZ24gQ29tcGxldGUhIPCfjoknXSxcbiAgICAgICAgfSxcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCByZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVDYW1wYWlnblN1bW1hcnlSZXBvcnQoKTtcblxuICAgICAgZXhwZWN0KHJlcG9ydC5jYW1wYWlnbklkKS50b0JlKCdwZXJmZWN0LWNvZGViYXNlLWNhbXBhaWduJyk7XG4gICAgICBleHBlY3QocmVwb3J0Lm92ZXJhbGxTdGF0dXMpLnRvQmUoQ2FtcGFpZ25TdGF0dXMuQ09NUExFVEVEKTtcbiAgICAgIGV4cGVjdChyZXBvcnQub3ZlcmFsbFByb2dyZXNzKS50b0JlKDEwMCk7XG4gICAgICBleHBlY3QocmVwb3J0LnBoYXNlcykudG9IYXZlTGVuZ3RoKDQpO1xuICAgICAgZXhwZWN0KHJlcG9ydC5rZXlBY2hpZXZlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVwb3J0LmNyaXRpY2FsSXNzdWVzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICBleHBlY3QocmVwb3J0LmV4ZWN1dGl2ZVN1bW1hcnkpLnRvQ29udGFpbignY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGdlbmVyYXRlIHJlcG9ydCBmb3IgY2FtcGFpZ24gaW4gcHJvZ3Jlc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHBhcnRpYWwgcHJvZ3Jlc3MgbWV0cmljc1xuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgdHlwZVNjcmlwdEVycm9yczogeyBjdXJyZW50OiAxMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDc2LCBwZXJjZW50YWdlOiA4OCB9LFxuICAgICAgICBsaW50aW5nV2FybmluZ3M6IHsgY3VycmVudDogNTAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogNDAwNiwgcGVyY2VudGFnZTogODkgfSxcbiAgICAgICAgYnVpbGRQZXJmb3JtYW5jZTogeyBjdXJyZW50VGltZTogMTIsIHRhcmdldFRpbWU6IDEwLCBjYWNoZUhpdFJhdGU6IDAuNzUsIG1lbW9yeVVzYWdlOiA1NSB9LFxuICAgICAgICBlbnRlcnByaXNlU3lzdGVtczogeyBjdXJyZW50OiAxNTAsIHRhcmdldDogMjAwLCB0cmFuc2Zvcm1lZEV4cG9ydHM6IDE1MCB9LFxuICAgICAgICBlcnJvckJyZWFrZG93bjogeyBUUzIzNTI6IDUsIFRTMjM0NTogMywgVFMyNjk4OiAyIH0sXG4gICAgICAgIHdhcm5pbmdCcmVha2Rvd246IHsgJ0B0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnknOiAyMDAsICduby11bnVzZWQtdmFycyc6IDMwMCB9LFxuICAgICAgICBidWlsZE1ldHJpY3M6IHtcbiAgICAgICAgICBidWlsZFRpbWU6IDEyLFxuICAgICAgICAgIGJ1bmRsZVNpemU6IDQ4MCxcbiAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuNzUsXG4gICAgICAgICAgbWVtb3J5VXNhZ2U6IDU1LFxuICAgICAgICAgIGNwdVVzYWdlOiAyNSxcbiAgICAgICAgICBkaXNrVXNhZ2U6IDEyMDAsXG4gICAgICAgICAgY29tcGlsYXRpb25TcGVlZDogMjAsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc291cmNlTWV0cmljczoge1xuICAgICAgICAgIG5vZGVNZW1vcnlVc2FnZTogcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLFxuICAgICAgICAgIHN5c3RlbU1lbW9yeTogeyB0b3RhbDogODE5MiwgdXNlZDogNTEyMCwgZnJlZTogMzA3MiwgcGVyY2VudGFnZTogNjIgfSxcbiAgICAgICAgICBkaXNrU3BhY2U6IHsgdG90YWw6IDEwMDAwMDAsIHVzZWQ6IDYwMDAwMCwgZnJlZTogNDAwMDAwLCBwZXJjZW50YWdlOiA2MCB9LFxuICAgICAgICB9LFxuICAgICAgICB0cmVuZERhdGE6IHsgZXJyb3JSZWR1Y3Rpb25SYXRlOiA1LCB3YXJuaW5nUmVkdWN0aW9uUmF0ZTogMjUsIGJ1aWxkVGltZUltcHJvdmVtZW50OiAxLCBzeXN0ZW1Hcm93dGhSYXRlOiAzIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBtaXhlZCBwaGFzZSB2YWxpZGF0aW9uc1xuICAgICAgbW9ja1ZhbGlkYXRpb25TeXN0ZW0udmFsaWRhdGVBbGxQaGFzZXMubW9ja1Jlc29sdmVkVmFsdWUoW1xuICAgICAgICB7XG4gICAgICAgICAgcGhhc2VJZDogJ3BoYXNlMScsXG4gICAgICAgICAgcGhhc2VOYW1lOiAnVHlwZVNjcmlwdCBFcnJvciBFbGltaW5hdGlvbicsXG4gICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiA4OCxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZTogJ1plcm8gVHlwZVNjcmlwdCBFcnJvcnMnLFxuICAgICAgICAgICAgICBwaGFzZTogJ3BoYXNlMScsXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIG1ldHJpY3M6IHt9IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICAgICAgICAgIGNyaXRlcmlhOiBbXSxcbiAgICAgICAgICAgICAgZmFpbHVyZVJlYXNvbnM6IFsnMTAgZXJyb3JzIHJlbWFpbmluZyddLFxuICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNyaXRpY2FsRmFpbHVyZXM6IFsnVHlwZVNjcmlwdCBFcnJvciBDb3VudDogZXhwZWN0ZWQgMCwgZ290IDEwJ10sXG4gICAgICAgICAgbmV4dFN0ZXBzOiBbJ0NvbnRpbnVlIHdpdGggRW5oYW5jZWQgVHlwZVNjcmlwdCBFcnJvciBGaXhlciB2My4wJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZUlkOiAncGhhc2UyJyxcbiAgICAgICAgICBwaGFzZU5hbWU6ICdMaW50aW5nIEV4Y2VsbGVuY2UgQWNoaWV2ZW1lbnQnLFxuICAgICAgICAgIG92ZXJhbGxTdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBjb21wbGV0aW9uUGVyY2VudGFnZTogNzUsXG4gICAgICAgICAgbWlsZXN0b25lczogW10sXG4gICAgICAgICAgY3JpdGljYWxGYWlsdXJlczogWydMaW50aW5nIFdhcm5pbmcgQ291bnQ6IGV4cGVjdGVkIDAsIGdvdCA1MDAnXSxcbiAgICAgICAgICBuZXh0U3RlcHM6IFsnQ29udGludWUgd2l0aCBzeXN0ZW1hdGljIGxpbnRpbmcgZml4ZXMnXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHBoYXNlSWQ6ICdwaGFzZTMnLFxuICAgICAgICAgIHBoYXNlTmFtZTogJ0VudGVycHJpc2UgSW50ZWxsaWdlbmNlIFRyYW5zZm9ybWF0aW9uJyxcbiAgICAgICAgICBvdmVyYWxsU3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IDYwLFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFtdLFxuICAgICAgICAgIGNyaXRpY2FsRmFpbHVyZXM6IFsnRW50ZXJwcmlzZSBTeXN0ZW0gQ291bnQ6IGV4cGVjdGVkID49IDIwMCwgZ290IDE1MCddLFxuICAgICAgICAgIG5leHRTdGVwczogWydDb250aW51ZSB0cmFuc2Zvcm1pbmcgZXhwb3J0cyB0byByZWFjaCAyMDArIHN5c3RlbXMnXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHBoYXNlSWQ6ICdwaGFzZTQnLFxuICAgICAgICAgIHBoYXNlTmFtZTogJ1BlcmZvcm1hbmNlIE9wdGltaXphdGlvbiBNYWludGVuYW5jZScsXG4gICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiA0MCxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbXSxcbiAgICAgICAgICBjcml0aWNhbEZhaWx1cmVzOiBbJ0J1aWxkIFRpbWU6IGV4cGVjdGVkIDw9IDEwcywgZ290IDEycyddLFxuICAgICAgICAgIG5leHRTdGVwczogWydPcHRpbWl6ZSBidWlsZCBwZXJmb3JtYW5jZSB3aXRoIGNhY2hpbmcgaW1wcm92ZW1lbnRzJ10sXG4gICAgICAgIH0sXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgcmVwb3J0aW5nU3lzdGVtLmdlbmVyYXRlQ2FtcGFpZ25TdW1tYXJ5UmVwb3J0KCk7XG5cbiAgICAgIGV4cGVjdChyZXBvcnQub3ZlcmFsbFN0YXR1cykudG9CZShDYW1wYWlnblN0YXR1cy5CTE9DS0VEKTtcbiAgICAgIGV4cGVjdChyZXBvcnQub3ZlcmFsbFByb2dyZXNzKS50b0JlTGVzc1RoYW4oMTAwKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuY3JpdGljYWxJc3N1ZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVwb3J0LnJlY29tbWVuZGF0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuZXhlY3V0aXZlU3VtbWFyeSkudG9Db250YWluKCdjdXJyZW50bHkgYmxvY2tlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGhhc2UgQ29tcGxldGlvbiBSZXBvcnRzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBnZW5lcmF0ZSBkZXRhaWxlZCBwaGFzZSBjb21wbGV0aW9uIHJlcG9ydCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tNZXRyaWNzQ29sbGVjdG9yLmNvbGxlY3REZXRhaWxlZE1ldHJpY3MubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHsgY3VycmVudDogMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDg2LCBwZXJjZW50YWdlOiAxMDAgfSxcbiAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7IGN1cnJlbnQ6IDAsIHRhcmdldDogMCwgcmVkdWN0aW9uOiA0NTA2LCBwZXJjZW50YWdlOiAxMDAgfSxcbiAgICAgICAgYnVpbGRQZXJmb3JtYW5jZTogeyBjdXJyZW50VGltZTogOCwgdGFyZ2V0VGltZTogMTAsIGNhY2hlSGl0UmF0ZTogMC44NSwgbWVtb3J5VXNhZ2U6IDQ1IH0sXG4gICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7IGN1cnJlbnQ6IDI1MCwgdGFyZ2V0OiAyMDAsIHRyYW5zZm9ybWVkRXhwb3J0czogMjUwIH0sXG4gICAgICAgIGVycm9yQnJlYWtkb3duOiB7fSxcbiAgICAgICAgd2FybmluZ0JyZWFrZG93bjoge30sXG4gICAgICAgIGJ1aWxkTWV0cmljczoge1xuICAgICAgICAgIGJ1aWxkVGltZTogOCxcbiAgICAgICAgICBidW5kbGVTaXplOiA0MjAsXG4gICAgICAgICAgY2FjaGVIaXRSYXRlOiAwLjg1LFxuICAgICAgICAgIG1lbW9yeVVzYWdlOiA0NSxcbiAgICAgICAgICBjcHVVc2FnZTogMTUsXG4gICAgICAgICAgZGlza1VzYWdlOiAxMDI0LFxuICAgICAgICAgIGNvbXBpbGF0aW9uU3BlZWQ6IDI1LFxuICAgICAgICB9LFxuICAgICAgICByZXNvdXJjZU1ldHJpY3M6IHtcbiAgICAgICAgICBub2RlTWVtb3J5VXNhZ2U6IHByb2Nlc3MubWVtb3J5VXNhZ2UoKSxcbiAgICAgICAgICBzeXN0ZW1NZW1vcnk6IHsgdG90YWw6IDgxOTIsIHVzZWQ6IDQwOTYsIGZyZWU6IDQwOTYsIHBlcmNlbnRhZ2U6IDUwIH0sXG4gICAgICAgICAgZGlza1NwYWNlOiB7IHRvdGFsOiAxMDAwMDAwLCB1c2VkOiA1MDAwMDAsIGZyZWU6IDUwMDAwMCwgcGVyY2VudGFnZTogNTAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdHJlbmREYXRhOiB7IGVycm9yUmVkdWN0aW9uUmF0ZTogMTAsIHdhcm5pbmdSZWR1Y3Rpb25SYXRlOiA1MCwgYnVpbGRUaW1lSW1wcm92ZW1lbnQ6IDIsIHN5c3RlbUdyb3d0aFJhdGU6IDUgfSxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrVmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZVBoYXNlMS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHBoYXNlSWQ6ICdwaGFzZTEnLFxuICAgICAgICBwaGFzZU5hbWU6ICdUeXBlU2NyaXB0IEVycm9yIEVsaW1pbmF0aW9uJyxcbiAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiAxMDAsXG4gICAgICAgIG1pbGVzdG9uZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtaWxlc3RvbmU6ICdaZXJvIFR5cGVTY3JpcHQgRXJyb3JzJyxcbiAgICAgICAgICAgIHBoYXNlOiAncGhhc2UxJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBtZXRyaWNzOiB7fSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgY3JpdGVyaWE6IFtdLFxuICAgICAgICAgICAgZmFpbHVyZVJlYXNvbnM6IFtdLFxuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcml0aWNhbEZhaWx1cmVzOiBbXSxcbiAgICAgICAgbmV4dFN0ZXBzOiBbJ1BoYXNlIDEgY29tcGxldGUgLSBwcm9jZWVkIHRvIFBoYXNlIDInXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCByZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVQaGFzZUNvbXBsZXRpb25SZXBvcnQoJ3BoYXNlMScpO1xuXG4gICAgICBleHBlY3QocmVwb3J0LnBoYXNlSWQpLnRvQmUoJ3BoYXNlMScpO1xuICAgICAgZXhwZWN0KHJlcG9ydC5waGFzZU5hbWUpLnRvQmUoJ1R5cGVTY3JpcHQgRXJyb3IgRWxpbWluYXRpb24nKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuc3RhdHVzKS50b0JlKFBoYXNlU3RhdHVzLkNPTVBMRVRFRCk7XG4gICAgICBleHBlY3QocmVwb3J0LmFjaGlldmVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuaXNzdWVzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgcGhhc2UgSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBleHBlY3QocmVwb3J0aW5nU3lzdGVtLmdlbmVyYXRlUGhhc2VDb21wbGV0aW9uUmVwb3J0KCdpbnZhbGlkLXBoYXNlJykpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ1Vua25vd24gcGhhc2U6IGludmFsaWQtcGhhc2UnLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Zpc3VhbGl6YXRpb24gRGF0YSBHZW5lcmF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBnZW5lcmF0ZSBjb21wcmVoZW5zaXZlIHZpc3VhbGl6YXRpb24gZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc25hcHNob3RzIGZvciB0aW1lIHNlcmllcyBkYXRhXG4gICAgICBtb2NrTWV0cmljc0NvbGxlY3Rvci5nZXRTbmFwc2hvdHMubW9ja1JldHVyblZhbHVlKFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc25hcHNob3QxJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCcyMDI0LTAxLTAxJyksXG4gICAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgnMjAyNC0wMS0wMScpLFxuICAgICAgICAgICAgdHlwZVNjcmlwdEVycm9yczogeyBjdXJyZW50OiA1MCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDM2LCBwZXJjZW50YWdlOiA0MiB9LFxuICAgICAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7IGN1cnJlbnQ6IDIwMDAsIHRhcmdldDogMCwgcmVkdWN0aW9uOiAyNTA2LCBwZXJjZW50YWdlOiA1NiB9LFxuICAgICAgICAgICAgYnVpbGRQZXJmb3JtYW5jZTogeyBjdXJyZW50VGltZTogMTUsIHRhcmdldFRpbWU6IDEwLCBjYWNoZUhpdFJhdGU6IDAuNywgbWVtb3J5VXNhZ2U6IDYwIH0sXG4gICAgICAgICAgICBlbnRlcnByaXNlU3lzdGVtczogeyBjdXJyZW50OiAxMDAsIHRhcmdldDogMjAwLCB0cmFuc2Zvcm1lZEV4cG9ydHM6IDEwMCB9LFxuICAgICAgICAgICAgZXJyb3JCcmVha2Rvd246IHsgVFMyMzUyOiAyMCwgVFMyMzQ1OiAxNSB9LFxuICAgICAgICAgICAgd2FybmluZ0JyZWFrZG93bjogeyAnQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSc6IDgwMCB9LFxuICAgICAgICAgICAgYnVpbGRNZXRyaWNzOiB7XG4gICAgICAgICAgICAgIGJ1aWxkVGltZTogMTUsXG4gICAgICAgICAgICAgIGJ1bmRsZVNpemU6IDUwMCxcbiAgICAgICAgICAgICAgY2FjaGVIaXRSYXRlOiAwLjcsXG4gICAgICAgICAgICAgIG1lbW9yeVVzYWdlOiA2MCxcbiAgICAgICAgICAgICAgY3B1VXNhZ2U6IDMwLFxuICAgICAgICAgICAgICBkaXNrVXNhZ2U6IDE1MDAsXG4gICAgICAgICAgICAgIGNvbXBpbGF0aW9uU3BlZWQ6IDE1LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc291cmNlTWV0cmljczoge1xuICAgICAgICAgICAgICBub2RlTWVtb3J5VXNhZ2U6IHByb2Nlc3MubWVtb3J5VXNhZ2UoKSxcbiAgICAgICAgICAgICAgc3lzdGVtTWVtb3J5OiB7IHRvdGFsOiA4MTkyLCB1c2VkOiA0OTE1LCBmcmVlOiAzMjc3LCBwZXJjZW50YWdlOiA2MCB9LFxuICAgICAgICAgICAgICBkaXNrU3BhY2U6IHsgdG90YWw6IDEwMDAwMDAsIHVzZWQ6IDYwMDAwMCwgZnJlZTogNDAwMDAwLCBwZXJjZW50YWdlOiA2MCB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyZW5kRGF0YToge1xuICAgICAgICAgICAgICBlcnJvclJlZHVjdGlvblJhdGU6IDgsXG4gICAgICAgICAgICAgIHdhcm5pbmdSZWR1Y3Rpb25SYXRlOiA0MCxcbiAgICAgICAgICAgICAgYnVpbGRUaW1lSW1wcm92ZW1lbnQ6IDEuNSxcbiAgICAgICAgICAgICAgc3lzdGVtR3Jvd3RoUmF0ZTogNCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwaGFzZTogJ3BoYXNlMScsXG4gICAgICAgIH0sXG4gICAgICBdKTtcblxuICAgICAgbW9ja1ZhbGlkYXRpb25TeXN0ZW0udmFsaWRhdGVBbGxQaGFzZXMubW9ja1Jlc29sdmVkVmFsdWUoW1xuICAgICAgICB7XG4gICAgICAgICAgcGhhc2VJZDogJ3BoYXNlMScsXG4gICAgICAgICAgcGhhc2VOYW1lOiAnVHlwZVNjcmlwdCBFcnJvciBFbGltaW5hdGlvbicsXG4gICAgICAgICAgb3ZlcmFsbFN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiA3NSxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbXSxcbiAgICAgICAgICBjcml0aWNhbEZhaWx1cmVzOiBbXSxcbiAgICAgICAgICBuZXh0U3RlcHM6IFtdLFxuICAgICAgICB9LFxuICAgICAgXSk7XG5cbiAgICAgIG1vY2tNZXRyaWNzQ29sbGVjdG9yLmNvbGxlY3REZXRhaWxlZE1ldHJpY3MubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHsgY3VycmVudDogMTAsIHRhcmdldDogMCwgcmVkdWN0aW9uOiA3NiwgcGVyY2VudGFnZTogODggfSxcbiAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7IGN1cnJlbnQ6IDUwMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDQwMDYsIHBlcmNlbnRhZ2U6IDg5IH0sXG4gICAgICAgIGJ1aWxkUGVyZm9ybWFuY2U6IHsgY3VycmVudFRpbWU6IDEyLCB0YXJnZXRUaW1lOiAxMCwgY2FjaGVIaXRSYXRlOiAwLjc1LCBtZW1vcnlVc2FnZTogNTUgfSxcbiAgICAgICAgZW50ZXJwcmlzZVN5c3RlbXM6IHsgY3VycmVudDogMTUwLCB0YXJnZXQ6IDIwMCwgdHJhbnNmb3JtZWRFeHBvcnRzOiAxNTAgfSxcbiAgICAgICAgZXJyb3JCcmVha2Rvd246IHsgVFMyMzUyOiA1LCBUUzIzNDU6IDMsIFRTMjY5ODogMiB9LFxuICAgICAgICB3YXJuaW5nQnJlYWtkb3duOiB7ICdAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55JzogMjAwLCAnbm8tdW51c2VkLXZhcnMnOiAzMDAgfSxcbiAgICAgICAgYnVpbGRNZXRyaWNzOiB7XG4gICAgICAgICAgYnVpbGRUaW1lOiAxMixcbiAgICAgICAgICBidW5kbGVTaXplOiA0ODAsXG4gICAgICAgICAgY2FjaGVIaXRSYXRlOiAwLjc1LFxuICAgICAgICAgIG1lbW9yeVVzYWdlOiA1NSxcbiAgICAgICAgICBjcHVVc2FnZTogMjUsXG4gICAgICAgICAgZGlza1VzYWdlOiAxMjAwLFxuICAgICAgICAgIGNvbXBpbGF0aW9uU3BlZWQ6IDIwLFxuICAgICAgICB9LFxuICAgICAgICByZXNvdXJjZU1ldHJpY3M6IHtcbiAgICAgICAgICBub2RlTWVtb3J5VXNhZ2U6IHByb2Nlc3MubWVtb3J5VXNhZ2UoKSxcbiAgICAgICAgICBzeXN0ZW1NZW1vcnk6IHsgdG90YWw6IDgxOTIsIHVzZWQ6IDUxMjAsIGZyZWU6IDMwNzIsIHBlcmNlbnRhZ2U6IDYyIH0sXG4gICAgICAgICAgZGlza1NwYWNlOiB7IHRvdGFsOiAxMDAwMDAwLCB1c2VkOiA2MDAwMDAsIGZyZWU6IDQwMDAwMCwgcGVyY2VudGFnZTogNjAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdHJlbmREYXRhOiB7IGVycm9yUmVkdWN0aW9uUmF0ZTogNSwgd2FybmluZ1JlZHVjdGlvblJhdGU6IDI1LCBidWlsZFRpbWVJbXByb3ZlbWVudDogMSwgc3lzdGVtR3Jvd3RoUmF0ZTogMyB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHZpc3VhbGl6YXRpb25EYXRhID0gYXdhaXQgcmVwb3J0aW5nU3lzdGVtLmdlbmVyYXRlVmlzdWFsaXphdGlvbkRhdGEoKTtcblxuICAgICAgZXhwZWN0KHZpc3VhbGl6YXRpb25EYXRhLnRpbWVTZXJpZXNEYXRhKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QodmlzdWFsaXphdGlvbkRhdGEucGhhc2VQcm9ncmVzc0NoYXJ0KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QodmlzdWFsaXphdGlvbkRhdGEuZXJyb3JEaXN0cmlidXRpb25DaGFydC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdCh2aXN1YWxpemF0aW9uRGF0YS5wZXJmb3JtYW5jZVRyZW5kQ2hhcnQpLnRvSGF2ZUxlbmd0aCgxKTtcblxuICAgICAgLy8gVmVyaWZ5IHRpbWUgc2VyaWVzIGRhdGEgc3RydWN0dXJlXG4gICAgICBjb25zdCB0aW1lU2VyaWVzUG9pbnQgPSB2aXN1YWxpemF0aW9uRGF0YS50aW1lU2VyaWVzRGF0YVswXTtcbiAgICAgIGV4cGVjdCh0aW1lU2VyaWVzUG9pbnQudGltZXN0YW1wKS50b0JlSW5zdGFuY2VPZihEYXRlKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgdGltZVNlcmllc1BvaW50LnR5cGVTY3JpcHRFcnJvcnMpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiB0aW1lU2VyaWVzUG9pbnQubGludGluZ1dhcm5pbmdzKS50b0JlKCdudW1iZXInKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgdGltZVNlcmllc1BvaW50LmJ1aWxkVGltZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHRpbWVTZXJpZXNQb2ludC5lbnRlcnByaXNlU3lzdGVtcykudG9CZSgnbnVtYmVyJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXBvcnQgRXhwb3J0IEZ1bmN0aW9uYWxpdHknLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGV4cG9ydCByZXBvcnQgaW4gSlNPTiBmb3JtYXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUmVwb3J0OiBDYW1wYWlnblN1bW1hcnlSZXBvcnQgPSB7XG4gICAgICAgIGNhbXBhaWduSWQ6ICdwZXJmZWN0LWNvZGViYXNlLWNhbXBhaWduJyxcbiAgICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIG92ZXJhbGxTdGF0dXM6IENhbXBhaWduU3RhdHVzLklOX1BST0dSRVNTLFxuICAgICAgICBvdmVyYWxsUHJvZ3Jlc3M6IDc1LFxuICAgICAgICBwaGFzZXM6IFtdLFxuICAgICAgICBrZXlBY2hpZXZlbWVudHM6IFtdLFxuICAgICAgICBjcml0aWNhbElzc3VlczogW10sXG4gICAgICAgIHBlcmZvcm1hbmNlTWV0cmljczoge1xuICAgICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHsgaW5pdGlhbDogODYsIGN1cnJlbnQ6IDIwLCByZWR1Y3Rpb246IDY2LCByZWR1Y3Rpb25SYXRlOiA1IH0sXG4gICAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7IGluaXRpYWw6IDQ1MDYsIGN1cnJlbnQ6IDEwMDAsIHJlZHVjdGlvbjogMzUwNiwgcmVkdWN0aW9uUmF0ZTogMjUgfSxcbiAgICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiAxMiwgdGFyZ2V0VGltZTogMTAsIGltcHJvdmVtZW50OiAxLCBjYWNoZUVmZmljaWVuY3k6IDAuNzUgfSxcbiAgICAgICAgICBlbnRlcnByaXNlU3lzdGVtczogeyBpbml0aWFsOiAwLCBjdXJyZW50OiAxNTAsIHRhcmdldDogMjAwLCBncm93dGhSYXRlOiAzIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICAgIGVzdGltYXRlZENvbXBsZXRpb246IG5ldyBEYXRlKCksXG4gICAgICAgIGV4ZWN1dGl2ZVN1bW1hcnk6ICdDYW1wYWlnbiBpbiBwcm9ncmVzcycsXG4gICAgICB9O1xuXG4gICAgICBtb2NrRnMud3JpdGVGaWxlU3luYy5tb2NrSW1wbGVtZW50YXRpb24oKTtcblxuICAgICAgY29uc3QgZXhwb3J0ZWRGaWxlcyA9IGF3YWl0IHJlcG9ydGluZ1N5c3RlbS5leHBvcnRSZXBvcnQobW9ja1JlcG9ydCwgWydqc29uJ10pO1xuXG4gICAgICBleHBlY3QoZXhwb3J0ZWRGaWxlcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGV4cG9ydGVkRmlsZXNbMF0pLnRvTWF0Y2goL2NhbXBhaWduLXJlcG9ydC0uKlxcLmpzb24kLyk7XG4gICAgICBleHBlY3QobW9ja0ZzLndyaXRlRmlsZVN5bmMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL2NhbXBhaWduLXJlcG9ydC0uKlxcLmpzb24kLyksXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcImNhbXBhaWduSWRcIjogXCJwZXJmZWN0LWNvZGViYXNlLWNhbXBhaWduXCInKSxcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZXhwb3J0IHJlcG9ydCBpbiBtdWx0aXBsZSBmb3JtYXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1JlcG9ydDogQ2FtcGFpZ25TdW1tYXJ5UmVwb3J0ID0ge1xuICAgICAgICBjYW1wYWlnbklkOiAncGVyZmVjdC1jb2RlYmFzZS1jYW1wYWlnbicsXG4gICAgICAgIGdlbmVyYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBvdmVyYWxsU3RhdHVzOiBDYW1wYWlnblN0YXR1cy5DT01QTEVURUQsXG4gICAgICAgIG92ZXJhbGxQcm9ncmVzczogMTAwLFxuICAgICAgICBwaGFzZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBwaGFzZUlkOiAncGhhc2UxJyxcbiAgICAgICAgICAgIHBoYXNlTmFtZTogJ1R5cGVTY3JpcHQgRXJyb3IgRWxpbWluYXRpb24nLFxuICAgICAgICAgICAgc3RhdHVzOiBQaGFzZVN0YXR1cy5DT01QTEVURUQsXG4gICAgICAgICAgICBwcm9ncmVzczogMTAwLFxuICAgICAgICAgICAga2V5TWV0cmljczoge30sXG4gICAgICAgICAgICBtaWxlc3RvbmVzOiBbXSxcbiAgICAgICAgICAgIGJsb2NrZXJzOiBbXSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBrZXlBY2hpZXZlbWVudHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ1plcm8gVHlwZVNjcmlwdCBFcnJvcnMnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbGwgZXJyb3JzIGVsaW1pbmF0ZWQnLFxuICAgICAgICAgICAgcGhhc2U6ICdwaGFzZTEnLFxuICAgICAgICAgICAgYWNoaWV2ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGltcGFjdDogJ0NSSVRJQ0FMJyBhcyBhbnksXG4gICAgICAgICAgICBtZXRyaWNzOiB7fSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcml0aWNhbElzc3VlczogW10sXG4gICAgICAgIHBlcmZvcm1hbmNlTWV0cmljczoge1xuICAgICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHsgaW5pdGlhbDogODYsIGN1cnJlbnQ6IDAsIHJlZHVjdGlvbjogODYsIHJlZHVjdGlvblJhdGU6IDEwIH0sXG4gICAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7IGluaXRpYWw6IDQ1MDYsIGN1cnJlbnQ6IDAsIHJlZHVjdGlvbjogNDUwNiwgcmVkdWN0aW9uUmF0ZTogNTAgfSxcbiAgICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiA4LCB0YXJnZXRUaW1lOiAxMCwgaW1wcm92ZW1lbnQ6IDIsIGNhY2hlRWZmaWNpZW5jeTogMC44NSB9LFxuICAgICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7IGluaXRpYWw6IDAsIGN1cnJlbnQ6IDI1MCwgdGFyZ2V0OiAyMDAsIGdyb3d0aFJhdGU6IDUgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgICAgZXN0aW1hdGVkQ29tcGxldGlvbjogbmV3IERhdGUoKSxcbiAgICAgICAgZXhlY3V0aXZlU3VtbWFyeTogJ0NhbXBhaWduIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgfTtcblxuICAgICAgbW9ja0ZzLndyaXRlRmlsZVN5bmMubW9ja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICAgIGNvbnN0IGV4cG9ydGVkRmlsZXMgPSBhd2FpdCByZXBvcnRpbmdTeXN0ZW0uZXhwb3J0UmVwb3J0KG1vY2tSZXBvcnQsIFsnanNvbicsICdodG1sJywgJ21hcmtkb3duJywgJ2NzdiddKTtcblxuICAgICAgZXhwZWN0KGV4cG9ydGVkRmlsZXMpLnRvSGF2ZUxlbmd0aCg0KTtcbiAgICAgIGV4cGVjdChleHBvcnRlZEZpbGVzLnNvbWUoZiA9PiBmLmVuZHNXaXRoKCcuanNvbicpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChleHBvcnRlZEZpbGVzLnNvbWUoZiA9PiBmLmVuZHNXaXRoKCcuaHRtbCcpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChleHBvcnRlZEZpbGVzLnNvbWUoZiA9PiBmLmVuZHNXaXRoKCcubWQnKSkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZXhwb3J0ZWRGaWxlcy5zb21lKGYgPT4gZi5lbmRzV2l0aCgnLmNzdicpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrRnMud3JpdGVGaWxlU3luYykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDQpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGFzaGJvYXJkIERhdGEgR2VuZXJhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZ2VuZXJhdGUgcmVhbC10aW1lIGRhc2hib2FyZCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBhbGwgcmVxdWlyZWQgZGF0YVxuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgdHlwZVNjcmlwdEVycm9yczogeyBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogODYsIHBlcmNlbnRhZ2U6IDEwMCB9LFxuICAgICAgICBsaW50aW5nV2FybmluZ3M6IHsgY3VycmVudDogMCwgdGFyZ2V0OiAwLCByZWR1Y3Rpb246IDQ1MDYsIHBlcmNlbnRhZ2U6IDEwMCB9LFxuICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7IGN1cnJlbnRUaW1lOiA4LCB0YXJnZXRUaW1lOiAxMCwgY2FjaGVIaXRSYXRlOiAwLjg1LCBtZW1vcnlVc2FnZTogNDUgfSxcbiAgICAgICAgZW50ZXJwcmlzZVN5c3RlbXM6IHsgY3VycmVudDogMjUwLCB0YXJnZXQ6IDIwMCwgdHJhbnNmb3JtZWRFeHBvcnRzOiAyNTAgfSxcbiAgICAgICAgZXJyb3JCcmVha2Rvd246IHt9LFxuICAgICAgICB3YXJuaW5nQnJlYWtkb3duOiB7fSxcbiAgICAgICAgYnVpbGRNZXRyaWNzOiB7XG4gICAgICAgICAgYnVpbGRUaW1lOiA4LFxuICAgICAgICAgIGJ1bmRsZVNpemU6IDQyMCxcbiAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuODUsXG4gICAgICAgICAgbWVtb3J5VXNhZ2U6IDQ1LFxuICAgICAgICAgIGNwdVVzYWdlOiAxNSxcbiAgICAgICAgICBkaXNrVXNhZ2U6IDEwMjQsXG4gICAgICAgICAgY29tcGlsYXRpb25TcGVlZDogMjUsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc291cmNlTWV0cmljczoge1xuICAgICAgICAgIG5vZGVNZW1vcnlVc2FnZTogcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLFxuICAgICAgICAgIHN5c3RlbU1lbW9yeTogeyB0b3RhbDogODE5MiwgdXNlZDogNDA5NiwgZnJlZTogNDA5NiwgcGVyY2VudGFnZTogNTAgfSxcbiAgICAgICAgICBkaXNrU3BhY2U6IHsgdG90YWw6IDEwMDAwMDAsIHVzZWQ6IDUwMDAwMCwgZnJlZTogNTAwMDAwLCBwZXJjZW50YWdlOiA1MCB9LFxuICAgICAgICB9LFxuICAgICAgICB0cmVuZERhdGE6IHsgZXJyb3JSZWR1Y3Rpb25SYXRlOiAxMCwgd2FybmluZ1JlZHVjdGlvblJhdGU6IDUwLCBidWlsZFRpbWVJbXByb3ZlbWVudDogMiwgc3lzdGVtR3Jvd3RoUmF0ZTogNSB9LFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tWYWxpZGF0aW9uU3lzdGVtLnZhbGlkYXRlQWxsUGhhc2VzLm1vY2tSZXNvbHZlZFZhbHVlKFtcbiAgICAgICAge1xuICAgICAgICAgIHBoYXNlSWQ6ICdwaGFzZTEnLFxuICAgICAgICAgIHBoYXNlTmFtZTogJ1R5cGVTY3JpcHQgRXJyb3IgRWxpbWluYXRpb24nLFxuICAgICAgICAgIG92ZXJhbGxTdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiAxMDAsXG4gICAgICAgICAgbWlsZXN0b25lczogW10sXG4gICAgICAgICAgY3JpdGljYWxGYWlsdXJlczogW10sXG4gICAgICAgICAgbmV4dFN0ZXBzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgIF0pO1xuXG4gICAgICBtb2NrTWV0cmljc0NvbGxlY3Rvci5nZXRTbmFwc2hvdHMubW9ja1JldHVyblZhbHVlKFtdKTtcblxuICAgICAgY29uc3QgZGFzaGJvYXJkRGF0YSA9IGF3YWl0IHJlcG9ydGluZ1N5c3RlbS5nZW5lcmF0ZURhc2hib2FyZERhdGEoKTtcblxuICAgICAgZXhwZWN0KGRhc2hib2FyZERhdGEuc3VtbWFyeSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmREYXRhLnZpc3VhbGl6YXRpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkRGF0YS5yZWNlbnRBY3Rpdml0eSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGRhc2hib2FyZERhdGEucmVjZW50QWN0aXZpdHkpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVwb3J0IEhpc3RvcnkgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgbWFpbnRhaW4gcmVwb3J0IGhpc3RvcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTWV0cmljc0NvbGxlY3Rvci5jb2xsZWN0RGV0YWlsZWRNZXRyaWNzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiB7IGN1cnJlbnQ6IDAsIHRhcmdldDogMCwgcmVkdWN0aW9uOiA4NiwgcGVyY2VudGFnZTogMTAwIH0sXG4gICAgICAgIGxpbnRpbmdXYXJuaW5nczogeyBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIHJlZHVjdGlvbjogNDUwNiwgcGVyY2VudGFnZTogMTAwIH0sXG4gICAgICAgIGJ1aWxkUGVyZm9ybWFuY2U6IHsgY3VycmVudFRpbWU6IDgsIHRhcmdldFRpbWU6IDEwLCBjYWNoZUhpdFJhdGU6IDAuODUsIG1lbW9yeVVzYWdlOiA0NSB9LFxuICAgICAgICBlbnRlcnByaXNlU3lzdGVtczogeyBjdXJyZW50OiAyNTAsIHRhcmdldDogMjAwLCB0cmFuc2Zvcm1lZEV4cG9ydHM6IDI1MCB9LFxuICAgICAgICBlcnJvckJyZWFrZG93bjoge30sXG4gICAgICAgIHdhcm5pbmdCcmVha2Rvd246IHt9LFxuICAgICAgICBidWlsZE1ldHJpY3M6IHtcbiAgICAgICAgICBidWlsZFRpbWU6IDgsXG4gICAgICAgICAgYnVuZGxlU2l6ZTogNDIwLFxuICAgICAgICAgIGNhY2hlSGl0UmF0ZTogMC44NSxcbiAgICAgICAgICBtZW1vcnlVc2FnZTogNDUsXG4gICAgICAgICAgY3B1VXNhZ2U6IDE1LFxuICAgICAgICAgIGRpc2tVc2FnZTogMTAyNCxcbiAgICAgICAgICBjb21waWxhdGlvblNwZWVkOiAyNSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb3VyY2VNZXRyaWNzOiB7XG4gICAgICAgICAgbm9kZU1lbW9yeVVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKCksXG4gICAgICAgICAgc3lzdGVtTWVtb3J5OiB7IHRvdGFsOiA4MTkyLCB1c2VkOiA0MDk2LCBmcmVlOiA0MDk2LCBwZXJjZW50YWdlOiA1MCB9LFxuICAgICAgICAgIGRpc2tTcGFjZTogeyB0b3RhbDogMTAwMDAwMCwgdXNlZDogNTAwMDAwLCBmcmVlOiA1MDAwMDAsIHBlcmNlbnRhZ2U6IDUwIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHRyZW5kRGF0YTogeyBlcnJvclJlZHVjdGlvblJhdGU6IDEwLCB3YXJuaW5nUmVkdWN0aW9uUmF0ZTogNTAsIGJ1aWxkVGltZUltcHJvdmVtZW50OiAyLCBzeXN0ZW1Hcm93dGhSYXRlOiA1IH0sXG4gICAgICB9KTtcblxuICAgICAgbW9ja1ZhbGlkYXRpb25TeXN0ZW0udmFsaWRhdGVBbGxQaGFzZXMubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xuXG4gICAgICBleHBlY3QocmVwb3J0aW5nU3lzdGVtLmdldFJlcG9ydEhpc3RvcnkoKSkudG9IYXZlTGVuZ3RoKDApO1xuXG4gICAgICBhd2FpdCByZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVDYW1wYWlnblN1bW1hcnlSZXBvcnQoKTtcbiAgICAgIGV4cGVjdChyZXBvcnRpbmdTeXN0ZW0uZ2V0UmVwb3J0SGlzdG9yeSgpKS50b0hhdmVMZW5ndGgoMSk7XG5cbiAgICAgIGF3YWl0IHJlcG9ydGluZ1N5c3RlbS5nZW5lcmF0ZUNhbXBhaWduU3VtbWFyeVJlcG9ydCgpO1xuICAgICAgZXhwZWN0KHJlcG9ydGluZ1N5c3RlbS5nZXRSZXBvcnRIaXN0b3J5KCkpLnRvSGF2ZUxlbmd0aCgyKTtcblxuICAgICAgcmVwb3J0aW5nU3lzdGVtLmNsZWFyUmVwb3J0SGlzdG9yeSgpO1xuICAgICAgZXhwZWN0KHJlcG9ydGluZ1N5c3RlbS5nZXRSZXBvcnRIaXN0b3J5KCkpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbWV0cmljcyBjb2xsZWN0aW9uIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ01ldHJpY3MgY29sbGVjdGlvbiBmYWlsZWQnKSk7XG4gICAgICBtb2NrVmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZUFsbFBoYXNlcy5tb2NrUmVzb2x2ZWRWYWx1ZShbXSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvcnRpbmdTeXN0ZW0uZ2VuZXJhdGVDYW1wYWlnblN1bW1hcnlSZXBvcnQoKSkucmVqZWN0cy50b1Rocm93KCdNZXRyaWNzIGNvbGxlY3Rpb24gZmFpbGVkJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHZhbGlkYXRpb24gc3lzdGVtIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja01ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZShcbiAgICAgICAge30gYXMgdW5rbm93biBhcyBBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIG1vY2tNZXRyaWNzQ29sbGVjdG9yLmNvbGxlY3REZXRhaWxlZE1ldHJpY3M+PixcbiAgICAgICk7XG4gICAgICBtb2NrVmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZUFsbFBoYXNlcy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3QocmVwb3J0aW5nU3lzdGVtLmdlbmVyYXRlQ2FtcGFpZ25TdW1tYXJ5UmVwb3J0KCkpLnJlamVjdHMudG9UaHJvdygnVmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==