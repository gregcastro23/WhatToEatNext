9de6d883cc4b2586ad614557dcaca1d0
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const globals_1 = require("@jest/globals");
// Mock external dependencies
globals_1.jest.mock('next/navigation', () => ({
    useRouter: () => ({
        push: globals_1.jest.fn(),
        replace: globals_1.jest.fn(),
        prefetch: globals_1.jest.fn(),
        back: globals_1.jest.fn(),
        forward: globals_1.jest.fn(),
        refresh: globals_1.jest.fn(),
        pathname: '/',
        query: {},
        asPath: '/'
    })
}));
globals_1.jest.mock('../../utils/logger', () => ({
    logger: {
        info: globals_1.jest.fn(),
        debug: globals_1.jest.fn(),
        warn: globals_1.jest.fn(),
        error: globals_1.jest.fn()
    },
    createLogger: globals_1.jest.fn(() => ({
        info: globals_1.jest.fn(),
        debug: globals_1.jest.fn(),
        warn: globals_1.jest.fn(),
        error: globals_1.jest.fn(),
        log: globals_1.jest.fn()
    }))
}));
globals_1.jest.mock('../../utils/reliableAstronomy', () => ({
    getReliablePlanetaryPositions: globals_1.jest.fn().mockResolvedValue({
        sun: { sign: 'aries', degree: 8.5, exactLongitude: 8.5, isRetrograde: false },
        moon: { sign: 'aries', degree: 1.57, exactLongitude: 1.57, isRetrograde: false },
        mercury: { sign: 'aries', degree: 0.85, exactLongitude: 0.85, isRetrograde: true }
    })
}));
// Mock hooks that might cause issues
globals_1.jest.mock('../../hooks/useAgentHooks', () => ({
    useAgentHooks: () => ({
        hookState: { isActive: false, lastRun: null, results: [] },
        startAgentHooks: globals_1.jest.fn(),
        stopAgentHooks: globals_1.jest.fn(),
        triggerValidation: globals_1.jest.fn()
    }),
    usePlanetaryDataValidationHook: () => ({ isValid: true }),
    useIngredientConsistencyHook: () => ({ isConsistent: true }),
    useTypeScriptCampaignHook: () => ({ campaignActive: false }),
    useBuildQualityMonitoringHook: () => ({ quality: 'good' }),
    useQualityMetricsHook: () => ({ metrics: {} })
}));
globals_1.jest.mock('../../utils/mcpServerIntegration', () => ({
    useMCPServerIntegration: () => ({
        isConnected: true,
        serverStatus: 'connected',
        availableTools: []
    })
}));
globals_1.jest.mock('../../utils/developmentExperienceOptimizations', () => ({
    useDevelopmentExperienceOptimizations: () => ({
        optimizationsActive: true,
        performanceMetrics: {}
    })
}));
/**
 * Comprehensive Main Page Validation Tests
 * Task 11.2: Validate all requirements and perform final testing
 */
const react_1 = __importDefault(require("react"));
const react_2 = require("@testing-library/react");
const App_1 = __importDefault(require("../../../App"));
const AlchemicalContext_1 = require("../../contexts/AlchemicalContext");
const MainPageLayout_1 = __importDefault(require("../../components/layout/MainPageLayout"));
describe('Main Page Validation - Task 11.2', () => {
    beforeEach(() => {
        // Clear all mocks before each test
        globals_1.jest.clearAllMocks();
        // Mock window.scrollTo
        Object.defineProperty(window, 'scrollTo', {
            value: globals_1.jest.fn(),
            writable: true
        });
        // Mock localStorage
        const localStorageMock = {
            getItem: globals_1.jest.fn(),
            setItem: globals_1.jest.fn(),
            removeItem: globals_1.jest.fn(),
            clear: globals_1.jest.fn()
        };
        Object.defineProperty(window, 'localStorage', {
            value: localStorageMock
        });
    });
    describe('1. Component Interactions and Data Flow', () => {
        test('App renders without crashing', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(App_1.default, {}));
            });
            // Should render without throwing errors
            expect(react_2.screen.getByText(/Loading Astrological Data/i)).toBeInTheDocument();
        });
        test('MainPageLayout renders with AlchemicalProvider', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should render the main layout
            expect(document.body).toBeInTheDocument();
        });
        test('Error boundary handles errors gracefully', async () => {
            const ThrowError = () => {
                throw new Error('Test error');
            };
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false, children: (0, jsx_runtime_1.jsx)(ThrowError, {}) }) }));
            });
            // Should handle error without crashing
            expect(document.body).toBeInTheDocument();
        });
    });
    describe('2. Navigation Functionality', () => {
        test('Navigation state is preserved', async () => {
            const mockOnSectionNavigate = globals_1.jest.fn();
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false, onSectionNavigate: mockOnSectionNavigate }) }));
            });
            // Navigation should be functional
            expect(document.body).toBeInTheDocument();
        });
        test('Scroll position is preserved', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Simulate scroll
            react_2.fireEvent.scroll(window, { target: { scrollY: 100 } });
            // Should handle scroll events
            expect(window.scrollTo).toBeDefined();
        });
    });
    describe('3. Debug Panel Functionality', () => {
        test('Debug panel renders in development mode', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: true, loading: false }) }));
            });
            // Should render without errors in debug mode
            expect(document.body).toBeInTheDocument();
        });
        test('Debug panel is hidden in production mode', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should render without errors in production mode
            expect(document.body).toBeInTheDocument();
        });
    });
    describe('4. Loading States', () => {
        test('Loading state displays correctly', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: true }) }));
            });
            // Should handle loading state
            expect(document.body).toBeInTheDocument();
        });
        test('Connected state displays when not loading', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should handle connected state
            expect(document.body).toBeInTheDocument();
        });
    });
    describe('5. Context and State Management', () => {
        test('AlchemicalProvider provides context', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Context should be provided
            expect(document.body).toBeInTheDocument();
        });
        test('State preservation works correctly', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // State preservation should work
            expect(localStorage.setItem).toBeDefined();
        });
    });
    describe('6. Error Handling', () => {
        test('Global error boundary catches errors', async () => {
            // Mock console.error to prevent test output noise
            const consoleSpy = globals_1.jest.spyOn(console, 'error').mockImplementation(() => { });
            const ErrorComponent = () => {
                throw new Error('Test error for error boundary');
            };
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(App_1.default, { children: (0, jsx_runtime_1.jsx)(ErrorComponent, {}) }));
            });
            // Should handle errors gracefully
            expect(document.body).toBeInTheDocument();
            consoleSpy.mockRestore();
        });
        test('Component-level error boundaries work', async () => {
            const consoleSpy = globals_1.jest.spyOn(console, 'error').mockImplementation(() => { });
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should render without errors
            expect(document.body).toBeInTheDocument();
            consoleSpy.mockRestore();
        });
    });
    describe('7. Performance and Accessibility', () => {
        test('Components are memoized for performance', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should render efficiently
            expect(document.body).toBeInTheDocument();
        });
        test('Lazy loading works for non-critical components', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: true, loading: false }) }));
            });
            // Should handle lazy loading
            expect(document.body).toBeInTheDocument();
        });
    });
    describe('8. Integration with External Systems', () => {
        test('Astrological calculations integrate correctly', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should integrate with astrological systems
            expect(document.body).toBeInTheDocument();
        });
        test('Agent hooks integrate correctly', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should integrate with agent hooks
            expect(document.body).toBeInTheDocument();
        });
    });
    describe('9. Mobile Responsiveness', () => {
        test('Layout adapts to mobile viewport', async () => {
            // Mock mobile viewport
            Object.defineProperty(window, 'innerWidth', {
                writable: true,
                configurable: true,
                value: 375,
            });
            Object.defineProperty(window, 'innerHeight', {
                writable: true,
                configurable: true,
                value: 667,
            });
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should handle mobile viewport
            expect(document.body).toBeInTheDocument();
        });
        test('Touch interactions work correctly', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should handle touch interactions
            expect(document.body).toBeInTheDocument();
        });
    });
    describe('10. System Integration Validation', () => {
        test('All required systems are integrated', async () => {
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(App_1.default, {}));
            });
            // Should integrate all systems
            expect(document.body).toBeInTheDocument();
        });
        test('Fallback mechanisms work correctly', async () => {
            // Mock API failure
            globals_1.jest.mocked(require('../../utils/reliableAstronomy').getReliablePlanetaryPositions)
                .mockRejectedValueOnce(new Error('API Error'));
            await (0, react_2.act)(async () => {
                (0, react_2.render)((0, jsx_runtime_1.jsx)(AlchemicalContext_1.AlchemicalProvider, { children: (0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { debugMode: false, loading: false }) }));
            });
            // Should handle API failures gracefully
            expect(document.body).toBeInTheDocument();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9fX3Rlc3RzX18vdmFsaWRhdGlvbi9NYWluUGFnZVZhbGlkYXRpb24udGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBT0EsMkNBQXFDO0FBS3JDLDZCQUE2QjtBQUM3QixjQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDbEMsU0FBUyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDaEIsSUFBSSxFQUFFLGNBQUksQ0FBQyxFQUFFLEVBQUU7UUFDZixPQUFPLEVBQUUsY0FBSSxDQUFDLEVBQUUsRUFBRTtRQUNsQixRQUFRLEVBQUUsY0FBSSxDQUFDLEVBQUUsRUFBRTtRQUNuQixJQUFJLEVBQUUsY0FBSSxDQUFDLEVBQUUsRUFBRTtRQUNmLE9BQU8sRUFBRSxjQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2xCLE9BQU8sRUFBRSxjQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2xCLFFBQVEsRUFBRSxHQUFHO1FBQ2IsS0FBSyxFQUFFLEVBQUU7UUFDVCxNQUFNLEVBQUUsR0FBRztLQUNaLENBQUM7Q0FDSCxDQUFDLENBQUMsQ0FBQztBQUVKLGNBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNyQyxNQUFNLEVBQUU7UUFDTixJQUFJLEVBQUUsY0FBSSxDQUFDLEVBQUUsRUFBRTtRQUNmLEtBQUssRUFBRSxjQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2hCLElBQUksRUFBRSxjQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2YsS0FBSyxFQUFFLGNBQUksQ0FBQyxFQUFFLEVBQUU7S0FDakI7SUFDRCxZQUFZLEVBQUUsY0FBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQzNCLElBQUksRUFBRSxjQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2YsS0FBSyxFQUFFLGNBQUksQ0FBQyxFQUFFLEVBQUU7UUFDaEIsSUFB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QUVqRCxNQUFNLElBQUEsV0FBRyxFQUFDLEtBQUssSUFBSSxFQUFFO2dCQUNuQixJQUFBLGNBQU0sRUFDSix1QkFBQyxzQ0FBa0IsY0FDakIsdUJBQUMsd0JBQWMsSUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLEdBQUksR0FDakMsQ0FDdEIsQ0FBQztZQUNKLENBQUMsQ0FBQyxDQUFDO1lBRUgsd0NBQXdDO1lBQ3hDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUM1QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9fX3Rlc3RzX18vdmFsaWRhdGlvbi9NYWluUGFnZVZhbGlkYXRpb24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21wcmVoZW5zaXZlIE1haW4gUGFnZSBWYWxpZGF0aW9uIFRlc3RzXG4gKiBUYXNrIDExLjI6IFZhbGlkYXRlIGFsbCByZXF1aXJlbWVudHMgYW5kIHBlcmZvcm0gZmluYWwgdGVzdGluZ1xuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCBBcHAgZnJvbSAnLi4vLi4vLi4vQXBwJztcbmltcG9ydCB7IEFsY2hlbWljYWxQcm92aWRlciB9IGZyb20gJy4uLy4uL2NvbnRleHRzL0FsY2hlbWljYWxDb250ZXh0JztcbmltcG9ydCBNYWluUGFnZUxheW91dCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2xheW91dC9NYWluUGFnZUxheW91dCc7XG5cbi8vIE1vY2sgZXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVJvdXRlcjogKCkgPT4gKHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gICAgcmVwbGFjZTogamVzdC5mbigpLFxuICAgIHByZWZldGNoOiBqZXN0LmZuKCksXG4gICAgYmFjazogamVzdC5mbigpLFxuICAgIGZvcndhcmQ6IGplc3QuZm4oKSxcbiAgICByZWZyZXNoOiBqZXN0LmZuKCksXG4gICAgcGF0aG5hbWU6ICcvJyxcbiAgICBxdWVyeToge30sXG4gICAgYXNQYXRoOiAnLydcbiAgfSlcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi91dGlscy9sb2dnZXInLCAoKSA9PiAoe1xuICBsb2dnZXI6IHtcbiAgICBpbmZvOiBqZXN0LmZuKCksXG4gICAgZGVidWc6IGplc3QuZm4oKSxcbiAgICB3YXJuOiBqZXN0LmZuKCksXG4gICAgZXJyb3I6IGplc3QuZm4oKVxuICB9LFxuICBjcmVhdGVMb2dnZXI6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBpbmZvOiBqZXN0LmZuKCksXG4gICAgZGVidWc6IGplc3QuZm4oKSxcbiAgICB3YXJuOiBqZXN0LmZuKCksXG4gICAgZXJyb3I6IGplc3QuZm4oKSxcbiAgICBsb2c6IGplc3QuZm4oKVxuICB9KSlcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi91dGlscy9yZWxpYWJsZUFzdHJvbm9teScsICgpID0+ICh7XG4gIGdldFJlbGlhYmxlUGxhbmV0YXJ5UG9zaXRpb25zOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgIHN1bjogeyBzaWduOiAnYXJpZXMnLCBkZWdyZWU6IDguNSwgZXhhY3RMb25naXR1ZGU6IDguNSwgaXNSZXRyb2dyYWRlOiBmYWxzZSB9LFxuICAgIG1vb246IHsgc2lnbjogJ2FyaWVzJywgZGVncmVlOiAxLjU3LCBleGFjdExvbmdpdHVkZTogMS41NywgaXNSZXRyb2dyYWRlOiBmYWxzZSB9LFxuICAgIG1lcmN1cnk6IHsgc2lnbjogJ2FyaWVzJywgZGVncmVlOiAwLjg1LCBleGFjdExvbmdpdHVkZTogMC44NSwgaXNSZXRyb2dyYWRlOiB0cnVlIH1cbiAgfSlcbn0pKTtcblxuLy8gTW9jayBob29rcyB0aGF0IG1pZ2h0IGNhdXNlIGlzc3Vlc1xuamVzdC5tb2NrKCcuLi8uLi9ob29rcy91c2VBZ2VudEhvb2tzJywgKCkgPT4gKHtcbiAgdXNlQWdlbnRIb29rczogKCkgPT4gKHtcbiAgICBob29rU3RhdGU6IHsgaXNBY3RpdmU6IGZhbHNlLCBsYXN0UnVuOiBudWxsLCByZXN1bHRzOiBbXSB9LFxuICAgIHN0YXJ0QWdlbnRIb29rczogamVzdC5mbigpLFxuICAgIHN0b3BBZ2VudEhvb2tzOiBqZXN0LmZuKCksXG4gICAgdHJpZ2dlclZhbGlkYXRpb246IGplc3QuZm4oKVxuICB9KSxcbiAgdXNlUGxhbmV0YXJ5RGF0YVZhbGlkYXRpb25Ib29rOiAoKSA9PiAoeyBpc1ZhbGlkOiB0cnVlIH0pLFxuICB1c2VJbmdyZWRpZW50Q29uc2lzdGVuY3lIb29rOiAoKSA9PiAoeyBpc0NvbnNpc3RlbnQ6IHRydWUgfSksXG4gIHVzZVR5cGVTY3JpcHRDYW1wYWlnbkhvb2s6ICgpID0+ICh7IGNhbXBhaWduQWN0aXZlOiBmYWxzZSB9KSxcbiAgdXNlQnVpbGRRdWFsaXR5TW9uaXRvcmluZ0hvb2s6ICgpID0+ICh7IHF1YWxpdHk6ICdnb29kJyB9KSxcbiAgdXNlUXVhbGl0eU1ldHJpY3NIb29rOiAoKSA9PiAoeyBtZXRyaWNzOiB7fSB9KVxufSkpO1xuXG5qZXN0Lm1vY2soJy4uLy4uL3V0aWxzL21jcFNlcnZlckludGVncmF0aW9uJywgKCkgPT4gKHtcbiAgdXNlTUNQU2VydmVySW50ZWdyYXRpb246ICgpID0+ICh7XG4gICAgaXNDb25uZWN0ZWQ6IHRydWUsXG4gICAgc2VydmVyU3RhdHVzOiAnY29ubmVjdGVkJyxcbiAgICBhdmFpbGFibGVUb29sczogW11cbiAgfSlcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi91dGlscy9kZXZlbG9wbWVudEV4cGVyaWVuY2VPcHRpbWl6YXRpb25zJywgKCkgPT4gKHtcbiAgdXNlRGV2ZWxvcG1lbnRFeHBlcmllbmNlT3B0aW1pemF0aW9uczogKCkgPT4gKHtcbiAgICBvcHRpbWl6YXRpb25zQWN0aXZlOiB0cnVlLFxuICAgIHBlcmZvcm1hbmNlTWV0cmljczoge31cbiAgfSlcbn0pKTtcblxuZGVzY3JpYmUoJ01haW4gUGFnZSBWYWxpZGF0aW9uIC0gVGFzayAxMS4yJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBDbGVhciBhbGwgbW9ja3MgYmVmb3JlIGVhY2ggdGVzdFxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIE1vY2sgd2luZG93LnNjcm9sbFRvXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Njcm9sbFRvJywge1xuICAgICAgdmFsdWU6IGplc3QuZm4oKSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgXG4gICAgLy8gTW9jayBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBsb2NhbFN0b3JhZ2VNb2NrID0ge1xuICAgICAgZ2V0SXRlbTogamVzdC5mbigpLFxuICAgICAgc2V0SXRlbTogamVzdC5mbigpLFxuICAgICAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICAgICAgY2xlYXI6IGplc3QuZm4oKVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2xvY2FsU3RvcmFnZScsIHtcbiAgICAgIHZhbHVlOiBsb2NhbFN0b3JhZ2VNb2NrXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcxLiBDb21wb25lbnQgSW50ZXJhY3Rpb25zIGFuZCBEYXRhIEZsb3cnLCAoKSA9PiB7XG4gICAgdGVzdCgnQXBwIHJlbmRlcnMgd2l0aG91dCBjcmFzaGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcig8QXBwIC8+KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgcmVuZGVyIHdpdGhvdXQgdGhyb3dpbmcgZXJyb3JzXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvTG9hZGluZyBBc3Ryb2xvZ2ljYWwgRGF0YS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ01haW5QYWdlTGF5b3V0IHJlbmRlcnMgd2l0aCBBbGNoZW1pY2FsUHJvdmlkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXtmYWxzZX0gLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgcmVuZGVyIHRoZSBtYWluIGxheW91dFxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdFcnJvciBib3VuZGFyeSBoYW5kbGVzIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgVGhyb3dFcnJvciA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXN0IGVycm9yJyk7XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXtmYWxzZX0+XG4gICAgICAgICAgICAgIDxUaHJvd0Vycm9yIC8+XG4gICAgICAgICAgICA8L01haW5QYWdlTGF5b3V0PlxuICAgICAgICAgIDwvQWxjaGVtaWNhbFByb3ZpZGVyPlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBoYW5kbGUgZXJyb3Igd2l0aG91dCBjcmFzaGluZ1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcyLiBOYXZpZ2F0aW9uIEZ1bmN0aW9uYWxpdHknLCAoKSA9PiB7XG4gICAgdGVzdCgnTmF2aWdhdGlvbiBzdGF0ZSBpcyBwcmVzZXJ2ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT25TZWN0aW9uTmF2aWdhdGUgPSBqZXN0LmZuKCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QWxjaGVtaWNhbFByb3ZpZGVyPlxuICAgICAgICAgICAgPE1haW5QYWdlTGF5b3V0IFxuICAgICAgICAgICAgICBkZWJ1Z01vZGU9e2ZhbHNlfSBcbiAgICAgICAgICAgICAgbG9hZGluZz17ZmFsc2V9IFxuICAgICAgICAgICAgICBvblNlY3Rpb25OYXZpZ2F0ZT17bW9ja09uU2VjdGlvbk5hdmlnYXRlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBOYXZpZ2F0aW9uIHNob3VsZCBiZSBmdW5jdGlvbmFsXG4gICAgICBleHBlY3QoZG9jdW1lbnQuYm9keSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ1Njcm9sbCBwb3NpdGlvbiBpcyBwcmVzZXJ2ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXtmYWxzZX0gLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBzY3JvbGxcbiAgICAgIGZpcmVFdmVudC5zY3JvbGwod2luZG93LCB7IHRhcmdldDogeyBzY3JvbGxZOiAxMDAgfSB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBzY3JvbGwgZXZlbnRzXG4gICAgICBleHBlY3Qod2luZG93LnNjcm9sbFRvKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnMy4gRGVidWcgUGFuZWwgRnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgICB0ZXN0KCdEZWJ1ZyBwYW5lbCByZW5kZXJzIGluIGRldmVsb3BtZW50IG1vZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e3RydWV9IGxvYWRpbmc9e2ZhbHNlfSAvPlxuICAgICAgICAgIDwvQWxjaGVtaWNhbFByb3ZpZGVyPlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCByZW5kZXIgd2l0aG91dCBlcnJvcnMgaW4gZGVidWcgbW9kZVxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdEZWJ1ZyBwYW5lbCBpcyBoaWRkZW4gaW4gcHJvZHVjdGlvbiBtb2RlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxBbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICAgICA8TWFpblBhZ2VMYXlvdXQgZGVidWdNb2RlPXtmYWxzZX0gbG9hZGluZz17ZmFsc2V9IC8+XG4gICAgICAgICAgPC9BbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHJlbmRlciB3aXRob3V0IGVycm9ycyBpbiBwcm9kdWN0aW9uIG1vZGVcbiAgICAgIGV4cGVjdChkb2N1bWVudC5ib2R5KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnNC4gTG9hZGluZyBTdGF0ZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnTG9hZGluZyBzdGF0ZSBkaXNwbGF5cyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXt0cnVlfSAvPlxuICAgICAgICAgIDwvQWxjaGVtaWNhbFByb3ZpZGVyPlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBoYW5kbGUgbG9hZGluZyBzdGF0ZVxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdDb25uZWN0ZWQgc3RhdGUgZGlzcGxheXMgd2hlbiBub3QgbG9hZGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QWxjaGVtaWNhbFByb3ZpZGVyPlxuICAgICAgICAgICAgPE1haW5QYWdlTGF5b3V0IGRlYnVnTW9kZT17ZmFsc2V9IGxvYWRpbmc9e2ZhbHNlfSAvPlxuICAgICAgICAgIDwvQWxjaGVtaWNhbFByb3ZpZGVyPlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBoYW5kbGUgY29ubmVjdGVkIHN0YXRlXG4gICAgICBleHBlY3QoZG9jdW1lbnQuYm9keSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJzUuIENvbnRleHQgYW5kIFN0YXRlIE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgdGVzdCgnQWxjaGVtaWNhbFByb3ZpZGVyIHByb3ZpZGVzIGNvbnRleHQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXtmYWxzZX0gLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDb250ZXh0IHNob3VsZCBiZSBwcm92aWRlZFxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdTdGF0ZSBwcmVzZXJ2YXRpb24gd29ya3MgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxBbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICAgICA8TWFpblBhZ2VMYXlvdXQgZGVidWdNb2RlPXtmYWxzZX0gbG9hZGluZz17ZmFsc2V9IC8+XG4gICAgICAgICAgPC9BbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU3RhdGUgcHJlc2VydmF0aW9uIHNob3VsZCB3b3JrXG4gICAgICBleHBlY3QobG9jYWxTdG9yYWdlLnNldEl0ZW0pLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCc2LiBFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICB0ZXN0KCdHbG9iYWwgZXJyb3IgYm91bmRhcnkgY2F0Y2hlcyBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGNvbnNvbGUuZXJyb3IgdG8gcHJldmVudCB0ZXN0IG91dHB1dCBub2lzZVxuICAgICAgY29uc3QgY29uc29sZVNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcbiAgICAgIFxuICAgICAgY29uc3QgRXJyb3JDb21wb25lbnQgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGVzdCBlcnJvciBmb3IgZXJyb3IgYm91bmRhcnknKTtcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QXBwPlxuICAgICAgICAgICAgPEVycm9yQ29tcG9uZW50IC8+XG4gICAgICAgICAgPC9BcHA+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBlcnJvcnMgZ3JhY2VmdWxseVxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ0NvbXBvbmVudC1sZXZlbCBlcnJvciBib3VuZGFyaWVzIHdvcmsnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXtmYWxzZX0gLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgcmVuZGVyIHdpdGhvdXQgZXJyb3JzXG4gICAgICBleHBlY3QoZG9jdW1lbnQuYm9keSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIFxuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnNy4gUGVyZm9ybWFuY2UgYW5kIEFjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgdGVzdCgnQ29tcG9uZW50cyBhcmUgbWVtb2l6ZWQgZm9yIHBlcmZvcm1hbmNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxBbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICAgICA8TWFpblBhZ2VMYXlvdXQgZGVidWdNb2RlPXtmYWxzZX0gbG9hZGluZz17ZmFsc2V9IC8+XG4gICAgICAgICAgPC9BbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHJlbmRlciBlZmZpY2llbnRseVxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdMYXp5IGxvYWRpbmcgd29ya3MgZm9yIG5vbi1jcml0aWNhbCBjb21wb25lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxBbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICAgICA8TWFpblBhZ2VMYXlvdXQgZGVidWdNb2RlPXt0cnVlfSBsb2FkaW5nPXtmYWxzZX0gLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGFuZGxlIGxhenkgbG9hZGluZ1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCc4LiBJbnRlZ3JhdGlvbiB3aXRoIEV4dGVybmFsIFN5c3RlbXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnQXN0cm9sb2dpY2FsIGNhbGN1bGF0aW9ucyBpbnRlZ3JhdGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxBbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICAgICA8TWFpblBhZ2VMYXlvdXQgZGVidWdNb2RlPXtmYWxzZX0gbG9hZGluZz17ZmFsc2V9IC8+XG4gICAgICAgICAgPC9BbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGludGVncmF0ZSB3aXRoIGFzdHJvbG9naWNhbCBzeXN0ZW1zXG4gICAgICBleHBlY3QoZG9jdW1lbnQuYm9keSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ0FnZW50IGhvb2tzIGludGVncmF0ZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXtmYWxzZX0gLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaW50ZWdyYXRlIHdpdGggYWdlbnQgaG9va3NcbiAgICAgIGV4cGVjdChkb2N1bWVudC5ib2R5KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnOS4gTW9iaWxlIFJlc3BvbnNpdmVuZXNzJywgKCkgPT4ge1xuICAgIHRlc3QoJ0xheW91dCBhZGFwdHMgdG8gbW9iaWxlIHZpZXdwb3J0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBtb2JpbGUgdmlld3BvcnRcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdpbm5lcldpZHRoJywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogMzc1LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdpbm5lckhlaWdodCcsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDY2NyxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXtmYWxzZX0gLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGFuZGxlIG1vYmlsZSB2aWV3cG9ydFxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdUb3VjaCBpbnRlcmFjdGlvbnMgd29yayBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgICAgIDxNYWluUGFnZUxheW91dCBkZWJ1Z01vZGU9e2ZhbHNlfSBsb2FkaW5nPXtmYWxzZX0gLz5cbiAgICAgICAgICA8L0FsY2hlbWljYWxQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGFuZGxlIHRvdWNoIGludGVyYWN0aW9uc1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcxMC4gU3lzdGVtIEludGVncmF0aW9uIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnQWxsIHJlcXVpcmVkIHN5c3RlbXMgYXJlIGludGVncmF0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoPEFwcCAvPik7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGludGVncmF0ZSBhbGwgc3lzdGVtc1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdGYWxsYmFjayBtZWNoYW5pc21zIHdvcmsgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBBUEkgZmFpbHVyZVxuICAgICAgamVzdC5tb2NrZWQocmVxdWlyZSgnLi4vLi4vdXRpbHMvcmVsaWFibGVBc3Ryb25vbXknKS5nZXRSZWxpYWJsZVBsYW5ldGFyeVBvc2l0aW9ucylcbiAgICAgICAgLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0FQSSBFcnJvcicpKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxBbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICAgICA8TWFpblBhZ2VMYXlvdXQgZGVidWdNb2RlPXtmYWxzZX0gbG9hZGluZz17ZmFsc2V9IC8+XG4gICAgICAgICAgPC9BbGNoZW1pY2FsUHJvdmlkZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBBUEkgZmFpbHVyZXMgZ3JhY2VmdWxseVxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9