ae4606a5ebadca5475843d5a4f2ac0e4
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Domain Context Analyzer Tests
 * Tests for domain detection, subdomain classification, and type suggestions
 */
const DomainContextAnalyzer_1 = require("../DomainContextAnalyzer");
const types_1 = require("../types");
describe('DomainContextAnalyzer', () => {
    let analyzer;
    beforeEach(() => {
        analyzer = new DomainContextAnalyzer_1.DomainContextAnalyzer();
    });
    describe('Domain Detection', () => {
        describe('Path-based Detection', () => {
            test('detects astrological domain from file paths', async () => {
                const context = { filePath: 'src/calculations/culinary/planetaryInfluence.ts',
                    lineNumber: 10,
                    codeSnippet: 'const data: any = response,',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.ASTROLOGICAL);
            });
            test('detects recipe domain from file paths', async () => {
                const context = { filePath: 'src/data/ingredients/vegetables.ts',
                    lineNumber: 5,
                    codeSnippet: 'const ingredien, t: any = {};',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.RECIPE);
            });
            test('detects campaign domain from file paths', async () => {
                const context = { filePath: 'src/services/campaign/TypeScriptErrorAnalyzer.ts',
                    lineNumber: 15,
                    codeSnippet: 'const metrics: any = {};',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.CAMPAIGN);
            });
            test('detects component domain from file extensions', async () => {
                const context = { filePath: 'src/components/Button.tsx',
                    lineNumber: 8,
                    codeSnippet: 'const props: any = {};',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.COMPONENT);
            });
            test('detects test domain from test file paths', async () => {
                const context = { filePath: 'src/components/__tests__/Button.test.tsx',
                    lineNumber: 12,
                    codeSnippet: 'const mockDat, a: any = {};',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: true,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.TEST);
            });
        });
        describe('Content-based Detection', () => {
            test('detects astrological domain from content patterns', async () => {
                const context = { filePath: 'src/utils/someFile.ts',
                    lineNumber: 10,
                    codeSnippet: 'const planetaryPosition, s: any = calculatePositions();',
                    surroundingLines: [
                        'import { PlanetaryPosition } from "@/types";',
                        'function calculateElementalProperties() : any {',
                        '  const fire: any = 0.8, water = 0.2;'
                    ],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.ASTROLOGICAL);
            });
            test('detects recipe domain from content patterns', async () => {
                const context = { filePath: 'src/utils/someFile.ts',
                    lineNumber: 5,
                    codeSnippet: 'const ingredien, t: any = getIngredientData();',
                    surroundingLines: [
                        'import { Recipe, Ingredient } from "@/types";',
                        'function processCookingMethod() : any {',
                        '  const spices: any = ["cumin", "paprika"];'
                    ],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.RECIPE);
            });
            test('detects campaign domain from content patterns', async () => {
                const context = { filePath: 'src/utils/someFile.ts',
                    lineNumber: 8,
                    codeSnippet: 'const metrics: any = getProgressMetrics(),',
                    surroundingLines: [
                        'import { CampaignConfig } from "@/types";',
                        'function validateTypeScriptErrors() : any {',
                        '  const lintingResults: any = runLinter();'
                    ],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.CAMPAIGN);
            });
        });
        describe('Import-based Detection', () => {
            test('detects astrological domain from imports', async () => {
                const context = { filePath: 'src/utils/calculations.ts',
                    lineNumber: 10,
                    codeSnippet: 'const data: any = response,',
                    surroundingLines: [
                        'import { astronomia } from "astronomia";',
                        'import { getReliablePlanetaryPositions } from "@/utils/reliableAstronomy";',
                        'function calculate() : any {'
                    ],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.ASTROLOGICAL);
            });
            test('detects component domain from React imports', async () => {
                const context = { filePath: 'src/utils/someFile.ts',
                    lineNumber: 5,
                    codeSnippet: 'const props: any = {};',
                    surroundingLines: [
                        'import React from "react";',
                        'import { useState } from "react";',
                        'function MyComponent() : any {'
                    ],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.COMPONENT);
            });
            test('detects test domain from testing library imports', async () => {
                const context = { filePath: 'src/utils/someFile.ts',
                    lineNumber: 8,
                    codeSnippet: 'const mockDat, a: any = {};',
                    surroundingLines: [
                        'import { jest } from "@jest/globals";',
                        'import { render } from "@testing-library/react";',
                        'describe("Component"( {'
                    ],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const result = await analyzer.analyzeDomain(context);
                expect(result.domain).toBe(types_1.CodeDomain.TEST);
            });
        });
    });
    describe('Subdomain Detection', () => {
        test('detects planetary subdomain in astrological code', async () => {
            const context = { filePath: 'src/calculations/planetary/positions.ts',
                lineNumber: 10,
                codeSnippet: 'const planetaryDat, a: any = calculatePlanetaryPositions();',
                surroundingLines: [
                    'function getPlanetDegree() : any {',
                    '  const longitude: any = 45.5;',
                    '  return convertToZodiacPosition(longitude);'
                ],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.domain).toBe(types_1.CodeDomain.ASTROLOGICAL);
            expect(result.subDomain).toBe('planetary');
        });
        test('detects elemental subdomain in astrological code', async () => {
            const context = { filePath: 'src/calculations/elemental/harmony.ts',
                lineNumber: 5,
                codeSnippet: 'const elementalProps: any = { fire: 0.8, water: 0.2 };',
                surroundingLines: [
                    'function calculateElementalCompatibility() : any {',
                    '  const fire: any = ingredient.fire;',
                    '  const earth: any = ingredient.earth;'
                ],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.domain).toBe(types_1.CodeDomain.ASTROLOGICAL);
            expect(result.subDomain).toBe('elemental');
        });
        test('detects ingredients subdomain in recipe code', async () => {
            const context = { filePath: 'src/data/ingredients/spices.ts',
                lineNumber: 8,
                codeSnippet: 'const spiceDat, a: any = getSpiceProperties();',
                surroundingLines: [
                    'export const cumin = {',
                    '  name: "cumin",',
                    '  elementalProperties: { fire: 0.9, earth: 0.7 }'
                ],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.domain).toBe(types_1.CodeDomain.RECIPE);
            expect(result.subDomain).toBe('ingredients');
        });
        test('detects typescript-errors subdomain in campaign code', async () => {
            const context = { filePath: 'src/services/campaign/TypeScriptErrorAnalyzer.ts',
                lineNumber: 12,
                codeSnippet: 'const errorDat, a: any = analyzeTypeScriptErrors();',
                surroundingLines: [
                    'function getTS2352_Errors() : any {',
                    '  const compilationErrors: any = runTypeCheck();',
                    '  return filterErrorsByCode("TS2352");'
                ],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.domain).toBe(types_1.CodeDomain.CAMPAIGN);
            expect(result.subDomain).toBe('typescript-errors');
        });
    });
    describe('Type Suggestions', () => {
        test('provides astrological type suggestions', async () => {
            const context = { filePath: 'src/calculations/planetary.ts',
                lineNumber: 10,
                codeSnippet: 'const positio, n: any = getPlanetaryPosition();',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.suggestedTypes).toContain('PlanetaryPosition');
            expect(result.suggestedTypes).toContain('ElementalProperties');
            expect(result.suggestedTypes).toContain('unknown');
        });
        test('provides recipe type suggestions', async () => {
            const context = { filePath: 'src/data/recipes.ts',
                lineNumber: 5,
                codeSnippet: 'const recipe: any = getRecipeData(),',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.suggestedTypes).toContain('Recipe');
            expect(result.suggestedTypes).toContain('Ingredient');
            expect(result.suggestedTypes).toContain('unknown');
        });
        test('provides campaign type suggestions', async () => {
            const context = { filePath: 'src/services/campaign/metrics.ts',
                lineNumber: 8,
                codeSnippet: 'const metrics: any = getProgressMetrics(),',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.suggestedTypes).toContain('ProgressMetrics');
            expect(result.suggestedTypes).toContain('CampaignConfig');
            expect(result.suggestedTypes).toContain('Record<string, unknown>');
        });
        test('provides contextual type suggestions based on code content', async () => {
            const context = { filePath: 'src/services/api.ts',
                lineNumber: 10,
                codeSnippet: 'const respons, e: any = await fetch(url);',
                surroundingLines: [
                    'async function makeApiRequest() : any {',
                    '  const requestData: any = { method: "GET" };'
                ],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.domain).toBe(types_1.CodeDomain.SERVICE);
            expect(result.suggestedTypes).toContain('ApiResponse<T>');
        });
    });
    describe('Intentionality Hints', () => {
        test('provides preservation hints for astrological code', async () => {
            const context = { filePath: 'src/calculations/planetary.ts',
                lineNumber: 10,
                codeSnippet: 'const planetaryDat, a: any = externalAstrologyApi.getPositions();',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.intentionalityHints).toHaveLength(2);
            expect(result.intentionalityHints[0].suggestedAction).toBe('preserve');
            expect(result.intentionalityHints[0].reason).toContain('Astrological calculations');
            expect(result.intentionalityHints[1].suggestedAction).toBe('document');
            expect(result.intentionalityHints[1].reason).toContain('Planetary position data');
        });
        test('provides replacement hints for recipe code', async () => {
            const context = { filePath: 'src/data/ingredients.ts',
                lineNumber: 5,
                codeSnippet: 'const ingredien, t: any = getIngredientData();',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.intentionalityHints.some(hint => hint.suggestedAction === 'replace')).toBe(true);
            expect(result.intentionalityHints.some(hint => hint.reason.includes('specific types'))).toBe(true);
        });
        test('provides preservation hints for campaign code', async () => {
            const context = { filePath: 'src/services/campaign/config.ts',
                lineNumber: 8,
                codeSnippet: 'const config: any = getCampaignConfig(),',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.intentionalityHints.some(hint => hint.suggestedAction === 'preserve')).toBe(true);
            expect(result.intentionalityHints.some(hint => hint.reason.includes('flexibility'))).toBe(true);
        });
        test('provides preservation hints for test files', async () => {
            const context = { filePath: 'src/utils/__tests__/helper.test.ts',
                lineNumber: 12,
                codeSnippet: 'const mockDat, a: any = {};',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: true,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.intentionalityHints.some(hint => hint.suggestedAction === 'preserve')).toBe(true);
            expect(result.intentionalityHints.some(hint => hint.reason.includes('test'))).toBe(true);
        });
    });
    describe('Preservation Reasons', () => {
        test('provides astrological preservation reasons', async () => {
            const context = { filePath: 'src/calculations/ephemeris.ts',
                lineNumber: 10,
                codeSnippet: 'const data: any = astronomyLibrary.calculate(),',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.preservationReasons).toContain('Astrological calculations require compatibility with external astronomical libraries');
            expect(result.preservationReasons).toContain('Planetary position data structures vary between different API sources');
        });
        test('provides campaign preservation reasons', async () => {
            const context = { filePath: 'src/services/campaign/intelligence.ts',
                lineNumber: 5,
                codeSnippet: 'const metrics: any = dynamicMetricsCalculation(),',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.preservationReasons).toContain('Campaign system needs flexibility for evolving metrics and configurations');
            expect(result.preservationReasons).toContain('Dynamic tool integration requires adaptable type structures');
        });
        test('provides test file preservation reasons', async () => {
            const context = { filePath: 'src/utils/helper.test.ts',
                lineNumber: 8,
                codeSnippet: 'const testDat, a: any = createMockData();',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: true,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.preservationReasons).toContain('Test flexibility for mocking and test data generation');
            expect(result.preservationReasons).toContain('Test file context allows for more flexible typing patterns');
        });
        test('provides existing comment preservation reasons', async () => {
            const context = { filePath: 'src/utils/helper.ts',
                lineNumber: 10,
                codeSnippet: 'const data: any = externalApi(),',
                surroundingLines: [],
                hasExistingComment: true,
                existingComment: '// Intentionally any: External API compatibility',
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.preservationReasons).toContain('Existing documentation suggests intentional usage');
        });
    });
    describe('Domain-Specific Type Suggestions Method', () => {
        test('returns domain-specific suggestions for astrological domain', () => {
            const context = { filePath: 'src/calculations/planetary.ts',
                lineNumber: 10,
                codeSnippet: 'const positio, n: any = getPlanetaryPosition();',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.ASTROLOGICAL, context);
            expect(suggestions).toContain('PlanetaryPosition');
            expect(suggestions).toContain('ElementalProperties');
            expect(suggestions).toContain('unknown');
        });
        test('returns domain-specific suggestions for recipe domain', () => {
            const context = { filePath: 'src/data/ingredients.ts',
                lineNumber: 5,
                codeSnippet: 'const ingredien, t: any = getIngredientData();',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.RECIPE, context);
            expect(suggestions).toContain('Ingredient');
            expect(suggestions).toContain('Recipe');
            expect(suggestions).toContain('unknown');
        });
        test('returns domain-specific suggestions for campaign domain', () => {
            const context = { filePath: 'src/services/campaign/metrics.ts',
                lineNumber: 8,
                codeSnippet: 'const metrics: any = getProgressMetrics(),',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.CAMPAIGN, context);
            expect(suggestions).toContain('ProgressMetrics');
            expect(suggestions).toContain('CampaignConfig');
            expect(suggestions).toContain('Record<string, unknown>');
        });
    });
    describe('Advanced Type Suggestions', () => {
        describe('Variable Name Based Suggestions', () => {
            test('suggests specific planetary types based on variable names', () => {
                const context = { filePath: 'src/calculations/planetary.ts',
                    lineNumber: 10,
                    codeSnippet: 'const sunPositio, n: any = calculateSunPosition();',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.ASTROLOGICAL, context);
                expect(suggestions).toContain('SunPosition');
                expect(suggestions).toContain('PlanetaryPosition');
            });
            test('suggests specific ingredient types based on variable names', () => {
                const context = { filePath: 'src/data/ingredients.ts',
                    lineNumber: 5,
                    codeSnippet: 'const spiceDat, a: any = getSpiceProperties();',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.RECIPE, context);
                expect(suggestions).toContain('Spice');
                expect(suggestions).toContain('Ingredient');
            });
            test('suggests campaign-specific types based on variable names', () => {
                const context = { filePath: 'src/services/campaign/typescript.ts',
                    lineNumber: 8,
                    codeSnippet: 'const typescriptError, s: any = analyzeErrors();',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.CAMPAIGN, context);
                expect(suggestions).toContain('TypeScriptError');
                expect(suggestions).toContain('ValidationResult');
            });
        });
        describe('Pattern Based Suggestions', () => {
            test('suggests array types for any[] patterns', () => {
                const context = { filePath: 'src/calculations/planetary.ts',
                    lineNumber: 10,
                    codeSnippet: 'const planets: any[] = getAllPlanets(),',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.ASTROLOGICAL, context);
                expect(suggestions).toContain('Planet[]');
                expect(suggestions).toContain('PlanetaryPosition[]');
            });
            test('suggests Record types for object patterns', () => {
                const context = { filePath: 'src/data/ingredients.ts',
                    lineNumber: 5,
                    codeSnippet: 'const ingredientMa, p: Record<string, unknown> = {};',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.RECIPE, context);
                expect(suggestions).toContain('Record<string, Ingredient>');
            });
            test('suggests Promise types for async patterns', () => {
                const context = { filePath: 'src/services/api.ts',
                    lineNumber: 8,
                    codeSnippet: 'async function fetchData(): Promise<any> {',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.SERVICE, context);
                expect(suggestions).toContain('Promise<ApiResponse<T>>');
                expect(suggestions).toContain('Promise<ServiceData>');
            });
            test('suggests function parameter types', () => {
                const context = { filePath: 'src/components/Button.tsx',
                    lineNumber: 5,
                    codeSnippet: 'function handleClick(event: any) : any {',
                    surroundingLines: [],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.COMPONENT, context);
                expect(suggestions).toContain('React.SyntheticEvent');
                expect(suggestions).toContain('ComponentProps');
            });
        });
        describe('Contextual Content Analysis', () => {
            test('analyzes surrounding content for better suggestions', () => {
                const context = { filePath: 'src/calculations/elemental.ts',
                    lineNumber: 10,
                    codeSnippet: 'const data: any = processElementalData(),',
                    surroundingLines: [
                        'import { ElementalProperties } from "@/types";',
                        'function calculateFireCompatibility() : any {',
                        '  const fire: any = 0.8, water = 0.2, earth = 0.5, air = 0.3;'
                    ],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.ASTROLOGICAL, context);
                expect(suggestions).toContain('ElementalProperties');
                expect(suggestions).toContain('FireElement');
                expect(suggestions).toContain('ElementalCompatibility');
            });
            test('detects React component patterns', () => {
                const context = { filePath: 'src/components/RecipeForm.tsx',
                    lineNumber: 8,
                    codeSnippet: 'const formDat, a: any = getFormData();',
                    surroundingLines: [
                        'import React from "react";',
                        'function onSubmit(event: React.FormEvent) : any {',
                        '  event.preventDefault();'
                    ],
                    hasExistingComment: false,
                    isInTestFile: false,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.COMPONENT, context);
                expect(suggestions).toContain('FormProps');
                expect(suggestions).toContain('React.FormEvent');
            });
            test('detects test mock patterns', () => {
                const context = { filePath: 'src/utils/__tests__/helper.test.ts',
                    lineNumber: 12,
                    codeSnippet: 'const mockFunctio, n: any = jest.fn();',
                    surroundingLines: [
                        'import { jest } from "@jest/globals";',
                        'describe("Helper functions"( {',
                        '  const spy: any = jest.spyOn(console, "log");'
                    ],
                    hasExistingComment: false,
                    isInTestFile: true,
                    domainContext: {}
                };
                const suggestions = analyzer.getDomainSpecificSuggestions(types_1.CodeDomain.TEST, context);
                expect(suggestions).toContain('jest.Mock');
                expect(suggestions).toContain('jest.SpyInstance');
            });
        });
    });
    describe('Edge Cases', () => {
        test('handles empty file paths gracefully', async () => {
            const context = { filePath: '',
                lineNumber: 1,
                codeSnippet: 'const data: any = {};',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            // Empty path should default to utility, but content might suggest service
            expect([types_1.CodeDomain.UTILITY, types_1.CodeDomain.SERVICE]).toContain(result.domain);
            expect(result.suggestedTypes).toContain('unknown');
        });
        test('handles mixed domain signals correctly', async () => {
            const context = { filePath: 'src/components/ChartDisplay.tsx',
                lineNumber: 10,
                codeSnippet: 'const chartDat, a: any = props.data;',
                surroundingLines: [
                    'import React from "react";',
                    'function renderChart() : any {',
                    '  return <div>Chart</div>;'
                ],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            // Component domain should win due to file extension and React import
            expect(result.domain).toBe(types_1.CodeDomain.COMPONENT);
            expect(result.suggestedTypes).toContain('ComponentProps');
        });
        test('handles Windows file paths correctly', async () => {
            const context = { filePath: 'src\\calculations\\planetary\\positions.ts',
                lineNumber: 5,
                codeSnippet: 'const data: any = {};',
                surroundingLines: [],
                hasExistingComment: false,
                isInTestFile: false,
                domainContext: {}
            };
            const result = await analyzer.analyzeDomain(context);
            expect(result.domain).toBe(types_1.CodeDomain.ASTROLOGICAL);
            expect(result.subDomain).toBe('planetary');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0Ly5yZXNpbGllbnQtZXNsaW50LWJhY2t1cC0xNzU3NDc4ODEzMzkzL3NyY19zZXJ2aWNlc19jYW1wYWlnbl91bmludGVudGlvbmFsLWFueS1lbGltaW5hdGlvbl9fX3Rlc3RzX19fRG9tYWluQ29udGV4dEFuYWx5emVyLnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7QUFJQTs7O0dBR0c7QUFFSCxvRUFBaUU7QUFDakUsb0NBQTRFO0FBRTVFLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7SUFDckMsSUFBSSxRQUErQixDQUFDO0lBRXBDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxRQUFRLEdBQUcsSUFBSSw2Q0FBcUIsRUFBRSxDQUFDO0lBQ3pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtRQUNoQyxRQUFRLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO1lBQ3BDLElBQUksQ0FBQyw2Q0FBNkMsRUFBRSxLQUFLLElBQUksRUFBRTtnQkFDN0QsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLGlEQUFpRDtvQkFDbEcsVUFBVSxFQUFFLEVBQUU7b0JBQ2QsV0FBVyxFQUFFLDZCQUE2QjtvQkFDMUMsZ0JBQWdCLEVBQUUsRUFBRTtvQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztvQkFDekIsWUFBWSxFQUFFLEtBQUs7b0JBQ25CLGFBQWEsRUFBRSxFQUFtQjtpQkFDbkMsQ0FBQztnQkFFRixNQUFNLE1BQU0sR0FBUSxNQUFNLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdEQsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsdUNBQXVDLEVBQUUsS0FBSyxJQUFJLEVBQUU7Z0JBQ3ZELE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSxvQ0FBb0M7b0JBQ3JGLFVBQVUsRUFBRSxDQUFDO29CQUNiLFdBQVcsRUFBRSwrQkFBK0I7b0JBQzVDLGdCQUFnQixFQUFFLEVBQUU7b0JBQ3BCLGtCQUFrQixFQUFFLEtBQUs7b0JBQ3pCLFlBQVksRUFBRSxLQUFLO29CQUNuQixhQUFhLEVBQUUsRUFBbUI7aUJBQ25DLENBQUM7Z0JBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2hELENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLHlDQUF5QyxFQUFFLEtBQUssSUFBSSxFQUFFO2dCQUN6RCxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsa0RBQWtEO29CQUNuRyxVQUFVLEVBQUUsRUFBRTtvQkFDZCxXQUFXLEVBQUUsMEJBQTBCO29CQUN2QyxnQkFBZ0IsRUFBRSxFQUFFO29CQUNwQixrQkFBa0IsRUFBRSxLQUFLO29CQUN6QixZQUFZLEVBQUUsS0FBSztvQkFDbkIsYUFBYSxFQUFFLEVBQW1CO2lCQUNuQyxDQUFDO2dCQUVGLE1BQU0sTUFBTSxHQUFRLE1BQU0sUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNsRCxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQywrQ0FBK0MsRUFBRSxLQUFLLElBQUksRUFBRTtnQkFDL0QsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLDJCQUEyQjtvQkFDNUUsVUFBVSxFQUFFLENBQUM7b0JBQ2IsV0FBVyxFQUFFLHdCQUF3QjtvQkFDckMsZ0JBQWdCLEVBQUUsRUFBRTtvQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztvQkFDekIsWUFBWSxFQUFFLEtBQUs7b0JBQ25CLGFBQWEsRUFBRSxFQUFtQjtpQkFDbkMsQ0FBQztnQkFFRixNQUFNLE1BQU0sR0FBUSxNQUFNLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDbkQsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsMENBQTBDLEVBQUUsS0FBSyxJQUFJLEVBQUU7Z0JBQzFELE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSwwQ0FBMEM7b0JBQzNGLFVBQVUsRUFBRSxFQUFFO29CQUNkLFdBQVcsRUFBRSw2QkFBNkI7b0JBQzFDLGdCQUFnQixFQUFFLEVBQUU7b0JBQ3BCLGtCQUFrQixFQUFFLEtBQUs7b0JBQ3pCLFlBQVksRUFBRSxJQUFJO29CQUNsQixhQUFhLEVBQUUsRUFBbUI7aUJBQ25DLENBQUM7Z0JBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlDLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxRQUFRLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxtREFBbUQsRUFBRSxLQUFLLElBQUksRUFBRTtnQkFDbkUsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLHVCQUF1QjtvQkFDeEUsVUFBVSxFQUFFLEVBQUU7b0JBQ2QsV0FBVyxFQUFFLHlEQUF5RDtvQkFDdEUsZ0JBQWdCLEVBQUU7d0JBQ2hCLDhDQUE4Qzt3QkFDOUMsaURBQWlEO3dCQUNqRCx1Q0FBdUM7cUJBQ3hDO29CQUNELGtCQUFrQixFQUFFLEtBQUs7b0JBQ3pCLFlBQVksRUFBRSxLQUFLO29CQUNuQixhQUFhLEVBQUUsRUFBbUI7aUJBQ25DLENBQUM7Z0JBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3RELENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLDZDQUE2QyxFQUFFLEtBQUssSUFBSSxFQUFFO2dCQUM3RCxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsdUJBQXVCO29CQUN4RSxVQUFVLEVBQUUsQ0FBQztvQkFDYixXQUFXLEVBQUUsZ0RBQWdEO29CQUM3RCxnQkFBZ0IsRUFBRTt3QkFDaEIsK0NBQStDO3dCQUMvQyx5Q0FBeUM7d0JBQ3pDLDZDQUE2QztxQkFDOUM7b0JBQ0Qsa0JBQWtCLEVBQUUsS0FBSztvQkFDekIsWUFBWSxFQUFFLEtBQUs7b0JBQ25CLGFBQWEsRUFBRSxFQUFtQjtpQkFDbkMsQ0FBQztnQkFFRixNQUFNLE1BQU0sR0FBUSxNQUFNLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDaEQsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsK0NBQStDLEVBQUUsS0FBSyxJQUFJLEVBQUU7Z0JBQy9ELE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSx1QkFBdUI7b0JBQ3hFLFVBQVUsRUFBRSxDQUFDO29CQUNiLFdBQVcsRUFBRSw0Q0FBNEM7b0JBQ3pELGdCQUFnQixFQUFFO3dCQUNoQiwyQ0FBMkM7d0JBQzNDLDZDQUE2Qzt3QkFDN0MsNENBQTRDO3FCQUM3QztvQkFDRCxrQkFBa0IsRUFBRSxLQUFLO29CQUN6QixZQUFZLEVBQUUsS0FBSztvQkFDbkIsYUFBYSxFQUFFLEVBQW1CO2lCQUNuQyxDQUFDO2dCQUVGLE1BQU0sTUFBTSxHQUFRLE1BQU0sUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNsRCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsUUFBUSxDQUFDLHdCQUF3QixFQUFFLEdBQUcsRUFBRTtZQUN0QyxJQUFJLENBQUMsMENBQTBDLEVBQUUsS0FBSyxJQUFJLEVBQUU7Z0JBQzFELE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSwyQkFBMkI7b0JBQzVFLFVBQVUsRUFBRSxFQUFFO29CQUNkLFdBQVcsRUFBRSw2QkFBNkI7b0JBQzFDLGdCQUFnQixFQUFFO3dCQUNoQiwwQ0FBMEM7d0JBQzFDLDRFQUE0RTt3QkFDNUUsOEJBQThCO3FCQUMvQjtvQkFDRCxrQkFBa0IsRUFBRSxLQUFLO29CQUN6QixZQUFZLEVBQUUsS0FBSztvQkFDbkIsYUFBYSxFQUFFLEVBQW1CO2lCQUNuQyxDQUFDO2dCQUVGLE1BQU0sTUFBTSxHQUFRLE1BQU0sUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN0RCxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyw2Q0FBNkMsRUFBRSxLQUFLLElBQUksRUFBRTtnQkFDN0QsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLHVCQUF1QjtvQkFDeEUsVUFBVSxFQUFFLENBQUM7b0JBQ2IsV0FBVyxFQUFFLHdCQUF3QjtvQkFDckMsZ0JBQWdCLEVBQUU7d0JBQ2hCLDRCQUE0Qjt3QkFDNUIsbUNBQW1DO3dCQUNuQyxnQ0FBZ0M7cUJBQ2pDO29CQUNELGtCQUFrQixFQUFFLEtBQUs7b0JBQ3pCLFlBQVksRUFBRSxLQUFLO29CQUNuQixhQUFhLEVBQUUsRUFBbUI7aUJBQ25DLENBQUM7Z0JBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ25ELENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLGtEQUFrRCxFQUFFLEtBQUssSUFBSSxFQUFFO2dCQUNsRSxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsdUJBQXVCO29CQUN4RSxVQUFVLEVBQUUsQ0FBQztvQkFDYixXQUFXLEVBQUUsNkJBQTZCO29CQUMxQyxnQkFBZ0IsRUFBRTt3QkFDaEIsdUNBQXVDO3dCQUN2QyxrREFBa0Q7d0JBQ2xELHlCQUF5QjtxQkFDMUI7b0JBQ0Qsa0JBQWtCLEVBQUUsS0FBSztvQkFDekIsWUFBWSxFQUFFLEtBQUs7b0JBQ25CLGFBQWEsRUFBRSxFQUFtQjtpQkFDbkMsQ0FBQztnQkFFRixNQUFNLE1BQU0sR0FBUSxNQUFNLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUMsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRTtRQUNuQyxJQUFJLENBQUMsa0RBQWtELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDbEUsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLHlDQUF5QztnQkFDMUYsVUFBVSxFQUFFLEVBQUU7Z0JBQ2QsV0FBVyxFQUFFLDZEQUE2RDtnQkFDMUUsZ0JBQWdCLEVBQUU7b0JBQ2hCLG9DQUFvQztvQkFDcEMsZ0NBQWdDO29CQUNoQyw4Q0FBOEM7aUJBQy9DO2dCQUNELGtCQUFrQixFQUFFLEtBQUs7Z0JBQ3pCLFlBQVksRUFBRSxLQUFLO2dCQUNuQixhQUFhLEVBQUUsRUFBbUI7YUFDbkMsQ0FBQztZQUVGLE1BQU0sTUFBTSxHQUFRLE1BQU0sUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3BELE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGtEQUFrRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2xFLE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSx1Q0FBdUM7Z0JBQ3hGLFVBQVUsRUFBRSxDQUFDO2dCQUNiLFdBQVcsRUFBRSx3REFBd0Q7Z0JBQ3JFLGdCQUFnQixFQUFFO29CQUNoQixvREFBb0Q7b0JBQ3BELHNDQUFzQztvQkFDdEMsd0NBQXdDO2lCQUN6QztnQkFDRCxrQkFBa0IsRUFBRSxLQUFLO2dCQUN6QixZQUFZLEVBQUUsS0FBSztnQkFDbkIsYUFBYSxFQUFFLEVBQW1CO2FBQ25DLENBQUM7WUFFRixNQUFNLE1BQU0sR0FBUSxNQUFNLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNwRCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM3QyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyw4Q0FBOEMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM5RCxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsZ0NBQWdDO2dCQUNqRixVQUFVLEVBQUUsQ0FBQztnQkFDYixXQUFXLEVBQUUsZ0RBQWdEO2dCQUM3RCxnQkFBZ0IsRUFBRTtvQkFDaEIsd0JBQXdCO29CQUN4QixrQkFBa0I7b0JBQ2xCLGtEQUFrRDtpQkFDbkQ7Z0JBQ0Qsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFFO2FBQ2xCLENBQUM7WUFFRixNQUFNLE1BQU0sR0FBUSxNQUFNLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM5QyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxzREFBc0QsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN0RSxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsa0RBQWtEO2dCQUNuRyxVQUFVLEVBQUUsRUFBRTtnQkFDZCxXQUFXLEVBQUUscURBQXFEO2dCQUNsRSxnQkFBZ0IsRUFBRTtvQkFDaEIscUNBQXFDO29CQUNyQyxrREFBa0Q7b0JBQ2xELHdDQUF3QztpQkFDekM7Z0JBQ0Qsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDaEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNyRCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtRQUNoQyxJQUFJLENBQUMsd0NBQXdDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDeEQsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLCtCQUErQjtnQkFDaEYsVUFBVSxFQUFFLEVBQUU7Z0JBQ2QsV0FBVyxFQUFFLGlEQUFpRDtnQkFDOUQsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUMvRCxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyRCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNsRCxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUscUJBQXFCO2dCQUN0RSxVQUFVLEVBQUUsQ0FBQztnQkFDYixXQUFXLEVBQUUsc0NBQXNDO2dCQUNuRCxnQkFBZ0IsRUFBRSxFQUFFO2dCQUNwQixrQkFBa0IsRUFBRSxLQUFLO2dCQUN6QixZQUFZLEVBQUUsS0FBSztnQkFDbkIsYUFBYSxFQUFFLEVBQW1CO2FBQ25DLENBQUM7WUFFRixNQUFNLE1BQU0sR0FBUSxNQUFNLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsb0NBQW9DLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDcEQsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLGtDQUFrQztnQkFDbkYsVUFBVSxFQUFFLENBQUM7Z0JBQ2IsV0FBVyxFQUFFLDRDQUE0QztnQkFDekQsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDM0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBQ3JFLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDREQUE0RCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzVFLE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSxxQkFBcUI7Z0JBQ3RFLFVBQVUsRUFBRSxFQUFFO2dCQUNkLFdBQVcsRUFBRSwyQ0FBMkM7Z0JBQ3hELGdCQUFnQixFQUFFO29CQUNoQix5Q0FBeUM7b0JBQ3pDLCtDQUErQztpQkFDaEQ7Z0JBQ0Qsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDL0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUM1RCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHNCQUFzQixFQUFFLEdBQUcsRUFBRTtRQUNwQyxJQUFJLENBQUMsbURBQW1ELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDbkUsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLCtCQUErQjtnQkFDaEYsVUFBVSxFQUFFLEVBQUU7Z0JBQ2QsV0FBVyxFQUFFLG1FQUFtRTtnQkFDaEYsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDdkUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsMkJBQTJCLENBQUMsQ0FBQztZQUNwRixNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN2RSxNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBQ3BGLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzVELE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSx5QkFBeUI7Z0JBQzFFLFVBQVUsRUFBRSxDQUFDO2dCQUNiLFdBQVcsRUFBRSxnREFBZ0Q7Z0JBQzdELGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3BCLGtCQUFrQixFQUFFLEtBQUs7Z0JBQ3pCLFlBQVksRUFBRSxLQUFLO2dCQUNuQixhQUFhLEVBQUUsRUFBbUI7YUFDbkMsQ0FBQztZQUVGLE1BQU0sTUFBTSxHQUFRLE1BQU0sUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckcsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsK0NBQStDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDL0QsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLGlDQUFpQztnQkFDbEYsVUFBVSxFQUFFLENBQUM7Z0JBQ2IsV0FBVyxFQUFFLDBDQUEwQztnQkFDdkQsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNoRyxNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEcsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsNENBQTRDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDNUQsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLG9DQUFvQztnQkFDckYsVUFBVSxFQUFFLEVBQUU7Z0JBQ2QsV0FBVyxFQUFFLDZCQUE2QjtnQkFDMUMsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLElBQUk7Z0JBQ2xCLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNoRyxNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0YsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxHQUFHLEVBQUU7UUFDcEMsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzVELE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSwrQkFBK0I7Z0JBQ2hGLFVBQVUsRUFBRSxFQUFFO2dCQUNkLFdBQVcsRUFBRSxpREFBaUQ7Z0JBQzlELGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3BCLGtCQUFrQixFQUFFLEtBQUs7Z0JBQ3pCLFlBQVksRUFBRSxLQUFLO2dCQUNuQixhQUFhLEVBQUUsRUFBbUI7YUFDbkMsQ0FBQztZQUVGLE1BQU0sTUFBTSxHQUFRLE1BQU0sUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUMsU0FBUyxDQUMxQyxzRkFBc0YsQ0FDdkYsQ0FBQztZQUNGLE1BQU0sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxTQUFTLENBQzFDLHVFQUF1RSxDQUN4RSxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsd0NBQXdDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDeEQsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLHVDQUF1QztnQkFDeEYsVUFBVSxFQUFFLENBQUM7Z0JBQ2IsV0FBVyxFQUFFLG1EQUFtRDtnQkFDaEUsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxTQUFTLENBQzFDLDJFQUEyRSxDQUM1RSxDQUFDO1lBQ0YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLFNBQVMsQ0FDMUMsNkRBQTZELENBQzlELENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyx5Q0FBeUMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN6RCxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsMEJBQTBCO2dCQUMzRSxVQUFVLEVBQUUsQ0FBQztnQkFDYixXQUFXLEVBQUUsMkNBQTJDO2dCQUN4RCxnQkFBZ0IsRUFBRSxFQUFFO2dCQUNwQixrQkFBa0IsRUFBRSxLQUFLO2dCQUN6QixZQUFZLEVBQUUsSUFBSTtnQkFDbEIsYUFBYSxFQUFFLEVBQW1CO2FBQ25DLENBQUM7WUFFRixNQUFNLE1BQU0sR0FBUSxNQUFNLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLFNBQVMsQ0FDMUMsdURBQXVELENBQ3hELENBQUM7WUFDRixNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUMsU0FBUyxDQUMxQyw0REFBNEQsQ0FDN0QsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGdEQUFnRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2hFLE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSxxQkFBcUI7Z0JBQ3RFLFVBQVUsRUFBRSxFQUFFO2dCQUNkLFdBQVcsRUFBRSxrQ0FBa0M7Z0JBQy9DLGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3BCLGtCQUFrQixFQUFFLElBQUk7Z0JBQ3hCLGVBQWUsRUFBRSxrREFBa0Q7Z0JBQ25FLFlBQVksRUFBRSxLQUFLO2dCQUNuQixhQUFhLEVBQUUsRUFBbUI7YUFDbkMsQ0FBQztZQUVGLE1BQU0sTUFBTSxHQUFRLE1BQU0sUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUMsU0FBUyxDQUMxQyxtREFBbUQsQ0FDcEQsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMseUNBQXlDLEVBQUUsR0FBRyxFQUFFO1FBQ3ZELElBQUksQ0FBQyw2REFBNkQsRUFBRSxHQUFHLEVBQUU7WUFDdkUsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLCtCQUErQjtnQkFDaEYsVUFBVSxFQUFFLEVBQUU7Z0JBQ2QsV0FBVyxFQUFFLGlEQUFpRDtnQkFDOUQsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxXQUFXLEdBQVEsUUFBUSxDQUFDLDRCQUE0QixDQUFDLGtCQUFVLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2pHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUNuRCxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDckQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyx1REFBdUQsRUFBRSxHQUFHLEVBQUU7WUFDakUsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLHlCQUF5QjtnQkFDMUUsVUFBVSxFQUFFLENBQUM7Z0JBQ2IsV0FBVyxFQUFFLGdEQUFnRDtnQkFDN0QsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxXQUFXLEdBQVEsUUFBUSxDQUFDLDRCQUE0QixDQUFDLGtCQUFVLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzNGLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDNUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN4QyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHlEQUF5RCxFQUFFLEdBQUcsRUFBRTtZQUNuRSxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsa0NBQWtDO2dCQUNuRixVQUFVLEVBQUUsQ0FBQztnQkFDYixXQUFXLEVBQUUsNENBQTRDO2dCQUN6RCxnQkFBZ0IsRUFBRSxFQUFFO2dCQUNwQixrQkFBa0IsRUFBRSxLQUFLO2dCQUN6QixZQUFZLEVBQUUsS0FBSztnQkFDbkIsYUFBYSxFQUFFLEVBQW1CO2FBQ25DLENBQUM7WUFFRixNQUFNLFdBQVcsR0FBUSxRQUFRLENBQUMsNEJBQTRCLENBQUMsa0JBQVUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDN0YsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNoRCxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFDM0QsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQywyQkFBMkIsRUFBRSxHQUFHLEVBQUU7UUFDekMsUUFBUSxDQUFDLGlDQUFpQyxFQUFFLEdBQUcsRUFBRTtZQUMvQyxJQUFJLENBQUMsMkRBQTJELEVBQUUsR0FBRyxFQUFFO2dCQUNyRSxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsK0JBQStCO29CQUNoRixVQUFVLEVBQUUsRUFBRTtvQkFDZCxXQUFXLEVBQUUsb0RBQW9EO29CQUNqRSxnQkFBZ0IsRUFBRSxFQUFFO29CQUNwQixrQkFBa0IsRUFBRSxLQUFLO29CQUN6QixZQUFZLEVBQUUsS0FBSztvQkFDbkIsYUFBYSxFQUFFLEVBQW1CO2lCQUNuQyxDQUFDO2dCQUVGLE1BQU0sV0FBVyxHQUFRLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQyxrQkFBVSxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDakcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDN0MsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ3JELENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLDREQUE0RCxFQUFFLEdBQUcsRUFBRTtnQkFDdEUsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLHlCQUF5QjtvQkFDMUUsVUFBVSxFQUFFLENBQUM7b0JBQ2IsV0FBVyxFQUFFLGdEQUFnRDtvQkFDN0QsZ0JBQWdCLEVBQUUsRUFBRTtvQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztvQkFDekIsWUFBWSxFQUFFLEtBQUs7b0JBQ25CLGFBQWEsRUFBRSxFQUFtQjtpQkFDbkMsQ0FBQztnQkFFRixNQUFNLFdBQVcsR0FBUSxRQUFRLENBQUMsNEJBQTRCLENBQUMsa0JBQVUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzNGLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3ZDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDOUMsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsMERBQTBELEVBQUUsR0FBRyxFQUFFO2dCQUNwRSxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUscUNBQXFDO29CQUN0RixVQUFVLEVBQUUsQ0FBQztvQkFDYixXQUFXLEVBQUUsa0RBQWtEO29CQUMvRCxnQkFBZ0IsRUFBRSxFQUFFO29CQUNwQixrQkFBa0IsRUFBRSxLQUFLO29CQUN6QixZQUFZLEVBQUUsS0FBSztvQkFDbkIsYUFBYSxFQUFFLEVBQW1CO2lCQUNuQyxDQUFDO2dCQUVGLE1BQU0sV0FBVyxHQUFRLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDN0YsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2dCQUNqRCxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDcEQsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILFFBQVEsQ0FBQywyQkFBMkIsRUFBRSxHQUFHLEVBQUU7WUFDekMsSUFBSSxDQUFDLHlDQUF5QyxFQUFFLEdBQUcsRUFBRTtnQkFDbkQsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLCtCQUErQjtvQkFDaEYsVUFBVSxFQUFFLEVBQUU7b0JBQ2QsV0FBVyxFQUFFLHlDQUF5QztvQkFDdEQsZ0JBQWdCLEVBQUUsRUFBRTtvQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztvQkFDekIsWUFBWSxFQUFFLEtBQUs7b0JBQ25CLGFBQWEsRUFBRSxFQUFtQjtpQkFDbkMsQ0FBQztnQkFFRixNQUFNLFdBQVcsR0FBUSxRQUFRLENBQUMsNEJBQTRCLENBQUMsa0JBQVUsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUN2RCxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7Z0JBQ3JELE1BQU0sT0FBTyxHQUEwQixFQUFFLFFBQVEsRUFBRSx5QkFBeUI7b0JBQzFFLFVBQVUsRUFBRSxDQUFDO29CQUNiLFdBQVcsRUFBRSxzREFBc0Q7b0JBQ25FLGdCQUFnQixFQUFFLEVBQUU7b0JBQ3BCLGtCQUFrQixFQUFFLEtBQUs7b0JBQ3pCLFlBQVksRUFBRSxLQUFLO29CQUNuQixhQUFhLEVBQUUsRUFBbUI7aUJBQ25DLENBQUM7Z0JBRUYsTUFBTSxXQUFXLEdBQVEsUUFBUSxDQUFDLDRCQUE0QixDQUFDLGtCQUFVLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUMzRixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLDRCQUE0QixDQUFDLENBQUM7WUFDOUQsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsMkNBQTJDLEVBQUUsR0FBRyxFQUFFO2dCQUNyRCxNQUFNLE9BQU8sR0FBRyxFQUFFLFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9DLFVBQVUsRUFBRSxDQUFDO29CQUNiLFdBQVcsRUFBRSw0Q0FBNEM7b0JBQ3pELGdCQUFnQixFQUFFLEVBQUU7b0JBQ3BCLGtCQUFrQixFQUFFLEtBQUs7b0JBQ3pCLFlBQVksRUFBRSxLQUFLO29CQUNuQixhQUFhLEVBQUUsRUFBRTtpQkFDbEIsQ0FBQztnQkFFRixNQUFNLFdBQVcsR0FBUSxRQUFRLENBQUMsNEJBQTRCLENBQUMsa0JBQVUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzVGLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMseUJBQXlCLENBQUMsQ0FBQztnQkFDekQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBQ3hELENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLG1DQUFtQyxFQUFFLEdBQUcsRUFBRTtnQkFDN0MsTUFBTSxPQUFPLEdBQUcsRUFBRSxRQUFRLEVBQUUsMkJBQTJCO29CQUNyRCxVQUFVLEVBQUUsQ0FBQztvQkFDYixXQUFXLEVBQUUsMENBQTBDO29CQUN2RCxnQkFBZ0IsRUFBRSxFQUFFO29CQUNwQixrQkFBa0IsRUFBRSxLQUFLO29CQUN6QixZQUFZLEVBQUUsS0FBSztvQkFDbkIsYUFBYSxFQUFFLEVBQUU7aUJBQ2xCLENBQUM7Z0JBRUYsTUFBTSxXQUFXLEdBQVEsUUFBUSxDQUFDLDRCQUE0QixDQUFDLGtCQUFVLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUM5RixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLHNCQUFzQixDQUFDLENBQUM7Z0JBQ3RELE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNsRCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsUUFBUSxDQUFDLDZCQUE2QixFQUFFLEdBQUcsRUFBRTtZQUMzQyxJQUFJLENBQUMscURBQXFELEVBQUUsR0FBRyxFQUFFO2dCQUMvRCxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsK0JBQStCO29CQUNoRixVQUFVLEVBQUUsRUFBRTtvQkFDZCxXQUFXLEVBQUUsMkNBQTJDO29CQUN4RCxnQkFBZ0IsRUFBRTt3QkFDaEIsZ0RBQWdEO3dCQUNoRCwrQ0FBK0M7d0JBQy9DLCtEQUErRDtxQkFDaEU7b0JBQ0Qsa0JBQWtCLEVBQUUsS0FBSztvQkFDekIsWUFBWSxFQUFFLEtBQUs7b0JBQ25CLGFBQWEsRUFBRSxFQUFtQjtpQkFDbkMsQ0FBQztnQkFFRixNQUFNLFdBQVcsR0FBUSxRQUFRLENBQUMsNEJBQTRCLENBQUMsa0JBQVUsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQztnQkFDckQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDN0MsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1lBQzFELENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLGtDQUFrQyxFQUFFLEdBQUcsRUFBRTtnQkFDNUMsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLCtCQUErQjtvQkFDaEYsVUFBVSxFQUFFLENBQUM7b0JBQ2IsV0FBVyxFQUFFLHdDQUF3QztvQkFDckQsZ0JBQWdCLEVBQUU7d0JBQ2hCLDRCQUE0Qjt3QkFDNUIsbURBQW1EO3dCQUNuRCwyQkFBMkI7cUJBQzVCO29CQUNELGtCQUFrQixFQUFFLEtBQUs7b0JBQ3pCLFlBQVksRUFBRSxLQUFLO29CQUNuQixhQUFhLEVBQUUsRUFBbUI7aUJBQ25DLENBQUM7Z0JBRUYsTUFBTSxXQUFXLEdBQVEsUUFBUSxDQUFDLDRCQUE0QixDQUFDLGtCQUFVLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUM5RixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUMzQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDbkQsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsNEJBQTRCLEVBQUUsR0FBRyxFQUFFO2dCQUN0QyxNQUFNLE9BQU8sR0FBRyxFQUFFLFFBQVEsRUFBRSxvQ0FBb0M7b0JBQzlELFVBQVUsRUFBRSxFQUFFO29CQUNkLFdBQVcsRUFBRSx3Q0FBd0M7b0JBQ3JELGdCQUFnQixFQUFFO3dCQUNoQix1Q0FBdUM7d0JBQ3ZDLGdDQUFnQzt3QkFDaEMsZ0RBQWdEO3FCQUNqRDtvQkFDRCxrQkFBa0IsRUFBRSxLQUFLO29CQUN6QixZQUFZLEVBQUUsSUFBSTtvQkFDbEIsYUFBYSxFQUFFLEVBQW1CO2lCQUNuQyxDQUFDO2dCQUVGLE1BQU0sV0FBVyxHQUFRLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQyxrQkFBVSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDekYsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDM0MsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3BELENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxZQUFZLEVBQUUsR0FBRyxFQUFFO1FBQzFCLElBQUksQ0FBQyxxQ0FBcUMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNyRCxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsRUFBRTtnQkFDbkQsVUFBVSxFQUFFLENBQUM7Z0JBQ2IsV0FBVyxFQUFFLHVCQUF1QjtnQkFDcEMsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELDBFQUEwRTtZQUMxRSxNQUFNLENBQUMsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sRUFBRSxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxRSxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyRCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyx3Q0FBd0MsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN4RCxNQUFNLE9BQU8sR0FBMEIsRUFBRSxRQUFRLEVBQUUsaUNBQWlDO2dCQUNsRixVQUFVLEVBQUUsRUFBRTtnQkFDZCxXQUFXLEVBQUUsc0NBQXNDO2dCQUNuRCxnQkFBZ0IsRUFBRTtvQkFDaEIsNEJBQTRCO29CQUM1QixnQ0FBZ0M7b0JBQ2hDLDRCQUE0QjtpQkFDN0I7Z0JBQ0Qsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELHFFQUFxRTtZQUNyRSxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDNUQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsc0NBQXNDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDdEQsTUFBTSxPQUFPLEdBQTBCLEVBQUUsUUFBUSxFQUFFLDRDQUE0QztnQkFDN0YsVUFBVSxFQUFFLENBQUM7Z0JBQ2IsV0FBVyxFQUFFLHVCQUF1QjtnQkFDcEMsZ0JBQWdCLEVBQUUsRUFBRTtnQkFDcEIsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLGFBQWEsRUFBRSxFQUFtQjthQUNuQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQVEsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDcEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9HcmVnQ2FzdHJvL0Rlc2t0b3AvV2hhdFRvRWF0TmV4dC8ucmVzaWxpZW50LWVzbGludC1iYWNrdXAtMTc1NzQ3ODgxMzM5My9zcmNfc2VydmljZXNfY2FtcGFpZ25fdW5pbnRlbnRpb25hbC1hbnktZWxpbWluYXRpb25fX190ZXN0c19fX0RvbWFpbkNvbnRleHRBbmFseXplci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIF9fREVWX186IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBEb21haW4gQ29udGV4dCBBbmFseXplciBUZXN0c1xuICogVGVzdHMgZm9yIGRvbWFpbiBkZXRlY3Rpb24sIHN1YmRvbWFpbiBjbGFzc2lmaWNhdGlvbiwgYW5kIHR5cGUgc3VnZ2VzdGlvbnNcbiAqL1xuXG5pbXBvcnQgeyBEb21haW5Db250ZXh0QW5hbHl6ZXIgfSBmcm9tICcuLi9Eb21haW5Db250ZXh0QW5hbHl6ZXInO1xuaW1wb3J0IHsgQ2xhc3NpZmljYXRpb25Db250ZXh0LCBDb2RlRG9tYWluLCBEb21haW5Db250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5kZXNjcmliZSgnRG9tYWluQ29udGV4dEFuYWx5emVyJywgKCkgPT4ge1xuICBsZXQgYW5hbHl6ZXI6IERvbWFpbkNvbnRleHRBbmFseXplcjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBhbmFseXplciA9IG5ldyBEb21haW5Db250ZXh0QW5hbHl6ZXIoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RvbWFpbiBEZXRlY3Rpb24nLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ1BhdGgtYmFzZWQgRGV0ZWN0aW9uJywgKCkgPT4ge1xuICAgICAgdGVzdCgnZGV0ZWN0cyBhc3Ryb2xvZ2ljYWwgZG9tYWluIGZyb20gZmlsZSBwYXRocycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9jYWxjdWxhdGlvbnMvY3VsaW5hcnkvcGxhbmV0YXJ5SW5mbHVlbmNlLnRzJyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiAxMCxcbiAgICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IGRhdGE6IGFueSA9IHJlc3BvbnNlLCcsXG4gICAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZG9tYWluKS50b0JlKENvZGVEb21haW4uQVNUUk9MT0dJQ0FMKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXRlY3RzIHJlY2lwZSBkb21haW4gZnJvbSBmaWxlIHBhdGhzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2RhdGEvaW5ncmVkaWVudHMvdmVnZXRhYmxlcy50cycsXG4gICAgICAgICAgbGluZU51bWJlcjogNSxcbiAgICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IGluZ3JlZGllbiwgdDogYW55ID0ge307JyxcbiAgICAgICAgICBzdXJyb3VuZGluZ0xpbmVzOiBbXSxcbiAgICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5SRUNJUEUpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldGVjdHMgY2FtcGFpZ24gZG9tYWluIGZyb20gZmlsZSBwYXRocycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9UeXBlU2NyaXB0RXJyb3JBbmFseXplci50cycsXG4gICAgICAgICAgbGluZU51bWJlcjogMTUsXG4gICAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCBtZXRyaWNzOiBhbnkgPSB7fTsnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRvbWFpbikudG9CZShDb2RlRG9tYWluLkNBTVBBSUdOKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXRlY3RzIGNvbXBvbmVudCBkb21haW4gZnJvbSBmaWxlIGV4dGVuc2lvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvY29tcG9uZW50cy9CdXR0b24udHN4JyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiA4LFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgcHJvcHM6IGFueSA9IHt9OycsXG4gICAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZG9tYWluKS50b0JlKENvZGVEb21haW4uQ09NUE9ORU5UKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXRlY3RzIHRlc3QgZG9tYWluIGZyb20gdGVzdCBmaWxlIHBhdGhzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2NvbXBvbmVudHMvX190ZXN0c19fL0J1dHRvbi50ZXN0LnRzeCcsXG4gICAgICAgICAgbGluZU51bWJlcjogMTIsXG4gICAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCBtb2NrRGF0LCBhOiBhbnkgPSB7fTsnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgaXNJblRlc3RGaWxlOiB0cnVlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZG9tYWluKS50b0JlKENvZGVEb21haW4uVEVTVCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdDb250ZW50LWJhc2VkIERldGVjdGlvbicsICgpID0+IHtcbiAgICAgIHRlc3QoJ2RldGVjdHMgYXN0cm9sb2dpY2FsIGRvbWFpbiBmcm9tIGNvbnRlbnQgcGF0dGVybnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvdXRpbHMvc29tZUZpbGUudHMnLFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgcGxhbmV0YXJ5UG9zaXRpb24sIHM6IGFueSA9IGNhbGN1bGF0ZVBvc2l0aW9ucygpOycsXG4gICAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW1xuICAgICAgICAgICAgJ2ltcG9ydCB7IFBsYW5ldGFyeVBvc2l0aW9uIH0gZnJvbSBcIkAvdHlwZXNcIjsnLFxuICAgICAgICAgICAgJ2Z1bmN0aW9uIGNhbGN1bGF0ZUVsZW1lbnRhbFByb3BlcnRpZXMoKSA6IGFueSB7JyxcbiAgICAgICAgICAgICcgIGNvbnN0IGZpcmU6IGFueSA9IDAuOCwgd2F0ZXIgPSAwLjI7J1xuICAgICAgICAgIF0sXG4gICAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZG9tYWluKS50b0JlKENvZGVEb21haW4uQVNUUk9MT0dJQ0FMKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXRlY3RzIHJlY2lwZSBkb21haW4gZnJvbSBjb250ZW50IHBhdHRlcm5zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL3V0aWxzL3NvbWVGaWxlLnRzJyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiA1LFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgaW5ncmVkaWVuLCB0OiBhbnkgPSBnZXRJbmdyZWRpZW50RGF0YSgpOycsXG4gICAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW1xuICAgICAgICAgICAgJ2ltcG9ydCB7IFJlY2lwZSwgSW5ncmVkaWVudCB9IGZyb20gXCJAL3R5cGVzXCI7JyxcbiAgICAgICAgICAgICdmdW5jdGlvbiBwcm9jZXNzQ29va2luZ01ldGhvZCgpIDogYW55IHsnLFxuICAgICAgICAgICAgJyAgY29uc3Qgc3BpY2VzOiBhbnkgPSBbXCJjdW1pblwiLCBcInBhcHJpa2FcIl07J1xuICAgICAgICAgIF0sXG4gICAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZG9tYWluKS50b0JlKENvZGVEb21haW4uUkVDSVBFKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXRlY3RzIGNhbXBhaWduIGRvbWFpbiBmcm9tIGNvbnRlbnQgcGF0dGVybnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvdXRpbHMvc29tZUZpbGUudHMnLFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDgsXG4gICAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCBtZXRyaWNzOiBhbnkgPSBnZXRQcm9ncmVzc01ldHJpY3MoKSwnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtcbiAgICAgICAgICAgICdpbXBvcnQgeyBDYW1wYWlnbkNvbmZpZyB9IGZyb20gXCJAL3R5cGVzXCI7JyxcbiAgICAgICAgICAgICdmdW5jdGlvbiB2YWxpZGF0ZVR5cGVTY3JpcHRFcnJvcnMoKSA6IGFueSB7JyxcbiAgICAgICAgICAgICcgIGNvbnN0IGxpbnRpbmdSZXN1bHRzOiBhbnkgPSBydW5MaW50ZXIoKTsnXG4gICAgICAgICAgXSxcbiAgICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5DQU1QQUlHTik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdJbXBvcnQtYmFzZWQgRGV0ZWN0aW9uJywgKCkgPT4ge1xuICAgICAgdGVzdCgnZGV0ZWN0cyBhc3Ryb2xvZ2ljYWwgZG9tYWluIGZyb20gaW1wb3J0cycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy91dGlscy9jYWxjdWxhdGlvbnMudHMnLFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgZGF0YTogYW55ID0gcmVzcG9uc2UsJyxcbiAgICAgICAgICBzdXJyb3VuZGluZ0xpbmVzOiBbXG4gICAgICAgICAgICAnaW1wb3J0IHsgYXN0cm9ub21pYSB9IGZyb20gXCJhc3Ryb25vbWlhXCI7JyxcbiAgICAgICAgICAgICdpbXBvcnQgeyBnZXRSZWxpYWJsZVBsYW5ldGFyeVBvc2l0aW9ucyB9IGZyb20gXCJAL3V0aWxzL3JlbGlhYmxlQXN0cm9ub215XCI7JyxcbiAgICAgICAgICAgICdmdW5jdGlvbiBjYWxjdWxhdGUoKSA6IGFueSB7J1xuICAgICAgICAgIF0sXG4gICAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZG9tYWluKS50b0JlKENvZGVEb21haW4uQVNUUk9MT0dJQ0FMKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXRlY3RzIGNvbXBvbmVudCBkb21haW4gZnJvbSBSZWFjdCBpbXBvcnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL3V0aWxzL3NvbWVGaWxlLnRzJyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiA1LFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgcHJvcHM6IGFueSA9IHt9OycsXG4gICAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW1xuICAgICAgICAgICAgJ2ltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjsnLFxuICAgICAgICAgICAgJ2ltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7JyxcbiAgICAgICAgICAgICdmdW5jdGlvbiBNeUNvbXBvbmVudCgpIDogYW55IHsnXG4gICAgICAgICAgXSxcbiAgICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5DT01QT05FTlQpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldGVjdHMgdGVzdCBkb21haW4gZnJvbSB0ZXN0aW5nIGxpYnJhcnkgaW1wb3J0cycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy91dGlscy9zb21lRmlsZS50cycsXG4gICAgICAgICAgbGluZU51bWJlcjogOCxcbiAgICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IG1vY2tEYXQsIGE6IGFueSA9IHt9OycsXG4gICAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW1xuICAgICAgICAgICAgJ2ltcG9ydCB7IGplc3QgfSBmcm9tIFwiQGplc3QvZ2xvYmFsc1wiOycsXG4gICAgICAgICAgICAnaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIkB0ZXN0aW5nLWxpYnJhcnkvcmVhY3RcIjsnLFxuICAgICAgICAgICAgJ2Rlc2NyaWJlKFwiQ29tcG9uZW50XCIoIHsnXG4gICAgICAgICAgXSxcbiAgICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5URVNUKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3ViZG9tYWluIERldGVjdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdkZXRlY3RzIHBsYW5ldGFyeSBzdWJkb21haW4gaW4gYXN0cm9sb2dpY2FsIGNvZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2NhbGN1bGF0aW9ucy9wbGFuZXRhcnkvcG9zaXRpb25zLnRzJyxcbiAgICAgICAgbGluZU51bWJlcjogMTAsXG4gICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgcGxhbmV0YXJ5RGF0LCBhOiBhbnkgPSBjYWxjdWxhdGVQbGFuZXRhcnlQb3NpdGlvbnMoKTsnLFxuICAgICAgICBzdXJyb3VuZGluZ0xpbmVzOiBbXG4gICAgICAgICAgJ2Z1bmN0aW9uIGdldFBsYW5ldERlZ3JlZSgpIDogYW55IHsnLFxuICAgICAgICAgICcgIGNvbnN0IGxvbmdpdHVkZTogYW55ID0gNDUuNTsnLFxuICAgICAgICAgICcgIHJldHVybiBjb252ZXJ0VG9ab2RpYWNQb3NpdGlvbihsb25naXR1ZGUpOydcbiAgICAgICAgXSxcbiAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5BU1RST0xPR0lDQUwpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWJEb21haW4pLnRvQmUoJ3BsYW5ldGFyeScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZGV0ZWN0cyBlbGVtZW50YWwgc3ViZG9tYWluIGluIGFzdHJvbG9naWNhbCBjb2RlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9jYWxjdWxhdGlvbnMvZWxlbWVudGFsL2hhcm1vbnkudHMnLFxuICAgICAgICBsaW5lTnVtYmVyOiA1LFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IGVsZW1lbnRhbFByb3BzOiBhbnkgPSB7IGZpcmU6IDAuOCwgd2F0ZXI6IDAuMiB9OycsXG4gICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtcbiAgICAgICAgICAnZnVuY3Rpb24gY2FsY3VsYXRlRWxlbWVudGFsQ29tcGF0aWJpbGl0eSgpIDogYW55IHsnLFxuICAgICAgICAgICcgIGNvbnN0IGZpcmU6IGFueSA9IGluZ3JlZGllbnQuZmlyZTsnLFxuICAgICAgICAgICcgIGNvbnN0IGVhcnRoOiBhbnkgPSBpbmdyZWRpZW50LmVhcnRoOydcbiAgICAgICAgXSxcbiAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5BU1RST0xPR0lDQUwpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWJEb21haW4pLnRvQmUoJ2VsZW1lbnRhbCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZGV0ZWN0cyBpbmdyZWRpZW50cyBzdWJkb21haW4gaW4gcmVjaXBlIGNvZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2RhdGEvaW5ncmVkaWVudHMvc3BpY2VzLnRzJyxcbiAgICAgICAgbGluZU51bWJlcjogOCxcbiAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCBzcGljZURhdCwgYTogYW55ID0gZ2V0U3BpY2VQcm9wZXJ0aWVzKCk7JyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW1xuICAgICAgICAgICdleHBvcnQgY29uc3QgY3VtaW4gPSB7JyxcbiAgICAgICAgICAnICBuYW1lOiBcImN1bWluXCIsJyxcbiAgICAgICAgICAnICBlbGVtZW50YWxQcm9wZXJ0aWVzOiB7IGZpcmU6IDAuOSwgZWFydGg6IDAuNyB9J1xuICAgICAgICBdLFxuICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5SRUNJUEUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWJEb21haW4pLnRvQmUoJ2luZ3JlZGllbnRzJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdkZXRlY3RzIHR5cGVzY3JpcHQtZXJyb3JzIHN1YmRvbWFpbiBpbiBjYW1wYWlnbiBjb2RlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9UeXBlU2NyaXB0RXJyb3JBbmFseXplci50cycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDEyLFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IGVycm9yRGF0LCBhOiBhbnkgPSBhbmFseXplVHlwZVNjcmlwdEVycm9ycygpOycsXG4gICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtcbiAgICAgICAgICAnZnVuY3Rpb24gZ2V0VFMyMzUyX0Vycm9ycygpIDogYW55IHsnLFxuICAgICAgICAgICcgIGNvbnN0IGNvbXBpbGF0aW9uRXJyb3JzOiBhbnkgPSBydW5UeXBlQ2hlY2soKTsnLFxuICAgICAgICAgICcgIHJldHVybiBmaWx0ZXJFcnJvcnNCeUNvZGUoXCJUUzIzNTJcIik7J1xuICAgICAgICBdLFxuICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICBleHBlY3QocmVzdWx0LmRvbWFpbikudG9CZShDb2RlRG9tYWluLkNBTVBBSUdOKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3ViRG9tYWluKS50b0JlKCd0eXBlc2NyaXB0LWVycm9ycycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVHlwZSBTdWdnZXN0aW9ucycsICgpID0+IHtcbiAgICB0ZXN0KCdwcm92aWRlcyBhc3Ryb2xvZ2ljYWwgdHlwZSBzdWdnZXN0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvY2FsY3VsYXRpb25zL3BsYW5ldGFyeS50cycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IHBvc2l0aW8sIG46IGFueSA9IGdldFBsYW5ldGFyeVBvc2l0aW9uKCk7JyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VnZ2VzdGVkVHlwZXMpLnRvQ29udGFpbignUGxhbmV0YXJ5UG9zaXRpb24nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VnZ2VzdGVkVHlwZXMpLnRvQ29udGFpbignRWxlbWVudGFsUHJvcGVydGllcycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWdnZXN0ZWRUeXBlcykudG9Db250YWluKCd1bmtub3duJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdwcm92aWRlcyByZWNpcGUgdHlwZSBzdWdnZXN0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvZGF0YS9yZWNpcGVzLnRzJyxcbiAgICAgICAgbGluZU51bWJlcjogNSxcbiAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCByZWNpcGU6IGFueSA9IGdldFJlY2lwZURhdGEoKSwnLFxuICAgICAgICBzdXJyb3VuZGluZ0xpbmVzOiBbXSxcbiAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWdnZXN0ZWRUeXBlcykudG9Db250YWluKCdSZWNpcGUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VnZ2VzdGVkVHlwZXMpLnRvQ29udGFpbignSW5ncmVkaWVudCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWdnZXN0ZWRUeXBlcykudG9Db250YWluKCd1bmtub3duJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdwcm92aWRlcyBjYW1wYWlnbiB0eXBlIHN1Z2dlc3Rpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9tZXRyaWNzLnRzJyxcbiAgICAgICAgbGluZU51bWJlcjogOCxcbiAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCBtZXRyaWNzOiBhbnkgPSBnZXRQcm9ncmVzc01ldHJpY3MoKSwnLFxuICAgICAgICBzdXJyb3VuZGluZ0xpbmVzOiBbXSxcbiAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWdnZXN0ZWRUeXBlcykudG9Db250YWluKCdQcm9ncmVzc01ldHJpY3MnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VnZ2VzdGVkVHlwZXMpLnRvQ29udGFpbignQ2FtcGFpZ25Db25maWcnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VnZ2VzdGVkVHlwZXMpLnRvQ29udGFpbignUmVjb3JkPHN0cmluZywgdW5rbm93bj4nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Byb3ZpZGVzIGNvbnRleHR1YWwgdHlwZSBzdWdnZXN0aW9ucyBiYXNlZCBvbiBjb2RlIGNvbnRlbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL3NlcnZpY2VzL2FwaS50cycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IHJlc3BvbnMsIGU6IGFueSA9IGF3YWl0IGZldGNoKHVybCk7JyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW1xuICAgICAgICAgICdhc3luYyBmdW5jdGlvbiBtYWtlQXBpUmVxdWVzdCgpIDogYW55IHsnLFxuICAgICAgICAgICcgIGNvbnN0IHJlcXVlc3REYXRhOiBhbnkgPSB7IG1ldGhvZDogXCJHRVRcIiB9OydcbiAgICAgICAgXSxcbiAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5TRVJWSUNFKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VnZ2VzdGVkVHlwZXMpLnRvQ29udGFpbignQXBpUmVzcG9uc2U8VD4nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ludGVudGlvbmFsaXR5IEhpbnRzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Byb3ZpZGVzIHByZXNlcnZhdGlvbiBoaW50cyBmb3IgYXN0cm9sb2dpY2FsIGNvZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2NhbGN1bGF0aW9ucy9wbGFuZXRhcnkudHMnLFxuICAgICAgICBsaW5lTnVtYmVyOiAxMCxcbiAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCBwbGFuZXRhcnlEYXQsIGE6IGFueSA9IGV4dGVybmFsQXN0cm9sb2d5QXBpLmdldFBvc2l0aW9ucygpOycsXG4gICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICBleHBlY3QocmVzdWx0LmludGVudGlvbmFsaXR5SGludHMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaW50ZW50aW9uYWxpdHlIaW50c1swXS5zdWdnZXN0ZWRBY3Rpb24pLnRvQmUoJ3ByZXNlcnZlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmludGVudGlvbmFsaXR5SGludHNbMF0ucmVhc29uKS50b0NvbnRhaW4oJ0FzdHJvbG9naWNhbCBjYWxjdWxhdGlvbnMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaW50ZW50aW9uYWxpdHlIaW50c1sxXS5zdWdnZXN0ZWRBY3Rpb24pLnRvQmUoJ2RvY3VtZW50Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LmludGVudGlvbmFsaXR5SGludHNbMV0ucmVhc29uKS50b0NvbnRhaW4oJ1BsYW5ldGFyeSBwb3NpdGlvbiBkYXRhJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdwcm92aWRlcyByZXBsYWNlbWVudCBoaW50cyBmb3IgcmVjaXBlIGNvZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2RhdGEvaW5ncmVkaWVudHMudHMnLFxuICAgICAgICBsaW5lTnVtYmVyOiA1LFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IGluZ3JlZGllbiwgdDogYW55ID0gZ2V0SW5ncmVkaWVudERhdGEoKTsnLFxuICAgICAgICBzdXJyb3VuZGluZ0xpbmVzOiBbXSxcbiAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pbnRlbnRpb25hbGl0eUhpbnRzLnNvbWUoaGludCA9PiBoaW50LnN1Z2dlc3RlZEFjdGlvbiA9PT0gJ3JlcGxhY2UnKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaW50ZW50aW9uYWxpdHlIaW50cy5zb21lKGhpbnQgPT4gaGludC5yZWFzb24uaW5jbHVkZXMoJ3NwZWNpZmljIHR5cGVzJykpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgncHJvdmlkZXMgcHJlc2VydmF0aW9uIGhpbnRzIGZvciBjYW1wYWlnbiBjb2RlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9jb25maWcudHMnLFxuICAgICAgICBsaW5lTnVtYmVyOiA4LFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IGNvbmZpZzogYW55ID0gZ2V0Q2FtcGFpZ25Db25maWcoKSwnLFxuICAgICAgICBzdXJyb3VuZGluZ0xpbmVzOiBbXSxcbiAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pbnRlbnRpb25hbGl0eUhpbnRzLnNvbWUoaGludCA9PiBoaW50LnN1Z2dlc3RlZEFjdGlvbiA9PT0gJ3ByZXNlcnZlJykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmludGVudGlvbmFsaXR5SGludHMuc29tZShoaW50ID0+IGhpbnQucmVhc29uLmluY2x1ZGVzKCdmbGV4aWJpbGl0eScpKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Byb3ZpZGVzIHByZXNlcnZhdGlvbiBoaW50cyBmb3IgdGVzdCBmaWxlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvdXRpbHMvX190ZXN0c19fL2hlbHBlci50ZXN0LnRzJyxcbiAgICAgICAgbGluZU51bWJlcjogMTIsXG4gICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgbW9ja0RhdCwgYTogYW55ID0ge307JyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgIGlzSW5UZXN0RmlsZTogdHJ1ZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pbnRlbnRpb25hbGl0eUhpbnRzLnNvbWUoaGludCA9PiBoaW50LnN1Z2dlc3RlZEFjdGlvbiA9PT0gJ3ByZXNlcnZlJykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmludGVudGlvbmFsaXR5SGludHMuc29tZShoaW50ID0+IGhpbnQucmVhc29uLmluY2x1ZGVzKCd0ZXN0JykpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJlc2VydmF0aW9uIFJlYXNvbnMnLCAoKSA9PiB7XG4gICAgdGVzdCgncHJvdmlkZXMgYXN0cm9sb2dpY2FsIHByZXNlcnZhdGlvbiByZWFzb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9jYWxjdWxhdGlvbnMvZXBoZW1lcmlzLnRzJyxcbiAgICAgICAgbGluZU51bWJlcjogMTAsXG4gICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgZGF0YTogYW55ID0gYXN0cm9ub215TGlicmFyeS5jYWxjdWxhdGUoKSwnLFxuICAgICAgICBzdXJyb3VuZGluZ0xpbmVzOiBbXSxcbiAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcmVzZXJ2YXRpb25SZWFzb25zKS50b0NvbnRhaW4oXG4gICAgICAgICdBc3Ryb2xvZ2ljYWwgY2FsY3VsYXRpb25zIHJlcXVpcmUgY29tcGF0aWJpbGl0eSB3aXRoIGV4dGVybmFsIGFzdHJvbm9taWNhbCBsaWJyYXJpZXMnXG4gICAgICApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcmVzZXJ2YXRpb25SZWFzb25zKS50b0NvbnRhaW4oXG4gICAgICAgICdQbGFuZXRhcnkgcG9zaXRpb24gZGF0YSBzdHJ1Y3R1cmVzIHZhcnkgYmV0d2VlbiBkaWZmZXJlbnQgQVBJIHNvdXJjZXMnXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgncHJvdmlkZXMgY2FtcGFpZ24gcHJlc2VydmF0aW9uIHJlYXNvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL3NlcnZpY2VzL2NhbXBhaWduL2ludGVsbGlnZW5jZS50cycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDUsXG4gICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgbWV0cmljczogYW55ID0gZHluYW1pY01ldHJpY3NDYWxjdWxhdGlvbigpLCcsXG4gICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVEb21haW4oY29udGV4dCk7XG4gICAgICBleHBlY3QocmVzdWx0LnByZXNlcnZhdGlvblJlYXNvbnMpLnRvQ29udGFpbihcbiAgICAgICAgJ0NhbXBhaWduIHN5c3RlbSBuZWVkcyBmbGV4aWJpbGl0eSBmb3IgZXZvbHZpbmcgbWV0cmljcyBhbmQgY29uZmlndXJhdGlvbnMnXG4gICAgICApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcmVzZXJ2YXRpb25SZWFzb25zKS50b0NvbnRhaW4oXG4gICAgICAgICdEeW5hbWljIHRvb2wgaW50ZWdyYXRpb24gcmVxdWlyZXMgYWRhcHRhYmxlIHR5cGUgc3RydWN0dXJlcydcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdwcm92aWRlcyB0ZXN0IGZpbGUgcHJlc2VydmF0aW9uIHJlYXNvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL3V0aWxzL2hlbHBlci50ZXN0LnRzJyxcbiAgICAgICAgbGluZU51bWJlcjogOCxcbiAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCB0ZXN0RGF0LCBhOiBhbnkgPSBjcmVhdGVNb2NrRGF0YSgpOycsXG4gICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICBpc0luVGVzdEZpbGU6IHRydWUsXG4gICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgIGV4cGVjdChyZXN1bHQucHJlc2VydmF0aW9uUmVhc29ucykudG9Db250YWluKFxuICAgICAgICAnVGVzdCBmbGV4aWJpbGl0eSBmb3IgbW9ja2luZyBhbmQgdGVzdCBkYXRhIGdlbmVyYXRpb24nXG4gICAgICApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcmVzZXJ2YXRpb25SZWFzb25zKS50b0NvbnRhaW4oXG4gICAgICAgICdUZXN0IGZpbGUgY29udGV4dCBhbGxvd3MgZm9yIG1vcmUgZmxleGlibGUgdHlwaW5nIHBhdHRlcm5zJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Byb3ZpZGVzIGV4aXN0aW5nIGNvbW1lbnQgcHJlc2VydmF0aW9uIHJlYXNvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL3V0aWxzL2hlbHBlci50cycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IGRhdGE6IGFueSA9IGV4dGVybmFsQXBpKCksJyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogdHJ1ZSxcbiAgICAgICAgZXhpc3RpbmdDb21tZW50OiAnLy8gSW50ZW50aW9uYWxseSBhbnk6IEV4dGVybmFsIEFQSSBjb21wYXRpYmlsaXR5JyxcbiAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge30gYXMgRG9tYWluQ29udGV4dFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBhbmFseXplci5hbmFseXplRG9tYWluKGNvbnRleHQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcmVzZXJ2YXRpb25SZWFzb25zKS50b0NvbnRhaW4oXG4gICAgICAgICdFeGlzdGluZyBkb2N1bWVudGF0aW9uIHN1Z2dlc3RzIGludGVudGlvbmFsIHVzYWdlJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RvbWFpbi1TcGVjaWZpYyBUeXBlIFN1Z2dlc3Rpb25zIE1ldGhvZCcsICgpID0+IHtcbiAgICB0ZXN0KCdyZXR1cm5zIGRvbWFpbi1zcGVjaWZpYyBzdWdnZXN0aW9ucyBmb3IgYXN0cm9sb2dpY2FsIGRvbWFpbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvY2FsY3VsYXRpb25zL3BsYW5ldGFyeS50cycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IHBvc2l0aW8sIG46IGFueSA9IGdldFBsYW5ldGFyeVBvc2l0aW9uKCk7JyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zOiBhbnkgPSBhbmFseXplci5nZXREb21haW5TcGVjaWZpY1N1Z2dlc3Rpb25zKENvZGVEb21haW4uQVNUUk9MT0dJQ0FMLCBjb250ZXh0KTtcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdQbGFuZXRhcnlQb3NpdGlvbicpO1xuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ0VsZW1lbnRhbFByb3BlcnRpZXMnKTtcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCd1bmtub3duJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdyZXR1cm5zIGRvbWFpbi1zcGVjaWZpYyBzdWdnZXN0aW9ucyBmb3IgcmVjaXBlIGRvbWFpbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvZGF0YS9pbmdyZWRpZW50cy50cycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDUsXG4gICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgaW5ncmVkaWVuLCB0OiBhbnkgPSBnZXRJbmdyZWRpZW50RGF0YSgpOycsXG4gICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzdWdnZXN0aW9uczogYW55ID0gYW5hbHl6ZXIuZ2V0RG9tYWluU3BlY2lmaWNTdWdnZXN0aW9ucyhDb2RlRG9tYWluLlJFQ0lQRSwgY29udGV4dCk7XG4gICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignSW5ncmVkaWVudCcpO1xuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ1JlY2lwZScpO1xuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ3Vua25vd24nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3JldHVybnMgZG9tYWluLXNwZWNpZmljIHN1Z2dlc3Rpb25zIGZvciBjYW1wYWlnbiBkb21haW4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL3NlcnZpY2VzL2NhbXBhaWduL21ldHJpY3MudHMnLFxuICAgICAgICBsaW5lTnVtYmVyOiA4LFxuICAgICAgICBjb2RlU25pcHBldDogJ2NvbnN0IG1ldHJpY3M6IGFueSA9IGdldFByb2dyZXNzTWV0cmljcygpLCcsXG4gICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzdWdnZXN0aW9uczogYW55ID0gYW5hbHl6ZXIuZ2V0RG9tYWluU3BlY2lmaWNTdWdnZXN0aW9ucyhDb2RlRG9tYWluLkNBTVBBSUdOLCBjb250ZXh0KTtcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdQcm9ncmVzc01ldHJpY3MnKTtcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdDYW1wYWlnbkNvbmZpZycpO1xuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ1JlY29yZDxzdHJpbmcsIHVua25vd24+Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBZHZhbmNlZCBUeXBlIFN1Z2dlc3Rpb25zJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCdWYXJpYWJsZSBOYW1lIEJhc2VkIFN1Z2dlc3Rpb25zJywgKCkgPT4ge1xuICAgICAgdGVzdCgnc3VnZ2VzdHMgc3BlY2lmaWMgcGxhbmV0YXJ5IHR5cGVzIGJhc2VkIG9uIHZhcmlhYmxlIG5hbWVzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2NhbGN1bGF0aW9ucy9wbGFuZXRhcnkudHMnLFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3Qgc3VuUG9zaXRpbywgbjogYW55ID0gY2FsY3VsYXRlU3VuUG9zaXRpb24oKTsnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnM6IGFueSA9IGFuYWx5emVyLmdldERvbWFpblNwZWNpZmljU3VnZ2VzdGlvbnMoQ29kZURvbWFpbi5BU1RST0xPR0lDQUwsIGNvbnRleHQpO1xuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignU3VuUG9zaXRpb24nKTtcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ1BsYW5ldGFyeVBvc2l0aW9uJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnc3VnZ2VzdHMgc3BlY2lmaWMgaW5ncmVkaWVudCB0eXBlcyBiYXNlZCBvbiB2YXJpYWJsZSBuYW1lcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9kYXRhL2luZ3JlZGllbnRzLnRzJyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiA1LFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3Qgc3BpY2VEYXQsIGE6IGFueSA9IGdldFNwaWNlUHJvcGVydGllcygpOycsXG4gICAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzdWdnZXN0aW9uczogYW55ID0gYW5hbHl6ZXIuZ2V0RG9tYWluU3BlY2lmaWNTdWdnZXN0aW9ucyhDb2RlRG9tYWluLlJFQ0lQRSwgY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdTcGljZScpO1xuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignSW5ncmVkaWVudCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ3N1Z2dlc3RzIGNhbXBhaWduLXNwZWNpZmljIHR5cGVzIGJhc2VkIG9uIHZhcmlhYmxlIG5hbWVzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL3NlcnZpY2VzL2NhbXBhaWduL3R5cGVzY3JpcHQudHMnLFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDgsXG4gICAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCB0eXBlc2NyaXB0RXJyb3IsIHM6IGFueSA9IGFuYWx5emVFcnJvcnMoKTsnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnM6IGFueSA9IGFuYWx5emVyLmdldERvbWFpblNwZWNpZmljU3VnZ2VzdGlvbnMoQ29kZURvbWFpbi5DQU1QQUlHTiwgY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdUeXBlU2NyaXB0RXJyb3InKTtcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ1ZhbGlkYXRpb25SZXN1bHQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ1BhdHRlcm4gQmFzZWQgU3VnZ2VzdGlvbnMnLCAoKSA9PiB7XG4gICAgICB0ZXN0KCdzdWdnZXN0cyBhcnJheSB0eXBlcyBmb3IgYW55W10gcGF0dGVybnMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvY2FsY3VsYXRpb25zL3BsYW5ldGFyeS50cycsXG4gICAgICAgICAgbGluZU51bWJlcjogMTAsXG4gICAgICAgICAgY29kZVNuaXBwZXQ6ICdjb25zdCBwbGFuZXRzOiBhbnlbXSA9IGdldEFsbFBsYW5ldHMoKSwnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnM6IGFueSA9IGFuYWx5emVyLmdldERvbWFpblNwZWNpZmljU3VnZ2VzdGlvbnMoQ29kZURvbWFpbi5BU1RST0xPR0lDQUwsIGNvbnRleHQpO1xuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignUGxhbmV0W10nKTtcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ1BsYW5ldGFyeVBvc2l0aW9uW10nKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdzdWdnZXN0cyBSZWNvcmQgdHlwZXMgZm9yIG9iamVjdCBwYXR0ZXJucycsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9kYXRhL2luZ3JlZGllbnRzLnRzJyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiA1LFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgaW5ncmVkaWVudE1hLCBwOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9OycsXG4gICAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzdWdnZXN0aW9uczogYW55ID0gYW5hbHl6ZXIuZ2V0RG9tYWluU3BlY2lmaWNTdWdnZXN0aW9ucyhDb2RlRG9tYWluLlJFQ0lQRSwgY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdSZWNvcmQ8c3RyaW5nLCBJbmdyZWRpZW50PicpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ3N1Z2dlc3RzIFByb21pc2UgdHlwZXMgZm9yIGFzeW5jIHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9zZXJ2aWNlcy9hcGkudHMnLFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDgsXG4gICAgICAgICAgY29kZVNuaXBwZXQ6ICdhc3luYyBmdW5jdGlvbiBmZXRjaERhdGEoKTogUHJvbWlzZTxhbnk+IHsnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgICBkb21haW5Db250ZXh0OiB7fVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zOiBhbnkgPSBhbmFseXplci5nZXREb21haW5TcGVjaWZpY1N1Z2dlc3Rpb25zKENvZGVEb21haW4uU0VSVklDRSwgY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PicpO1xuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignUHJvbWlzZTxTZXJ2aWNlRGF0YT4nKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdzdWdnZXN0cyBmdW5jdGlvbiBwYXJhbWV0ZXIgdHlwZXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2NvbXBvbmVudHMvQnV0dG9uLnRzeCcsXG4gICAgICAgICAgbGluZU51bWJlcjogNSxcbiAgICAgICAgICBjb2RlU25pcHBldDogJ2Z1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50OiBhbnkpIDogYW55IHsnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtdLFxuICAgICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgICBkb21haW5Db250ZXh0OiB7fVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zOiBhbnkgPSBhbmFseXplci5nZXREb21haW5TcGVjaWZpY1N1Z2dlc3Rpb25zKENvZGVEb21haW4uQ09NUE9ORU5ULCBjb250ZXh0KTtcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ1JlYWN0LlN5bnRoZXRpY0V2ZW50Jyk7XG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdDb21wb25lbnRQcm9wcycpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnQ29udGV4dHVhbCBDb250ZW50IEFuYWx5c2lzJywgKCkgPT4ge1xuICAgICAgdGVzdCgnYW5hbHl6ZXMgc3Vycm91bmRpbmcgY29udGVudCBmb3IgYmV0dGVyIHN1Z2dlc3Rpb25zJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0OiBDbGFzc2lmaWNhdGlvbkNvbnRleHQgPSB7IGZpbGVQYXRoOiAnc3JjL2NhbGN1bGF0aW9ucy9lbGVtZW50YWwudHMnLFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgZGF0YTogYW55ID0gcHJvY2Vzc0VsZW1lbnRhbERhdGEoKSwnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtcbiAgICAgICAgICAgICdpbXBvcnQgeyBFbGVtZW50YWxQcm9wZXJ0aWVzIH0gZnJvbSBcIkAvdHlwZXNcIjsnLFxuICAgICAgICAgICAgJ2Z1bmN0aW9uIGNhbGN1bGF0ZUZpcmVDb21wYXRpYmlsaXR5KCkgOiBhbnkgeycsXG4gICAgICAgICAgICAnICBjb25zdCBmaXJlOiBhbnkgPSAwLjgsIHdhdGVyID0gMC4yLCBlYXJ0aCA9IDAuNSwgYWlyID0gMC4zOydcbiAgICAgICAgICBdLFxuICAgICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgaXNJblRlc3RGaWxlOiBmYWxzZSxcbiAgICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnM6IGFueSA9IGFuYWx5emVyLmdldERvbWFpblNwZWNpZmljU3VnZ2VzdGlvbnMoQ29kZURvbWFpbi5BU1RST0xPR0lDQUwsIGNvbnRleHQpO1xuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignRWxlbWVudGFsUHJvcGVydGllcycpO1xuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignRmlyZUVsZW1lbnQnKTtcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ0VsZW1lbnRhbENvbXBhdGliaWxpdHknKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXRlY3RzIFJlYWN0IGNvbXBvbmVudCBwYXR0ZXJucycsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy9jb21wb25lbnRzL1JlY2lwZUZvcm0udHN4JyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiA4LFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgZm9ybURhdCwgYTogYW55ID0gZ2V0Rm9ybURhdGEoKTsnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtcbiAgICAgICAgICAgICdpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7JyxcbiAgICAgICAgICAgICdmdW5jdGlvbiBvblN1Ym1pdChldmVudDogUmVhY3QuRm9ybUV2ZW50KSA6IGFueSB7JyxcbiAgICAgICAgICAgICcgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7J1xuICAgICAgICAgIF0sXG4gICAgICAgICAgaGFzRXhpc3RpbmdDb21tZW50OiBmYWxzZSxcbiAgICAgICAgICBpc0luVGVzdEZpbGU6IGZhbHNlLFxuICAgICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzdWdnZXN0aW9uczogYW55ID0gYW5hbHl6ZXIuZ2V0RG9tYWluU3BlY2lmaWNTdWdnZXN0aW9ucyhDb2RlRG9tYWluLkNPTVBPTkVOVCwgY29udGV4dCk7XG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9Db250YWluKCdGb3JtUHJvcHMnKTtcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ1JlYWN0LkZvcm1FdmVudCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldGVjdHMgdGVzdCBtb2NrIHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0geyBmaWxlUGF0aDogJ3NyYy91dGlscy9fX3Rlc3RzX18vaGVscGVyLnRlc3QudHMnLFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEyLFxuICAgICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgbW9ja0Z1bmN0aW8sIG46IGFueSA9IGplc3QuZm4oKTsnLFxuICAgICAgICAgIHN1cnJvdW5kaW5nTGluZXM6IFtcbiAgICAgICAgICAgICdpbXBvcnQgeyBqZXN0IH0gZnJvbSBcIkBqZXN0L2dsb2JhbHNcIjsnLFxuICAgICAgICAgICAgJ2Rlc2NyaWJlKFwiSGVscGVyIGZ1bmN0aW9uc1wiKCB7JyxcbiAgICAgICAgICAgICcgIGNvbnN0IHNweTogYW55ID0gamVzdC5zcHlPbihjb25zb2xlLCBcImxvZ1wiKTsnXG4gICAgICAgICAgXSxcbiAgICAgICAgICBoYXNFeGlzdGluZ0NvbW1lbnQ6IGZhbHNlLFxuICAgICAgICAgIGlzSW5UZXN0RmlsZTogdHJ1ZSxcbiAgICAgICAgICBkb21haW5Db250ZXh0OiB7fSBhcyBEb21haW5Db250ZXh0XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnM6IGFueSA9IGFuYWx5emVyLmdldERvbWFpblNwZWNpZmljU3VnZ2VzdGlvbnMoQ29kZURvbWFpbi5URVNULCBjb250ZXh0KTtcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ2plc3QuTW9jaycpO1xuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignamVzdC5TcHlJbnN0YW5jZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIHRlc3QoJ2hhbmRsZXMgZW1wdHkgZmlsZSBwYXRocyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDEsXG4gICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgZGF0YTogYW55ID0ge307JyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgIC8vIEVtcHR5IHBhdGggc2hvdWxkIGRlZmF1bHQgdG8gdXRpbGl0eSwgYnV0IGNvbnRlbnQgbWlnaHQgc3VnZ2VzdCBzZXJ2aWNlXG4gICAgICBleHBlY3QoW0NvZGVEb21haW4uVVRJTElUWSwgQ29kZURvbWFpbi5TRVJWSUNFXSkudG9Db250YWluKHJlc3VsdC5kb21haW4pO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWdnZXN0ZWRUeXBlcykudG9Db250YWluKCd1bmtub3duJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdoYW5kbGVzIG1peGVkIGRvbWFpbiBzaWduYWxzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRleHQ6IENsYXNzaWZpY2F0aW9uQ29udGV4dCA9IHsgZmlsZVBhdGg6ICdzcmMvY29tcG9uZW50cy9DaGFydERpc3BsYXkudHN4JyxcbiAgICAgICAgbGluZU51bWJlcjogMTAsXG4gICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgY2hhcnREYXQsIGE6IGFueSA9IHByb3BzLmRhdGE7JyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW1xuICAgICAgICAgICdpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7JyxcbiAgICAgICAgICAnZnVuY3Rpb24gcmVuZGVyQ2hhcnQoKSA6IGFueSB7JyxcbiAgICAgICAgICAnICByZXR1cm4gPGRpdj5DaGFydDwvZGl2PjsnXG4gICAgICAgIF0sXG4gICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgIC8vIENvbXBvbmVudCBkb21haW4gc2hvdWxkIHdpbiBkdWUgdG8gZmlsZSBleHRlbnNpb24gYW5kIFJlYWN0IGltcG9ydFxuICAgICAgZXhwZWN0KHJlc3VsdC5kb21haW4pLnRvQmUoQ29kZURvbWFpbi5DT01QT05FTlQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWdnZXN0ZWRUeXBlcykudG9Db250YWluKCdDb21wb25lbnRQcm9wcycpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnaGFuZGxlcyBXaW5kb3dzIGZpbGUgcGF0aHMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29udGV4dDogQ2xhc3NpZmljYXRpb25Db250ZXh0ID0geyBmaWxlUGF0aDogJ3NyY1xcXFxjYWxjdWxhdGlvbnNcXFxccGxhbmV0YXJ5XFxcXHBvc2l0aW9ucy50cycsXG4gICAgICAgIGxpbmVOdW1iZXI6IDUsXG4gICAgICAgIGNvZGVTbmlwcGV0OiAnY29uc3QgZGF0YTogYW55ID0ge307JyxcbiAgICAgICAgc3Vycm91bmRpbmdMaW5lczogW10sXG4gICAgICAgIGhhc0V4aXN0aW5nQ29tbWVudDogZmFsc2UsXG4gICAgICAgIGlzSW5UZXN0RmlsZTogZmFsc2UsXG4gICAgICAgIGRvbWFpbkNvbnRleHQ6IHt9IGFzIERvbWFpbkNvbnRleHRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZURvbWFpbihjb250ZXh0KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZG9tYWluKS50b0JlKENvZGVEb21haW4uQVNUUk9MT0dJQ0FMKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3ViRG9tYWluKS50b0JlKCdwbGFuZXRhcnknKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==