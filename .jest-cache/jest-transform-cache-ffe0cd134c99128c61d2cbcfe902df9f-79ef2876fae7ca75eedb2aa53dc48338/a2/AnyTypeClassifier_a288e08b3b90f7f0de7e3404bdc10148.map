{"file":"/Users/GregCastro/Desktop/WhatToEatNext/backups/conservative-wave-2025-08-11T05-21-33-410Z/src/services/campaign/unintentional-any-elimination/AnyTypeClassifier.ts","mappings":"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","names":[],"sources":["/Users/GregCastro/Desktop/WhatToEatNext/backups/conservative-wave-2025-08-11T05-21-33-410Z/src/services/campaign/unintentional-any-elimination/AnyTypeClassifier.ts"],"sourcesContent":["/**\n * Any Type Classifier\n * Analyzes each `any` type usage to determine if it's intentional or unintentional\n */\n\nimport {\n    AnyTypeCategory,\n    AnyTypeClassification,\n    ClassificationContext,\n    ClassificationError,\n    ClassificationRules,\n    CodeDomain\n} from './types';\n\nexport class AnyTypeClassifier {\n  private rules: ClassificationRules;\n  private confidenceWeights: Map<AnyTypeCategory, number>;\n  private patternMatchers: Map<AnyTypeCategory, (context: ClassificationContext) => number>;\n\n  constructor(rules?: Partial<ClassificationRules>) {\n    this.rules = {\n      errorHandlingPatterns: [\n        /catch\\s*\\(\\s*\\w+\\s*:\\s*any\\s*\\)/,\n        /error\\s*:\\s*any/,\n        /exception\\s*:\\s*any/,\n        /err\\s*:\\s*any/,\n        /\\.catch\\s*\\(\\s*\\(\\s*\\w+\\s*:\\s*any\\s*\\)/,\n        /try\\s*\\{[\\s\\S]*?\\}\\s*catch\\s*\\(\\s*\\w+\\s*:\\s*any/\n      ],\n      externalApiPatterns: [\n        /response\\s*:\\s*any/,\n        /data\\s*:\\s*any/,\n        /payload\\s*:\\s*any/,\n        /apiResponse\\s*:\\s*any/,\n        /fetch\\s*\\([\\s\\S]*?\\)\\s*\\.then\\s*\\(\\s*\\w+\\s*:\\s*any/,\n        /axios\\.\\w+\\s*\\([\\s\\S]*?\\)\\s*:\\s*any/,\n        /\\.json\\(\\)\\s*:\\s*any/\n      ],\n      testMockPatterns: [\n        /mock\\w*\\s*:\\s*any/,\n        /jest\\.fn\\(\\)\\s*as\\s*any/,\n        /\\.mockReturnValue\\s*\\(\\s*\\w+\\s*as\\s*any\\s*\\)/,\n        /\\.mockImplementation\\s*\\(\\s*\\w+\\s*:\\s*any/,\n        /\\.spyOn\\s*\\([\\s\\S]*?\\)\\s*as\\s*any/,\n        /describe\\s*\\([\\s\\S]*?\\w+\\s*:\\s*any/,\n        /it\\s*\\([\\s\\S]*?\\w+\\s*:\\s*any/,\n        /test\\s*\\([\\s\\S]*?\\w+\\s*:\\s*any/\n      ],\n      dynamicConfigPatterns: [\n        /config\\s*:\\s*any/,\n        /options\\s*:\\s*any/,\n        /settings\\s*:\\s*any/,\n        /params\\s*:\\s*any/,\n        /props\\s*:\\s*any/,\n        /\\.env\\s*:\\s*any/,\n        /process\\.env\\.\\w+\\s*as\\s*any/\n      ],\n      legacyCompatibilityPatterns: [\n        /legacy\\w*\\s*:\\s*any/,\n        /deprecated\\w*\\s*:\\s*any/,\n        /old\\w*\\s*:\\s*any/,\n        /backward\\w*\\s*:\\s*any/,\n        /compat\\w*\\s*:\\s*any/\n      ],\n      ...rules\n    };\n\n    // Initialize confidence weights for different categories\n    this.confidenceWeights = new Map([\n      [AnyTypeCategory.ERROR_HANDLING, 0.9],\n      [AnyTypeCategory.EXTERNAL_API, 0.8],\n      [AnyTypeCategory.TEST_MOCK, 0.85],\n      [AnyTypeCategory.DYNAMIC_CONFIG, 0.75],\n      [AnyTypeCategory.LEGACY_COMPATIBILITY, 0.7],\n      [AnyTypeCategory.ARRAY_TYPE, 0.95], // High confidence for replacement\n      [AnyTypeCategory.RECORD_TYPE, 0.8],\n      [AnyTypeCategory.FUNCTION_PARAM, 0.6],\n      [AnyTypeCategory.RETURN_TYPE, 0.65],\n      [AnyTypeCategory.TYPE_ASSERTION, 0.5]\n    ]);\n\n    // Initialize pattern matchers with confidence scoring\n    this.patternMatchers = new Map([\n      [AnyTypeCategory.ERROR_HANDLING, this.calculateErrorHandlingConfidence.bind(this)],\n      [AnyTypeCategory.EXTERNAL_API, this.calculateExternalApiConfidence.bind(this)],\n      [AnyTypeCategory.TEST_MOCK, this.calculateTestMockConfidence.bind(this)],\n      [AnyTypeCategory.DYNAMIC_CONFIG, this.calculateDynamicConfigConfidence.bind(this)],\n      [AnyTypeCategory.LEGACY_COMPATIBILITY, this.calculateLegacyCompatibilityConfidence.bind(this)],\n      [AnyTypeCategory.ARRAY_TYPE, this.calculateArrayTypeConfidence.bind(this)],\n      [AnyTypeCategory.RECORD_TYPE, this.calculateRecordTypeConfidence.bind(this)]\n    ]);\n  }\n\n  /**\n   * Classify a single any type usage using pattern recognition algorithms and contextual analysis\n   */\n  async classify(context: ClassificationContext): Promise<AnyTypeClassification> {\n    try {\n      // Perform contextual analysis\n      const surroundingContext = this.analyzeSurroundingCodeContext(context);\n      const fileTypeInfo = this.analyzeFileType(context.filePath);\n\n      // Check for existing documentation first (highest priority)\n      if (context.hasExistingComment && this.hasIntentionalDocumentation(context.existingComment)) {\n        return {\n          isIntentional: true,\n          confidence: 0.95,\n          reasoning: `Explicitly documented as intentional${surroundingContext.contextualClues.length > 0 ? ` (${surroundingContext.contextualClues.join(', ')})` : ''}`,\n          requiresDocumentation: false,\n          category: this.categorizeFromComment(context.existingComment)\n        };\n      }\n\n      // Run pattern recognition algorithms for all categories\n      const categoryScores = new Map<AnyTypeCategory, number>();\n\n      // Calculate confidence scores for each category with contextual adjustments\n      for (const [category, matcher] of this.patternMatchers) {\n        let score = matcher(context);\n\n        // Apply contextual adjustments\n        score = this.applyContextualAdjustments(score, category, surroundingContext, fileTypeInfo);\n\n        if (score > 0) {\n          categoryScores.set(category, score);\n        }\n      }\n\n      // Find the highest scoring category\n      let bestCategory: AnyTypeCategory | null = null;\n      let bestScore = 0;\n\n      for (const [category, score] of categoryScores) {\n        if (score > bestScore) {\n          bestScore = score;\n          bestCategory = category;\n        }\n      }\n\n      // If we found a strong pattern match, use it\n      if (bestCategory && bestScore >= 0.7) {\n        const isIntentional = this.isIntentionalCategory(bestCategory);\n        const contextualReasoning = this.buildContextualReasoning(bestCategory, surroundingContext, fileTypeInfo);\n\n        return {\n          isIntentional,\n          confidence: bestScore,\n          reasoning: contextualReasoning,\n          suggestedReplacement: isIntentional ? undefined : this.getSuggestedReplacement(bestCategory, context),\n          requiresDocumentation: isIntentional,\n          category: bestCategory\n        };\n      }\n\n      // Domain-specific analysis for moderate confidence cases\n      const domainClassification = this.analyzeDomainSpecific(context);\n      if (domainClassification) {\n        // Enhance domain classification with contextual information\n        domainClassification.reasoning += this.getContextualEnhancement(surroundingContext, fileTypeInfo);\n        return domainClassification;\n      }\n\n      // Function parameter and return type analysis\n      const functionAnalysis = this.analyzeFunctionContext(context);\n      if (functionAnalysis) {\n        functionAnalysis.reasoning += this.getContextualEnhancement(surroundingContext, fileTypeInfo);\n        return functionAnalysis;\n      }\n\n      // Default classification with comprehensive contextual confidence adjustment\n      const defaultConfidence = this.calculateContextualConfidence(context, surroundingContext, fileTypeInfo);\n      const contextualReasoning = this.buildDefaultContextualReasoning(defaultConfidence, surroundingContext, fileTypeInfo);\n\n      return {\n        isIntentional: defaultConfidence > 0.6, // Higher threshold with contextual analysis\n        confidence: defaultConfidence,\n        reasoning: contextualReasoning,\n        suggestedReplacement: defaultConfidence <= 0.6 ? this.getDefaultSuggestedReplacement(context) : undefined,\n        requiresDocumentation: defaultConfidence > 0.6,\n        category: AnyTypeCategory.TYPE_ASSERTION\n      };\n\n    } catch (error) {\n      throw new ClassificationError(\n        `Failed to classify any type at ${context.filePath}:${context.lineNumber}`,\n        context,\n        error as Error\n      );\n    }\n  }\n\n  /**\n   * Classify multiple any type usages in batch\n   */\n  async classifyBatch(contexts: ClassificationContext[]): Promise<AnyTypeClassification[]> {\n    const results: AnyTypeClassification[] = [];\n\n    for (const context of contexts) {\n      try {\n        const classification = await this.classify(context);\n        results.push(classification);\n      } catch (error) {\n        // Log error but continue with other classifications\n        console.warn(`Classification failed for ${context.filePath}:${context.lineNumber}`, error);\n\n        // Provide safe fallback classification\n        results.push({\n          isIntentional: true, // Conservative fallback to prevent unwanted changes\n          confidence: 0.1,\n          reasoning: 'Classification failed, marked as intentional for safety',\n          requiresDocumentation: true,\n          category: AnyTypeCategory.LEGACY_COMPATIBILITY\n        });\n      }\n    }\n\n    return results;\n  }\n\n  /**\n   * Enhanced comment analysis to detect existing documentation\n   */\n  private hasIntentionalDocumentation(comment?: string): boolean {\n    if (!comment) return false;\n\n    const intentionalKeywords = [\n      'intentionally any',\n      'deliberately any',\n      'explicitly any',\n      'must be any',\n      'required any',\n      'needs to be any',\n      'has to be any',\n      'should be any',\n      'keep as any',\n      'leave as any',\n      'any is needed',\n      'any is required',\n      'any type needed',\n      'flexible typing',\n      'dynamic typing',\n      'external library',\n      'third party',\n      'api response',\n      'unknown structure'\n    ];\n\n    const lowerComment = comment.toLowerCase();\n\n    // Check for explicit intentional markers\n    const hasIntentionalMarker = intentionalKeywords.some(keyword =>\n      lowerComment.includes(keyword)\n    );\n\n    // Check for ESLint disable comments with explanations\n    const hasEslintDisable = lowerComment.includes('eslint-disable') &&\n                            (lowerComment.includes('no-explicit-any') ||\n                             lowerComment.includes('@typescript-eslint/no-explicit-any'));\n\n    // Check for TODO/FIXME comments that indicate temporary usage\n    const hasTodoFixme = lowerComment.includes('todo') ||\n                        lowerComment.includes('fixme') ||\n                        lowerComment.includes('hack');\n\n    return hasIntentionalMarker || (hasEslintDisable && !hasTodoFixme);\n  }\n\n  /**\n   * Analyze surrounding code context for better understanding\n   */\n  private analyzeSurroundingCodeContext(context: ClassificationContext): {\n    hasErrorHandling: boolean;\n    hasApiCalls: boolean;\n    hasTestingCode: boolean;\n    hasTypeAssertions: boolean;\n    hasComplexLogic: boolean;\n    contextualClues: string[];\n  } {\n    const surroundingCode = this.getCombinedCode(context);\n    const lowerCode = surroundingCode.toLowerCase();\n\n    const contextualClues: string[] = [];\n\n    // Error handling detection\n    const hasErrorHandling = /try\\s*\\{|catch\\s*\\(|\\.catch\\s*\\(|throw\\s+|error|exception/i.test(surroundingCode);\n    if (hasErrorHandling) contextualClues.push('error handling context');\n\n    // API calls detection\n    const hasApiCalls = /fetch\\s*\\(|axios\\.|http\\.|api\\.|request\\.|response\\.|\\.json\\(\\)|\\.then\\s*\\(/i.test(surroundingCode);\n    if (hasApiCalls) contextualClues.push('API interaction context');\n\n    // Testing code detection\n    const hasTestingCode = /describe\\s*\\(|it\\s*\\(|test\\s*\\(|expect\\s*\\(|mock|spy|jest\\.|beforeEach|afterEach/i.test(surroundingCode);\n    if (hasTestingCode) contextualClues.push('testing context');\n\n    // Type assertions detection\n    const hasTypeAssertions = /as\\s+any|<any>|\\(.*\\s+as\\s+any\\s*\\)/i.test(surroundingCode);\n    if (hasTypeAssertions) contextualClues.push('type assertion context');\n\n    // Complex logic detection (loops, conditions, multiple function calls)\n    const hasComplexLogic = (surroundingCode.match(/if\\s*\\(|for\\s*\\(|while\\s*\\(|switch\\s*\\(/g) || []).length > 2 ||\n                           (surroundingCode.match(/\\.\\w+\\s*\\(/g) || []).length > 3;\n    if (hasComplexLogic) contextualClues.push('complex logic context');\n\n    return {\n      hasErrorHandling,\n      hasApiCalls,\n      hasTestingCode,\n      hasTypeAssertions,\n      hasComplexLogic,\n      contextualClues\n    };\n  }\n\n  /**\n   * Enhanced file type detection\n   */\n  private analyzeFileType(filePath: string): {\n    isTestFile: boolean;\n    isConfigFile: boolean;\n    isTypeDefinitionFile: boolean;\n    isServiceFile: boolean;\n    isComponentFile: boolean;\n    isUtilityFile: boolean;\n    fileCategory: string;\n  } {\n    const fileName = filePath.toLowerCase();\n    const pathSegments = fileName.split('/');\n\n    // Test file detection\n    const isTestFile = fileName.includes('.test.') ||\n                      fileName.includes('.spec.') ||\n                      fileName.includes('__tests__') ||\n                      pathSegments.some(segment => segment === 'tests' || segment === '__tests__' || segment === 'test');\n\n    // Config file detection\n    const isConfigFile = fileName.includes('config') ||\n                        fileName.includes('.config.') ||\n                        fileName.includes('settings') ||\n                        pathSegments.some(segment => segment === 'config' || segment === 'configs');\n\n    // Type definition file detection\n    const isTypeDefinitionFile = fileName.endsWith('.d.ts') ||\n                                fileName.includes('types.ts') ||\n                                fileName.includes('interfaces.ts') ||\n                                pathSegments.some(segment => segment === 'types' || segment === '@types');\n\n    // Service file detection\n    const isServiceFile = fileName.includes('service') ||\n                         fileName.includes('.service.') ||\n                         pathSegments.some(segment => segment === 'services' || segment === 'api');\n\n    // Component file detection\n    const isComponentFile = fileName.includes('component') ||\n                           fileName.endsWith('.tsx') ||\n                           pathSegments.some(segment => segment === 'components' || segment === 'ui');\n\n    // Utility file detection\n    const isUtilityFile = fileName.includes('util') ||\n                         fileName.includes('helper') ||\n                         pathSegments.some(segment => segment === 'utils' || segment === 'helpers' || segment === 'lib');\n\n    // Determine file category\n    let fileCategory = 'unknown';\n    if (isTestFile) fileCategory = 'test';\n    else if (isConfigFile) fileCategory = 'config';\n    else if (isTypeDefinitionFile) fileCategory = 'types';\n    else if (isServiceFile) fileCategory = 'service';\n    else if (isComponentFile) fileCategory = 'component';\n    else if (isUtilityFile) fileCategory = 'utility';\n\n    return {\n      isTestFile,\n      isConfigFile,\n      isTypeDefinitionFile,\n      isServiceFile,\n      isComponentFile,\n      isUtilityFile,\n      fileCategory\n    };\n  }\n\n  private categorizeFromComment(comment?: string): AnyTypeCategory {\n    if (!comment) return AnyTypeCategory.LEGACY_COMPATIBILITY;\n\n    const lowerComment = comment.toLowerCase();\n\n    if (lowerComment.includes('external') || lowerComment.includes('api')) {\n      return AnyTypeCategory.EXTERNAL_API;\n    }\n    if (lowerComment.includes('error') || lowerComment.includes('catch')) {\n      return AnyTypeCategory.ERROR_HANDLING;\n    }\n    if (lowerComment.includes('test') || lowerComment.includes('mock')) {\n      return AnyTypeCategory.TEST_MOCK;\n    }\n    if (lowerComment.includes('config') || lowerComment.includes('dynamic')) {\n      return AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n\n    return AnyTypeCategory.LEGACY_COMPATIBILITY;\n  }\n\n  private matchesErrorHandling(context: ClassificationContext): boolean {\n    const codeWithSurrounding = [\n      ...context.surroundingLines,\n      context.codeSnippet\n    ].join('\\n');\n\n    return this.rules.errorHandlingPatterns.some(pattern =>\n      pattern.test(codeWithSurrounding)\n    );\n  }\n\n  private matchesExternalApi(context: ClassificationContext): boolean {\n    const codeWithSurrounding = [\n      ...context.surroundingLines,\n      context.codeSnippet\n    ].join('\\n');\n\n    return this.rules.externalApiPatterns.some(pattern =>\n      pattern.test(codeWithSurrounding)\n    );\n  }\n\n  private matchesTestMock(context: ClassificationContext): boolean {\n    const codeWithSurrounding = [\n      ...context.surroundingLines,\n      context.codeSnippet\n    ].join('\\n');\n\n    return this.rules.testMockPatterns.some(pattern =>\n      pattern.test(codeWithSurrounding)\n    );\n  }\n\n  private isSimpleArrayType(context: ClassificationContext): boolean {\n    // Match patterns like: any[], Array<any>\n    const arrayPatterns = [\n      /:\\s*any\\[\\]/,\n      /:\\s*Array<any>/,\n      /=\\s*\\[\\]\\s*as\\s*any\\[\\]/\n    ];\n\n    return arrayPatterns.some(pattern => pattern.test(context.codeSnippet));\n  }\n\n  private isRecordType(context: ClassificationContext): boolean {\n    // Match patterns like: Record<string, any>, Record<number, any>\n    const recordPatterns = [\n      /:\\s*Record<\\s*string\\s*,\\s*any\\s*>/,\n      /:\\s*Record<\\s*number\\s*,\\s*any\\s*>/,\n      /:\\s*\\{\\s*\\[key:\\s*string\\]\\s*:\\s*any\\s*\\}/,\n      /\\{\\s*\\[key:\\s*string\\]\\s*:\\s*any\\s*\\}/, // Without colon prefix\n      /Record<\\w+,\\s*any\\[\\]>/ // Record with any arrays\n    ];\n\n    return recordPatterns.some(pattern => pattern.test(context.codeSnippet));\n  }\n\n  private suggestRecordReplacement(context: ClassificationContext): string {\n    if (context.codeSnippet.includes('Record<string, any>')) {\n      return 'Record<string, unknown>';\n    }\n    if (context.codeSnippet.includes('Record<number, any>')) {\n      return 'Record<number, unknown>';\n    }\n    if (context.codeSnippet.includes('[key: string]: any')) {\n      return '[key: string]: unknown';\n    }\n\n    return 'unknown';\n  }\n\n  private analyzeDomainSpecific(context: ClassificationContext): AnyTypeClassification | null {\n    const domain = context.domainContext.domain;\n\n    switch (domain) {\n      case CodeDomain.ASTROLOGICAL:\n        return this.analyzeAstrologicalDomain(context);\n      case CodeDomain.RECIPE:\n        return this.analyzeRecipeDomain(context);\n      case CodeDomain.CAMPAIGN:\n        return this.analyzeCampaignDomain(context);\n      case CodeDomain.SERVICE:\n        return this.analyzeServiceLayerDomain(context);\n      case CodeDomain.INTELLIGENCE:\n        return this.analyzeIntelligenceDomain(context);\n      default:\n        return null;\n    }\n  }\n\n  private analyzeServiceLayerDomain(context: ClassificationContext): AnyTypeClassification | null {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    const lowerCode = codeWithSurrounding.toLowerCase();\n\n    // Service interface patterns\n    const serviceInterfacePatterns = [\n      /service\\s*interface/i,\n      /api\\s*service/i,\n      /data\\s*service/i,\n      /business\\s*service/i,\n      /application\\s*service/i,\n      /domain\\s*service/i\n    ];\n\n    // External service integration patterns\n    const externalServicePatterns = [\n      /external\\s*service/i,\n      /third\\s*party\\s*service/i,\n      /remote\\s*service/i,\n      /web\\s*service/i,\n      /microservice/i,\n      /rest\\s*api/i,\n      /graphql/i,\n      /grpc/i\n    ];\n\n    // Service configuration patterns\n    const serviceConfigPatterns = [\n      /service\\s*config/i,\n      /endpoint\\s*config/i,\n      /connection\\s*config/i,\n      /client\\s*config/i,\n      /service\\s*options/i,\n      /service\\s*settings/i\n    ];\n\n    // Data transformation patterns\n    const dataTransformPatterns = [\n      /data\\s*transformer/i,\n      /response\\s*mapper/i,\n      /dto\\s*mapper/i,\n      /entity\\s*mapper/i,\n      /serializer/i,\n      /deserializer/i\n    ];\n\n    let confidence = 0;\n    let reasoning = '';\n    let suggestedReplacement = '';\n    let isIntentional = false;\n    let category = AnyTypeCategory.TYPE_ASSERTION;\n\n    // Check for external service integration (intentional)\n    if (externalServicePatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.85;\n      reasoning = 'External service integration requires flexible typing for unknown response structures';\n      isIntentional = true;\n      category = AnyTypeCategory.EXTERNAL_API;\n    }\n    // Check for service configuration (intentional)\n    else if (serviceConfigPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.8;\n      reasoning = 'Service configuration requires flexible typing for dynamic setup options';\n      isIntentional = true;\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n    // Check for data transformation (can be more specific)\n    else if (dataTransformPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.75;\n      reasoning = 'Data transformation can use specific interface types for better type safety';\n      suggestedReplacement = 'Record<string, unknown>';\n      isIntentional = false;\n      category = AnyTypeCategory.TYPE_ASSERTION;\n    }\n    // Check for service interfaces (can be more specific)\n    else if (serviceInterfacePatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.7;\n      reasoning = 'Service interfaces can use specific interface types for better contract definition';\n      suggestedReplacement = 'ServiceInterface';\n      isIntentional = false;\n      category = AnyTypeCategory.TYPE_ASSERTION;\n    }\n    // General service context\n    else if (lowerCode.includes('service') && (lowerCode.includes('data') || lowerCode.includes('response'))) {\n      confidence = 0.65;\n      reasoning = 'Service layer data handling can likely use more specific types';\n      suggestedReplacement = 'unknown';\n      isIntentional = false;\n      category = AnyTypeCategory.TYPE_ASSERTION;\n    }\n\n    if (confidence > 0) {\n      return {\n        isIntentional,\n        confidence,\n        reasoning,\n        suggestedReplacement: isIntentional ? undefined : suggestedReplacement,\n        requiresDocumentation: isIntentional,\n        category\n      };\n    }\n\n    return null;\n  }\n\n  private analyzeIntelligenceDomain(context: ClassificationContext): AnyTypeClassification | null {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    const lowerCode = codeWithSurrounding.toLowerCase();\n\n    // Intelligence system patterns\n    const intelligencePatterns = [\n      /intelligence\\s*system/i,\n      /enterprise\\s*intelligence/i,\n      /campaign\\s*intelligence/i,\n      /analytics\\s*engine/i,\n      /pattern\\s*recognition/i,\n      /machine\\s*learning/i,\n      /ai\\s*system/i,\n      /predictive\\s*analytics/i\n    ];\n\n    // Dynamic analysis patterns\n    const dynamicAnalysisPatterns = [\n      /dynamic\\s*analysis/i,\n      /runtime\\s*analysis/i,\n      /adaptive\\s*algorithm/i,\n      /learning\\s*algorithm/i,\n      /evolving\\s*pattern/i,\n      /self\\s*adjusting/i\n    ];\n\n    let confidence = 0;\n    let reasoning = '';\n    let category = AnyTypeCategory.DYNAMIC_CONFIG;\n\n    // Check for intelligence systems (high confidence for intentional)\n    if (intelligencePatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.9;\n      reasoning = 'Intelligence systems require flexible typing for evolving analytical patterns';\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n    // Check for dynamic analysis\n    else if (dynamicAnalysisPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.85;\n      reasoning = 'Dynamic analysis systems require flexible typing for adaptive behavior';\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n    // General intelligence context\n    else if (lowerCode.includes('intelligence') || lowerCode.includes('analytics')) {\n      confidence = 0.75;\n      reasoning = 'Intelligence domain requires flexible typing for complex analytical data structures';\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n\n    if (confidence > 0) {\n      return {\n        isIntentional: true,\n        confidence,\n        reasoning,\n        requiresDocumentation: true,\n        category\n      };\n    }\n\n    return null;\n  }\n\n  private analyzeAstrologicalDomain(context: ClassificationContext): AnyTypeClassification | null {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    const lowerCode = codeWithSurrounding.toLowerCase();\n\n    // Planetary position recognition patterns\n    const planetaryPatterns = [\n      /planetary\\s*position/i,\n      /planet\\w*\\s*data/i,\n      /astro\\w*\\s*calculation/i,\n      /ephemeris/i,\n      /zodiac\\s*sign/i,\n      /celestial\\s*body/i,\n      /astronomical\\s*data/i,\n      /transit\\s*date/i,\n      /lunar\\s*phase/i,\n      /solar\\s*position/i\n    ];\n\n    // External astronomy API patterns\n    const astronomyApiPatterns = [\n      /nasa\\s*jpl/i,\n      /horizons\\s*api/i,\n      /swiss\\s*ephemeris/i,\n      /astronomy\\s*engine/i,\n      /timeanddate\\s*api/i,\n      /astronomical\\s*api/i,\n      /getReliablePlanetaryPositions/i,\n      /planetaryConsistencyCheck/i\n    ];\n\n    // Astrological calculation patterns\n    const calculationPatterns = [\n      /elemental\\s*properties/i,\n      /compatibility\\s*score/i,\n      /astrological\\s*influence/i,\n      /planetary\\s*correspondence/i,\n      /seasonal\\s*calculation/i,\n      /retrograde\\s*motion/i,\n      /aspect\\s*calculation/i,\n      /house\\s*position/i\n    ];\n\n    let confidence = 0;\n    let reasoning = '';\n    let category = AnyTypeCategory.EXTERNAL_API;\n\n    // Check for planetary position data (highest confidence)\n    if (planetaryPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.9;\n      reasoning = 'Astrological planetary position data requires flexible typing for external API responses';\n      category = AnyTypeCategory.EXTERNAL_API;\n    }\n    // Check for astronomy API integration\n    else if (astronomyApiPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.85;\n      reasoning = 'Astronomy API integration requires flexible typing for varying response formats';\n      category = AnyTypeCategory.EXTERNAL_API;\n    }\n    // Check for astrological calculations\n    else if (calculationPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.8;\n      reasoning = 'Astrological calculations require flexible typing for dynamic elemental properties';\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n    // General astrological context\n    else if (lowerCode.includes('astro') || lowerCode.includes('planetary') || lowerCode.includes('zodiac')) {\n      confidence = 0.75;\n      reasoning = 'Astrological domain code often requires flexible typing for cosmic data structures';\n      category = AnyTypeCategory.LEGACY_COMPATIBILITY;\n    }\n\n    if (confidence > 0) {\n      return {\n        isIntentional: true,\n        confidence,\n        reasoning,\n        requiresDocumentation: true,\n        category\n      };\n    }\n\n    return null;\n  }\n\n  private analyzeRecipeDomain(context: ClassificationContext): AnyTypeClassification | null {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    const lowerCode = codeWithSurrounding.toLowerCase();\n\n    // Food-related type suggestion patterns\n    const ingredientPatterns = [\n      /ingredient\\s*data/i,\n      /ingredient\\s*properties/i,\n      /elemental\\s*ingredient/i,\n      /culinary\\s*ingredient/i,\n      /food\\s*item/i,\n      /nutritional\\s*data/i,\n      /spoonacular\\s*api/i,\n      /usda\\s*food/i\n    ];\n\n    const recipePatterns = [\n      /recipe\\s*data/i,\n      /recipe\\s*information/i,\n      /cooking\\s*method/i,\n      /culinary\\s*recipe/i,\n      /meal\\s*plan/i,\n      /food\\s*recommendation/i,\n      /alchemical\\s*recipe/i,\n      /elemental\\s*recipe/i\n    ];\n\n    const cuisinePatterns = [\n      /cuisine\\s*data/i,\n      /cultural\\s*food/i,\n      /ethnic\\s*cuisine/i,\n      /traditional\\s*recipe/i,\n      /regional\\s*food/i\n    ];\n\n    // External food API patterns\n    const foodApiPatterns = [\n      /spoonacular/i,\n      /food\\s*api/i,\n      /nutrition\\s*api/i,\n      /recipe\\s*api/i,\n      /usda\\s*api/i,\n      /food\\s*database/i\n    ];\n\n    let confidence = 0;\n    let reasoning = '';\n    let suggestedReplacement = '';\n    let isIntentional = false;\n    let category = AnyTypeCategory.TYPE_ASSERTION;\n\n    // Check for external food API integration (intentional)\n    if (foodApiPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.85;\n      reasoning = 'Food API integration requires flexible typing for varying response structures';\n      isIntentional = true;\n      category = AnyTypeCategory.EXTERNAL_API;\n    }\n    // Check for ingredient data (can be typed more specifically)\n    else if (ingredientPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.8;\n      reasoning = 'Ingredient data can use specific Ingredient interface type';\n      suggestedReplacement = 'Ingredient';\n      isIntentional = false;\n      category = AnyTypeCategory.TYPE_ASSERTION;\n    }\n    // Check for recipe data (can be typed more specifically)\n    else if (recipePatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.8;\n      reasoning = 'Recipe data can use specific Recipe interface type';\n      suggestedReplacement = 'Recipe';\n      isIntentional = false;\n      category = AnyTypeCategory.TYPE_ASSERTION;\n    }\n    // Check for cuisine data (can be typed more specifically)\n    else if (cuisinePatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.75;\n      reasoning = 'Cuisine data can use specific Cuisine interface type';\n      suggestedReplacement = 'Cuisine';\n      isIntentional = false;\n      category = AnyTypeCategory.TYPE_ASSERTION;\n    }\n    // General food-related context\n    else if (lowerCode.includes('ingredient') || lowerCode.includes('recipe') || lowerCode.includes('food')) {\n      // Check if it's likely an API response or configuration\n      if (lowerCode.includes('response') || lowerCode.includes('api') || lowerCode.includes('config')) {\n        confidence = 0.7;\n        reasoning = 'Food-related API response or configuration may require flexible typing';\n        isIntentional = true;\n        category = AnyTypeCategory.EXTERNAL_API;\n      } else {\n        confidence = 0.7;\n        reasoning = 'Food-related data can likely use more specific types (Ingredient, Recipe, etc.)';\n        suggestedReplacement = 'Ingredient | Recipe | Cuisine';\n        isIntentional = false;\n        category = AnyTypeCategory.TYPE_ASSERTION;\n      }\n    }\n\n    if (confidence > 0) {\n      return {\n        isIntentional,\n        confidence,\n        reasoning,\n        suggestedReplacement: isIntentional ? undefined : suggestedReplacement,\n        requiresDocumentation: isIntentional,\n        category\n      };\n    }\n\n    return null;\n  }\n\n  private analyzeCampaignDomain(context: ClassificationContext): AnyTypeClassification | null {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    const lowerCode = codeWithSurrounding.toLowerCase();\n\n    // Campaign system dynamic configuration patterns\n    const campaignConfigPatterns = [\n      /campaign\\s*config/i,\n      /campaign\\s*parameters/i,\n      /campaign\\s*settings/i,\n      /dynamic\\s*config/i,\n      /flexible\\s*config/i,\n      /runtime\\s*config/i,\n      /adaptive\\s*config/i\n    ];\n\n    // Campaign metrics and intelligence patterns\n    const metricsPatterns = [\n      /campaign\\s*metrics/i,\n      /progress\\s*metrics/i,\n      /quality\\s*metrics/i,\n      /performance\\s*metrics/i,\n      /intelligence\\s*data/i,\n      /analytics\\s*data/i,\n      /campaign\\s*intelligence/i,\n      /enterprise\\s*intelligence/i\n    ];\n\n    // Campaign execution and automation patterns\n    const executionPatterns = [\n      /campaign\\s*execution/i,\n      /batch\\s*processing/i,\n      /automation\\s*script/i,\n      /campaign\\s*phase/i,\n      /safety\\s*protocol/i,\n      /rollback\\s*mechanism/i,\n      /validation\\s*framework/i\n    ];\n\n    // Campaign tool integration patterns\n    const toolIntegrationPatterns = [\n      /typescript\\s*error/i,\n      /linting\\s*warning/i,\n      /eslint\\s*result/i,\n      /build\\s*validation/i,\n      /compilation\\s*result/i,\n      /error\\s*analysis/i,\n      /fix\\s*strategy/i\n    ];\n\n    let confidence = 0;\n    let reasoning = '';\n    let category = AnyTypeCategory.DYNAMIC_CONFIG;\n\n    // Check for campaign configuration (highest confidence for intentional)\n    if (campaignConfigPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.9;\n      reasoning = 'Campaign system configuration requires flexible typing for dynamic behavior adaptation';\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n    // Check for metrics and intelligence data\n    else if (metricsPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.85;\n      reasoning = 'Campaign metrics and intelligence data require flexible typing for evolving analytics';\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n    // Check for campaign execution context\n    else if (executionPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.8;\n      reasoning = 'Campaign execution system requires flexible typing for diverse tool integration';\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n    // Check for tool integration\n    else if (toolIntegrationPatterns.some(pattern => pattern.test(codeWithSurrounding))) {\n      confidence = 0.75;\n      reasoning = 'Campaign tool integration requires flexible typing for varying tool outputs';\n      category = AnyTypeCategory.EXTERNAL_API;\n    }\n    // General campaign context\n    else if (lowerCode.includes('campaign') || lowerCode.includes('intelligence') || lowerCode.includes('automation')) {\n      confidence = 0.7;\n      reasoning = 'Campaign system context often requires flexible typing for dynamic operations';\n      category = AnyTypeCategory.DYNAMIC_CONFIG;\n    }\n\n    if (confidence > 0) {\n      return {\n        isIntentional: true,\n        confidence,\n        reasoning,\n        requiresDocumentation: true,\n        category\n      };\n    }\n\n    return null;\n  }\n\n  // Confidence calculation methods for pattern recognition algorithms\n  private calculateErrorHandlingConfidence(context: ClassificationContext): number {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    let confidence = 0;\n    let matchCount = 0;\n\n    for (const pattern of this.rules.errorHandlingPatterns) {\n      if (pattern.test(codeWithSurrounding)) {\n        matchCount++;\n        confidence += 0.3; // Each pattern match adds confidence\n      }\n    }\n\n    // Boost confidence for catch blocks and error variables\n    if (codeWithSurrounding.includes('catch') && codeWithSurrounding.includes('any')) {\n      confidence += 0.4;\n    }\n\n    // Additional context clues\n    if (codeWithSurrounding.toLowerCase().includes('error') ||\n        codeWithSurrounding.toLowerCase().includes('exception')) {\n      confidence += 0.2;\n    }\n\n    return Math.min(confidence, 0.95); // Cap at 95%\n  }\n\n  private calculateExternalApiConfidence(context: ClassificationContext): number {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    let confidence = 0;\n\n    for (const pattern of this.rules.externalApiPatterns) {\n      if (pattern.test(codeWithSurrounding)) {\n        confidence += 0.25;\n      }\n    }\n\n    // API-related keywords boost confidence\n    const apiKeywords = ['fetch', 'axios', 'api', 'response', 'request', 'http', 'json'];\n    const foundKeywords = apiKeywords.filter(keyword =>\n      codeWithSurrounding.toLowerCase().includes(keyword)\n    );\n    confidence += foundKeywords.length * 0.1;\n\n    return Math.min(confidence, 0.9);\n  }\n\n  private calculateTestMockConfidence(context: ClassificationContext): number {\n    if (!context.isInTestFile) return 0;\n\n    const codeWithSurrounding = this.getCombinedCode(context);\n    let confidence = 0;\n\n    for (const pattern of this.rules.testMockPatterns) {\n      if (pattern.test(codeWithSurrounding)) {\n        confidence += 0.3;\n      }\n    }\n\n    // Test-specific keywords\n    const testKeywords = ['mock', 'spy', 'jest', 'describe', 'it', 'test', 'expect'];\n    const foundKeywords = testKeywords.filter(keyword =>\n      codeWithSurrounding.toLowerCase().includes(keyword)\n    );\n    confidence += foundKeywords.length * 0.1;\n\n    return Math.min(confidence, 0.9);\n  }\n\n  private calculateDynamicConfigConfidence(context: ClassificationContext): number {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    let confidence = 0;\n\n    for (const pattern of this.rules.dynamicConfigPatterns) {\n      if (pattern.test(codeWithSurrounding)) {\n        confidence += 0.25;\n      }\n    }\n\n    // Configuration-related context\n    const configKeywords = ['config', 'options', 'settings', 'params', 'env'];\n    const foundKeywords = configKeywords.filter(keyword =>\n      codeWithSurrounding.toLowerCase().includes(keyword)\n    );\n    confidence += foundKeywords.length * 0.15;\n\n    return Math.min(confidence, 0.85);\n  }\n\n  private calculateLegacyCompatibilityConfidence(context: ClassificationContext): number {\n    const codeWithSurrounding = this.getCombinedCode(context);\n    let confidence = 0;\n\n    for (const pattern of this.rules.legacyCompatibilityPatterns) {\n      if (pattern.test(codeWithSurrounding)) {\n        confidence += 0.3;\n      }\n    }\n\n    // Legacy-related keywords\n    const legacyKeywords = ['legacy', 'deprecated', 'old', 'backward', 'compat'];\n    const foundKeywords = legacyKeywords.filter(keyword =>\n      codeWithSurrounding.toLowerCase().includes(keyword)\n    );\n    confidence += foundKeywords.length * 0.2;\n\n    return Math.min(confidence, 0.8);\n  }\n\n  private calculateArrayTypeConfidence(context: ClassificationContext): number {\n    const arrayPatterns = [\n      /:\\s*any\\[\\]/,\n      /:\\s*Array<any>/,\n      /=\\s*\\[\\]\\s*as\\s*any\\[\\]/,\n      /new\\s+Array\\s*\\(\\s*\\)\\s*as\\s*any\\[\\]/\n    ];\n\n    for (const pattern of arrayPatterns) {\n      if (pattern.test(context.codeSnippet)) {\n        return 0.95; // Very high confidence for array type replacement\n      }\n    }\n\n    return 0;\n  }\n\n  private calculateRecordTypeConfidence(context: ClassificationContext): number {\n    const recordPatterns = [\n      /:\\s*Record<\\s*string\\s*,\\s*any\\s*>/,\n      /:\\s*Record<\\s*number\\s*,\\s*any\\s*>/,\n      /:\\s*\\{\\s*\\[key:\\s*string\\]\\s*:\\s*any\\s*\\}/,\n      /\\{\\s*\\[key:\\s*string\\]\\s*:\\s*any\\s*\\}/\n    ];\n\n    for (const pattern of recordPatterns) {\n      if (pattern.test(context.codeSnippet)) {\n        return 0.85; // High confidence for Record type replacement\n      }\n    }\n\n    return 0;\n  }\n\n  // Helper methods for classification logic\n  private getCombinedCode(context: ClassificationContext): string {\n    return [...context.surroundingLines, context.codeSnippet].join('\\n');\n  }\n\n  private isIntentionalCategory(category: AnyTypeCategory): boolean {\n    const intentionalCategories = [\n      AnyTypeCategory.ERROR_HANDLING,\n      AnyTypeCategory.EXTERNAL_API,\n      AnyTypeCategory.TEST_MOCK,\n      AnyTypeCategory.DYNAMIC_CONFIG,\n      AnyTypeCategory.LEGACY_COMPATIBILITY\n    ];\n    return intentionalCategories.includes(category);\n  }\n\n  private getReasoningForCategory(category: AnyTypeCategory, context: ClassificationContext): string {\n    const reasoningMap = {\n      [AnyTypeCategory.ERROR_HANDLING]: 'Used in error handling context - intentional for exception flexibility',\n      [AnyTypeCategory.EXTERNAL_API]: 'Used for external API response - intentional for unknown response structure',\n      [AnyTypeCategory.TEST_MOCK]: 'Used in test mocking - intentional for test flexibility',\n      [AnyTypeCategory.DYNAMIC_CONFIG]: 'Used in dynamic configuration - intentional for flexible config structure',\n      [AnyTypeCategory.LEGACY_COMPATIBILITY]: 'Used for legacy compatibility - intentional for backward compatibility',\n      [AnyTypeCategory.ARRAY_TYPE]: 'Simple array type - can be safely replaced with unknown[]',\n      [AnyTypeCategory.RECORD_TYPE]: 'Record type - can be safely replaced with unknown value type',\n      [AnyTypeCategory.FUNCTION_PARAM]: 'Function parameter - may be replaceable with more specific type',\n      [AnyTypeCategory.RETURN_TYPE]: 'Function return type - may be replaceable with inferred type',\n      [AnyTypeCategory.TYPE_ASSERTION]: 'Type assertion - may be replaceable with more specific type'\n    };\n\n    return reasoningMap[category] || 'Pattern-based classification';\n  }\n\n  private getSuggestedReplacement(category: AnyTypeCategory, context: ClassificationContext): string {\n    switch (category) {\n      case AnyTypeCategory.ARRAY_TYPE:\n        return 'unknown[]';\n      case AnyTypeCategory.RECORD_TYPE:\n        return this.suggestRecordReplacement(context);\n      case AnyTypeCategory.FUNCTION_PARAM:\n        return this.suggestFunctionParamReplacement(context);\n      case AnyTypeCategory.RETURN_TYPE:\n        return this.suggestReturnTypeReplacement(context);\n      default:\n        return 'unknown';\n    }\n  }\n\n  private analyzeFunctionContext(context: ClassificationContext): AnyTypeClassification | null {\n    const codeWithSurrounding = this.getCombinedCode(context);\n\n    // Function parameter analysis\n    if (/function\\s*\\w*\\s*\\([^)]*:\\s*any/.test(codeWithSurrounding) ||\n        /\\(\\s*\\w+\\s*:\\s*any\\s*\\)\\s*=>/.test(codeWithSurrounding)) {\n      return {\n        isIntentional: false,\n        confidence: 0.6,\n        reasoning: 'Function parameter can likely be typed more specifically',\n        suggestedReplacement: this.suggestFunctionParamReplacement(context),\n        requiresDocumentation: false,\n        category: AnyTypeCategory.FUNCTION_PARAM\n      };\n    }\n\n    // Return type analysis\n    if (/:\\s*any\\s*\\{/.test(context.codeSnippet) ||\n        /=>\\s*any/.test(context.codeSnippet)) {\n      return {\n        isIntentional: false,\n        confidence: 0.65,\n        reasoning: 'Function return type can likely be inferred or typed more specifically',\n        suggestedReplacement: this.suggestReturnTypeReplacement(context),\n        requiresDocumentation: false,\n        category: AnyTypeCategory.RETURN_TYPE\n      };\n    }\n\n    return null;\n  }\n\n  private suggestFunctionParamReplacement(context: ClassificationContext): string {\n    // Analyze parameter usage to suggest better types\n    if (context.codeSnippet.includes('string') || context.codeSnippet.includes('String')) {\n      return 'string';\n    }\n    if (context.codeSnippet.includes('number') || context.codeSnippet.includes('Number')) {\n      return 'number';\n    }\n    if (context.codeSnippet.includes('boolean') || context.codeSnippet.includes('Boolean')) {\n      return 'boolean';\n    }\n    return 'unknown';\n  }\n\n  private suggestReturnTypeReplacement(context: ClassificationContext): string {\n    // Analyze return statements to suggest better types\n    const codeWithSurrounding = this.getCombinedCode(context);\n\n    if (/return\\s+\\d+/.test(codeWithSurrounding)) {\n      return 'number';\n    }\n    if (/return\\s+['\"`]/.test(codeWithSurrounding)) {\n      return 'string';\n    }\n    if (/return\\s+(true|false)/.test(codeWithSurrounding)) {\n      return 'boolean';\n    }\n    if (/return\\s+\\[/.test(codeWithSurrounding)) {\n      return 'unknown[]';\n    }\n    if (/return\\s+\\{/.test(codeWithSurrounding)) {\n      return 'Record<string, unknown>';\n    }\n\n    return 'unknown';\n  }\n\n  private calculateDefaultConfidence(context: ClassificationContext): number {\n    let confidence = 0.5; // Base confidence for unmatched patterns\n\n    // Adjust based on context clues\n    if (context.isInTestFile) {\n      confidence += 0.1; // Slightly more likely to be intentional in tests\n    }\n\n    // Check for any comments that might indicate intentionality\n    if (context.hasExistingComment) {\n      confidence += 0.1;\n    }\n\n    // Domain-specific adjustments\n    switch (context.domainContext.domain) {\n      case CodeDomain.ASTROLOGICAL:\n      case CodeDomain.CAMPAIGN:\n        confidence += 0.1; // These domains often need flexible typing\n        break;\n      case CodeDomain.UTILITY:\n      case CodeDomain.COMPONENT:\n        confidence -= 0.1; // These domains can usually be more specific\n        break;\n    }\n\n    return Math.max(0.3, Math.min(0.7, confidence));\n  }\n\n  private getDefaultReasoning(context: ClassificationContext, confidence: number): string {\n    if (confidence > 0.6) {\n      return 'Moderate confidence - may be intentional but lacks clear documentation';\n    } else if (confidence > 0.4) {\n      return 'Low-moderate confidence - likely unintentional but requires careful review';\n    } else {\n      return 'Low confidence - appears unintentional and suitable for replacement';\n    }\n  }\n\n  private getDefaultSuggestedReplacement(context: ClassificationContext): string {\n    // Simple heuristics for default replacement\n    if (context.codeSnippet.includes('[]')) {\n      return 'unknown[]';\n    }\n    if (context.codeSnippet.includes('Record') || context.codeSnippet.includes('{')) {\n      return 'Record<string, unknown>';\n    }\n    return 'unknown';\n  }\n\n  // Contextual analysis helper methods\n  private applyContextualAdjustments(\n    baseScore: number,\n    category: AnyTypeCategory,\n    surroundingContext: ReturnType<typeof this.analyzeSurroundingCodeContext>,\n    fileTypeInfo: ReturnType<typeof this.analyzeFileType>\n  ): number {\n    let adjustedScore = baseScore;\n\n    // File type adjustments\n    if (fileTypeInfo.isTestFile && category === AnyTypeCategory.TEST_MOCK) {\n      adjustedScore *= 1.2; // Boost test mock confidence in test files\n    }\n\n    if (fileTypeInfo.isConfigFile && category === AnyTypeCategory.DYNAMIC_CONFIG) {\n      adjustedScore *= 1.3; // Boost config confidence in config files\n    }\n\n    if (fileTypeInfo.isTypeDefinitionFile) {\n      adjustedScore *= 0.8; // Reduce confidence in type definition files (should be more specific)\n    }\n\n    // Contextual adjustments\n    if (surroundingContext.hasErrorHandling && category === AnyTypeCategory.ERROR_HANDLING) {\n      adjustedScore *= 1.2;\n    }\n\n    if (surroundingContext.hasApiCalls && category === AnyTypeCategory.EXTERNAL_API) {\n      adjustedScore *= 1.15;\n    }\n\n    if (surroundingContext.hasTestingCode && category === AnyTypeCategory.TEST_MOCK) {\n      adjustedScore *= 1.1;\n    }\n\n    // Penalize type assertions in complex logic (likely can be more specific)\n    if (surroundingContext.hasComplexLogic && category === AnyTypeCategory.TYPE_ASSERTION) {\n      adjustedScore *= 0.7;\n    }\n\n    return Math.min(adjustedScore, 1.0);\n  }\n\n  private buildContextualReasoning(\n    category: AnyTypeCategory,\n    surroundingContext: ReturnType<typeof this.analyzeSurroundingCodeContext>,\n    fileTypeInfo: ReturnType<typeof this.analyzeFileType>\n  ): string {\n    const baseReasoning = this.getReasoningForCategory(category, {} as ClassificationContext);\n    const contextualInfo: string[] = [];\n\n    // Add file type context\n    if (fileTypeInfo.fileCategory !== 'unknown') {\n      contextualInfo.push(`in ${fileTypeInfo.fileCategory} file`);\n    }\n\n    // Add surrounding context\n    if (surroundingContext.contextualClues.length > 0) {\n      contextualInfo.push(surroundingContext.contextualClues.join(', '));\n    }\n\n    return contextualInfo.length > 0\n      ? `${baseReasoning} (${contextualInfo.join(', ')})`\n      : baseReasoning;\n  }\n\n  private getContextualEnhancement(\n    surroundingContext: ReturnType<typeof this.analyzeSurroundingCodeContext>,\n    fileTypeInfo: ReturnType<typeof this.analyzeFileType>\n  ): string {\n    const enhancements: string[] = [];\n\n    if (fileTypeInfo.fileCategory !== 'unknown') {\n      enhancements.push(`in ${fileTypeInfo.fileCategory} file`);\n    }\n\n    if (surroundingContext.contextualClues.length > 0) {\n      enhancements.push(surroundingContext.contextualClues.join(', '));\n    }\n\n    return enhancements.length > 0 ? ` (${enhancements.join(', ')})` : '';\n  }\n\n  private calculateContextualConfidence(\n    context: ClassificationContext,\n    surroundingContext: ReturnType<typeof this.analyzeSurroundingCodeContext>,\n    fileTypeInfo: ReturnType<typeof this.analyzeFileType>\n  ): number {\n    let confidence = 0.5; // Base confidence\n\n    // File type adjustments\n    if (fileTypeInfo.isTestFile) {\n      confidence += 0.1; // Tests often need flexible typing\n    }\n\n    if (fileTypeInfo.isConfigFile) {\n      confidence += 0.15; // Config files often need dynamic typing\n    }\n\n    if (fileTypeInfo.isTypeDefinitionFile) {\n      confidence -= 0.2; // Type files should be more specific\n    }\n\n    if (fileTypeInfo.isUtilityFile || fileTypeInfo.isComponentFile) {\n      confidence -= 0.1; // These can usually be more specific\n    }\n\n    // Contextual adjustments\n    if (surroundingContext.hasErrorHandling) {\n      confidence += 0.15;\n    }\n\n    if (surroundingContext.hasApiCalls) {\n      confidence += 0.1;\n    }\n\n    if (surroundingContext.hasTestingCode) {\n      confidence += 0.1;\n    }\n\n    if (surroundingContext.hasTypeAssertions) {\n      confidence -= 0.1; // Multiple type assertions suggest the code can be more specific\n    }\n\n    if (surroundingContext.hasComplexLogic) {\n      confidence -= 0.05; // Complex logic can usually be typed more specifically\n    }\n\n    // Comment analysis\n    if (context.hasExistingComment) {\n      confidence += 0.1;\n    }\n\n    // Domain-specific adjustments\n    switch (context.domainContext.domain) {\n      case CodeDomain.ASTROLOGICAL:\n      case CodeDomain.CAMPAIGN:\n        confidence += 0.1; // These domains often need flexible typing\n        break;\n      case CodeDomain.UTILITY:\n      case CodeDomain.COMPONENT:\n        confidence -= 0.1; // These domains can usually be more specific\n        break;\n    }\n\n    return Math.max(0.2, Math.min(0.9, confidence));\n  }\n\n  private buildDefaultContextualReasoning(\n    confidence: number,\n    surroundingContext: ReturnType<typeof this.analyzeSurroundingCodeContext>,\n    fileTypeInfo: ReturnType<typeof this.analyzeFileType>\n  ): string {\n    const contextualInfo: string[] = [];\n\n    if (fileTypeInfo.fileCategory !== 'unknown') {\n      contextualInfo.push(`in ${fileTypeInfo.fileCategory} file`);\n    }\n\n    if (surroundingContext.contextualClues.length > 0) {\n      contextualInfo.push(surroundingContext.contextualClues.join(', '));\n    }\n\n    let baseReasoning: string;\n    if (confidence > 0.7) {\n      baseReasoning = 'High contextual confidence - likely intentional but needs documentation';\n    } else if (confidence > 0.6) {\n      baseReasoning = 'Moderate contextual confidence - may be intentional, requires review';\n    } else if (confidence > 0.4) {\n      baseReasoning = 'Low-moderate contextual confidence - likely unintentional but needs careful review';\n    } else {\n      baseReasoning = 'Low contextual confidence - appears unintentional and suitable for replacement';\n    }\n\n    return contextualInfo.length > 0\n      ? `${baseReasoning} (${contextualInfo.join(', ')})`\n      : baseReasoning;\n  }\n}\n"],"version":3}