629191539719ed7009de2b71d99a62f7
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// Mock all external dependencies for E2E simulation
jest.mock('next/navigation', () => ({
    useRouter: () => ({
        push: jest.fn(),
        back: jest.fn(),
        forward: jest.fn(),
        refresh: jest.fn(),
        replace: jest.fn(),
    }),
}));
jest.mock('@/utils/logger', () => ({
    logger: {
        debug: jest.fn(),
        info: jest.fn(),
        warn: jest.fn(),
        error: jest.fn(),
    },
}));
// Mock realistic component behaviors for E2E testing
jest.mock('@/components/CuisineRecommender', () => {
    return function MockCuisineRecommender() {
        const [selectedCuisine, setSelectedCuisine] = react_2.default.useState(null);
        const [showRecipes, setShowRecipes] = react_2.default.useState(false);
        const cuisines = [
            { name: 'Italian', score: 95, recipes: ['Pasta Marinara', 'Risotto', 'Pizza Margherita'] },
            { name: 'Chinese', score: 88, recipes: ['Fried Rice', 'Sweet and Sour Pork', 'Kung Pao Chicken'] },
            { name: 'Mexican', score: 82, recipes: ['Tacos', 'Enchiladas', 'Guacamole'] },
            { name: 'Indian', score: 79, recipes: ['Curry', 'Biryani', 'Naan'] },
        ];
        const handleCuisineSelect = (cuisine) => {
            setSelectedCuisine(cuisine.name);
            setShowRecipes(true);
        };
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'cuisine-recommender', children: [(0, jsx_runtime_1.jsx)("h3", { children: "Cuisine Recommendations" }), (0, jsx_runtime_1.jsx)("div", { className: 'cuisine-grid', children: cuisines.map(cuisine => ((0, jsx_runtime_1.jsx)("div", { className: 'cuisine-card', "data-testid": `cuisine-card-${cuisine.name.toLowerCase()}`, children: (0, jsx_runtime_1.jsxs)("button", { onClick: () => handleCuisineSelect(cuisine), className: selectedCuisine === cuisine.name ? 'selected' : '', "data-testid": `cuisine-${cuisine.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("h4", { children: cuisine.name }), (0, jsx_runtime_1.jsxs)("div", { className: 'score', children: ["Match: ", cuisine.score, "%"] })] }) }, cuisine.name))) }), showRecipes && selectedCuisine && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'recipe-recommendations', className: 'recipe-section', children: [(0, jsx_runtime_1.jsxs)("h4", { children: ["Recommended ", selectedCuisine, " Recipes"] }), (0, jsx_runtime_1.jsx)("div", { className: 'recipe-list', children: cuisines
                                .find(c => c.name === selectedCuisine)
                                ?.recipes.map(recipe => ((0, jsx_runtime_1.jsx)("button", { "data-testid": `recipe-${recipe.toLowerCase().replace(/\s+/g, '-')}`, className: 'recipe-button', children: recipe }, recipe))) })] }))] }));
    };
});
jest.mock('@/components/IngredientRecommender', () => {
    return function MockIngredientRecommender({ maxDisplayed = 8 }) {
        const [selectedIngredients, setSelectedIngredients] = react_2.default.useState([]);
        const [expandedIngredient, setExpandedIngredient] = react_2.default.useState(null);
        const ingredients = [
            { name: 'Tomatoes', category: 'Vegetables', properties: ['Umami', 'Acidic', 'Fresh'] },
            { name: 'Onions', category: 'Vegetables', properties: ['Sweet', 'Pungent', 'Aromatic'] },
            { name: 'Garlic', category: 'Aromatics', properties: ['Pungent', 'Savory', 'Aromatic'] },
            { name: 'Basil', category: 'Herbs', properties: ['Fresh', 'Aromatic', 'Sweet'] },
            { name: 'Olive Oil', category: 'Oils', properties: ['Rich', 'Fruity', 'Smooth'] },
            { name: 'Cheese', category: 'Dairy', properties: ['Creamy', 'Salty', 'Rich'] },
            { name: 'Pasta', category: 'Grains', properties: ['Neutral', 'Filling', 'Versatile'] },
            { name: 'Chicken', category: 'Proteins', properties: ['Lean', 'Mild', 'Versatile'] },
        ];
        const displayedIngredients = ingredients.slice(0, maxDisplayed);
        const toggleIngredient = (ingredient) => {
            setSelectedIngredients(prev => void prev.includes(ingredient) ? prev.filter(i => i !== ingredient) : [...prev, ingredient]);
        };
        const toggleExpanded = (ingredient) => {
            setExpandedIngredient(prev => (prev === ingredient ? null : ingredient));
        };
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'ingredient-recommender', children: [(0, jsx_runtime_1.jsx)("h3", { children: "Ingredient Recommendations" }), (0, jsx_runtime_1.jsx)("div", { className: 'ingredient-grid', children: displayedIngredients.map(ingredient => ((0, jsx_runtime_1.jsxs)("div", { className: 'ingredient-card', "data-testid": `ingredient-card-${ingredient.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("button", { onClick: () => toggleIngredient(ingredient.name), className: selectedIngredients.includes(ingredient.name) ? 'selected' : '', "data-testid": `ingredient-${ingredient.name.toLowerCase()}`, children: ingredient.name }), (0, jsx_runtime_1.jsx)("button", { onClick: () => toggleExpanded(ingredient.name), "data-testid": `expand-${ingredient.name.toLowerCase()}`, className: 'expand-button', children: expandedIngredient === ingredient.name ? '▼' : '▶' }), expandedIngredient === ingredient.name && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": `details-${ingredient.name.toLowerCase()}`, className: 'ingredient-details', children: [(0, jsx_runtime_1.jsxs)("div", { children: ["Category: ", ingredient.category] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Properties: ", ingredient.properties.join(', ')] })] }))] }, ingredient.name))) }), selectedIngredients.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'selected-ingredients-summary', className: 'selection-summary', children: [(0, jsx_runtime_1.jsxs)("h4", { children: ["Selected Ingredients (", selectedIngredients.length, ")"] }), (0, jsx_runtime_1.jsx)("div", { children: selectedIngredients.join(', ') })] }))] }));
    };
});
jest.mock('@/components/CookingMethodsSection', () => {
    return function MockCookingMethodsSection({ maxDisplayed = 6, onViewMore, }) {
        const [selectedMethod, setSelectedMethod] = react_2.default.useState(null);
        const methods = [
            { name: 'Sauté', time: '5-10 min', difficulty: 'Easy', description: 'Quick cooking in a pan with oil' },
            { name: 'Roast', time: '30-60 min', difficulty: 'Medium', description: 'Cooking in the oven with dry heat' },
            { name: 'Grill', time: '10-20 min', difficulty: 'Medium', description: 'Cooking over direct heat' },
            { name: 'Steam', time: '10-15 min', difficulty: 'Easy', description: 'Cooking with steam heat' },
            { name: 'Braise', time: '60-120 min', difficulty: 'Hard', description: 'Slow cooking with liquid' },
            { name: 'Stir-fry', time: '5-8 min', difficulty: 'Medium', description: 'Quick cooking while stirring' },
        ];
        const displayedMethods = methods.slice(0, maxDisplayed);
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'cooking-methods', children: [(0, jsx_runtime_1.jsx)("h3", { children: "Cooking Methods" }), (0, jsx_runtime_1.jsx)("div", { className: 'methods-grid', children: displayedMethods.map(method => ((0, jsx_runtime_1.jsxs)("div", { className: 'method-card', "data-testid": `method-card-${method.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsxs)("button", { onClick: () => setSelectedMethod(method.name), className: selectedMethod === method.name ? 'selected' : '', "data-testid": `method-${method.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("h4", { children: method.name }), (0, jsx_runtime_1.jsxs)("div", { className: 'method-info', children: [(0, jsx_runtime_1.jsxs)("div", { children: ["Time: ", method.time] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Difficulty: ", method.difficulty] })] })] }), selectedMethod === method.name && ((0, jsx_runtime_1.jsx)("div", { "data-testid": `method-details-${method.name.toLowerCase()}`, className: 'method-details', children: (0, jsx_runtime_1.jsx)("p", { children: method.description }) }))] }, method.name))) }), (0, jsx_runtime_1.jsx)("button", { onClick: onViewMore, "data-testid": 'view-more-methods', className: 'view-more-button', children: "View All Cooking Methods" })] }));
    };
});
jest.mock('@/components/recipes/RecipeBuilderSimple', () => {
    return function MockRecipeBuilderSimple() {
        const [recipeName, setRecipeName] = react_2.default.useState('');
        const [ingredients, setIngredients] = react_2.default.useState([]);
        const [steps, setSteps] = react_2.default.useState([]);
        const [servings, setServings] = react_2.default.useState(4);
        const [prepTime, setPrepTime] = react_2.default.useState(15);
        const [cookTime, setCookTime] = react_2.default.useState(30);
        const addIngredient = () => {
            setIngredients(prev => [...prev, { name: '', quantity: '' }]);
        };
        const updateIngredient = (index, field, value) => {
            setIngredients(prev => prev.map((ing, i) => (i === index ? { ...ing, [field]: value } : ing)));
        };
        const removeIngredient = (index) => {
            setIngredients(prev => prev.filter((_, i) => i !== index));
        };
        const addStep = () => {
            setSteps(prev => [...prev, { instruction: '', timing: '' }]);
        };
        const updateStep = (index, field, value) => {
            setSteps(prev => prev.map((step, i) => (i === index ? { ...step, [field]: value } : step)));
        };
        const removeStep = (index) => {
            setSteps(prev => prev.filter((_, i) => i !== index));
        };
        const canSave = recipeName.trim() && ingredients.some(ing => ing.name.trim()) && void steps.some(step => step.instruction.trim());
        const totalTime = prepTime + cookTime;
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": 'recipe-builder', children: [(0, jsx_runtime_1.jsx)("h3", { children: "Recipe Builder" }), (0, jsx_runtime_1.jsxs)("div", { className: 'recipe-form', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'recipe-header', children: [(0, jsx_runtime_1.jsx)("input", { type: 'text', placeholder: 'Recipe Name', value: recipeName, onChange: e => setRecipeName(e.target.value), "data-testid": 'recipe-name-input' }), (0, jsx_runtime_1.jsxs)("div", { className: 'recipe-meta', children: [(0, jsx_runtime_1.jsx)("input", { type: 'number', value: servings, onChange: e => setServings(parseInt(e.target.value) || 1), "data-testid": 'servings-input', min: '1' }), (0, jsx_runtime_1.jsx)("input", { type: 'number', value: prepTime, onChange: e => setPrepTime(parseInt(e.target.value) || 0), "data-testid": 'prep-time-input', min: '0' }), (0, jsx_runtime_1.jsx)("input", { type: 'number', value: cookTime, onChange: e => setCookTime(parseInt(e.target.value) || 0), "data-testid": 'cook-time-input', min: '0' })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'ingredients-section', children: [(0, jsx_runtime_1.jsx)("h4", { children: "Ingredients" }), (0, jsx_runtime_1.jsx)("button", { onClick: addIngredient, "data-testid": 'add-ingredient', children: "Add Ingredient" }), ingredients.map((ingredient, index) => ((0, jsx_runtime_1.jsxs)("div", { className: 'ingredient-row', "data-testid": `ingredient-row-${index}`, children: [(0, jsx_runtime_1.jsx)("input", { type: 'text', placeholder: 'Quantity', value: ingredient.quantity, onChange: e => updateIngredient(index, 'quantity', e.target.value), "data-testid": `ingredient-quantity-${index}` }), (0, jsx_runtime_1.jsx)("input", { type: 'text', placeholder: 'Ingredient name', value: ingredient.name, onChange: e => updateIngredient(index, 'name', e.target.value), "data-testid": `ingredient-name-${index}` }), (0, jsx_runtime_1.jsx)("button", { onClick: () => removeIngredient(index), "data-testid": `remove-ingredient-${index}`, children: "Remove" })] }, index))), (0, jsx_runtime_1.jsxs)("div", { "data-testid": 'ingredients-count', children: [", Ingredients: ", ingredients.length] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'steps-section', children: [(0, jsx_runtime_1.jsx)("h4", { children: "Instructions" }), (0, jsx_runtime_1.jsx)("button", { onClick: addStep, "data-testid": 'add-step', children: "Add Step" }), steps.map((step, index) => ((0, jsx_runtime_1.jsxs)("div", { className: 'step-row', "data-testid": `step-row-${index}`, children: [(0, jsx_runtime_1.jsx)("span", { className: 'step-number', children: index + 1 }), (0, jsx_runtime_1.jsx)("textarea", { placeholder: 'Describe this step...', value: step.instruction, onChange: e => updateStep(index, 'instruction', e.target.value), "data-testid": `step-instruction-${index}` }), (0, jsx_runtime_1.jsx)("input", { type: 'text', placeholder: 'Timing', value: step.timing, onChange: e => updateStep(index, 'timing', e.target.value), "data-testid": `step-timing-${index}` }), (0, jsx_runtime_1.jsx)("button", { onClick: () => removeStep(index), "data-testid": `remove-step-${index}`, children: "Remove" })] }, index))), (0, jsx_runtime_1.jsxs)("div", { "data-testid": 'steps-count', children: [", Steps: ", steps.length] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'recipe-summary', "data-testid": 'recipe-summary', children: [(0, jsx_runtime_1.jsx)("h4", { children: "Recipe Summary" }), (0, jsx_runtime_1.jsxs)("div", { children: ["Name: ", recipeName || 'Untitled Recipe'] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Servings: ", servings] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Total Time: ", totalTime, " minutes"] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Ingredients: ", ingredients.length] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Steps: ", steps.length] })] }), (0, jsx_runtime_1.jsx)("button", { disabled: !canSave, "data-testid": 'save-recipe', className: canSave ? 'enabled' : 'disabled', children: "Save Recipe" })] })] }));
    };
});
/**
 * End-to-End Tests for Main Page Workflows
 *
 * These tests simulate complete user workflows on the main page,
 * testing the integration between all components and user interactions.
 *
 * Note: These tests use jsdom and testing-library to simulate E2E scenarios
 * without requiring a full browser environment.
 */
const react_1 = require("@testing-library/react");
const user_event_1 = __importDefault(require("@testing-library/user-event"));
const react_2 = __importDefault(require("react"));
const MainPageLayout_1 = __importDefault(require("@/components/layout/MainPageLayout"));
const hooks_1 = require("@/contexts/AlchemicalContext/hooks");
const useStatePreservation_1 = require("@/hooks/useStatePreservation");
void jest.mock('@/contexts/AlchemicalContext/hooks');
void jest.mock('@/hooks/useStatePreservation');
describe('Main Page E2E Workflows', () => {
    const mockAlchemicalContext = {
        state: {
            astrologicalState: { sunSign: 'aries' },
            elementalState: { Fire: 0.3, Water: 0.2, Earth: 0.3, Air: 0.2 },
        },
        planetaryPositions: { sun: { sign: 'aries' } },
        isDaytime: true,
    };
    const mockNavigationState = {
        saveState: jest.fn(),
        getState: jest.fn(() => ({})),
    };
    const mockScrollPreservation = {
        restoreScrollPosition: jest.fn(),
    };
    beforeEach(() => {
        void jest.clearAllMocks();
        hooks_1.useAlchemical.mockReturnValue(mockAlchemicalContext);
        useStatePreservation_1.useNavigationState.mockReturnValue(mockNavigationState);
        useStatePreservation_1.useScrollPreservation.mockReturnValue(mockScrollPreservation);
        useStatePreservation_1.useAutoStateCleanup.mockReturnValue(undefined);
        // Mock DOM methods
        void Object.defineProperty(window, 'scrollY', { value: 0, writable: true });
        jest.spyOn(document, 'getElementById').mockImplementation(() => ({
            scrollIntoView: jest.fn(),
            style: {},
            classList: { add: jest.fn(), remove: jest.fn() },
        }));
    });
    afterEach(() => {
        void jest.restoreAllMocks();
    });
    it('completes full meal planning workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        // Wait for all components to load
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cuisine-recommender')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('ingredient-recommender')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('cooking-methods')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Step 1: Select a cuisine
        const italianCuisine = react_1.screen.getByTestId('italian-cuisine');
        void user.click(italianCuisine);
        // Verify cuisine selection and recipe recommendations appear
        expect(react_1.screen.getByTestId('recipe-recommendations')).toBeInTheDocument();
        expect(react_1.screen.getByText('Recommended Italian Recipes')).toBeInTheDocument();
        // Step 2: Select ingredients
        const tomatoes = react_1.screen.getByTestId('ingredient-tomatoes');
        const basil = react_1.screen.getByTestId('ingredient-basil');
        const oliveOil = react_1.screen.getByTestId('ingredient-olive oil');
        void user.click(tomatoes);
        void user.click(basil);
        void user.click(oliveOil);
        // Verify ingredient selection
        expect(react_1.screen.getByTestId('selected-ingredients-summary')).toBeInTheDocument();
        expect(react_1.screen.getByText('Selected Ingredients (3)')).toBeInTheDocument();
        // Step 3: Select cooking method
        const sauteMethod = react_1.screen.getByTestId('method-sauté');
        void user.click(sauteMethod);
        // Verify method selection and details
        expect(react_1.screen.getByTestId('method-details-sauté')).toBeInTheDocument();
        // Step 4: Build a recipe
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        void user.type(recipeNameInput, 'Italian Tomato Basil Sauté');
        // Add ingredients to recipe
        const addIngredientButton = react_1.screen.getByTestId('add-ingredient');
        void user.click(addIngredientButton);
        void user.click(addIngredientButton);
        void user.click(addIngredientButton);
        // Fill in ingredient details
        void user.type(react_1.screen.getByTestId('ingredient-quantity-0'), '2 cups');
        void user.type(react_1.screen.getByTestId('ingredient-name-0'), 'Fresh Tomatoes');
        void user.type(react_1.screen.getByTestId('ingredient-quantity-1'), '1/4 cup');
        void user.type(react_1.screen.getByTestId('ingredient-name-1'), 'Fresh Basil');
        void user.type(react_1.screen.getByTestId('ingredient-quantity-2'), '2 tbsp');
        void user.type(react_1.screen.getByTestId('ingredient-name-2'), 'Olive Oil');
        // Add cooking steps
        const addStepButton = react_1.screen.getByTestId('add-step');
        void user.click(addStepButton);
        void user.click(addStepButton);
        user.type(react_1.screen.getByTestId('step-instruction-0'), 'Heat olive oil in a large pan over medium heat');
        void user.type(react_1.screen.getByTestId('step-timing-0'), '2 min');
        user.type(react_1.screen.getByTestId('step-instruction-1'), 'Add tomatoes and basil, sauté until tender');
        void user.type(react_1.screen.getByTestId('step-timing-1'), '8 min');
        // Verify recipe can be saved
        const saveButton = react_1.screen.getByTestId('save-recipe');
        expect(saveButton).toBeEnabled();
        // Save the recipe
        void user.click(saveButton);
        // Verify the complete workflow
        expect(react_1.screen.getByDisplayValue('Italian Tomato Basil Sauté')).toBeInTheDocument();
        expect(react_1.screen.getByText('Ingredients: 3')).toBeInTheDocument();
        expect(react_1.screen.getByText('Steps: 2')).toBeInTheDocument();
    });
    it('handles ingredient exploration workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('ingredient-recommender')).toBeInTheDocument();
        });
        // Expand ingredient details
        const expandTomatoes = react_1.screen.getByTestId('expand-tomatoes');
        void user.click(expandTomatoes);
        // Verify details are shown
        expect(react_1.screen.getByTestId('details-tomatoes')).toBeInTheDocument();
        expect(react_1.screen.getByText('Category: Vegetables')).toBeInTheDocument();
        expect(react_1.screen.getByText('Properties: Umami, Acidic, Fresh')).toBeInTheDocument();
        // Expand another ingredient
        const expandGarlic = react_1.screen.getByTestId('expand-garlic');
        void user.click(expandGarlic);
        expect(react_1.screen.getByTestId('details-garlic')).toBeInTheDocument();
        expect(react_1.screen.getByText('Category: Aromatics')).toBeInTheDocument();
        // Collapse first ingredient
        void user.click(expandTomatoes);
        expect(react_1.screen.queryByTestId('details-tomatoes')).not.toBeInTheDocument();
        // Select multiple ingredients
        void user.click(react_1.screen.getByTestId('ingredient-tomatoes'));
        void user.click(react_1.screen.getByTestId('ingredient-garlic'));
        void user.click(react_1.screen.getByTestId('ingredient-basil'));
        // Verify selection summary
        expect(react_1.screen.getByText('Selected Ingredients (3)')).toBeInTheDocument();
        expect(react_1.screen.getByText('Tomatoes, Garlic, Basil')).toBeInTheDocument();
    });
    it('handles cooking method exploration workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cooking-methods')).toBeInTheDocument();
        });
        // Select different cooking methods and view details
        const roastMethod = react_1.screen.getByTestId('method-roast');
        void user.click(roastMethod);
        expect(react_1.screen.getByTestId('method-details-roast')).toBeInTheDocument();
        expect(react_1.screen.getByText('Cooking in the oven with dry heat')).toBeInTheDocument();
        // Switch to another method
        const grillMethod = react_1.screen.getByTestId('method-grill');
        void user.click(grillMethod);
        expect(react_1.screen.getByTestId('method-details-grill')).toBeInTheDocument();
        expect(react_1.screen.getByText('Cooking over direct heat')).toBeInTheDocument();
        // Previous method details should be hidden
        expect(react_1.screen.queryByTestId('method-details-roast')).not.toBeInTheDocument();
        // Test view more functionality
        const viewMoreButton = react_1.screen.getByTestId('view-more-methods');
        expect(viewMoreButton).toBeInTheDocument();
    });
    it('handles complete recipe creation workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Create a complete recipe from scratch
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        void user.type(recipeNameInput, 'Mediterranean Chicken');
        // Update recipe metadata
        const servingsInput = react_1.screen.getByTestId('servings-input');
        const prepTimeInput = react_1.screen.getByTestId('prep-time-input');
        const cookTimeInput = react_1.screen.getByTestId('cook-time-input');
        void user.clear(servingsInput);
        void user.type(servingsInput, '6');
        void user.clear(prepTimeInput);
        void user.type(prepTimeInput, '20');
        void user.clear(cookTimeInput);
        void user.type(cookTimeInput, '45');
        // Add multiple ingredients
        for (let i = 0; i < 4; i++) {
            void user.click(react_1.screen.getByTestId('add-ingredient'));
        }
        const ingredients = [
            { quantity: '2 lbs', name: 'Chicken Breast' },
            { quantity: '1 cup', name: 'Cherry Tomatoes' },
            { quantity: '1/2 cup', name: 'Kalamata Olives' },
            { quantity: '1/4 cup', name: 'Olive Oil' },
        ];
        for (let i = 0; i < ingredients.length; i++) {
            void user.type(react_1.screen.getByTestId(`ingredient-quantity-${i}`), ingredients[i].quantity);
            void user.type(react_1.screen.getByTestId(`ingredient-name-${i}`), ingredients[i].name);
        }
        // Add cooking steps
        for (let i = 0; i < 3; i++) {
            void user.click(react_1.screen.getByTestId('add-step'));
        }
        const steps = [
            { instruction: 'Preheat oven to 375°F and prepare chicken', timing: '5 min' },
            { instruction: 'Sear chicken in olive oil until golden', timing: '10 min' },
            { instruction: 'Add tomatoes and olives, bake until done', timing: '30 min' },
        ];
        for (let i = 0; i < steps.length; i++) {
            void user.type(react_1.screen.getByTestId(`step-instruction-${i}`), steps[i].instruction);
            void user.type(react_1.screen.getByTestId(`step-timing-${i}`), steps[i].timing);
        }
        // Verify recipe summary
        const summary = react_1.screen.getByTestId('recipe-summary');
        expect(summary).toHaveTextContent('Name: Mediterranean Chicken');
        expect(summary).toHaveTextContent('Servings: 6');
        expect(summary).toHaveTextContent('Total Time: 65 minutes');
        expect(summary).toHaveTextContent('Ingredients: 4');
        expect(summary).toHaveTextContent('Steps: 3');
        // Verify save button is enabled
        const saveButton = react_1.screen.getByTestId('save-recipe');
        expect(saveButton).toBeEnabled();
        expect(saveButton).toHaveClass('enabled');
        // Test ingredient removal
        void user.click(react_1.screen.getByTestId('remove-ingredient-3'));
        expect(react_1.screen.getByText('Ingredients: 3')).toBeInTheDocument();
        // Test step removal
        void user.click(react_1.screen.getByTestId('remove-step-0'));
        expect(react_1.screen.getByText('Steps: 2')).toBeInTheDocument();
        // Verify step renumbering
        expect(react_1.screen.getByDisplayValue('Sear chicken in olive oil until golden')).toBeInTheDocument();
    });
    it('handles navigation and state preservation workflow', async () => {
        const user = user_event_1.default.setup();
        const mockOnSectionNavigate = jest.fn();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { onSectionNavigate: mockOnSectionNavigate }));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cuisine-recommender')).toBeInTheDocument();
        });
        // Make selections across different components
        void user.click(react_1.screen.getByTestId('cuisine-italian'));
        void user.click(react_1.screen.getByTestId('ingredient-tomatoes'));
        void user.click(react_1.screen.getByTestId('method-sauté'));
        // Navigate between sections
        const cuisineNavButton = react_1.screen.getByText('Cuisine Recommendations');
        void user.click(cuisineNavButton);
        expect(mockOnSectionNavigate).toHaveBeenCalledWith('cuisine');
        const ingredientsNavButton = react_1.screen.getByText('Ingredient Recommendations');
        void user.click(ingredientsNavButton);
        expect(mockOnSectionNavigate).toHaveBeenCalledWith('ingredients');
        // Verify state preservation was called
        await (0, react_1.waitFor)(() => {
            expect(mockNavigationState.saveState).toHaveBeenCalled();
        });
        // Verify selections are maintained after navigation
        expect(react_1.screen.getByTestId('recipe-recommendations')).toBeInTheDocument();
        expect(react_1.screen.getByText('Selected Ingredients (1)')).toBeInTheDocument();
        expect(react_1.screen.getByTestId('method-details-sauté')).toBeInTheDocument();
    });
    it('handles error recovery workflow', async () => {
        const user = user_event_1.default.setup();
        // Mock console.error to avoid noise
        const consoleSpy = jest.spyOn(console, 'error').mockImplementation(() => { });
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Simulate user creating a recipe and encountering an error
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        void user.type(recipeNameInput, 'Test Recipe');
        // Add ingredient
        void user.click(react_1.screen.getByTestId('add-ingredient'));
        void user.type(react_1.screen.getByTestId('ingredient-name-0'), 'Test Ingredient');
        // Add step
        void user.click(react_1.screen.getByTestId('add-step'));
        void user.type(react_1.screen.getByTestId('step-instruction-0'), 'Test step');
        // Verify recipe is valid
        expect(react_1.screen.getByTestId('save-recipe')).toBeEnabled();
        // The main page should continue to function despite any errors
        expect(react_1.screen.getByText('What to Eat Next')).toBeInTheDocument();
        expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        consoleSpy.mockRestore();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvZmlyc3Qtd2F2ZS0yMDI1LTA4LTExVDA1LTE5LTI2LTgxM1ovc3JjL19fdGVzdHNfXy9lMmUvTWFpblBhZ2VXb3JrZmxvd3MudGVzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBa0JBLG9EQUFvRDtBQUNwRCxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDbEMsU0FBUyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDaEIsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNmLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2xCLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2xCLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0tBQ25CLENBQUM7Q0FDSCxDQUFDLENBQUMsQ0FBQztBQUlKLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNqQyxNQUFNLEVBQUU7UUFDTixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNoQixJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNmLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2YsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7S0FDakI7Q0FDRixDQUFDLENBQUMsQ0FBQztBQUVKLHFEQUFxRDtBQUNyRCxJQUFJLENBQUMsSUFBSSxDQUFDLGlDQUFpQyxFQUFFLEdBQUcsRUFBRTtJQUNoRCxPQUFPLFNBQVMsc0JBQXNCO1FBQ3BDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxlQUFLLENBQUMsUUFBUSxDQUFnQixJQUFJLENBQUMsQ0FBQztRQUNsRixNQUFNLENBQUMsV0FBVyxFQUFF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LEVBQUUsYUFBYSxDQUFDLENBQUM7UUFFL0MsaUJBQWlCO1FBQ2pCLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFNLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztRQUN0RCxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFFM0UsV0FBVztRQUNYLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDaEQsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQU0sQ0FBQyxXQUFXLENBQUMsb0JBQW9CLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUV0RSx5QkFBeUI7UUFDekIsTUFBTSxDQUFDLGNBQU0sQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUV4RCwrREFBK0Q7UUFDL0QsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDakUsTUFBTSxDQUFDLGNBQU0sQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFFakUsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzNCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvZmlyc3Qtd2F2ZS0yMDI1LTA4LTExVDA1LTE5LTI2LTgxM1ovc3JjL19fdGVzdHNfXy9lMmUvTWFpblBhZ2VXb3JrZmxvd3MudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFbmQtdG8tRW5kIFRlc3RzIGZvciBNYWluIFBhZ2UgV29ya2Zsb3dzXG4gKlxuICogVGhlc2UgdGVzdHMgc2ltdWxhdGUgY29tcGxldGUgdXNlciB3b3JrZmxvd3Mgb24gdGhlIG1haW4gcGFnZSxcbiAqIHRlc3RpbmcgdGhlIGludGVncmF0aW9uIGJldHdlZW4gYWxsIGNvbXBvbmVudHMgYW5kIHVzZXIgaW50ZXJhY3Rpb25zLlxuICpcbiAqIE5vdGU6IFRoZXNlIHRlc3RzIHVzZSBqc2RvbSBhbmQgdGVzdGluZy1saWJyYXJ5IHRvIHNpbXVsYXRlIEUyRSBzY2VuYXJpb3NcbiAqIHdpdGhvdXQgcmVxdWlyaW5nIGEgZnVsbCBicm93c2VyIGVudmlyb25tZW50LlxuICovXG5cbmltcG9ydCB7IGFjdCwgcmVuZGVyLCBzY3JlZW4sIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBNYWluUGFnZUxheW91dCBmcm9tICdAL2NvbXBvbmVudHMvbGF5b3V0L01haW5QYWdlTGF5b3V0JztcbmltcG9ydCB7IHVzZUFsY2hlbWljYWwgfSBmcm9tICdAL2NvbnRleHRzL0FsY2hlbWljYWxDb250ZXh0L2hvb2tzJztcbmltcG9ydCB7IHVzZUF1dG9TdGF0ZUNsZWFudXAsIHVzZU5hdmlnYXRpb25TdGF0ZSwgdXNlU2Nyb2xsUHJlc2VydmF0aW9uIH0gZnJvbSAnQC9ob29rcy91c2VTdGF0ZVByZXNlcnZhdGlvbic7XG5cbi8vIE1vY2sgYWxsIGV4dGVybmFsIGRlcGVuZGVuY2llcyBmb3IgRTJFIHNpbXVsYXRpb25cbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiAoe1xuICAgIHB1c2g6IGplc3QuZm4oKSxcbiAgICBiYWNrOiBqZXN0LmZuKCksXG4gICAgZm9yd2FyZDogamVzdC5mbigpLFxuICAgIHJlZnJlc2g6IGplc3QuZm4oKSxcbiAgICByZXBsYWNlOiBqZXN0LmZuKCksXG4gIH0pLFxufSkpO1xuXG52b2lkIGplc3QubW9jaygnQC9jb250ZXh0cy9BbGNoZW1pY2FsQ29udGV4dC9ob29rcycpO1xudm9pZCBqZXN0Lm1vY2soJ0AvaG9va3MvdXNlU3RhdGVQcmVzZXJ2YXRpb24nKTtcbmplc3QubW9jaygnQC91dGlscy9sb2dnZXInLCAoKSA9PiAoe1xuICBsb2dnZXI6IHtcbiAgICBkZWJ1ZzogamVzdC5mbigpLFxuICAgIGluZm86IGplc3QuZm4oKSxcbiAgICB3YXJuOiBqZXN0LmZuKCksXG4gICAgZXJyb3I6IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcblxuLy8gTW9jayByZWFsaXN0aWMgY29tcG9uZW50IGJlaGF2aW9ycyBmb3IgRTJFIHRlc3Rpbmdcbmplc3QubW9jaygnQC9jb21wb25lbnRzL0N1aXNpbmVSZWNvbW1lbmRlcicsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tDdWlzaW5lUmVjb21tZW5kZXIoKSB7XG4gICAgY29uc3QgW3NlbGVjdGVkQ3Vpc2luZSwgc2V0U2VsZWN0ZWRDdWlzaW5lXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtzaG93UmVjaXBlcywgc2V0U2hvd1JlY2lwZXNdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgY29uc3QgY3Vpc2luZXMgPSBbXG4gICAgICB7IG5hbWU6ICdJdGFsaWFuJywgc2NvcmU6IDk1LCByZWNpcGVzOiBbJ1Bhc3RhIE1hcmluYXJhJywgJ1Jpc290dG8nLCAnUGl6emEgTWFyZ2hlcml0YSddIH0sXG4gICAgICB7IG5hbWU6ICdDaGluZXNlJywgc2NvcmU6IDg4LCByZWNpcGVzOiBbJ0ZyaWVkIFJpY2UnLCAnU3dlZXQgYW5kIFNvdXIgUG9yaycsICdLdW5nIFBhbyBDaGlja2VuJ10gfSxcbiAgICAgIHsgbmFtZTogJ01leGljYW4nLCBzY29yZTogODIsIHJlY2lwZXM6IFsnVGFjb3MnLCAnRW5jaGlsYWRhcycsICdHdWFjYW1vbGUnXSB9LFxuICAgICAgeyBuYW1lOiAnSW5kaWFuJywgc2NvcmU6IDc5LCByZWNpcGVzOiBbJ0N1cnJ5JywgJ0JpcnlhbmknLCAnTmFhbiddIH0sXG4gICAgXTtcblxuICAgIGNvbnN0IGhhbmRsZUN1aXNpbmVTZWxlY3QgPSAoY3Vpc2luZTogYW55KSA9PiB7XG4gICAgICBzZXRTZWxlY3RlZEN1aXNpbmUoY3Vpc2luZS5uYW1lKTtcbiAgICAgIHNldFNob3dSZWNpcGVzKHRydWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBkYXRhLXRlc3RpZD0nY3Vpc2luZS1yZWNvbW1lbmRlcic+XG4gICAgICAgIDxoMz5DdWlzaW5lIFJlY29tbWVuZGF0aW9uczwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjdWlzaW5lLWdyaWQnPlxuICAgICAgICAgIHtjdWlzaW5lcy5tYXAoY3Vpc2luZSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17Y3Vpc2luZS5uYW1lfSBjbGFzc05hbWU9J2N1aXNpbmUtY2FyZCcgZGF0YS10ZXN0aWQ9e2BjdWlzaW5lLWNhcmQtJHtjdWlzaW5lLm5hbWUudG9Mb3dlckNhc2UoKX1gfT5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUN1aXNpbmVTZWxlY3QoY3Vpc2luZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzZWxlY3RlZEN1aXNpbmUgPT09IGN1aXNpbmUubmFtZSA/ICdzZWxlY3RlZCcgOiAnJ31cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGN1aXNpbmUtJHtjdWlzaW5lLm5hbWUudG9Mb3dlckNhc2UoKX1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGg0PntjdWlzaW5lLm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2NvcmUnPk1hdGNoOiB7Y3Vpc2luZS5zY29yZX0lPC9kaXY+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtzaG93UmVjaXBlcyAmJiBzZWxlY3RlZEN1aXNpbmUgJiYgKFxuICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9J3JlY2lwZS1yZWNvbW1lbmRhdGlvbnMnIGNsYXNzTmFtZT0ncmVjaXBlLXNlY3Rpb24nPlxuICAgICAgICAgICAgPGg0PlJlY29tbWVuZGVkIHtzZWxlY3RlZEN1aXNpbmV9IFJlY2lwZXM8L2g0PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JlY2lwZS1saXN0Jz5cbiAgICAgICAgICAgICAge2N1aXNpbmVzXG4gICAgICAgICAgICAgICAgLmZpbmQoYyA9PiBjLm5hbWUgPT09IHNlbGVjdGVkQ3Vpc2luZSlcbiAgICAgICAgICAgICAgICA/LnJlY2lwZXMubWFwKHJlY2lwZSA9PiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGtleT17cmVjaXBlfVxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YHJlY2lwZS0ke3JlY2lwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX1gfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3JlY2lwZS1idXR0b24nXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtyZWNpcGV9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcbn0pO1xuXG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy9JbmdyZWRpZW50UmVjb21tZW5kZXInLCAoKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBNb2NrSW5ncmVkaWVudFJlY29tbWVuZGVyKHsgbWF4RGlzcGxheWVkID0gOCB9OiB7IG1heERpc3BsYXllZD86IG51bWJlciB9KSB7XG4gICAgY29uc3QgW3NlbGVjdGVkSW5ncmVkaWVudHMsIHNldFNlbGVjdGVkSW5ncmVkaWVudHNdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgICBjb25zdCBbZXhwYW5kZWRJbmdyZWRpZW50LCBzZXRFeHBhbmRlZEluZ3JlZGllbnRdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgICBjb25zdCBpbmdyZWRpZW50cyA9IFtcbiAgICAgIHsgbmFtZTogJ1RvbWF0b2VzJywgY2F0ZWdvcnk6ICdWZWdldGFibGVzJywgcHJvcGVydGllczogWydVbWFtaScsICdBY2lkaWMnLCAnRnJlc2gnXSB9LFxuICAgICAgeyBuYW1lOiAnT25pb25zJywgY2F0ZWdvcnk6ICdWZWdldGFibGVzJywgcHJvcGVydGllczogWydTd2VldCcsICdQdW5nZW50JywgJ0Fyb21hdGljJ10gfSxcbiAgICAgIHsgbmFtZTogJ0dhcmxpYycsIGNhdGVnb3J5OiAnQXJvbWF0aWNzJywgcHJvcGVydGllczogWydQdW5nZW50JywgJ1Nhdm9yeScsICdBcm9tYXRpYyddIH0sXG4gICAgICB7IG5hbWU6ICdCYXNpbCcsIGNhdGVnb3J5OiAnSGVyYnMnLCBwcm9wZXJ0aWVzOiBbJ0ZyZXNoJywgJ0Fyb21hdGljJywgJ1N3ZWV0J10gfSxcbiAgICAgIHsgbmFtZTogJ09saXZlIE9pbCcsIGNhdGVnb3J5OiAnT2lscycsIHByb3BlcnRpZXM6IFsnUmljaCcsICdGcnVpdHknLCAnU21vb3RoJ10gfSxcbiAgICAgIHsgbmFtZTogJ0NoZWVzZScsIGNhdGVnb3J5OiAnRGFpcnknLCBwcm9wZXJ0aWVzOiBbJ0NyZWFteScsICdTYWx0eScsICdSaWNoJ10gfSxcbiAgICAgIHsgbmFtZTogJ1Bhc3RhJywgY2F0ZWdvcnk6ICdHcmFpbnMnLCBwcm9wZXJ0aWVzOiBbJ05ldXRyYWwnLCAnRmlsbGluZycsICdWZXJzYXRpbGUnXSB9LFxuICAgICAgeyBuYW1lOiAnQ2hpY2tlbicsIGNhdGVnb3J5OiAnUHJvdGVpbnMnLCBwcm9wZXJ0aWVzOiBbJ0xlYW4nLCAnTWlsZCcsICdWZXJzYXRpbGUnXSB9LFxuICAgIF07XG5cbiAgICBjb25zdCBkaXNwbGF5ZWRJbmdyZWRpZW50cyA9IGluZ3JlZGllbnRzLnNsaWNlKDAsIG1heERpc3BsYXllZCk7XG5cbiAgICBjb25zdCB0b2dnbGVJbmdyZWRpZW50ID0gKGluZ3JlZGllbnQ6IHN0cmluZykgPT4ge1xuICAgICAgc2V0U2VsZWN0ZWRJbmdyZWRpZW50cyhwcmV2ID0+XG4gICAgICAgIHZvaWQgcHJldi5pbmNsdWRlcyhpbmdyZWRpZW50KSA/IHByZXYuZmlsdGVyKGkgPT4gaSAhPT0gaW5ncmVkaWVudCkgOiBbLi4ucHJldiwgaW5ncmVkaWVudF0sXG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVFeHBhbmRlZCA9IChpbmdyZWRpZW50OiBzdHJpbmcpID0+IHtcbiAgICAgIHNldEV4cGFuZGVkSW5ncmVkaWVudChwcmV2ID0+IChwcmV2ID09PSBpbmdyZWRpZW50ID8gbnVsbCA6IGluZ3JlZGllbnQpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9J2luZ3JlZGllbnQtcmVjb21tZW5kZXInPlxuICAgICAgICA8aDM+SW5ncmVkaWVudCBSZWNvbW1lbmRhdGlvbnM8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW5ncmVkaWVudC1ncmlkJz5cbiAgICAgICAgICB7ZGlzcGxheWVkSW5ncmVkaWVudHMubWFwKGluZ3JlZGllbnQgPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBrZXk9e2luZ3JlZGllbnQubmFtZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdpbmdyZWRpZW50LWNhcmQnXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgaW5ncmVkaWVudC1jYXJkLSR7aW5ncmVkaWVudC5uYW1lLnRvTG93ZXJDYXNlKCl9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUluZ3JlZGllbnQoaW5ncmVkaWVudC5uYW1lKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3NlbGVjdGVkSW5ncmVkaWVudHMuaW5jbHVkZXMoaW5ncmVkaWVudC5uYW1lKSA/ICdzZWxlY3RlZCcgOiAnJ31cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGluZ3JlZGllbnQtJHtpbmdyZWRpZW50Lm5hbWUudG9Mb3dlckNhc2UoKX1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2luZ3JlZGllbnQubmFtZX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVFeHBhbmRlZChpbmdyZWRpZW50Lm5hbWUpfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgZXhwYW5kLSR7aW5ncmVkaWVudC5uYW1lLnRvTG93ZXJDYXNlKCl9YH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2V4cGFuZC1idXR0b24nXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7ZXhwYW5kZWRJbmdyZWRpZW50ID09PSBpbmdyZWRpZW50Lm5hbWUgPyAn4pa8JyA6ICfilrYnfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICB7ZXhwYW5kZWRJbmdyZWRpZW50ID09PSBpbmdyZWRpZW50Lm5hbWUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9e2BkZXRhaWxzLSR7aW5ncmVkaWVudC5uYW1lLnRvTG93ZXJDYXNlKCl9YH0gY2xhc3NOYW1lPSdpbmdyZWRpZW50LWRldGFpbHMnPlxuICAgICAgICAgICAgICAgICAgPGRpdj5DYXRlZ29yeToge2luZ3JlZGllbnQuY2F0ZWdvcnl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlByb3BlcnRpZXM6IHtpbmdyZWRpZW50LnByb3BlcnRpZXMuam9pbignLCAnKX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7c2VsZWN0ZWRJbmdyZWRpZW50cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPSdzZWxlY3RlZC1pbmdyZWRpZW50cy1zdW1tYXJ5JyBjbGFzc05hbWU9J3NlbGVjdGlvbi1zdW1tYXJ5Jz5cbiAgICAgICAgICAgIDxoND5TZWxlY3RlZCBJbmdyZWRpZW50cyAoe3NlbGVjdGVkSW5ncmVkaWVudHMubGVuZ3RofSk8L2g0PlxuICAgICAgICAgICAgPGRpdj57c2VsZWN0ZWRJbmdyZWRpZW50cy5qb2luKCcsICcpfTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcbn0pO1xuXG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy9Db29raW5nTWV0aG9kc1NlY3Rpb24nLCAoKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBNb2NrQ29va2luZ01ldGhvZHNTZWN0aW9uKHtcbiAgICBtYXhEaXNwbGF5ZWQgPSA2LFxuICAgIG9uVmlld01vcmUsXG4gIH06IHtcbiAgICBtYXhEaXNwbGF5ZWQ/OiBudW1iZXI7XG4gICAgb25WaWV3TW9yZT86ICgpID0+IHZvaWQ7XG4gIH0pIHtcbiAgICBjb25zdCBbc2VsZWN0ZWRNZXRob2QsIHNldFNlbGVjdGVkTWV0aG9kXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gICAgY29uc3QgbWV0aG9kcyA9IFtcbiAgICAgIHsgbmFtZTogJ1NhdXTDqScsIHRpbWU6ICc1LTEwIG1pbicsIGRpZmZpY3VsdHk6ICdFYXN5JywgZGVzY3JpcHRpb246ICdRdWljayBjb29raW5nIGluIGEgcGFuIHdpdGggb2lsJyB9LFxuICAgICAgeyBuYW1lOiAnUm9hc3QnLCB0aW1lOiAnMzAtNjAgbWluJywgZGlmZmljdWx0eTogJ01lZGl1bScsIGRlc2NyaXB0aW9uOiAnQ29va2luZyBpbiB0aGUgb3ZlbiB3aXRoIGRyeSBoZWF0JyB9LFxuICAgICAgeyBuYW1lOiAnR3JpbGwnLCB0aW1lOiAnMTAtMjAgbWluJywgZGlmZmljdWx0eTogJ01lZGl1bScsIGRlc2NyaXB0aW9uOiAnQ29va2luZyBvdmVyIGRpcmVjdCBoZWF0JyB9LFxuICAgICAgeyBuYW1lOiAnU3RlYW0nLCB0aW1lOiAnMTAtMTUgbWluJywgZGlmZmljdWx0eTogJ0Vhc3knLCBkZXNjcmlwdGlvbjogJ0Nvb2tpbmcgd2l0aCBzdGVhbSBoZWF0JyB9LFxuICAgICAgeyBuYW1lOiAnQnJhaXNlJywgdGltZTogJzYwLTEyMCBtaW4nLCBkaWZmaWN1bHR5OiAnSGFyZCcsIGRlc2NyaXB0aW9uOiAnU2xvdyBjb29raW5nIHdpdGggbGlxdWlkJyB9LFxuICAgICAgeyBuYW1lOiAnU3Rpci1mcnknLCB0aW1lOiAnNS04IG1pbicsIGRpZmZpY3VsdHk6ICdNZWRpdW0nLCBkZXNjcmlwdGlvbjogJ1F1aWNrIGNvb2tpbmcgd2hpbGUgc3RpcnJpbmcnIH0sXG4gICAgXTtcblxuICAgIGNvbnN0IGRpc3BsYXllZE1ldGhvZHMgPSBtZXRob2RzLnNsaWNlKDAsIG1heERpc3BsYXllZCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBkYXRhLXRlc3RpZD0nY29va2luZy1tZXRob2RzJz5cbiAgICAgICAgPGgzPkNvb2tpbmcgTWV0aG9kczwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZXRob2RzLWdyaWQnPlxuICAgICAgICAgIHtkaXNwbGF5ZWRNZXRob2RzLm1hcChtZXRob2QgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e21ldGhvZC5uYW1lfSBjbGFzc05hbWU9J21ldGhvZC1jYXJkJyBkYXRhLXRlc3RpZD17YG1ldGhvZC1jYXJkLSR7bWV0aG9kLm5hbWUudG9Mb3dlckNhc2UoKX1gfT5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkTWV0aG9kKG1ldGhvZC5uYW1lKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3NlbGVjdGVkTWV0aG9kID09PSBtZXRob2QubmFtZSA/ICdzZWxlY3RlZCcgOiAnJ31cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YG1ldGhvZC0ke21ldGhvZC5uYW1lLnRvTG93ZXJDYXNlKCl9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoND57bWV0aG9kLm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWV0aG9kLWluZm8nPlxuICAgICAgICAgICAgICAgICAgPGRpdj5UaW1lOiB7bWV0aG9kLnRpbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PkRpZmZpY3VsdHk6IHttZXRob2QuZGlmZmljdWx0eX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAge3NlbGVjdGVkTWV0aG9kID09PSBtZXRob2QubmFtZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD17YG1ldGhvZC1kZXRhaWxzLSR7bWV0aG9kLm5hbWUudG9Mb3dlckNhc2UoKX1gfSBjbGFzc05hbWU9J21ldGhvZC1kZXRhaWxzJz5cbiAgICAgICAgICAgICAgICAgIDxwPnttZXRob2QuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxidXR0b24gb25DbGljaz17b25WaWV3TW9yZX0gZGF0YS10ZXN0aWQ9J3ZpZXctbW9yZS1tZXRob2RzJyBjbGFzc05hbWU9J3ZpZXctbW9yZS1idXR0b24nPlxuICAgICAgICAgIFZpZXcgQWxsIENvb2tpbmcgTWV0aG9kc1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG59KTtcblxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvcmVjaXBlcy9SZWNpcGVCdWlsZGVyU2ltcGxlJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja1JlY2lwZUJ1aWxkZXJTaW1wbGUoKSB7XG4gICAgY29uc3QgW3JlY2lwZU5hbWUsIHNldFJlY2lwZU5hbWVdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtpbmdyZWRpZW50cywgc2V0SW5ncmVkaWVudHNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8eyBuYW1lOiBzdHJpbmc7IHF1YW50aXR5OiBzdHJpbmcgfT4+KFtdKTtcbiAgICBjb25zdCBbc3RlcHMsIHNldFN0ZXBzXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PHsgaW5zdHJ1Y3Rpb246IHN0cmluZzsgdGltaW5nOiBzdHJpbmcgfT4+KFtdKTtcbiAgICBjb25zdCBbc2VydmluZ3MsIHNldFNlcnZpbmdzXSA9IFJlYWN0LnVzZVN0YXRlKDQpO1xuICAgIGNvbnN0IFtwcmVwVGltZSwgc2V0UHJlcFRpbWVdID0gUmVhY3QudXNlU3RhdGUoMTUpO1xuICAgIGNvbnN0IFtjb29rVGltZSwgc2V0Q29va1RpbWVdID0gUmVhY3QudXNlU3RhdGUoMzApO1xuXG4gICAgY29uc3QgYWRkSW5ncmVkaWVudCA9ICgpID0+IHtcbiAgICAgIHNldEluZ3JlZGllbnRzKHByZXYgPT4gWy4uLnByZXYsIHsgbmFtZTogJycsIHF1YW50aXR5OiAnJyB9XSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUluZ3JlZGllbnQgPSAoaW5kZXg6IG51bWJlciwgZmllbGQ6ICduYW1lJyB8ICdxdWFudGl0eScsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIHNldEluZ3JlZGllbnRzKHByZXYgPT4gcHJldi5tYXAoKGluZywgaSkgPT4gKGkgPT09IGluZGV4ID8geyAuLi5pbmcsIFtmaWVsZF06IHZhbHVlIH0gOiBpbmcpKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbW92ZUluZ3JlZGllbnQgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgc2V0SW5ncmVkaWVudHMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWRkU3RlcCA9ICgpID0+IHtcbiAgICAgIHNldFN0ZXBzKHByZXYgPT4gWy4uLnByZXYsIHsgaW5zdHJ1Y3Rpb246ICcnLCB0aW1pbmc6ICcnIH1dKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlU3RlcCA9IChpbmRleDogbnVtYmVyLCBmaWVsZDogJ2luc3RydWN0aW9uJyB8ICd0aW1pbmcnLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICBzZXRTdGVwcyhwcmV2ID0+IHByZXYubWFwKChzdGVwLCBpKSA9PiAoaSA9PT0gaW5kZXggPyB7IC4uLnN0ZXAsIFtmaWVsZF06IHZhbHVlIH0gOiBzdGVwKSkpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW1vdmVTdGVwID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIHNldFN0ZXBzKHByZXYgPT4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNhblNhdmUgPVxuICAgICAgcmVjaXBlTmFtZS50cmltKCkgJiYgaW5ncmVkaWVudHMuc29tZShpbmcgPT4gaW5nLm5hbWUudHJpbSgpKSAmJiB2b2lkIHN0ZXBzLnNvbWUoc3RlcCA9PiBzdGVwLmluc3RydWN0aW9uLnRyaW0oKSk7XG5cbiAgICBjb25zdCB0b3RhbFRpbWUgPSBwcmVwVGltZSArIGNvb2tUaW1lO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9J3JlY2lwZS1idWlsZGVyJz5cbiAgICAgICAgPGgzPlJlY2lwZSBCdWlsZGVyPC9oMz5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVjaXBlLWZvcm0nPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWNpcGUtaGVhZGVyJz5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nUmVjaXBlIE5hbWUnXG4gICAgICAgICAgICAgIHZhbHVlPXtyZWNpcGVOYW1lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRSZWNpcGVOYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J3JlY2lwZS1uYW1lLWlucHV0J1xuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JlY2lwZS1tZXRhJz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT0nbnVtYmVyJ1xuICAgICAgICAgICAgICAgIHZhbHVlPXtzZXJ2aW5nc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRTZXJ2aW5ncyhwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfHwgMSl9XG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J3NlcnZpbmdzLWlucHV0J1xuICAgICAgICAgICAgICAgIG1pbj0nMSdcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT0nbnVtYmVyJ1xuICAgICAgICAgICAgICAgIHZhbHVlPXtwcmVwVGltZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRQcmVwVGltZShwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfHwgMCl9XG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J3ByZXAtdGltZS1pbnB1dCdcbiAgICAgICAgICAgICAgICBtaW49JzAnXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9J251bWJlcidcbiAgICAgICAgICAgICAgICB2YWx1ZT17Y29va1RpbWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0Q29va1RpbWUocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDApfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdjb29rLXRpbWUtaW5wdXQnXG4gICAgICAgICAgICAgICAgbWluPScwJ1xuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW5ncmVkaWVudHMtc2VjdGlvbic+XG4gICAgICAgICAgICA8aDQ+SW5ncmVkaWVudHM8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXthZGRJbmdyZWRpZW50fSBkYXRhLXRlc3RpZD0nYWRkLWluZ3JlZGllbnQnPlxuICAgICAgICAgICAgICBBZGQgSW5ncmVkaWVudFxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIHtpbmdyZWRpZW50cy5tYXAoKGluZ3JlZGllbnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPSdpbmdyZWRpZW50LXJvdycgZGF0YS10ZXN0aWQ9e2BpbmdyZWRpZW50LXJvdy0ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdRdWFudGl0eSdcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbmdyZWRpZW50LnF1YW50aXR5fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXBkYXRlSW5ncmVkaWVudChpbmRleCwgJ3F1YW50aXR5JywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BpbmdyZWRpZW50LXF1YW50aXR5LSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdJbmdyZWRpZW50IG5hbWUnXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17aW5ncmVkaWVudC5uYW1lfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXBkYXRlSW5ncmVkaWVudChpbmRleCwgJ25hbWUnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGluZ3JlZGllbnQtbmFtZS0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJlbW92ZUluZ3JlZGllbnQoaW5kZXgpfSBkYXRhLXRlc3RpZD17YHJlbW92ZS1pbmdyZWRpZW50LSR7aW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICBSZW1vdmVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cblxuICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD0naW5ncmVkaWVudHMtY291bnQnPiwgSW5ncmVkaWVudHM6IHtpbmdyZWRpZW50cy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3RlcHMtc2VjdGlvbic+XG4gICAgICAgICAgICA8aDQ+SW5zdHJ1Y3Rpb25zPC9oND5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17YWRkU3RlcH0gZGF0YS10ZXN0aWQ9J2FkZC1zdGVwJz5cbiAgICAgICAgICAgICAgQWRkIFN0ZXBcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICB7c3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT0nc3RlcC1yb3cnIGRhdGEtdGVzdGlkPXtgc3RlcC1yb3ctJHtpbmRleH1gfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3N0ZXAtbnVtYmVyJz57aW5kZXggKyAxfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdEZXNjcmliZSB0aGlzIHN0ZXAuLi4nXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c3RlcC5pbnN0cnVjdGlvbn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHVwZGF0ZVN0ZXAoaW5kZXgsICdpbnN0cnVjdGlvbicsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgc3RlcC1pbnN0cnVjdGlvbi0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nVGltaW5nJ1xuICAgICAgICAgICAgICAgICAgdmFsdWU9e3N0ZXAudGltaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXBkYXRlU3RlcChpbmRleCwgJ3RpbWluZycsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgc3RlcC10aW1pbmctJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByZW1vdmVTdGVwKGluZGV4KX0gZGF0YS10ZXN0aWQ9e2ByZW1vdmUtc3RlcC0ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgICAgUmVtb3ZlXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG5cbiAgICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9J3N0ZXBzLWNvdW50Jz4sIFN0ZXBzOiB7c3RlcHMubGVuZ3RofTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JlY2lwZS1zdW1tYXJ5JyBkYXRhLXRlc3RpZD0ncmVjaXBlLXN1bW1hcnknPlxuICAgICAgICAgICAgPGg0PlJlY2lwZSBTdW1tYXJ5PC9oND5cbiAgICAgICAgICAgIDxkaXY+TmFtZToge3JlY2lwZU5hbWUgfHwgJ1VudGl0bGVkIFJlY2lwZSd9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlNlcnZpbmdzOiB7c2VydmluZ3N9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlRvdGFsIFRpbWU6IHt0b3RhbFRpbWV9IG1pbnV0ZXM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+SW5ncmVkaWVudHM6IHtpbmdyZWRpZW50cy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlN0ZXBzOiB7c3RlcHMubGVuZ3RofTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGJ1dHRvbiBkaXNhYmxlZD17IWNhblNhdmV9IGRhdGEtdGVzdGlkPSdzYXZlLXJlY2lwZScgY2xhc3NOYW1lPXtjYW5TYXZlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ30+XG4gICAgICAgICAgICBTYXZlIFJlY2lwZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ01haW4gUGFnZSBFMkUgV29ya2Zsb3dzJywgKCkgPT4ge1xuICBjb25zdCBtb2NrQWxjaGVtaWNhbENvbnRleHQgPSB7XG4gICAgc3RhdGU6IHtcbiAgICAgIGFzdHJvbG9naWNhbFN0YXRlOiB7IHN1blNpZ246ICdhcmllcycgfSxcbiAgICAgIGVsZW1lbnRhbFN0YXRlOiB7IEZpcmU6IDAuMywgV2F0ZXI6IDAuMiwgRWFydGg6IDAuMywgQWlyOiAwLjIgfSxcbiAgICB9LFxuICAgIHBsYW5ldGFyeVBvc2l0aW9uczogeyBzdW46IHsgc2lnbjogJ2FyaWVzJyB9IH0sXG4gICAgaXNEYXl0aW1lOiB0cnVlLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tOYXZpZ2F0aW9uU3RhdGUgPSB7XG4gICAgc2F2ZVN0YXRlOiBqZXN0LmZuKCksXG4gICAgZ2V0U3RhdGU6IGplc3QuZm4oKCkgPT4gKHt9KSksXG4gIH07XG5cbiAgY29uc3QgbW9ja1Njcm9sbFByZXNlcnZhdGlvbiA9IHtcbiAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IGplc3QuZm4oKSxcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICB2b2lkIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuXG4gICAgKHVzZUFsY2hlbWljYWwgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja0FsY2hlbWljYWxDb250ZXh0KTtcbiAgICAodXNlTmF2aWdhdGlvblN0YXRlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKG1vY2tOYXZpZ2F0aW9uU3RhdGUpO1xuICAgICh1c2VTY3JvbGxQcmVzZXJ2YXRpb24gYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja1Njcm9sbFByZXNlcnZhdGlvbik7XG4gICAgKHVzZUF1dG9TdGF0ZUNsZWFudXAgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUodW5kZWZpbmVkKTtcblxuICAgIC8vIE1vY2sgRE9NIG1ldGhvZHNcbiAgICB2b2lkIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdzY3JvbGxZJywgeyB2YWx1ZTogMCwgd3JpdGFibGU6IHRydWUgfSk7XG4gICAgamVzdC5zcHlPbihkb2N1bWVudCwgJ2dldEVsZW1lbnRCeUlkJykubW9ja0ltcGxlbWVudGF0aW9uKFxuICAgICAgKCkgPT5cbiAgICAgICAgKHtcbiAgICAgICAgICBzY3JvbGxJbnRvVmlldzogamVzdC5mbigpLFxuICAgICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgICBjbGFzc0xpc3Q6IHsgYWRkOiBqZXN0LmZuKCksIHJlbW92ZTogamVzdC5mbigpIH0sXG4gICAgICAgIH0pIGFzIGFueSxcbiAgICApO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIHZvaWQgamVzdC5yZXN0b3JlQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoJ2NvbXBsZXRlcyBmdWxsIG1lYWwgcGxhbm5pbmcgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuXG4gICAgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8TWFpblBhZ2VMYXlvdXQgLz4pO1xuICAgIH0pO1xuXG4gICAgLy8gV2FpdCBmb3IgYWxsIGNvbXBvbmVudHMgdG8gbG9hZFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY3Vpc2luZS1yZWNvbW1lbmRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1yZWNvbW1lbmRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29va2luZy1tZXRob2RzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNpcGUtYnVpbGRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gU3RlcCAxOiBTZWxlY3QgYSBjdWlzaW5lXG4gICAgY29uc3QgaXRhbGlhbkN1aXNpbmUgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2l0YWxpYW4tY3Vpc2luZScpO1xuICAgIHZvaWQgdXNlci5jbGljayhpdGFsaWFuQ3Vpc2luZSk7XG5cbiAgICAvLyBWZXJpZnkgY3Vpc2luZSBzZWxlY3Rpb24gYW5kIHJlY2lwZSByZWNvbW1lbmRhdGlvbnMgYXBwZWFyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLXJlY29tbWVuZGF0aW9ucycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSZWNvbW1lbmRlZCBJdGFsaWFuIFJlY2lwZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFN0ZXAgMjogU2VsZWN0IGluZ3JlZGllbnRzXG4gICAgY29uc3QgdG9tYXRvZXMgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtdG9tYXRvZXMnKTtcbiAgICBjb25zdCBiYXNpbCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1iYXNpbCcpO1xuICAgIGNvbnN0IG9saXZlT2lsID0gc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LW9saXZlIG9pbCcpO1xuXG4gICAgdm9pZCB1c2VyLmNsaWNrKHRvbWF0b2VzKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soYmFzaWwpO1xuICAgIHZvaWQgdXNlci5jbGljayhvbGl2ZU9pbCk7XG5cbiAgICAvLyBWZXJpZnkgaW5ncmVkaWVudCBzZWxlY3Rpb25cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzZWxlY3RlZC1pbmdyZWRpZW50cy1zdW1tYXJ5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdGVkIEluZ3JlZGllbnRzICgzKScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gU3RlcCAzOiBTZWxlY3QgY29va2luZyBtZXRob2RcbiAgICBjb25zdCBzYXV0ZU1ldGhvZCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbWV0aG9kLXNhdXTDqScpO1xuICAgIHZvaWQgdXNlci5jbGljayhzYXV0ZU1ldGhvZCk7XG5cbiAgICAvLyBWZXJpZnkgbWV0aG9kIHNlbGVjdGlvbiBhbmQgZGV0YWlsc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ21ldGhvZC1kZXRhaWxzLXNhdXTDqScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gU3RlcCA0OiBCdWlsZCBhIHJlY2lwZVxuICAgIGNvbnN0IHJlY2lwZU5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLW5hbWUtaW5wdXQnKTtcbiAgICB2b2lkIHVzZXIudHlwZShyZWNpcGVOYW1lSW5wdXQsICdJdGFsaWFuIFRvbWF0byBCYXNpbCBTYXV0w6knKTtcblxuICAgIC8vIEFkZCBpbmdyZWRpZW50cyB0byByZWNpcGVcbiAgICBjb25zdCBhZGRJbmdyZWRpZW50QnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdhZGQtaW5ncmVkaWVudCcpO1xuICAgIHZvaWQgdXNlci5jbGljayhhZGRJbmdyZWRpZW50QnV0dG9uKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soYWRkSW5ncmVkaWVudEJ1dHRvbik7XG4gICAgdm9pZCB1c2VyLmNsaWNrKGFkZEluZ3JlZGllbnRCdXR0b24pO1xuXG4gICAgLy8gRmlsbCBpbiBpbmdyZWRpZW50IGRldGFpbHNcbiAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtcXVhbnRpdHktMCcpLCAnMiBjdXBzJyk7XG4gICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LW5hbWUtMCcpLCAnRnJlc2ggVG9tYXRvZXMnKTtcblxuICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1xdWFudGl0eS0xJyksICcxLzQgY3VwJyk7XG4gICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LW5hbWUtMScpLCAnRnJlc2ggQmFzaWwnKTtcblxuICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1xdWFudGl0eS0yJyksICcyIHRic3AnKTtcbiAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtbmFtZS0yJyksICdPbGl2ZSBPaWwnKTtcblxuICAgIC8vIEFkZCBjb29raW5nIHN0ZXBzXG4gICAgY29uc3QgYWRkU3RlcEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRkLXN0ZXAnKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soYWRkU3RlcEJ1dHRvbik7XG4gICAgdm9pZCB1c2VyLmNsaWNrKGFkZFN0ZXBCdXR0b24pO1xuXG4gICAgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnc3RlcC1pbnN0cnVjdGlvbi0wJyksICdIZWF0IG9saXZlIG9pbCBpbiBhIGxhcmdlIHBhbiBvdmVyIG1lZGl1bSBoZWF0Jyk7XG4gICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdzdGVwLXRpbWluZy0wJyksICcyIG1pbicpO1xuXG4gICAgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnc3RlcC1pbnN0cnVjdGlvbi0xJyksICdBZGQgdG9tYXRvZXMgYW5kIGJhc2lsLCBzYXV0w6kgdW50aWwgdGVuZGVyJyk7XG4gICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdzdGVwLXRpbWluZy0xJyksICc4IG1pbicpO1xuXG4gICAgLy8gVmVyaWZ5IHJlY2lwZSBjYW4gYmUgc2F2ZWRcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzYXZlLXJlY2lwZScpO1xuICAgIGV4cGVjdChzYXZlQnV0dG9uKS50b0JlRW5hYmxlZCgpO1xuXG4gICAgLy8gU2F2ZSB0aGUgcmVjaXBlXG4gICAgdm9pZCB1c2VyLmNsaWNrKHNhdmVCdXR0b24pO1xuXG4gICAgLy8gVmVyaWZ5IHRoZSBjb21wbGV0ZSB3b3JrZmxvd1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ0l0YWxpYW4gVG9tYXRvIEJhc2lsIFNhdXTDqScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbmdyZWRpZW50czogMycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTdGVwczogMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBpbmdyZWRpZW50IGV4cGxvcmF0aW9uIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcblxuICAgIGFjdChhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPE1haW5QYWdlTGF5b3V0IC8+KTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1yZWNvbW1lbmRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gRXhwYW5kIGluZ3JlZGllbnQgZGV0YWlsc1xuICAgIGNvbnN0IGV4cGFuZFRvbWF0b2VzID0gc2NyZWVuLmdldEJ5VGVzdElkKCdleHBhbmQtdG9tYXRvZXMnKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soZXhwYW5kVG9tYXRvZXMpO1xuXG4gICAgLy8gVmVyaWZ5IGRldGFpbHMgYXJlIHNob3duXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnZGV0YWlscy10b21hdG9lcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYXRlZ29yeTogVmVnZXRhYmxlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9wZXJ0aWVzOiBVbWFtaSwgQWNpZGljLCBGcmVzaCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gRXhwYW5kIGFub3RoZXIgaW5ncmVkaWVudFxuICAgIGNvbnN0IGV4cGFuZEdhcmxpYyA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnZXhwYW5kLWdhcmxpYycpO1xuICAgIHZvaWQgdXNlci5jbGljayhleHBhbmRHYXJsaWMpO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnZGV0YWlscy1nYXJsaWMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ2F0ZWdvcnk6IEFyb21hdGljcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gQ29sbGFwc2UgZmlyc3QgaW5ncmVkaWVudFxuICAgIHZvaWQgdXNlci5jbGljayhleHBhbmRUb21hdG9lcyk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdkZXRhaWxzLXRvbWF0b2VzJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gU2VsZWN0IG11bHRpcGxlIGluZ3JlZGllbnRzXG4gICAgdm9pZCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC10b21hdG9lcycpKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LWdhcmxpYycpKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LWJhc2lsJykpO1xuXG4gICAgLy8gVmVyaWZ5IHNlbGVjdGlvbiBzdW1tYXJ5XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdGVkIEluZ3JlZGllbnRzICgzKScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUb21hdG9lcywgR2FybGljLCBCYXNpbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBjb29raW5nIG1ldGhvZCBleHBsb3JhdGlvbiB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG5cbiAgICBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxNYWluUGFnZUxheW91dCAvPik7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Nvb2tpbmctbWV0aG9kcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gU2VsZWN0IGRpZmZlcmVudCBjb29raW5nIG1ldGhvZHMgYW5kIHZpZXcgZGV0YWlsc1xuICAgIGNvbnN0IHJvYXN0TWV0aG9kID0gc2NyZWVuLmdldEJ5VGVzdElkKCdtZXRob2Qtcm9hc3QnKTtcbiAgICB2b2lkIHVzZXIuY2xpY2socm9hc3RNZXRob2QpO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbWV0aG9kLWRldGFpbHMtcm9hc3QnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29va2luZyBpbiB0aGUgb3ZlbiB3aXRoIGRyeSBoZWF0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBTd2l0Y2ggdG8gYW5vdGhlciBtZXRob2RcbiAgICBjb25zdCBncmlsbE1ldGhvZCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbWV0aG9kLWdyaWxsJyk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKGdyaWxsTWV0aG9kKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ21ldGhvZC1kZXRhaWxzLWdyaWxsJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nvb2tpbmcgb3ZlciBkaXJlY3QgaGVhdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gUHJldmlvdXMgbWV0aG9kIGRldGFpbHMgc2hvdWxkIGJlIGhpZGRlblxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgnbWV0aG9kLWRldGFpbHMtcm9hc3QnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBUZXN0IHZpZXcgbW9yZSBmdW5jdGlvbmFsaXR5XG4gICAgY29uc3Qgdmlld01vcmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3ZpZXctbW9yZS1tZXRob2RzJyk7XG4gICAgZXhwZWN0KHZpZXdNb3JlQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBjb21wbGV0ZSByZWNpcGUgY3JlYXRpb24gd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuXG4gICAgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8TWFpblBhZ2VMYXlvdXQgLz4pO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNpcGUtYnVpbGRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGEgY29tcGxldGUgcmVjaXBlIGZyb20gc2NyYXRjaFxuICAgIGNvbnN0IHJlY2lwZU5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLW5hbWUtaW5wdXQnKTtcbiAgICB2b2lkIHVzZXIudHlwZShyZWNpcGVOYW1lSW5wdXQsICdNZWRpdGVycmFuZWFuIENoaWNrZW4nKTtcblxuICAgIC8vIFVwZGF0ZSByZWNpcGUgbWV0YWRhdGFcbiAgICBjb25zdCBzZXJ2aW5nc0lucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZXJ2aW5ncy1pbnB1dCcpO1xuICAgIGNvbnN0IHByZXBUaW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3ByZXAtdGltZS1pbnB1dCcpO1xuICAgIGNvbnN0IGNvb2tUaW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Nvb2stdGltZS1pbnB1dCcpO1xuXG4gICAgdm9pZCB1c2VyLmNsZWFyKHNlcnZpbmdzSW5wdXQpO1xuICAgIHZvaWQgdXNlci50eXBlKHNlcnZpbmdzSW5wdXQsICc2Jyk7XG5cbiAgICB2b2lkIHVzZXIuY2xlYXIocHJlcFRpbWVJbnB1dCk7XG4gICAgdm9pZCB1c2VyLnR5cGUocHJlcFRpbWVJbnB1dCwgJzIwJyk7XG5cbiAgICB2b2lkIHVzZXIuY2xlYXIoY29va1RpbWVJbnB1dCk7XG4gICAgdm9pZCB1c2VyLnR5cGUoY29va1RpbWVJbnB1dCwgJzQ1Jyk7XG5cbiAgICAvLyBBZGQgbXVsdGlwbGUgaW5ncmVkaWVudHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgdm9pZCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRkLWluZ3JlZGllbnQnKSk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5ncmVkaWVudHMgPSBbXG4gICAgICB7IHF1YW50aXR5OiAnMiBsYnMnLCBuYW1lOiAnQ2hpY2tlbiBCcmVhc3QnIH0sXG4gICAgICB7IHF1YW50aXR5OiAnMSBjdXAnLCBuYW1lOiAnQ2hlcnJ5IFRvbWF0b2VzJyB9LFxuICAgICAgeyBxdWFudGl0eTogJzEvMiBjdXAnLCBuYW1lOiAnS2FsYW1hdGEgT2xpdmVzJyB9LFxuICAgICAgeyBxdWFudGl0eTogJzEvNCBjdXAnLCBuYW1lOiAnT2xpdmUgT2lsJyB9LFxuICAgIF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZ3JlZGllbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoYGluZ3JlZGllbnQtcXVhbnRpdHktJHtpfWApLCBpbmdyZWRpZW50c1tpXS5xdWFudGl0eSk7XG4gICAgICB2b2lkIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoYGluZ3JlZGllbnQtbmFtZS0ke2l9YCksIGluZ3JlZGllbnRzW2ldLm5hbWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBjb29raW5nIHN0ZXBzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIHZvaWQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkZC1zdGVwJykpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0ZXBzID0gW1xuICAgICAgeyBpbnN0cnVjdGlvbjogJ1ByZWhlYXQgb3ZlbiB0byAzNzXCsEYgYW5kIHByZXBhcmUgY2hpY2tlbicsIHRpbWluZzogJzUgbWluJyB9LFxuICAgICAgeyBpbnN0cnVjdGlvbjogJ1NlYXIgY2hpY2tlbiBpbiBvbGl2ZSBvaWwgdW50aWwgZ29sZGVuJywgdGltaW5nOiAnMTAgbWluJyB9LFxuICAgICAgeyBpbnN0cnVjdGlvbjogJ0FkZCB0b21hdG9lcyBhbmQgb2xpdmVzLCBiYWtlIHVudGlsIGRvbmUnLCB0aW1pbmc6ICczMCBtaW4nIH0sXG4gICAgXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZChgc3RlcC1pbnN0cnVjdGlvbi0ke2l9YCksIHN0ZXBzW2ldLmluc3RydWN0aW9uKTtcbiAgICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZChgc3RlcC10aW1pbmctJHtpfWApLCBzdGVwc1tpXS50aW1pbmcpO1xuICAgIH1cblxuICAgIC8vIFZlcmlmeSByZWNpcGUgc3VtbWFyeVxuICAgIGNvbnN0IHN1bW1hcnkgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1zdW1tYXJ5Jyk7XG4gICAgZXhwZWN0KHN1bW1hcnkpLnRvSGF2ZVRleHRDb250ZW50KCdOYW1lOiBNZWRpdGVycmFuZWFuIENoaWNrZW4nKTtcbiAgICBleHBlY3Qoc3VtbWFyeSkudG9IYXZlVGV4dENvbnRlbnQoJ1NlcnZpbmdzOiA2Jyk7XG4gICAgZXhwZWN0KHN1bW1hcnkpLnRvSGF2ZVRleHRDb250ZW50KCdUb3RhbCBUaW1lOiA2NSBtaW51dGVzJyk7XG4gICAgZXhwZWN0KHN1bW1hcnkpLnRvSGF2ZVRleHRDb250ZW50KCdJbmdyZWRpZW50czogNCcpO1xuICAgIGV4cGVjdChzdW1tYXJ5KS50b0hhdmVUZXh0Q29udGVudCgnU3RlcHM6IDMnKTtcblxuICAgIC8vIFZlcmlmeSBzYXZlIGJ1dHRvbiBpcyBlbmFibGVkXG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2F2ZS1yZWNpcGUnKTtcbiAgICBleHBlY3Qoc2F2ZUJ1dHRvbikudG9CZUVuYWJsZWQoKTtcbiAgICBleHBlY3Qoc2F2ZUJ1dHRvbikudG9IYXZlQ2xhc3MoJ2VuYWJsZWQnKTtcblxuICAgIC8vIFRlc3QgaW5ncmVkaWVudCByZW1vdmFsXG4gICAgdm9pZCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgncmVtb3ZlLWluZ3JlZGllbnQtMycpKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSW5ncmVkaWVudHM6IDMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFRlc3Qgc3RlcCByZW1vdmFsXG4gICAgdm9pZCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgncmVtb3ZlLXN0ZXAtMCcpKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3RlcHM6IDInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFZlcmlmeSBzdGVwIHJlbnVtYmVyaW5nXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnU2VhciBjaGlja2VuIGluIG9saXZlIG9pbCB1bnRpbCBnb2xkZW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgbmF2aWdhdGlvbiBhbmQgc3RhdGUgcHJlc2VydmF0aW9uIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICBjb25zdCBtb2NrT25TZWN0aW9uTmF2aWdhdGUgPSBqZXN0LmZuKCk7XG5cbiAgICBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxNYWluUGFnZUxheW91dCBvblNlY3Rpb25OYXZpZ2F0ZT17bW9ja09uU2VjdGlvbk5hdmlnYXRlfSAvPik7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2N1aXNpbmUtcmVjb21tZW5kZXInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIE1ha2Ugc2VsZWN0aW9ucyBhY3Jvc3MgZGlmZmVyZW50IGNvbXBvbmVudHNcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdjdWlzaW5lLWl0YWxpYW4nKSk7XG4gICAgdm9pZCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC10b21hdG9lcycpKTtcbiAgICB2b2lkIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdtZXRob2Qtc2F1dMOpJykpO1xuXG4gICAgLy8gTmF2aWdhdGUgYmV0d2VlbiBzZWN0aW9uc1xuICAgIGNvbnN0IGN1aXNpbmVOYXZCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdDdWlzaW5lIFJlY29tbWVuZGF0aW9ucycpO1xuICAgIHZvaWQgdXNlci5jbGljayhjdWlzaW5lTmF2QnV0dG9uKTtcbiAgICBleHBlY3QobW9ja09uU2VjdGlvbk5hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnY3Vpc2luZScpO1xuXG4gICAgY29uc3QgaW5ncmVkaWVudHNOYXZCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdJbmdyZWRpZW50IFJlY29tbWVuZGF0aW9ucycpO1xuICAgIHZvaWQgdXNlci5jbGljayhpbmdyZWRpZW50c05hdkJ1dHRvbik7XG4gICAgZXhwZWN0KG1vY2tPblNlY3Rpb25OYXZpZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2luZ3JlZGllbnRzJyk7XG5cbiAgICAvLyBWZXJpZnkgc3RhdGUgcHJlc2VydmF0aW9uIHdhcyBjYWxsZWRcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChtb2NrTmF2aWdhdGlvblN0YXRlLnNhdmVTdGF0ZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gVmVyaWZ5IHNlbGVjdGlvbnMgYXJlIG1haW50YWluZWQgYWZ0ZXIgbmF2aWdhdGlvblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1yZWNvbW1lbmRhdGlvbnMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0ZWQgSW5ncmVkaWVudHMgKDEpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbWV0aG9kLWRldGFpbHMtc2F1dMOpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGVycm9yIHJlY292ZXJ5IHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcblxuICAgIC8vIE1vY2sgY29uc29sZS5lcnJvciB0byBhdm9pZCBub2lzZVxuICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XG5cbiAgICBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxNYWluUGFnZUxheW91dCAvPik7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1idWlsZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaW11bGF0ZSB1c2VyIGNyZWF0aW5nIGEgcmVjaXBlIGFuZCBlbmNvdW50ZXJpbmcgYW4gZXJyb3JcbiAgICBjb25zdCByZWNpcGVOYW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1uYW1lLWlucHV0Jyk7XG4gICAgdm9pZCB1c2VyLnR5cGUocmVjaXBlTmFtZUlucHV0LCAnVGVzdCBSZWNpcGUnKTtcblxuICAgIC8vIEFkZCBpbmdyZWRpZW50XG4gICAgdm9pZCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRkLWluZ3JlZGllbnQnKSk7XG4gICAgdm9pZCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LW5hbWUtMCcpLCAnVGVzdCBJbmdyZWRpZW50Jyk7XG5cbiAgICAvLyBBZGQgc3RlcFxuICAgIHZvaWQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkZC1zdGVwJykpO1xuICAgIHZvaWQgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnc3RlcC1pbnN0cnVjdGlvbi0wJyksICdUZXN0IHN0ZXAnKTtcblxuICAgIC8vIFZlcmlmeSByZWNpcGUgaXMgdmFsaWRcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzYXZlLXJlY2lwZScpKS50b0JlRW5hYmxlZCgpO1xuXG4gICAgLy8gVGhlIG1haW4gcGFnZSBzaG91bGQgY29udGludWUgdG8gZnVuY3Rpb24gZGVzcGl0ZSBhbnkgZXJyb3JzXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1doYXQgdG8gRWF0IE5leHQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNpcGUtYnVpbGRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9