82c4966c6008111e8da48d3fe41dd6ce
"use strict";
/**
 * React hook for using the ingredient mapping service in components
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.useIngredientMapping = void 0;
const react_1 = require("react");
const ingredientMappingService_1 = __importDefault(require("@/services/ingredientMappingService"));
function useIngredientMapping() {
    const [isLoading, setIsLoading] = (0, react_1.useState)(false);
    const [error, setError] = (0, react_1.useState)(null);
    /**
     * Map ingredients for a specific recipe
     */
    const mapRecipeIngredients = (0, react_1.useCallback)((recipe) => {
        try {
            setIsLoading(true);
            setError(null);
            const result = ingredientMappingService_1.default.mapRecipeIngredients(recipe);
            return result;
        }
        catch (err) {
            const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred';
            setError(errorMessage);
            return [];
        }
        finally {
            setIsLoading(false);
        }
    }, []);
    /**
     * Find recipes matching the given criteria
     */
    const findMatchingRecipes = (0, react_1.useCallback)((options = {}) => {
        try {
            setIsLoading(true);
            setError(null);
            const result = ingredientMappingService_1.default.findMatchingRecipes(options);
            return result;
        }
        catch (err) {
            const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred';
            setError(errorMessage);
            return [];
        }
        finally {
            setIsLoading(false);
        }
    }, []);
    /**
     * Suggest alternative ingredients with similar properties
     */
    const suggestAlternatives = (0, react_1.useCallback)((ingredientName, options = {}) => {
        try {
            setIsLoading(true);
            setError(null);
            const result = ingredientMappingService_1.default.suggestAlternativeIngredients(ingredientName, options);
            return result;
        }
        catch (err) {
            const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred';
            setError(errorMessage);
            return {
                success: false,
                message: errorMessage,
                suggestions: []
            };
        }
        finally {
            setIsLoading(false);
        }
    }, []);
    /**
     * Calculate compatibility between two ingredients
     */
    const calculateCompatibility = (0, react_1.useCallback)((ingredient1, ingredient2) => {
        try {
            setIsLoading(true);
            setError(null);
            const result = ingredientMappingService_1.default.calculateCompatibility(ingredient1, ingredient2);
            return result;
        }
        catch (err) {
            const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred';
            setError(errorMessage);
            return {
                success: false,
                message: errorMessage,
                compatibility: 0
            };
        }
        finally {
            setIsLoading(false);
        }
    }, []);
    /**
     * Analyze ingredient combinations in a recipe
     */
    const analyzeRecipeCombinations = (0, react_1.useCallback)((recipe) => {
        try {
            setIsLoading(true);
            setError(null);
            const result = ingredientMappingService_1.default.analyzeRecipeIngredientCombinations(recipe);
            return result;
        }
        catch (err) {
            const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred';
            setError(errorMessage);
            return {
                success: false,
                message: errorMessage,
                mappingQuality: 0
            };
        }
        finally {
            setIsLoading(false);
        }
    }, []);
    return {
        isLoading,
        error,
        mapRecipeIngredients,
        findMatchingRecipes,
        suggestAlternatives,
        calculateCompatibility,
        analyzeRecipeCombinations
    };
}
exports.useIngredientMapping = useIngredientMapping;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9ob29rcy91c2VJbmdyZWRpZW50TWFwcGluZy50cyIsIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7Ozs7OztBQUVILGlDQUE4QztBQUM5QyxtR0FBMkU7QUFJM0UsU0FBZ0Isb0JBQW9CO0lBQ2xDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xELE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFnQixJQUFJLENBQUMsQ0FBQztJQUV4RDs7T0FFRztJQUNILE1BQU0sb0JBQW9CLEdBQUcsSUFBQSxtQkFBVyxFQUFDLENBQUMsTUFBYyxFQUFFLEVBQUU7UUFDMUQsSUFBSTtZQUNGLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDZixNQUFNLE1BQU0sR0FBRyxrQ0FBd0IsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyRSxPQUFPLE1BQU0sQ0FBQztTQUNmO1FBQUMsT0FBTyxHQUFHLEVBQUU7WUFDWixNQUFNLFlBQVksR0FBRyxHQUFHLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQywyQkFBMkIsQ0FBQztZQUN0RixRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdkIsT0FBTyxFQUFFLENBQUM7U0FDWDtnQkFBUztZQUNSLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNyQjtJQUNILENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQOztPQUVHO0lBQ0gsTUFBTSxtQkFBbUIsR0FBRyxJQUFBLG1CQUFXLEVBQUMsQ0FBQyxVQVNyQyxFQUFFLEVBQUUsRUFBRTtRQUNSLElBQUk7WUFDRixZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkIsUUFBUSxDQUFD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dEYsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3ZCLE9BQU87Z0JBQ0wsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsT0FBTyxFQUFFLFlBQVk7Z0JBQ3JCLGNBQWMsRUFBRSxDQUFDO2FBQ2xCLENBQUM7U0FDSDtnQkFBUztZQUNSLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNyQjtJQUNILENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLE9BQU87UUFDTCxTQUFTO1FBQ1QsS0FBSztRQUNMLG9CQUFvQjtRQUNwQixtQkFBbUI7UUFDbkIsbUJBQW1CO1FBQ25CLHNCQUFzQjtRQUN0Qix5QkFBeUI7S0FDMUIsQ0FBQztBQUNKLENBQUM7QUE1SEQsb0RBNEhDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9HcmVnQ2FzdHJvL0Rlc2t0b3AvV2hhdFRvRWF0TmV4dC9zcmMvaG9va3MvdXNlSW5ncmVkaWVudE1hcHBpbmcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZWFjdCBob29rIGZvciB1c2luZyB0aGUgaW5ncmVkaWVudCBtYXBwaW5nIHNlcnZpY2UgaW4gY29tcG9uZW50c1xuICovXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBpbmdyZWRpZW50TWFwcGluZ1NlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9pbmdyZWRpZW50TWFwcGluZ1NlcnZpY2UnO1xuaW1wb3J0IHR5cGUgeyBSZWNpcGUgfSBmcm9tICdAL3R5cGVzL3JlY2lwZSc7XG5pbXBvcnQgdHlwZSB7IEVsZW1lbnRhbFByb3BlcnRpZXMgfSBmcm9tICdAL3R5cGVzL2FsY2hlbXknO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlSW5ncmVkaWVudE1hcHBpbmcoKSB7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLyoqXG4gICAqIE1hcCBpbmdyZWRpZW50cyBmb3IgYSBzcGVjaWZpYyByZWNpcGVcbiAgICovXG4gIGNvbnN0IG1hcFJlY2lwZUluZ3JlZGllbnRzID0gdXNlQ2FsbGJhY2soKHJlY2lwZTogUmVjaXBlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gaW5ncmVkaWVudE1hcHBpbmdTZXJ2aWNlLm1hcFJlY2lwZUluZ3JlZGllbnRzKHJlY2lwZSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkJztcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICByZXR1cm4gW107XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIEZpbmQgcmVjaXBlcyBtYXRjaGluZyB0aGUgZ2l2ZW4gY3JpdGVyaWFcbiAgICovXG4gIGNvbnN0IGZpbmRNYXRjaGluZ1JlY2lwZXMgPSB1c2VDYWxsYmFjaygob3B0aW9uczoge1xuICAgIGVsZW1lbnRhbFRhcmdldD86IEVsZW1lbnRhbFByb3BlcnRpZXM7XG4gICAgcmVxdWlyZWRJbmdyZWRpZW50cz86IHN0cmluZ1tdO1xuICAgIGV4Y2x1ZGVkSW5ncmVkaWVudHM/OiBzdHJpbmdbXTtcbiAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zPzogc3RyaW5nW107XG4gICAgZW1waGFzaXplZEluZ3JlZGllbnRzPzogc3RyaW5nW107XG4gICAgY3Vpc2luZVR5cGU/OiBzdHJpbmc7XG4gICAgbWVhbFR5cGU/OiBzdHJpbmc7XG4gICAgc2Vhc29uPzogc3RyaW5nO1xuICB9ID0ge30pID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBpbmdyZWRpZW50TWFwcGluZ1NlcnZpY2UuZmluZE1hdGNoaW5nUmVjaXBlcyhvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogU3VnZ2VzdCBhbHRlcm5hdGl2ZSBpbmdyZWRpZW50cyB3aXRoIHNpbWlsYXIgcHJvcGVydGllc1xuICAgKi9cbiAgY29uc3Qgc3VnZ2VzdEFsdGVybmF0aXZlcyA9IHVzZUNhbGxiYWNrKChpbmdyZWRpZW50TmFtZTogc3RyaW5nLCBvcHRpb25zID0ge30pID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBpbmdyZWRpZW50TWFwcGluZ1NlcnZpY2Uuc3VnZ2VzdEFsdGVybmF0aXZlSW5ncmVkaWVudHMoaW5ncmVkaWVudE5hbWUsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCc7XG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgc3VnZ2VzdGlvbnM6IFtdXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgY29tcGF0aWJpbGl0eSBiZXR3ZWVuIHR3byBpbmdyZWRpZW50c1xuICAgKi9cbiAgY29uc3QgY2FsY3VsYXRlQ29tcGF0aWJpbGl0eSA9IHVzZUNhbGxiYWNrKChpbmdyZWRpZW50MTogc3RyaW5nLCBpbmdyZWRpZW50Mjogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gaW5ncmVkaWVudE1hcHBpbmdTZXJ2aWNlLmNhbGN1bGF0ZUNvbXBhdGliaWxpdHkoaW5ncmVkaWVudDEsIGluZ3JlZGllbnQyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIGNvbXBhdGliaWxpdHk6IDBcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIEFuYWx5emUgaW5ncmVkaWVudCBjb21iaW5hdGlvbnMgaW4gYSByZWNpcGVcbiAgICovXG4gIGNvbnN0IGFuYWx5emVSZWNpcGVDb21iaW5hdGlvbnMgPSB1c2VDYWxsYmFjaygocmVjaXBlOiBSZWNpcGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBpbmdyZWRpZW50TWFwcGluZ1NlcnZpY2UuYW5hbHl6ZVJlY2lwZUluZ3JlZGllbnRDb21iaW5hdGlvbnMocmVjaXBlKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIG1hcHBpbmdRdWFsaXR5OiAwXG4gICAgICB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHJldHVybiB7XG4gICAgaXNMb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIG1hcFJlY2lwZUluZ3JlZGllbnRzLFxuICAgIGZpbmRNYXRjaGluZ1JlY2lwZXMsXG4gICAgc3VnZ2VzdEFsdGVybmF0aXZlcyxcbiAgICBjYWxjdWxhdGVDb21wYXRpYmlsaXR5LFxuICAgIGFuYWx5emVSZWNpcGVDb21iaW5hdGlvbnNcbiAgfTtcbn0gIl0sInZlcnNpb24iOjN9