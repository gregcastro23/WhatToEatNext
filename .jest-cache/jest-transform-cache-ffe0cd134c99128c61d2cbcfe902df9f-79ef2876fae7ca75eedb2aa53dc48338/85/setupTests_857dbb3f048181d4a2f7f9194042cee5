2370aca452b2942dfbd4b0dc23b96f6f
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
require("@testing-library/jest-dom");
const react_1 = __importDefault(require("react"));
// Mock IntersectionObserver
global.IntersectionObserver = class IntersectionObserver {
    constructor(callback, options) {
        this.root = null;
        this.rootMargin = '0px';
        this.thresholds = [0];
        this.callback = callback;
        this.root = (options === null || options === void 0 ? void 0 : options.root) || null;
        this.rootMargin = (options === null || options === void 0 ? void 0 : options.rootMargin) || '0px';
        this.thresholds = (options === null || options === void 0 ? void 0 : options.threshold)
            ? Array.isArray(options.threshold)
                ? options.threshold
                : [options.threshold]
            : [0];
    }
    disconnect() { }
    observe() { }
    unobserve() { }
    takeRecords() {
        return [];
    }
};
// Mock ResizeObserver
global.ResizeObserver = class ResizeObserver {
    constructor() { }
    disconnect() { }
    observe() { }
    unobserve() { }
};
// Mock matchMedia
Object.defineProperty(window, 'matchMedia', {
    writable: true,
    value: jest.fn().mockImplementation(query => ({
        matches: false,
        media: query,
        onchange: null,
        addListener: jest.fn(),
        removeListener: jest.fn(),
        addEventListener: jest.fn(),
        removeEventListener: jest.fn(),
        dispatchEvent: jest.fn(),
    })),
});
// Mock scrollTo
Object.defineProperty(window, 'scrollTo', {
    value: jest.fn(),
    writable: true,
});
// Mock localStorage
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
};
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock,
});
// Mock sessionStorage
const sessionStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
};
Object.defineProperty(window, 'sessionStorage', {
    value: sessionStorageMock,
});
// Mock requestAnimationFrame
global.requestAnimationFrame = jest.fn(cb => setTimeout(cb, 0));
global.cancelAnimationFrame = jest.fn();
// Mock performance.now
Object.defineProperty(window, 'performance', {
    value: {
        now: jest.fn(() => Date.now()),
        mark: jest.fn(),
        measure: jest.fn(),
        getEntriesByName: jest.fn(() => []),
        getEntriesByType: jest.fn(() => []),
    },
    writable: true,
});
// Suppress console warnings for tests
const originalConsoleWarn = console.warn;
const originalConsoleError = console.error;
beforeEach(() => {
    // Reset mocks before each test
    jest.clearAllMocks();
    localStorageMock.getItem.mockClear();
    localStorageMock.setItem.mockClear();
    sessionStorageMock.getItem.mockClear();
    sessionStorageMock.setItem.mockClear();
});
// Suppress specific warnings that are expected in tests
console.warn = (...args) => {
    const message = args[0];
    if (typeof message === 'string' &&
        (message.includes('React.createFactory') ||
            message.includes('componentWillReceiveProps') ||
            message.includes('componentWillUpdate'))) {
        return;
    }
    originalConsoleWarn.apply(console, args);
};
console.error = (...args) => {
    const message = args[0];
    if (typeof message === 'string' &&
        (message.includes('Warning: ReactDOM.render') ||
            message.includes('Warning: componentWillReceiveProps') ||
            message.includes('The above error occurred'))) {
        return;
    }
    originalConsoleError.apply(console, args);
};
// Mock implementations for git operations - comprehensive implementation
const gitMock = {
    stash: jest.fn().mockResolvedValue('stash-id'),
    stashPop: jest.fn().mockResolvedValue(true),
    getCurrentBranch: jest.fn().mockResolvedValue('main'),
    hasUncommittedChanges: jest.fn().mockResolvedValue(false),
    getLastCommitHash: jest.fn().mockResolvedValue('abc123'),
    mockStashes: ['stash-1', 'stash-2'],
    mockBranch: 'main',
    mockGitStatus: {
        staged: [],
        unstaged: [],
        untracked: [],
    },
    shouldFailCommands: false,
    setMockBranch: jest.fn((branch) => {
        gitMock.mockBranch = branch;
    }),
    setMockStashes: jest.fn((stashes) => {
        gitMock.mockStashes = stashes;
    }),
    setMockGitStatus: jest.fn((status) => {
        gitMock.mockGitStatus = status;
    }),
    setShouldFailCommands: jest.fn((shouldFail) => {
        gitMock.shouldFailCommands = shouldFail;
    }),
    addMockStash: jest.fn((stashId) => {
        gitMock.mockStashes.push(stashId);
    }),
    removeMockStash: jest.fn((stashId) => {
        gitMock.mockStashes = gitMock.mockStashes.filter(s => s !== stashId);
    }),
    clearMockStashes: jest.fn(() => {
        gitMock.mockStashes = [];
    }),
    getMockStashes: jest.fn(() => gitMock.mockStashes),
    simulateGitError: jest.fn((command, error) => {
        console.warn(`Simulated git error for ${command}: ${error}`);
    }),
    resetMocks: jest.fn(() => {
        gitMock.mockStashes = [];
        gitMock.mockBranch = 'main';
        gitMock.mockGitStatus = { staged: [], unstaged: [], untracked: [] };
        gitMock.shouldFailCommands = false;
    }),
};
// Mock implementations for script execution - comprehensive implementation
const scriptMock = {
    executeScript: jest.fn().mockResolvedValue({ success: true, output: '' }),
    executeCommand: jest
        .fn()
        .mockResolvedValue({ stdout: '', stderr: '', exitCode: 0 }),
    getScriptOutput: jest.fn().mockReturnValue(''),
    mockResults: {},
    mockBuildSuccess: true,
    mockTestSuccess: true,
    shouldFailExecution: false,
    mockExecutionTime: 1000,
    mockMemoryUsage: 50,
    mockErrorOutput: '',
    mockStdout: '',
    mockStderr: '',
    mockExitCode: 0,
    setMockResult: jest.fn((scriptPath, result) => {
        scriptMock.mockResults[scriptPath] = result;
    }),
    setMockBuildSuccess: jest.fn((success) => {
        scriptMock.mockBuildSuccess = success;
    }),
    setMockTestSuccess: jest.fn((success) => {
        scriptMock.mockTestSuccess = success;
    }),
    setShouldFailExecution: jest.fn((shouldFail) => {
        scriptMock.shouldFailExecution = shouldFail;
    }),
    setMockExecutionTime: jest.fn((time) => {
        scriptMock.mockExecutionTime = time;
    }),
    setMockMemoryUsage: jest.fn((usage) => {
        scriptMock.mockMemoryUsage = usage;
    }),
    setMockOutput: jest.fn((stdout, stderr, exitCode) => {
        scriptMock.mockStdout = stdout;
        scriptMock.mockStderr = stderr;
        scriptMock.mockExitCode = exitCode;
    }),
    simulateScriptError: jest.fn((scriptPath, error) => {
        console.warn(`Simulated script error for ${scriptPath}: ${error}`);
    }),
    simulateTimeout: jest.fn((scriptPath, timeout) => {
        console.warn(`Simulated timeout for ${scriptPath}: ${timeout}ms`);
    }),
    resetMocks: jest.fn(() => {
        scriptMock.mockResults = {};
        scriptMock.mockBuildSuccess = true;
        scriptMock.mockTestSuccess = true;
        scriptMock.shouldFailExecution = false;
        scriptMock.mockExecutionTime = 1000;
        scriptMock.mockMemoryUsage = 50;
        scriptMock.mockErrorOutput = '';
        scriptMock.mockStdout = '';
        scriptMock.mockStderr = '';
        scriptMock.mockExitCode = 0;
    }),
};
// Global test utilities with extended interface
global.testUtils = {
    // Git operations mock
    gitMock,
    // Script execution mock
    scriptMock,
    // Helper to wait for async operations
    waitForAsync: (ms = 0) => new Promise(resolve => setTimeout(resolve, ms)),
    // Helper to create mock functions with specific return values
    createMockFunction: (returnValue) => jest.fn(() => returnValue),
    // Helper to create mock component
    createMockComponent: (name, testId) => {
        const MockComponent = (props) => ((0, jsx_runtime_1.jsxs)("div", { "data-testid": testId || name.toLowerCase(), ...props, children: ["Mock ", name] }));
        MockComponent.displayName = `Mock${name}`;
        return MockComponent;
    },
    // Memory management utilities
    checkMemory: () => {
        if (global.getMemoryUsage) {
            return global.getMemoryUsage();
        }
        const usage = process.memoryUsage();
        return {
            heapUsed: `${(usage.heapUsed / 1024 / 1024).toFixed(2)}MB`,
            heapTotal: `${(usage.heapTotal / 1024 / 1024).toFixed(2)}MB`,
            external: `${(usage.external / 1024 / 1024).toFixed(2)}MB`,
            arrayBuffers: `${(usage.arrayBuffers / 1024 / 1024).toFixed(2)}MB`,
        };
    },
    // Force cleanup for memory-intensive tests
    cleanupMemory: () => {
        if (global.cleanupTestMemory) {
            return global.cleanupTestMemory();
        }
        // Fallback cleanup
        jest.clearAllMocks();
        jest.resetModules();
        if (global.forceGC) {
            global.forceGC();
        }
        return null;
    },
    // Mock file creation utilities
    createMockCorruptedFile: (content) => {
        return `// CORRUPTED FILE\n${content}\n// CORRUPTION_MARKER`;
    },
    createMockTypeScriptErrors: (count) => {
        return Array.from({ length: count }, (_, i) => `error TS2339: Property 'test${i}' does not exist on type 'unknown'.`).join('\n');
    },
    createMockLintingWarnings: (count) => {
        return Array.from({ length: count }, (_, i) => `warning: Unused variable 'test${i}' @typescript-eslint/no-unused-vars`).join('\n');
    },
    createMockProgressMetrics: (overrides = {}) => ({
        typeScriptErrors: 0,
        lintingWarnings: 0,
        buildTime: 5000,
        memoryUsage: 100,
        ...overrides,
    }),
};
// Extend Jest matchers
expect.extend({
    toBeWithinRange(received, floor, ceiling) {
        const pass = received >= floor && received <= ceiling;
        if (pass) {
            return {
                message: () => `expected ${received} not to be within range ${floor} - ${ceiling}`,
                pass: true,
            };
        }
        else {
            return {
                message: () => `expected ${received} to be within range ${floor} - ${ceiling}`,
                pass: false,
            };
        }
    },
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9fX3Rlc3RzX18vc2V0dXBUZXN0cy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscUNBQW1DO0FBQ25DLGtEQUEwQjtBQUUxQiw0QkFBNEI7QUFDNUIsTUFBTSxDQUFDLG9CQUFvQixHQUFHLE1BQU0sb0JBQW9CO0lBTXRELFlBQ0UsUUFBc0MsRUFDdEMsT0FBa0M7UUFQcEMsU0FBSSxHQUFtQixJQUFJLENBQUM7UUFDNUIsZUFBVSxHQUFXLEtBQUssQ0FBQztRQUMzQixlQUFVLEdBQTBCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFPdEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxJQUFnQixLQUFJLElBQUksQ0FBQztRQUMvQyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFVBQVUsS0FBSSxLQUFLLENBQUM7UUFDL0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxTQUFTO1lBQ2xDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7Z0JBQ2hDLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUztnQkFDbkIsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQztZQUN2QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNWLENBQUM7SUFFRCxVQUFVLEtBQUksQ0FBQztJQUNmLE9BQU8sS0FBSSxDQUFDO0lBQ1osU0FBUyxLQUFJLENBQUM7SUFDZCxXQUFXO1FBQ1QsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0NBQ0ssQ0FBQztBQUVULHNCQUFzQjtBQUN0QixNQUFNLENBQUMsY0FBYyxHQUFHLE1BQU0sY0FBYztJQUMx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LElBQUksR0FBRyxRQUFRLElBQUksS0FBSyxJQUFJLFFBQVEsSUFBSSxPQUFPLENBQUM7UUFDdEQsSUFBSSxJQUFJLEVBQUU7WUFDUixPQUFPO2dCQUNMLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FDWixZQUFZLFFBQVEsMkJBQTJCLEtBQUssTUFBTSxPQUFPLEVBQUU7Z0JBQ3JFLElBQUksRUFBRSxJQUFJO2FBQ1gsQ0FBQztTQUNIO2FBQU07WUFDTCxPQUFPO2dCQUNMLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FDWixZQUFZLFFBQVEsdUJBQXVCLEtBQUssTUFBTSxPQUFPLEVBQUU7Z0JBQ2pFLElBQUksRUFBRSxLQUFLO2FBQ1osQ0FBQztTQUNIO0lBQ0gsQ0FBQztDQUNGLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvc3JjL19fdGVzdHNfXy9zZXR1cFRlc3RzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gTW9jayBJbnRlcnNlY3Rpb25PYnNlcnZlclxuZ2xvYmFsLkludGVyc2VjdGlvbk9ic2VydmVyID0gY2xhc3MgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIge1xuICByb290OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHJvb3RNYXJnaW46IHN0cmluZyA9ICcwcHgnO1xuICB0aHJlc2hvbGRzOiBSZWFkb25seUFycmF5PG51bWJlcj4gPSBbMF07XG4gIHByaXZhdGUgY2FsbGJhY2s6IEludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2s7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2FsbGJhY2s6IEludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2ssXG4gICAgb3B0aW9ucz86IEludGVyc2VjdGlvbk9ic2VydmVySW5pdFxuICApIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5yb290ID0gKG9wdGlvbnM/LnJvb3QgYXMgRWxlbWVudCkgfHwgbnVsbDtcbiAgICB0aGlzLnJvb3RNYXJnaW4gPSBvcHRpb25zPy5yb290TWFyZ2luIHx8ICcwcHgnO1xuICAgIHRoaXMudGhyZXNob2xkcyA9IG9wdGlvbnM/LnRocmVzaG9sZFxuICAgICAgPyBBcnJheS5pc0FycmF5KG9wdGlvbnMudGhyZXNob2xkKVxuICAgICAgICA/IG9wdGlvbnMudGhyZXNob2xkXG4gICAgICAgIDogW29wdGlvbnMudGhyZXNob2xkXVxuICAgICAgOiBbMF07XG4gIH1cblxuICBkaXNjb25uZWN0KCkge31cbiAgb2JzZXJ2ZSgpIHt9XG4gIHVub2JzZXJ2ZSgpIHt9XG4gIHRha2VSZWNvcmRzKCk6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlbXSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59IGFzIGFueTtcblxuLy8gTW9jayBSZXNpemVPYnNlcnZlclxuZ2xvYmFsLlJlc2l6ZU9ic2VydmVyID0gY2xhc3MgUmVzaXplT2JzZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcigpIHt9XG4gIGRpc2Nvbm5lY3QoKSB7fVxuICBvYnNlcnZlKCkge31cbiAgdW5vYnNlcnZlKCkge31cbn07XG5cbi8vIE1vY2sgbWF0Y2hNZWRpYVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ21hdGNoTWVkaWEnLCB7XG4gIHdyaXRhYmxlOiB0cnVlLFxuICB2YWx1ZTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihxdWVyeSA9PiAoe1xuICAgIG1hdGNoZXM6IGZhbHNlLFxuICAgIG1lZGlhOiBxdWVyeSxcbiAgICBvbmNoYW5nZTogbnVsbCxcbiAgICBhZGRMaXN0ZW5lcjogamVzdC5mbigpLCAvLyBkZXByZWNhdGVkXG4gICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKSwgLy8gZGVwcmVjYXRlZFxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgZGlzcGF0Y2hFdmVudDogamVzdC5mbigpLFxuICB9KSksXG59KTtcblxuLy8gTW9jayBzY3JvbGxUb1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Njcm9sbFRvJywge1xuICB2YWx1ZTogamVzdC5mbigpLFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxuY29uc3QgbG9jYWxTdG9yYWdlTW9jayA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywge1xuICB2YWx1ZTogbG9jYWxTdG9yYWdlTW9jayxcbn0pO1xuXG4vLyBNb2NrIHNlc3Npb25TdG9yYWdlXG5jb25zdCBzZXNzaW9uU3RvcmFnZU1vY2sgPSB7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgc2V0SXRlbTogamVzdC5mbigpLFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gIGNsZWFyOiBqZXN0LmZuKCksXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Nlc3Npb25TdG9yYWdlJywge1xuICB2YWx1ZTogc2Vzc2lvblN0b3JhZ2VNb2NrLFxufSk7XG5cbi8vIE1vY2sgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5nbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gamVzdC5mbihjYiA9PiBzZXRUaW1lb3V0KGNiLCAwKSk7XG5nbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBqZXN0LmZuKCk7XG5cbi8vIE1vY2sgcGVyZm9ybWFuY2Uubm93XG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAncGVyZm9ybWFuY2UnLCB7XG4gIHZhbHVlOiB7XG4gICAgbm93OiBqZXN0LmZuKCgpID0+IERhdGUubm93KCkpLFxuICAgIG1hcms6IGplc3QuZm4oKSxcbiAgICBtZWFzdXJlOiBqZXN0LmZuKCksXG4gICAgZ2V0RW50cmllc0J5TmFtZTogamVzdC5mbigoKSA9PiBbXSksXG4gICAgZ2V0RW50cmllc0J5VHlwZTogamVzdC5mbigoKSA9PiBbXSksXG4gIH0sXG4gIHdyaXRhYmxlOiB0cnVlLFxufSk7XG5cbi8vIFN1cHByZXNzIGNvbnNvbGUgd2FybmluZ3MgZm9yIHRlc3RzXG5jb25zdCBvcmlnaW5hbENvbnNvbGVXYXJuID0gY29uc29sZS53YXJuO1xuY29uc3Qgb3JpZ2luYWxDb25zb2xlRXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG5iZWZvcmVFYWNoKCgpID0+IHtcbiAgLy8gUmVzZXQgbW9ja3MgYmVmb3JlIGVhY2ggdGVzdFxuICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tDbGVhcigpO1xuICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0ubW9ja0NsZWFyKCk7XG4gIHNlc3Npb25TdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tDbGVhcigpO1xuICBzZXNzaW9uU3RvcmFnZU1vY2suc2V0SXRlbS5tb2NrQ2xlYXIoKTtcbn0pO1xuXG4vLyBTdXBwcmVzcyBzcGVjaWZpYyB3YXJuaW5ncyB0aGF0IGFyZSBleHBlY3RlZCBpbiB0ZXN0c1xuY29uc29sZS53YXJuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBhcmdzWzBdO1xuICBpZiAoXG4gICAgdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnICYmXG4gICAgKG1lc3NhZ2UuaW5jbHVkZXMoJ1JlYWN0LmNyZWF0ZUZhY3RvcnknKSB8fFxuICAgICAgbWVzc2FnZS5pbmNsdWRlcygnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpIHx8XG4gICAgICBtZXNzYWdlLmluY2x1ZGVzKCdjb21wb25lbnRXaWxsVXBkYXRlJykpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICBvcmlnaW5hbENvbnNvbGVXYXJuLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xufTtcblxuY29uc29sZS5lcnJvciA9ICguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICBjb25zdCBtZXNzYWdlID0gYXJnc1swXTtcbiAgaWYgKFxuICAgIHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyAmJlxuICAgIChtZXNzYWdlLmluY2x1ZGVzKCdXYXJuaW5nOiBSZWFjdERPTS5yZW5kZXInKSB8fFxuICAgICAgbWVzc2FnZS5pbmNsdWRlcygnV2FybmluZzogY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpIHx8XG4gICAgICBtZXNzYWdlLmluY2x1ZGVzKCdUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQnKSlcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9yaWdpbmFsQ29uc29sZUVycm9yLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xufTtcblxuLy8gTW9jayBpbXBsZW1lbnRhdGlvbnMgZm9yIGdpdCBvcGVyYXRpb25zIC0gY29tcHJlaGVuc2l2ZSBpbXBsZW1lbnRhdGlvblxuY29uc3QgZ2l0TW9jayA9IHtcbiAgc3Rhc2g6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnc3Rhc2gtaWQnKSxcbiAgc3Rhc2hQb3A6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgZ2V0Q3VycmVudEJyYW5jaDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdtYWluJyksXG4gIGhhc1VuY29tbWl0dGVkQ2hhbmdlczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKGZhbHNlKSxcbiAgZ2V0TGFzdENvbW1pdEhhc2g6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnYWJjMTIzJyksXG4gIG1vY2tTdGFzaGVzOiBbJ3N0YXNoLTEnLCAnc3Rhc2gtMiddLFxuICBtb2NrQnJhbmNoOiAnbWFpbicsXG4gIG1vY2tHaXRTdGF0dXM6IHtcbiAgICBzdGFnZWQ6IFtdLFxuICAgIHVuc3RhZ2VkOiBbXSxcbiAgICB1bnRyYWNrZWQ6IFtdLFxuICB9LFxuICBzaG91bGRGYWlsQ29tbWFuZHM6IGZhbHNlLFxuICBzZXRNb2NrQnJhbmNoOiBqZXN0LmZuKChicmFuY2g6IHN0cmluZykgPT4ge1xuICAgIGdpdE1vY2subW9ja0JyYW5jaCA9IGJyYW5jaDtcbiAgfSksXG4gIHNldE1vY2tTdGFzaGVzOiBqZXN0LmZuKChzdGFzaGVzOiBzdHJpbmdbXSkgPT4ge1xuICAgIGdpdE1vY2subW9ja1N0YXNoZXMgPSBzdGFzaGVzO1xuICB9KSxcbiAgc2V0TW9ja0dpdFN0YXR1czogamVzdC5mbigoc3RhdHVzOiBhbnkpID0+IHtcbiAgICBnaXRNb2NrLm1vY2tHaXRTdGF0dXMgPSBzdGF0dXM7XG4gIH0pLFxuICBzZXRTaG91bGRGYWlsQ29tbWFuZHM6IGplc3QuZm4oKHNob3VsZEZhaWw6IGJvb2xlYW4pID0+IHtcbiAgICBnaXRNb2NrLnNob3VsZEZhaWxDb21tYW5kcyA9IHNob3VsZEZhaWw7XG4gIH0pLFxuICBhZGRNb2NrU3Rhc2g6IGplc3QuZm4oKHN0YXNoSWQ6IHN0cmluZykgPT4ge1xuICAgIGdpdE1vY2subW9ja1N0YXNoZXMucHVzaChzdGFzaElkKTtcbiAgfSksXG4gIHJlbW92ZU1vY2tTdGFzaDogamVzdC5mbigoc3Rhc2hJZDogc3RyaW5nKSA9PiB7XG4gICAgZ2l0TW9jay5tb2NrU3Rhc2hlcyA9IGdpdE1vY2subW9ja1N0YXNoZXMuZmlsdGVyKHMgPT4gcyAhPT0gc3Rhc2hJZCk7XG4gIH0pLFxuICBjbGVhck1vY2tTdGFzaGVzOiBqZXN0LmZuKCgpID0+IHtcbiAgICBnaXRNb2NrLm1vY2tTdGFzaGVzID0gW107XG4gIH0pLFxuICBnZXRNb2NrU3Rhc2hlczogamVzdC5mbigoKSA9PiBnaXRNb2NrLm1vY2tTdGFzaGVzKSxcbiAgc2ltdWxhdGVHaXRFcnJvcjogamVzdC5mbigoY29tbWFuZDogc3RyaW5nLCBlcnJvcjogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS53YXJuKGBTaW11bGF0ZWQgZ2l0IGVycm9yIGZvciAke2NvbW1hbmR9OiAke2Vycm9yfWApO1xuICB9KSxcbiAgcmVzZXRNb2NrczogamVzdC5mbigoKSA9PiB7XG4gICAgZ2l0TW9jay5tb2NrU3Rhc2hlcyA9IFtdO1xuICAgIGdpdE1vY2subW9ja0JyYW5jaCA9ICdtYWluJztcbiAgICBnaXRNb2NrLm1vY2tHaXRTdGF0dXMgPSB7IHN0YWdlZDogW10sIHVuc3RhZ2VkOiBbXSwgdW50cmFja2VkOiBbXSB9O1xuICAgIGdpdE1vY2suc2hvdWxkRmFpbENvbW1hbmRzID0gZmFsc2U7XG4gIH0pLFxufTtcblxuLy8gTW9jayBpbXBsZW1lbnRhdGlvbnMgZm9yIHNjcmlwdCBleGVjdXRpb24gLSBjb21wcmVoZW5zaXZlIGltcGxlbWVudGF0aW9uXG5jb25zdCBzY3JpcHRNb2NrID0ge1xuICBleGVjdXRlU2NyaXB0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlLCBvdXRwdXQ6ICcnIH0pLFxuICBleGVjdXRlQ29tbWFuZDogamVzdFxuICAgIC5mbigpXG4gICAgLm1vY2tSZXNvbHZlZFZhbHVlKHsgc3Rkb3V0OiAnJywgc3RkZXJyOiAnJywgZXhpdENvZGU6IDAgfSksXG4gIGdldFNjcmlwdE91dHB1dDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgnJyksXG4gIG1vY2tSZXN1bHRzOiB7fSxcbiAgbW9ja0J1aWxkU3VjY2VzczogdHJ1ZSxcbiAgbW9ja1Rlc3RTdWNjZXNzOiB0cnVlLFxuICBzaG91bGRGYWlsRXhlY3V0aW9uOiBmYWxzZSxcbiAgbW9ja0V4ZWN1dGlvblRpbWU6IDEwMDAsXG4gIG1vY2tNZW1vcnlVc2FnZTogNTAsXG4gIG1vY2tFcnJvck91dHB1dDogJycsXG4gIG1vY2tTdGRvdXQ6ICcnLFxuICBtb2NrU3RkZXJyOiAnJyxcbiAgbW9ja0V4aXRDb2RlOiAwLFxuICBzZXRNb2NrUmVzdWx0OiBqZXN0LmZuKChzY3JpcHRQYXRoOiBzdHJpbmcsIHJlc3VsdDogYW55KSA9PiB7XG4gICAgc2NyaXB0TW9jay5tb2NrUmVzdWx0c1tzY3JpcHRQYXRoXSA9IHJlc3VsdDtcbiAgfSksXG4gIHNldE1vY2tCdWlsZFN1Y2Nlc3M6IGplc3QuZm4oKHN1Y2Nlc3M6IGJvb2xlYW4pID0+IHtcbiAgICBzY3JpcHRNb2NrLm1vY2tCdWlsZFN1Y2Nlc3MgPSBzdWNjZXNzO1xuICB9KSxcbiAgc2V0TW9ja1Rlc3RTdWNjZXNzOiBqZXN0LmZuKChzdWNjZXNzOiBib29sZWFuKSA9PiB7XG4gICAgc2NyaXB0TW9jay5tb2NrVGVzdFN1Y2Nlc3MgPSBzdWNjZXNzO1xuICB9KSxcbiAgc2V0U2hvdWxkRmFpbEV4ZWN1dGlvbjogamVzdC5mbigoc2hvdWxkRmFpbDogYm9vbGVhbikgPT4ge1xuICAgIHNjcmlwdE1vY2suc2hvdWxkRmFpbEV4ZWN1dGlvbiA9IHNob3VsZEZhaWw7XG4gIH0pLFxuICBzZXRNb2NrRXhlY3V0aW9uVGltZTogamVzdC5mbigodGltZTogbnVtYmVyKSA9PiB7XG4gICAgc2NyaXB0TW9jay5tb2NrRXhlY3V0aW9uVGltZSA9IHRpbWU7XG4gIH0pLFxuICBzZXRNb2NrTWVtb3J5VXNhZ2U6IGplc3QuZm4oKHVzYWdlOiBudW1iZXIpID0+IHtcbiAgICBzY3JpcHRNb2NrLm1vY2tNZW1vcnlVc2FnZSA9IHVzYWdlO1xuICB9KSxcbiAgc2V0TW9ja091dHB1dDogamVzdC5mbigoc3Rkb3V0OiBzdHJpbmcsIHN0ZGVycjogc3RyaW5nLCBleGl0Q29kZTogbnVtYmVyKSA9PiB7XG4gICAgc2NyaXB0TW9jay5tb2NrU3Rkb3V0ID0gc3Rkb3V0O1xuICAgIHNjcmlwdE1vY2subW9ja1N0ZGVyciA9IHN0ZGVycjtcbiAgICBzY3JpcHRNb2NrLm1vY2tFeGl0Q29kZSA9IGV4aXRDb2RlO1xuICB9KSxcbiAgc2ltdWxhdGVTY3JpcHRFcnJvcjogamVzdC5mbigoc2NyaXB0UGF0aDogc3RyaW5nLCBlcnJvcjogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS53YXJuKGBTaW11bGF0ZWQgc2NyaXB0IGVycm9yIGZvciAke3NjcmlwdFBhdGh9OiAke2Vycm9yfWApO1xuICB9KSxcbiAgc2ltdWxhdGVUaW1lb3V0OiBqZXN0LmZuKChzY3JpcHRQYXRoOiBzdHJpbmcsIHRpbWVvdXQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnNvbGUud2FybihgU2ltdWxhdGVkIHRpbWVvdXQgZm9yICR7c2NyaXB0UGF0aH06ICR7dGltZW91dH1tc2ApO1xuICB9KSxcbiAgcmVzZXRNb2NrczogamVzdC5mbigoKSA9PiB7XG4gICAgc2NyaXB0TW9jay5tb2NrUmVzdWx0cyA9IHt9O1xuICAgIHNjcmlwdE1vY2subW9ja0J1aWxkU3VjY2VzcyA9IHRydWU7XG4gICAgc2NyaXB0TW9jay5tb2NrVGVzdFN1Y2Nlc3MgPSB0cnVlO1xuICAgIHNjcmlwdE1vY2suc2hvdWxkRmFpbEV4ZWN1dGlvbiA9IGZhbHNlO1xuICAgIHNjcmlwdE1vY2subW9ja0V4ZWN1dGlvblRpbWUgPSAxMDAwO1xuICAgIHNjcmlwdE1vY2subW9ja01lbW9yeVVzYWdlID0gNTA7XG4gICAgc2NyaXB0TW9jay5tb2NrRXJyb3JPdXRwdXQgPSAnJztcbiAgICBzY3JpcHRNb2NrLm1vY2tTdGRvdXQgPSAnJztcbiAgICBzY3JpcHRNb2NrLm1vY2tTdGRlcnIgPSAnJztcbiAgICBzY3JpcHRNb2NrLm1vY2tFeGl0Q29kZSA9IDA7XG4gIH0pLFxufTtcblxuLy8gR2xvYmFsIHRlc3QgdXRpbGl0aWVzIHdpdGggZXh0ZW5kZWQgaW50ZXJmYWNlXG5nbG9iYWwudGVzdFV0aWxzID0ge1xuICAvLyBHaXQgb3BlcmF0aW9ucyBtb2NrXG4gIGdpdE1vY2ssXG5cbiAgLy8gU2NyaXB0IGV4ZWN1dGlvbiBtb2NrXG4gIHNjcmlwdE1vY2ssXG5cbiAgLy8gSGVscGVyIHRvIHdhaXQgZm9yIGFzeW5jIG9wZXJhdGlvbnNcbiAgd2FpdEZvckFzeW5jOiAobXMgPSAwKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKSxcblxuICAvLyBIZWxwZXIgdG8gY3JlYXRlIG1vY2sgZnVuY3Rpb25zIHdpdGggc3BlY2lmaWMgcmV0dXJuIHZhbHVlc1xuICBjcmVhdGVNb2NrRnVuY3Rpb246IChyZXR1cm5WYWx1ZT86IGFueSkgPT4gamVzdC5mbigoKSA9PiByZXR1cm5WYWx1ZSksXG5cbiAgLy8gSGVscGVyIHRvIGNyZWF0ZSBtb2NrIGNvbXBvbmVudFxuICBjcmVhdGVNb2NrQ29tcG9uZW50OiAobmFtZTogc3RyaW5nLCB0ZXN0SWQ/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBNb2NrQ29tcG9uZW50ID0gKHByb3BzOiBhbnkpID0+IChcbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9e3Rlc3RJZCB8fCBuYW1lLnRvTG93ZXJDYXNlKCl9IHsuLi5wcm9wc30+XG4gICAgICAgIE1vY2sge25hbWV9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIE1vY2tDb21wb25lbnQuZGlzcGxheU5hbWUgPSBgTW9jayR7bmFtZX1gO1xuICAgIHJldHVybiBNb2NrQ29tcG9uZW50O1xuICB9LFxuXG4gIC8vIE1lbW9yeSBtYW5hZ2VtZW50IHV0aWxpdGllc1xuICBjaGVja01lbW9yeTogKCkgPT4ge1xuICAgIGlmIChnbG9iYWwuZ2V0TWVtb3J5VXNhZ2UpIHtcbiAgICAgIHJldHVybiBnbG9iYWwuZ2V0TWVtb3J5VXNhZ2UoKTtcbiAgICB9XG4gICAgY29uc3QgdXNhZ2UgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhlYXBVc2VkOiBgJHsodXNhZ2UuaGVhcFVzZWQgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKX1NQmAsXG4gICAgICBoZWFwVG90YWw6IGAkeyh1c2FnZS5oZWFwVG90YWwgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKX1NQmAsXG4gICAgICBleHRlcm5hbDogYCR7KHVzYWdlLmV4dGVybmFsIC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMil9TUJgLFxuICAgICAgYXJyYXlCdWZmZXJzOiBgJHsodXNhZ2UuYXJyYXlCdWZmZXJzIC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMil9TUJgLFxuICAgIH07XG4gIH0sXG5cbiAgLy8gRm9yY2UgY2xlYW51cCBmb3IgbWVtb3J5LWludGVuc2l2ZSB0ZXN0c1xuICBjbGVhbnVwTWVtb3J5OiAoKSA9PiB7XG4gICAgaWYgKGdsb2JhbC5jbGVhbnVwVGVzdE1lbW9yeSkge1xuICAgICAgcmV0dXJuIGdsb2JhbC5jbGVhbnVwVGVzdE1lbW9yeSgpO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIGNsZWFudXBcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xuXG4gICAgaWYgKGdsb2JhbC5mb3JjZUdDKSB7XG4gICAgICBnbG9iYWwuZm9yY2VHQygpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIC8vIE1vY2sgZmlsZSBjcmVhdGlvbiB1dGlsaXRpZXNcbiAgY3JlYXRlTW9ja0NvcnJ1cHRlZEZpbGU6IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYC8vIENPUlJVUFRFRCBGSUxFXFxuJHtjb250ZW50fVxcbi8vIENPUlJVUFRJT05fTUFSS0VSYDtcbiAgfSxcblxuICBjcmVhdGVNb2NrVHlwZVNjcmlwdEVycm9yczogKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShcbiAgICAgIHsgbGVuZ3RoOiBjb3VudCB9LFxuICAgICAgKF8sIGkpID0+XG4gICAgICAgIGBlcnJvciBUUzIzMzk6IFByb3BlcnR5ICd0ZXN0JHtpfScgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSAndW5rbm93bicuYFxuICAgICkuam9pbignXFxuJyk7XG4gIH0sXG5cbiAgY3JlYXRlTW9ja0xpbnRpbmdXYXJuaW5nczogKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShcbiAgICAgIHsgbGVuZ3RoOiBjb3VudCB9LFxuICAgICAgKF8sIGkpID0+XG4gICAgICAgIGB3YXJuaW5nOiBVbnVzZWQgdmFyaWFibGUgJ3Rlc3Qke2l9JyBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNgXG4gICAgKS5qb2luKCdcXG4nKTtcbiAgfSxcblxuICBjcmVhdGVNb2NrUHJvZ3Jlc3NNZXRyaWNzOiAob3ZlcnJpZGVzOiBhbnkgPSB7fSkgPT4gKHtcbiAgICB0eXBlU2NyaXB0RXJyb3JzOiAwLFxuICAgIGxpbnRpbmdXYXJuaW5nczogMCxcbiAgICBidWlsZFRpbWU6IDUwMDAsXG4gICAgbWVtb3J5VXNhZ2U6IDEwMCxcbiAgICAuLi5vdmVycmlkZXMsXG4gIH0pLFxufTtcblxuLy8gRXh0ZW5kIEplc3QgbWF0Y2hlcnNcbmV4cGVjdC5leHRlbmQoe1xuICB0b0JlV2l0aGluUmFuZ2UocmVjZWl2ZWQ6IG51bWJlciwgZmxvb3I6IG51bWJlciwgY2VpbGluZzogbnVtYmVyKSB7XG4gICAgY29uc3QgcGFzcyA9IHJlY2VpdmVkID49IGZsb29yICYmIHJlY2VpdmVkIDw9IGNlaWxpbmc7XG4gICAgaWYgKHBhc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6ICgpID0+XG4gICAgICAgICAgYGV4cGVjdGVkICR7cmVjZWl2ZWR9IG5vdCB0byBiZSB3aXRoaW4gcmFuZ2UgJHtmbG9vcn0gLSAke2NlaWxpbmd9YCxcbiAgICAgICAgcGFzczogdHJ1ZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6ICgpID0+XG4gICAgICAgICAgYGV4cGVjdGVkICR7cmVjZWl2ZWR9IHRvIGJlIHdpdGhpbiByYW5nZSAke2Zsb29yfSAtICR7Y2VpbGluZ31gLFxuICAgICAgICBwYXNzOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuICB9LFxufSk7XG5cbi8vIEltcG9ydCB0aGUgdW5pZmllZCB0eXBlIGRlZmluaXRpb25zXG5pbXBvcnQgdHlwZSB7IEV4dGVuZGVkVGVzdFV0aWxzIH0gZnJvbSAnLi90eXBlcy90ZXN0VXRpbHMnO1xuXG4vLyBEZWNsYXJlIGN1c3RvbSBtYXRjaGVyIHR5cGVzXG5kZWNsYXJlIGdsb2JhbCB7XG4gIG5hbWVzcGFjZSBqZXN0IHtcbiAgICBpbnRlcmZhY2UgTWF0Y2hlcnM8Uj4ge1xuICAgICAgdG9CZVdpdGhpblJhbmdlKGZsb29yOiBudW1iZXIsIGNlaWxpbmc6IG51bWJlcik6IFI7XG4gICAgfVxuICB9XG5cbiAgdmFyIHRlc3RVdGlsczogRXh0ZW5kZWRUZXN0VXRpbHM7XG59XG5cbmV4cG9ydCB7fTtcbiJdLCJ2ZXJzaW9uIjozfQ==