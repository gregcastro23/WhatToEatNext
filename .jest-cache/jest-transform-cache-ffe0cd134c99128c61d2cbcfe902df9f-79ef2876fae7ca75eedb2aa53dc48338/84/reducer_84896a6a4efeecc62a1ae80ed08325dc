b51b4656926ee3b54eb41ada91280692
"use strict";
'use client';
Object.defineProperty(exports, "__esModule", { value: true });
exports.alchemicalReducer = void 0;
/**
 * Reducer for the AlchemicalContext
 */
const alchemicalReducer = (state, action) => {
    switch (action.type) {
        case 'SET_SEASONAL_STATE':
            return {
                ...state,
                currentSeason: action.payload.season,
                lastUpdated: new Date()
            };
        case 'SET_ELEMENTAL_PREFERENCE':
            return {
                ...state,
                elementalPreference: {
                    Fire: 0,
                    Water: 0,
                    Earth: 0,
                    Air: 0,
                    ...state.elementalPreference,
                    [action.payload.element]: action.payload.value
                },
                lastUpdated: new Date()
            };
        case 'SET_ELEMENTAL_STATE':
            return {
                ...state,
                elementalState: action.payload,
                lastUpdated: new Date()
            };
        case 'SET_ZODIAC_ENERGY':
            return {
                ...state,
                zodiacEnergy: action.payload,
                currentEnergy: {
                    zodiacEnergy: action.payload,
                    lunarEnergy: state.currentEnergy?.lunarEnergy || '',
                    planetaryEnergy: state.currentEnergy?.planetaryEnergy || []
                },
                lastUpdated: new Date()
            };
        case 'SET_LUNAR_ENERGY':
            return {
                ...state,
                lunarEnergy: action.payload,
                currentEnergy: {
                    zodiacEnergy: state.currentEnergy?.zodiacEnergy || '',
                    lunarEnergy: action.payload,
                    planetaryEnergy: state.currentEnergy?.planetaryEnergy || []
                },
                lastUpdated: new Date()
            };
        case 'SET_PLANETARY_ENERGY':
            return {
                ...state,
                planetaryEnergy: action.payload,
                currentEnergy: {
                    zodiacEnergy: state.currentEnergy?.zodiacEnergy || '',
                    lunarEnergy: state.currentEnergy?.lunarEnergy || '',
                    planetaryEnergy: action.payload
                },
                lastUpdated: new Date()
            };
        case 'SET_ASTROLOGICAL_STATE':
            return {
                ...state,
                astrologicalState: {
                    currentZodiac: 'aries',
                    sunSign: 'aries',
                    lunarPhase: 'new moon',
                    moonPhase: 'new moon',
                    activePlanets: ['sun', 'moon'],
                    ...(action.payload && typeof action.payload === 'object' ? action.payload : {})
                },
                lastUpdated: new Date()
            };
        case 'SET_ERROR':
            return {
                ...state,
                error: true,
                errorMessage: action.payload.message,
                errors: [...state.errors, action.payload.message],
                lastUpdated: new Date()
            };
        case 'CLEAR_ERROR':
            return {
                ...state,
                error: false,
                errorMessage: '',
                lastUpdated: new Date()
            };
        case 'ADD_ERROR':
            return {
                ...state,
                errors: [...state.errors, action.payload],
                lastUpdated: new Date()
            };
        case 'UPDATE_STATE':
            return {
                ...state,
                ...action.payload,
                lastUpdated: new Date()
            };
        case 'SET_ALCHEMICAL_VALUES':
            return {
                ...state,
                alchemicalValues: action.payload,
                lastUpdated: new Date()
            };
        case 'SET_LUNAR_PHASE':
            return {
                ...state,
                lunarPhase: action.payload,
                lastUpdated: new Date()
            };
        default:
            return state;
    }
};
exports.alchemicalReducer = alchemicalReducer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9jb250ZXh0cy9BbGNoZW1pY2FsQ29udGV4dC9yZWR1Y2VyLnRzIiwibWFwcGluZ3MiOiI7QUFBQSxZQUFZLENBQUM7OztBQW9CYjs7R0FFRztBQUNJLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxLQUFzQixFQUFFLE1BQXdCLEVBQW1CLEVBQUU7SUFDckcsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssb0JBQW9CO1lBQ3ZCLE9BQU87Z0JBQ0wsR0FBRyxLQUFLO2dCQUNSLGFBQWEsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU07Z0JBQ3BDLFdBQVcsRUFBRSxJQUFJLElBQUksRUFBRTthQUN4QixDQUFDO1FBRUosS0FBSywwQkFBMEI7WUFDN0IsT0FBTztnQkFDTCxHQUFHLEtBQUs7Z0JBQ1IsbUJBQW1CLEVBQUU7b0JBQ25CLElBQUksRUFBRSxDQUFDO29CQUNQLEtBQUssRUFBRSxDQUFDO29CQUNSLEtBQUssRUFBRSxDQUFDO29CQUNSLEdBQUcsRUFBRSxDQUFDO29CQUNOLEdBQUcsS0FBSyxDQUFDLG1CQUFtQjtvQkFDNUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSztpQkFDL0M7Z0JBQ0QsV0FBVyxFQUFFLElBQUksSUFBSSxFQUFFO2FBQ3hCLENBQUM7UUFFSixLQUFLLHFCQUFxQjtZQUN4QixPQUFPO2dCQUNMLEdBQUcsS0FBSztnQkFDUixjQUFjLEVBQUUsTUFBTSxDQUFDLE9BQU87Z0JBQzlCLFdBQVcsRUFBRSxJQUFJLElBQUksRUFBRTthQUN4QixDQUFDO1FBRUosS0FBSyxtQkFBbUI7WUFDdEIsT0FBTztnQkFDTCxHQUFHLEtBQUs7Z0JBQ1IsWUFBWSxFQUFFLE1BQU0sQ0FBQyxPQUFPO2dCQUM1QixhQUFhLEVBQUU7b0JBQ2IsWUFBWSxFQUFFLE1BQU0sQ0FBQyxPQUFPO29CQUM1QixXQUFXLEVB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aUI7WUFDcEIsT0FBTztnQkFDTCxHQUFHLEtBQUs7Z0JBQ1IsVUFBVSxFQUFFLE1BQU0sQ0FBQyxPQUFPO2dCQUMxQixXQUFXLEVBQUUsSUFBSSxJQUFJLEVBQUU7YUFDeEIsQ0FBQztRQUVKO1lBQ0UsT0FBTyxLQUFLLENBQUM7S0FDaEI7QUFDSCxDQUFDLENBQUM7QUFoSVcsUUFBQSxpQkFBaUIscUJBZ0k1QiIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvc3JjL2NvbnRleHRzL0FsY2hlbWljYWxDb250ZXh0L3JlZHVjZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBBbGNoZW1pY2FsU3RhdGUsIEFzdHJvbG9naWNhbFN0YXRlIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8vIERlZmluZSBhY3Rpb24gdHlwZXNcbmV4cG9ydCB0eXBlIEFsY2hlbWljYWxBY3Rpb24gPSBcbiAgfCB7IHR5cGU6ICdTRVRfU0VBU09OQUxfU1RBVEUnOyBwYXlsb2FkOiB7IHNlYXNvbjogc3RyaW5nIH0gfVxuICB8IHsgdHlwZTogJ1NFVF9FTEVNRU5UQUxfUFJFRkVSRU5DRSc7IHBheWxvYWQ6IHsgZWxlbWVudDogc3RyaW5nOyB2YWx1ZTogbnVtYmVyIH0gfVxuICB8IHsgdHlwZTogJ1NFVF9FTEVNRU5UQUxfU1RBVEUnOyBwYXlsb2FkOiB7IEZpcmU6IG51bWJlcjsgV2F0ZXI6IG51bWJlcjsgRWFydGg6IG51bWJlcjsgQWlyOiBudW1iZXIgfSB9XG4gIHwgeyB0eXBlOiAnU0VUX1pPRElBQ19FTkVSR1knOyBwYXlsb2FkOiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ1NFVF9MVU5BUl9FTkVSR1knOyBwYXlsb2FkOiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ1NFVF9QTEFORVRBUllfRU5FUkdZJzsgcGF5bG9hZDogc3RyaW5nW10gfVxuICB8IHsgdHlwZTogJ1NFVF9BU1RST0xPR0lDQUxfU1RBVEUnOyBwYXlsb2FkOiB1bmtub3duIH1cbiAgfCB7IHR5cGU6ICdTRVRfRVJST1InOyBwYXlsb2FkOiB7IG1lc3NhZ2U6IHN0cmluZyB9IH1cbiAgfCB7IHR5cGU6ICdDTEVBUl9FUlJPUic7IH1cbiAgfCB7IHR5cGU6ICdBRERfRVJST1InOyBwYXlsb2FkOiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ1VQREFURV9TVEFURSc7IHBheWxvYWQ6IFBhcnRpYWw8QWxjaGVtaWNhbFN0YXRlPiB9XG4gIHwgeyB0eXBlOiAnU0VUX0FMQ0hFTUlDQUxfVkFMVUVTJzsgcGF5bG9hZDogeyBTcGlyaXQ6IG51bWJlcjsgRXNzZW5jZTogbnVtYmVyOyBNYXR0ZXI6IG51bWJlcjsgU3Vic3RhbmNlOiBudW1iZXIgfSB9XG4gIHwgeyB0eXBlOiAnU0VUX0xVTkFSX1BIQVNFJzsgcGF5bG9hZDogc3RyaW5nIH07XG5cbi8qKlxuICogUmVkdWNlciBmb3IgdGhlIEFsY2hlbWljYWxDb250ZXh0XG4gKi9cbmV4cG9ydCBjb25zdCBhbGNoZW1pY2FsUmVkdWNlciA9IChzdGF0ZTogQWxjaGVtaWNhbFN0YXRlLCBhY3Rpb246IEFsY2hlbWljYWxBY3Rpb24pOiBBbGNoZW1pY2FsU3RhdGUgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnU0VUX1NFQVNPTkFMX1NUQVRFJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBjdXJyZW50U2Vhc29uOiBhY3Rpb24ucGF5bG9hZC5zZWFzb24sXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgICAgXG4gICAgY2FzZSAnU0VUX0VMRU1FTlRBTF9QUkVGRVJFTkNFJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBlbGVtZW50YWxQcmVmZXJlbmNlOiB7XG4gICAgICAgICAgRmlyZTogMCxcbiAgICAgICAgICBXYXRlcjogMCxcbiAgICAgICAgICBFYXJ0aDogMCxcbiAgICAgICAgICBBaXI6IDAsXG4gICAgICAgICAgLi4uc3RhdGUuZWxlbWVudGFsUHJlZmVyZW5jZSxcbiAgICAgICAgICBbYWN0aW9uLnBheWxvYWQuZWxlbWVudF06IGFjdGlvbi5wYXlsb2FkLnZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgICAgXG4gICAgY2FzZSAnU0VUX0VMRU1FTlRBTF9TVEFURSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZWxlbWVudGFsU3RhdGU6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICAgIFxuICAgIGNhc2UgJ1NFVF9aT0RJQUNfRU5FUkdZJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB6b2RpYWNFbmVyZ3k6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBjdXJyZW50RW5lcmd5OiB7XG4gICAgICAgICAgem9kaWFjRW5lcmd5OiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgICBsdW5hckVuZXJneTogc3RhdGUuY3VycmVudEVuZXJneT8ubHVuYXJFbmVyZ3kgfHwgJycsXG4gICAgICAgICAgcGxhbmV0YXJ5RW5lcmd5OiBzdGF0ZS5jdXJyZW50RW5lcmd5Py5wbGFuZXRhcnlFbmVyZ3kgfHwgW11cbiAgICAgICAgfSxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKClcbiAgICAgIH07XG4gICAgICBcbiAgICBjYXNlICdTRVRfTFVOQVJfRU5FUkdZJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBsdW5hckVuZXJneTogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGN1cnJlbnRFbmVyZ3k6IHtcbiAgICAgICAgICB6b2RpYWNFbmVyZ3k6IHN0YXRlLmN1cnJlbnRFbmVyZ3k/LnpvZGlhY0VuZXJneSB8fCAnJyxcbiAgICAgICAgICBsdW5hckVuZXJneTogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgICAgcGxhbmV0YXJ5RW5lcmd5OiBzdGF0ZS5jdXJyZW50RW5lcmd5Py5wbGFuZXRhcnlFbmVyZ3kgfHwgW11cbiAgICAgICAgfSxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKClcbiAgICAgIH07XG4gICAgICBcbiAgICBjYXNlICdTRVRfUExBTkVUQVJZX0VORVJHWSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcGxhbmV0YXJ5RW5lcmd5OiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgY3VycmVudEVuZXJneToge1xuICAgICAgICAgIHpvZGlhY0VuZXJneTogc3RhdGUuY3VycmVudEVuZXJneT8uem9kaWFjRW5lcmd5IHx8ICcnLFxuICAgICAgICAgIGx1bmFyRW5lcmd5OiBzdGF0ZS5jdXJyZW50RW5lcmd5Py5sdW5hckVuZXJneSB8fCAnJyxcbiAgICAgICAgICBwbGFuZXRhcnlFbmVyZ3k6IGFjdGlvbi5wYXlsb2FkXG4gICAgICAgIH0sXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgICAgXG4gICAgY2FzZSAnU0VUX0FTVFJPTE9HSUNBTF9TVEFURSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXN0cm9sb2dpY2FsU3RhdGU6IHtcbiAgICAgICAgICBjdXJyZW50Wm9kaWFjOiAnYXJpZXMnLFxuICAgICAgICAgIHN1blNpZ246ICdhcmllcycsXG4gICAgICAgICAgbHVuYXJQaGFzZTogJ25ldyBtb29uJyxcbiAgICAgICAgICBtb29uUGhhc2U6ICduZXcgbW9vbicsXG4gICAgICAgICAgYWN0aXZlUGxhbmV0czogWydzdW4nLCAnbW9vbiddLFxuICAgICAgICAgIC4uLihhY3Rpb24ucGF5bG9hZCAmJiB0eXBlb2YgYWN0aW9uLnBheWxvYWQgPT09ICdvYmplY3QnID8gYWN0aW9uLnBheWxvYWQgOiB7fSlcbiAgICAgICAgfSBhcyBBc3Ryb2xvZ2ljYWxTdGF0ZSxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKClcbiAgICAgIH07XG4gICAgICBcbiAgICBjYXNlICdTRVRfRVJST1InOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICBlcnJvck1lc3NhZ2U6IGFjdGlvbi5wYXlsb2FkLm1lc3NhZ2UsXG4gICAgICAgIGVycm9yczogWy4uLnN0YXRlLmVycm9ycywgYWN0aW9uLnBheWxvYWQubWVzc2FnZV0sXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgICAgXG4gICAgY2FzZSAnQ0xFQVJfRVJST1InOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKClcbiAgICAgIH07XG4gICAgICBcbiAgICBjYXNlICdBRERfRVJST1InOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGVycm9yczogWy4uLnN0YXRlLmVycm9ycywgYWN0aW9uLnBheWxvYWRdLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICAgIFxuICAgIGNhc2UgJ1VQREFURV9TVEFURSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgLi4uYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgICAgXG4gICAgY2FzZSAnU0VUX0FMQ0hFTUlDQUxfVkFMVUVTJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhbGNoZW1pY2FsVmFsdWVzOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKClcbiAgICAgIH07XG4gICAgICBcbiAgICBjYXNlICdTRVRfTFVOQVJfUEhBU0UnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGx1bmFyUGhhc2U6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICAgIFxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07ICJdLCJ2ZXJzaW9uIjozfQ==