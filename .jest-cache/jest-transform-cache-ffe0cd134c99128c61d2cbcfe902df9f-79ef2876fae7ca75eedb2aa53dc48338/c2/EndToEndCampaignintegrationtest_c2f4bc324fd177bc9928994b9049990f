16c5be2deebfbc7224de637e9f585aba
"use strict";
/**
 * End-to-End Campaign Integration Tests
 * Perfect Codebase Campaign - Complete Campaign Workflow Testing
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
// Mock dependencies
jest.mock('child_process');
jest.mock('fs');
const CampaignController_1 = require("../../CampaignController");
const SafetyProtocol_1 = require("../../SafetyProtocol");
const ProgressTracker_1 = require("../../ProgressTracker");
const campaign_1 = require("../../../../types/campaign");
const child_process_1 = require("child_process");
const fs = __importStar(require("fs"));
const mockExecSync = child_process_1.execSync;
const mockFs = fs;
describe('End-to-End Campaign Integration Tests', () => {
    let campaignController;
    let safetyProtocol;
    let progressTracker;
    let mockConfig;
    beforeEach(() => {
        // Setup comprehensive campaign configuration
        const safetySettings = {
            maxFilesPerBatch: 25,
            buildValidationFrequency: 5,
            testValidationFrequency: 10,
            corruptionDetectionEnabled: true,
            automaticRollbackEnabled: true,
            stashRetentionDays: 7,
        };
        mockConfig = {
            phases: [
                {
                    id: 'phase1',
                    name: 'TypeScript Error Elimination',
                    description: 'Eliminate all TypeScript compilation errors',
                    tools: [
                        {
                            scriptPath: 'scripts/typescript-fixes/fix-typescript-errors-enhanced-v3.js',
                            parameters: { maxFiles: 15, autoFix: true, validateSafety: true },
                            batchSize: 15,
                            safetyLevel: campaign_1.SafetyLevel.MAXIMUM,
                        },
                        {
                            scriptPath: 'scripts/typescript-fixes/fix-explicit-any-systematic.js',
                            parameters: { maxFiles: 25, autoFix: true },
                            batchSize: 25,
                            safetyLevel: campaign_1.SafetyLevel.HIGH,
                        },
                    ],
                    successCriteria: {
                        typeScriptErrors: 0,
                    },
                    safetyCheckpoints: [],
                },
                {
                    id: 'phase2',
                    name: 'Linting Excellence Achievement',
                    description: 'Eliminate all linting warnings',
                    tools: [
                        {
                            scriptPath: 'scripts/typescript-fixes/fix-unused-variables-enhanced.js',
                            parameters: { maxFiles: 20, autoFix: true },
                            batchSize: 20,
                            safetyLevel: campaign_1.SafetyLevel.HIGH,
                        },
                        {
                            scriptPath: 'scripts/lint-fixes/fix-console-statements-only.js',
                            parameters: { dryRun: false },
                            batchSize: 15,
                            safetyLevel: campaign_1.SafetyLevel.MEDIUM,
                        },
                    ],
                    successCriteria: {
                        lintingWarnings: 0,
                    },
                    safetyCheckpoints: [],
                },
                {
                    id: 'phase3',
                    name: 'Enterprise Intelligence Transformation',
                    description: 'Transform unused exports to enterprise systems',
                    tools: [
                        {
                            scriptPath: 'scripts/enterprise/transform-unused-exports.js',
                            parameters: { maxFiles: 30, generateIntelligence: true },
                            batchSize: 30,
                            safetyLevel: campaign_1.SafetyLevel.HIGH,
                        },
                    ],
                    successCriteria: {
                        enterpriseSystems: 200,
                    },
                    safetyCheckpoints: [],
                },
                {
                    id: 'phase4',
                    name: 'Performance Optimization',
                    description: 'Optimize build performance and maintain targets',
                    tools: [
                        {
                            scriptPath: 'scripts/performance/optimize-build.js',
                            parameters: { targetTime: 10, optimizeCache: true },
                            batchSize: 50,
                            safetyLevel: campaign_1.SafetyLevel.MEDIUM,
                        },
                    ],
                    successCriteria: {
                        buildTime: 10,
                    },
                    safetyCheckpoints: [],
                },
            ],
            safetySettings,
            progressTargets: {
                typeScriptErrors: 0,
                lintingWarnings: 0,
                buildTime: 10,
                enterpriseSystems: 200,
            },
            toolConfiguration: {
                enhancedErrorFixer: 'scripts/typescript-fixes/fix-typescript-errors-enhanced-v3.js',
                explicitAnyFixer: 'scripts/typescript-fixes/fix-explicit-any-systematic.js',
                unusedVariablesFixer: 'scripts/typescript-fixes/fix-unused-variables-enhanced.js',
                consoleStatementFixer: 'scripts/lint-fixes/fix-console-statements-only.js',
            },
        };
        campaignController = new CampaignController_1.CampaignController(mockConfig);
        safetyProtocol = new SafetyProtocol_1.SafetyProtocol(safetySettings);
        progressTracker = new ProgressTracker_1.ProgressTracker();
        // Reset mocks
        jest.clearAllMocks();
        setupDefaultMocks();
    });
    function setupDefaultMocks() {
        // Default successful git operations
        mockExecSync.mockImplementation(command => {
            const cmd = command.toString();
            if (cmd.includes('git status --porcelain'))
                return '';
            if (cmd.includes('git stash push'))
                return '';
            if (cmd.includes('git stash list'))
                return 'stash@{0}: campaign-stash';
            if (cmd.includes('git stash apply'))
                return '';
            if (cmd.includes('git branch --show-current'))
                return 'main';
            if (cmd.includes('yarn build'))
                return '';
            if (cmd.includes('yarn test'))
                return 'Tests passed';
            return '';
        });
        mockFs.existsSync.mockReturnValue(true);
        mockFs.readFileSync.mockReturnValue('valid content');
        mockFs.writeFileSync.mockImplementation(() => { });
    }
    describe('Complete Campaign Execution', () => {
        it('should execute all phases in sequence successfully', async () => {
            // Mock progressive improvement across phases
            let tsErrors = 86;
            let lintWarnings = 4506;
            let enterpriseSystems = 0;
            let buildTime = 12;
            jest
                .spyOn(progressTracker, 'getTypeScriptErrorCount')
                .mockImplementation(async () => tsErrors);
            jest
                .spyOn(progressTracker, 'getLintingWarningCount')
                .mockImplementation(async () => lintWarnings);
            jest
                .spyOn(progressTracker, 'getEnterpriseSystemCount')
                .mockImplementation(async () => enterpriseSystems);
            jest
                .spyOn(progressTracker, 'getBuildTime')
                .mockImplementation(async () => buildTime);
            const phaseResults = [];
            // Execute Phase 1: TypeScript Error Elimination
            const phase1Result = await campaignController.executePhase(mockConfig.phases[0]);
            tsErrors = 0; // Phase 1 eliminates TypeScript errors
            phaseResults.push(phase1Result);
            expect(phase1Result.success).toBe(true);
            expect(phase1Result.phaseId).toBe('phase1');
            // Execute Phase 2: Linting Excellence
            const phase2Result = await campaignController.executePhase(mockConfig.phases[1]);
            lintWarnings = 0; // Phase 2 eliminates linting warnings
            phaseResults.push(phase2Result);
            expect(phase2Result.success).toBe(true);
            expect(phase2Result.phaseId).toBe('phase2');
            // Execute Phase 3: Enterprise Intelligence
            const phase3Result = await campaignController.executePhase(mockConfig.phases[2]);
            enterpriseSystems = 200; // Phase 3 creates enterprise systems
            phaseResults.push(phase3Result);
            expect(phase3Result.success).toBe(true);
            expect(phase3Result.phaseId).toBe('phase3');
            // Execute Phase 4: Performance Optimization
            const phase4Result = await campaignController.executePhase(mockConfig.phases[3]);
            buildTime = 8.5; // Phase 4 optimizes build time
            phaseResults.push(phase4Result);
            expect(phase4Result.success).toBe(true);
            expect(phase4Result.phaseId).toBe('phase4');
            // Verify overall campaign success
            expect(phaseResults.every(result => result.success)).toBe(true);
            expect(phaseResults.length).toBe(4);
        });
        it('should maintain safety protocols throughout entire campaign', async () => {
            const allSafetyEvents = [];
            for (const phase of mockConfig.phases) {
                const result = await campaignController.executePhase(phase);
                allSafetyEvents.push(...result.safetyEvents);
            }
            // Verify safety events were recorded for each phase
            expect(allSafetyEvents.length).toBeGreaterThan(0);
            // Check that each phase has safety events
            for (const phase of mockConfig.phases) {
                expect(allSafetyEvents.some(event => event.description.includes(phase.name) ||
                    event.description.includes(phase.id))).toBe(true);
            }
        });
        it('should track progress metrics throughout campaign', async () => {
            // Mock progressive metrics improvement
            const metricsHistory = [];
            jest
                .spyOn(progressTracker, 'getProgressMetrics')
                .mockImplementation(async () => {
                const metrics = {
                    typeScriptErrors: {
                        current: Math.max(0, 86 - metricsHistory.length * 20),
                        target: 0,
                        reduction: metricsHistory.length * 20,
                        percentage: Math.min(100, ((metricsHistory.length * 20) / 86) * 100),
                    },
                    lintingWarnings: {
                        current: Math.max(0, 4506 - metricsHistory.length * 1000),
                        target: 0,
                        reduction: metricsHistory.length * 1000,
                        percentage: Math.min(100, ((metricsHistory.length * 1000) / 4506) * 100),
                    },
                    buildPerformance: {
                        currentTime: Math.max(8, 12 - metricsHistory.length),
                        targetTime: 10,
                        cacheHitRate: 0.8,
                        memoryUsage: 45,
                    },
                    enterpriseSystems: {
                        current: metricsHistory.length * 50,
                        target: 200,
                        transformedExports: metricsHistory.length * 50,
                    },
                };
                metricsHistory.push(metrics);
                return metrics;
            });
            // Execute all phases
            for (const phase of mockConfig.phases) {
                await campaignController.executePhase(phase);
                await progressTracker.getProgressMetrics(); // Trigger metrics collection
            }
            expect(metricsHistory.length).toBeGreaterThan(0);
            // Verify progressive improvement
            const finalMetrics = metricsHistory[metricsHistory.length - 1];
            expect(finalMetrics.typeScriptErrors.current).toBeLessThanOrEqual(86);
            expect(finalMetrics.lintingWarnings.current).toBeLessThanOrEqual(4506);
        });
        it('should validate all milestones after campaign completion', async () => {
            // Mock successful campaign completion
            jest.spyOn(progressTracker, 'getProgressMetrics').mockResolvedValue({
                typeScriptErrors: {
                    current: 0,
                    target: 0,
                    reduction: 86,
                    percentage: 100,
                },
                lintingWarnings: {
                    current: 0,
                    target: 0,
                    reduction: 4506,
                    percentage: 100,
                },
                buildPerformance: {
                    currentTime: 8.5,
                    targetTime: 10,
                    cacheHitRate: 0.85,
                    memoryUsage: 42,
                },
                enterpriseSystems: {
                    current: 200,
                    target: 200,
                    transformedExports: 200,
                },
            });
            // Execute all phases
            for (const phase of mockConfig.phases) {
                await campaignController.executePhase(phase);
            }
            // Validate all milestones
            const milestones = [
                'zero-typescript-errors',
                'zero-linting-warnings',
                'build-time-under-10s',
                'enterprise-systems-200',
                'phase-1-complete',
                'phase-2-complete',
                'phase-3-complete',
                'phase-4-complete',
            ];
            for (const milestone of milestones) {
                const isValid = await progressTracker.validateMilestone(milestone);
                expect(isValid).toBe(true);
            }
        });
        it('should generate comprehensive final report', async () => {
            // Mock successful campaign completion
            jest.spyOn(progressTracker, 'getProgressMetrics').mockResolvedValue({
                typeScriptErrors: {
                    current: 0,
                    target: 0,
                    reduction: 86,
                    percentage: 100,
                },
                lintingWarnings: {
                    current: 0,
                    target: 0,
                    reduction: 4506,
                    percentage: 100,
                },
                buildPerformance: {
                    currentTime: 8.5,
                    targetTime: 10,
                    cacheHitRate: 0.85,
                    memoryUsage: 42,
                },
                enterpriseSystems: {
                    current: 200,
                    target: 200,
                    transformedExports: 200,
                },
            });
            // Execute all phases
            for (const phase of mockConfig.phases) {
                await campaignController.executePhase(phase);
            }
            const finalReport = await progressTracker.generateProgressReport();
            expect(finalReport.campaignId).toBe('perfect-codebase-campaign');
            expect(finalReport.overallProgress).toBe(100);
            expect(finalReport.phases.length).toBe(2); // Default phases in progress tracker
            expect(finalReport.phases.every(phase => phase.status === campaign_1.PhaseStatus.COMPLETED)).toBe(true);
        });
    });
    describe('Campaign Failure and Recovery Scenarios', () => {
        it('should handle phase failure and trigger rollback', async () => {
            const phase1 = mockConfig.phases[0];
            // Mock tool execution failure
            jest
                .spyOn(campaignController, 'executeTool')
                .mockRejectedValue(new Error('Critical tool failure'));
            const result = await campaignController.executePhase(phase1);
            expect(result.success).toBe(false);
            expect(result.phaseId).toBe('phase1');
            expect(result.safetyEvents.some(event => event.type === campaign_1.SafetyEventType.BUILD_FAILURE)).toBe(true);
        });
        it('should handle corruption detection during campaign', async () => {
            // Mock corruption detection
            mockFs.readFileSync.mockReturnValue(`
        function test() {
        <<<<<<< HEAD
          return 'conflict';
        =======
          return 'other';
        >>>>>>> branch
        }
      `);
            const corruptionReport = await safetyProtocol.detectCorruption([
                'test-file.ts',
            ]);
            expect(corruptionReport.severity).toBe(campaign_1.CorruptionSeverity.CRITICAL);
            expect(corruptionReport.recommendedAction).toBe(campaign_1.RecoveryAction.EMERGENCY_RESTORE);
            // Verify emergency rollback would be triggered
            if (corruptionReport.severity === campaign_1.CorruptionSeverity.CRITICAL) {
                // Create a stash first for rollback
                await safetyProtocol.createStash('Emergency stash');
                await safetyProtocol.emergencyRollback();
                expect(mockExecSync).toHaveBeenCalledWith(expect.stringContaining('git stash apply'), expect.any(Object));
            }
        });
        it('should handle build failures during phase execution', async () => {
            const phase1 = mockConfig.phases[0];
            // Mock build failure
            mockExecSync.mockImplementation(command => {
                if (command.toString().includes('yarn build')) {
                    throw new Error('Build compilation failed');
                }
                return '';
            });
            jest.spyOn(progressTracker, 'getBuildTime').mockResolvedValue(-1);
            const result = await campaignController.executePhase(phase1);
            // Should handle gracefully
            expect(result.phaseId).toBe('phase1');
        });
        it('should recover from partial phase failures', async () => {
            const phase1 = mockConfig.phases[0];
            // Mock partial failure - first tool fails, second succeeds
            let toolCallCount = 0;
            jest
                .spyOn(campaignController, 'executeTool')
                .mockImplementation(async () => {
                toolCallCount++;
                if (toolCallCount === 1) {
                    throw new Error('First tool failed');
                }
                return {
                    filesProcessed: ['file1.ts', 'file2.ts'],
                    changesApplied: 10,
                    success: true,
                };
            });
            const result = await campaignController.executePhase(phase1);
            // Should fail due to first tool failure
            expect(result.success).toBe(false);
            expect(result.phaseId).toBe('phase1');
        });
    });
    describe('Performance and Scalability', () => {
        it('should handle large file batches efficiently', async () => {
            const phase1 = mockConfig.phases[0];
            // Mock large file processing
            const largeFileList = Array.from({ length: 100 }, (_, i) => `file${i}.ts`);
            jest.spyOn(campaignController, 'executeTool').mockResolvedValue({
                filesProcessed: largeFileList,
                changesApplied: largeFileList.length * 2,
                success: true,
            });
            const startTime = Date.now();
            const result = await campaignController.executePhase(phase1);
            const executionTime = Date.now() - startTime;
            expect(result.success).toBe(true);
            expect(result.filesProcessed).toBe(100);
            expect(executionTime).toBeLessThan(10000); // Should complete within 10 seconds
        });
        it('should maintain memory usage within limits during campaign', async () => {
            // Mock memory tracking
            jest.spyOn(progressTracker, 'getMemoryUsage').mockResolvedValue(45); // 45MB
            for (const phase of mockConfig.phases) {
                await campaignController.executePhase(phase);
                const memoryUsage = await progressTracker.getMemoryUsage();
                expect(memoryUsage).toBeLessThan(50); // Should stay under 50MB
            }
        });
        it('should handle concurrent safety operations', async () => {
            // Create multiple stashes concurrently
            const stashPromises = Array.from({ length: 5 }, (_, i) => safetyProtocol.createStash(`Concurrent stash ${i}`));
            const stashIds = await Promise.all(stashPromises);
            expect(stashIds.length).toBe(5);
            expect(stashIds.every(id => typeof id === 'string')).toBe(true);
            const stashes = await safetyProtocol.listStashes();
            expect(stashes.length).toBe(5);
        });
    });
    describe('Configuration and Customization', () => {
        it('should support custom phase configurations', async () => {
            const customPhase = {
                id: 'custom-phase',
                name: 'Custom Phase',
                description: 'Custom phase for testing',
                tools: [
                    {
                        scriptPath: 'scripts/custom/custom-script.js',
                        parameters: { customParam: true },
                        batchSize: 5,
                        safetyLevel: campaign_1.SafetyLevel.LOW,
                    },
                ],
                successCriteria: { typeScriptErrors: 10 },
                safetyCheckpoints: [],
            };
            const result = await campaignController.executePhase(customPhase);
            expect(result.phaseId).toBe('custom-phase');
        });
        it('should support custom safety settings', async () => {
            const customSafetySettings = {
                maxFilesPerBatch: 50,
                buildValidationFrequency: 10,
                testValidationFrequency: 20,
                corruptionDetectionEnabled: false,
                automaticRollbackEnabled: false,
                stashRetentionDays: 14,
            };
            const customSafetyProtocol = new SafetyProtocol_1.SafetyProtocol(customSafetySettings);
            // Verify custom settings are applied
            expect(customSafetyProtocol.settings.maxFilesPerBatch).toBe(50);
            expect(customSafetyProtocol.settings.stashRetentionDays).toBe(14);
        });
        it('should support custom success criteria', async () => {
            const customPhase = {
                ...mockConfig.phases[0],
                successCriteria: {
                    typeScriptErrors: 5,
                    customValidation: async () => {
                        // Custom validation logic
                        return true;
                    },
                },
            };
            // Mock 5 remaining TypeScript errors
            jest.spyOn(progressTracker, 'getProgressMetrics').mockResolvedValue({
                typeScriptErrors: {
                    current: 5,
                    target: 0,
                    reduction: 81,
                    percentage: 94,
                },
                lintingWarnings: {
                    current: 4506,
                    target: 0,
                    reduction: 0,
                    percentage: 0,
                },
                buildPerformance: {
                    currentTime: 8.5,
                    targetTime: 10,
                    cacheHitRate: 0.8,
                    memoryUsage: 45,
                },
                enterpriseSystems: { current: 0, target: 200, transformedExports: 0 },
            });
            const validation = await campaignController.validatePhaseCompletion(customPhase);
            expect(validation.success).toBe(true); // Should pass with 5 errors allowed
        });
    });
    describe('Reporting and Analytics', () => {
        it('should generate detailed execution analytics', async () => {
            const executionMetrics = [];
            for (const phase of mockConfig.phases) {
                const startTime = Date.now();
                const result = await campaignController.executePhase(phase);
                const endTime = Date.now();
                executionMetrics.push({
                    phaseId: phase.id,
                    phaseName: phase.name,
                    executionTime: endTime - startTime,
                    success: result.success,
                    filesProcessed: result.filesProcessed,
                    errorsFixed: result.errorsFixed,
                    safetyEventsCount: result.safetyEvents.length,
                });
            }
            expect(executionMetrics.length).toBe(4);
            expect(executionMetrics.every(metric => metric.executionTime > 0)).toBe(true);
            expect(executionMetrics.every(metric => typeof metric.success === 'boolean')).toBe(true);
        });
        it('should export comprehensive campaign metrics', async () => {
            // Execute campaign
            for (const phase of mockConfig.phases) {
                await campaignController.executePhase(phase);
            }
            // Export metrics
            const exportPath = 'test-campaign-metrics.json';
            await progressTracker.exportMetrics(exportPath);
            expect(mockFs.writeFileSync).toHaveBeenCalledWith(exportPath, expect.stringContaining('"campaignId": "perfect-codebase-campaign"'), undefined);
        });
        it('should track improvement trends over time', async () => {
            // Mock progressive improvement
            let improvementStep = 0;
            jest
                .spyOn(progressTracker, 'getProgressMetrics')
                .mockImplementation(async () => {
                improvementStep++;
                return {
                    typeScriptErrors: {
                        current: Math.max(0, 86 - improvementStep * 20),
                        target: 0,
                        reduction: improvementStep * 20,
                        percentage: Math.min(100, ((improvementStep * 20) / 86) * 100),
                    },
                    lintingWarnings: {
                        current: Math.max(0, 4506 - improvementStep * 1000),
                        target: 0,
                        reduction: improvementStep * 1000,
                        percentage: Math.min(100, ((improvementStep * 1000) / 4506) * 100),
                    },
                    buildPerformance: {
                        currentTime: Math.max(8, 12 - improvementStep),
                        targetTime: 10,
                        cacheHitRate: 0.8,
                        memoryUsage: 45,
                    },
                    enterpriseSystems: {
                        current: improvementStep * 50,
                        target: 200,
                        transformedExports: improvementStep * 50,
                    },
                };
            });
            // Execute phases and collect metrics
            for (const phase of mockConfig.phases) {
                await campaignController.executePhase(phase);
                await progressTracker.getProgressMetrics();
            }
            const improvement = progressTracker.getMetricsImprovement();
            expect(improvement.typeScriptErrorsReduced).toBeGreaterThan(0);
            expect(improvement.lintingWarningsReduced).toBeGreaterThan(0);
            expect(improvement.enterpriseSystemsAdded).toBeGreaterThan(0);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9fX3Rlc3RzX18vaW50ZWdyYXRpb24vRW5kVG9FbmRDYW1wYWlnbi5pbnRlZ3JhdGlvbi50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkgsb0JBQW9CO0FBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQWpCaEIsaUVBQThEO0FBQzlELHlEQUFzRDtBQUN0RCwyREFBd0Q7QUFDeEQseURBUW9DO0FBQ3BDLGlEQUF5QztBQUN6Qyx1Q0FBeUI7QUFNekIsTUFBTSxZQUFZLEdBQUcsd0JBQWdELENBQUM7QUFDdEUsTUFBTSxNQUFNLEdBQUcsRUFBNEIsQ0FBQztBQUU1QyxRQUFRLENBQUMsdUNBQXVDLEVBQUUsR0FBRyxFQUFFO0lBQ3JELElBQUksa0JBQXNDLENBQUM7SUFDM0MsSUFBSSxjQUE4QixDQUFDO0lBQ25DLElBQUksZUFBZ0MsQ0FBQztJQUNyQyxJQUFJLFVBQTBCLENBQUM7SUFFL0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLDZDQUE2QztRQUM3QyxNQUFNLGNBQWMsR0FBbUI7WUFDckMsZ0JBQWdCLEVBQUUsRUFBRTtZQUNwQix3QkFBd0IsRUFBRSxDQUFDO1lBQzNCLHVCQUF1QixFQUFFLEVBQUU7WUFDM0IsMEJBQTBCLEVBQUUsSUFBSTtZQUNoQyx3QkFBd0IsRUFBRSxJQUFJO1lBQzlCLGtCQUFrQixFQUFFLENBQUM7U0FDdEIsQ0FBQztRQUVGLFVBQVUsR0FBRztZQUNYLE1BQU0sRUFBRTtnQkFDTjtvQkFDRSxFQUFFLEVBQUUsUUFBUTtvQkFDWixJQUFJLEVBQUUsOEJBQThCO29CQUNwQyxXQUFXLEVBQUUsNkNBQTZDO29CQUMxRCxLQUFLLEVBQUU7d0JBQ0w7NEJBQ0UsVUFBVSxFQUNSLCtE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QUFLLElBQUksVUFBVSxDQUFDLE1BQU0sRUFBRTtnQkFDckMsTUFBTSxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzdDLE1BQU0sZUFBZSxDQUFDLGtCQUFrQixFQUFFLENBQUM7YUFDNUM7WUFFRCxNQUFNLFdBQVcsR0FBRyxlQUFlLENBQUMscUJBQXFCLEVBQUUsQ0FBQztZQUU1RCxNQUFNLENBQUMsV0FBVyxDQUFDLHVCQUF1QixDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9ELE1BQU0sQ0FBQyxXQUFXLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9fX3Rlc3RzX18vaW50ZWdyYXRpb24vRW5kVG9FbmRDYW1wYWlnbi5pbnRlZ3JhdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRW5kLXRvLUVuZCBDYW1wYWlnbiBJbnRlZ3JhdGlvbiBUZXN0c1xuICogUGVyZmVjdCBDb2RlYmFzZSBDYW1wYWlnbiAtIENvbXBsZXRlIENhbXBhaWduIFdvcmtmbG93IFRlc3RpbmdcbiAqL1xuXG5pbXBvcnQgeyBDYW1wYWlnbkNvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi9DYW1wYWlnbkNvbnRyb2xsZXInO1xuaW1wb3J0IHsgU2FmZXR5UHJvdG9jb2wgfSBmcm9tICcuLi8uLi9TYWZldHlQcm90b2NvbCc7XG5pbXBvcnQgeyBQcm9ncmVzc1RyYWNrZXIgfSBmcm9tICcuLi8uLi9Qcm9ncmVzc1RyYWNrZXInO1xuaW1wb3J0IHtcbiAgQ2FtcGFpZ25Db25maWcsXG4gIFNhZmV0eVNldHRpbmdzLFxuICBTYWZldHlMZXZlbCxcbiAgUGhhc2VTdGF0dXMsXG4gIENvcnJ1cHRpb25TZXZlcml0eSxcbiAgUmVjb3ZlcnlBY3Rpb24sXG4gIFNhZmV0eUV2ZW50VHlwZSxcbn0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMvY2FtcGFpZ24nO1xuaW1wb3J0IHsgZXhlY1N5bmMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcblxuLy8gTW9jayBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnY2hpbGRfcHJvY2VzcycpO1xuamVzdC5tb2NrKCdmcycpO1xuXG5jb25zdCBtb2NrRXhlY1N5bmMgPSBleGVjU3luYyBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBleGVjU3luYz47XG5jb25zdCBtb2NrRnMgPSBmcyBhcyBqZXN0Lk1vY2tlZDx0eXBlb2YgZnM+O1xuXG5kZXNjcmliZSgnRW5kLXRvLUVuZCBDYW1wYWlnbiBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgbGV0IGNhbXBhaWduQ29udHJvbGxlcjogQ2FtcGFpZ25Db250cm9sbGVyO1xuICBsZXQgc2FmZXR5UHJvdG9jb2w6IFNhZmV0eVByb3RvY29sO1xuICBsZXQgcHJvZ3Jlc3NUcmFja2VyOiBQcm9ncmVzc1RyYWNrZXI7XG4gIGxldCBtb2NrQ29uZmlnOiBDYW1wYWlnbkNvbmZpZztcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBTZXR1cCBjb21wcmVoZW5zaXZlIGNhbXBhaWduIGNvbmZpZ3VyYXRpb25cbiAgICBjb25zdCBzYWZldHlTZXR0aW5nczogU2FmZXR5U2V0dGluZ3MgPSB7XG4gICAgICBtYXhGaWxlc1BlckJhdGNoOiAyNSxcbiAgICAgIGJ1aWxkVmFsaWRhdGlvbkZyZXF1ZW5jeTogNSxcbiAgICAgIHRlc3RWYWxpZGF0aW9uRnJlcXVlbmN5OiAxMCxcbiAgICAgIGNvcnJ1cHRpb25EZXRlY3Rpb25FbmFibGVkOiB0cnVlLFxuICAgICAgYXV0b21hdGljUm9sbGJhY2tFbmFibGVkOiB0cnVlLFxuICAgICAgc3Rhc2hSZXRlbnRpb25EYXlzOiA3LFxuICAgIH07XG5cbiAgICBtb2NrQ29uZmlnID0ge1xuICAgICAgcGhhc2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3BoYXNlMScsXG4gICAgICAgICAgbmFtZTogJ1R5cGVTY3JpcHQgRXJyb3IgRWxpbWluYXRpb24nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRWxpbWluYXRlIGFsbCBUeXBlU2NyaXB0IGNvbXBpbGF0aW9uIGVycm9ycycsXG4gICAgICAgICAgdG9vbHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2NyaXB0UGF0aDpcbiAgICAgICAgICAgICAgICAnc2NyaXB0cy90eXBlc2NyaXB0LWZpeGVzL2ZpeC10eXBlc2NyaXB0LWVycm9ycy1lbmhhbmNlZC12My5qcycsXG4gICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHsgbWF4RmlsZXM6IDE1LCBhdXRvRml4OiB0cnVlLCB2YWxpZGF0ZVNhZmV0eTogdHJ1ZSB9LFxuICAgICAgICAgICAgICBiYXRjaFNpemU6IDE1LFxuICAgICAgICAgICAgICBzYWZldHlMZXZlbDogU2FmZXR5TGV2ZWwuTUFYSU1VTSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNjcmlwdFBhdGg6XG4gICAgICAgICAgICAgICAgJ3NjcmlwdHMvdHlwZXNjcmlwdC1maXhlcy9maXgtZXhwbGljaXQtYW55LXN5c3RlbWF0aWMuanMnLFxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB7IG1heEZpbGVzOiAyNSwgYXV0b0ZpeDogdHJ1ZSB9LFxuICAgICAgICAgICAgICBiYXRjaFNpemU6IDI1LFxuICAgICAgICAgICAgICBzYWZldHlMZXZlbDogU2FmZXR5TGV2ZWwuSElHSCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdWNjZXNzQ3JpdGVyaWE6IHtcbiAgICAgICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzYWZldHlDaGVja3BvaW50czogW10sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3BoYXNlMicsXG4gICAgICAgICAgbmFtZTogJ0xpbnRpbmcgRXhjZWxsZW5jZSBBY2hpZXZlbWVudCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdFbGltaW5hdGUgYWxsIGxpbnRpbmcgd2FybmluZ3MnLFxuICAgICAgICAgIHRvb2xzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNjcmlwdFBhdGg6XG4gICAgICAgICAgICAgICAgJ3NjcmlwdHMvdHlwZXNjcmlwdC1maXhlcy9maXgtdW51c2VkLXZhcmlhYmxlcy1lbmhhbmNlZC5qcycsXG4gICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHsgbWF4RmlsZXM6IDIwLCBhdXRvRml4OiB0cnVlIH0sXG4gICAgICAgICAgICAgIGJhdGNoU2l6ZTogMjAsXG4gICAgICAgICAgICAgIHNhZmV0eUxldmVsOiBTYWZldHlMZXZlbC5ISUdILFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2NyaXB0UGF0aDogJ3NjcmlwdHMvbGludC1maXhlcy9maXgtY29uc29sZS1zdGF0ZW1lbnRzLW9ubHkuanMnLFxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB7IGRyeVJ1bjogZmFsc2UgfSxcbiAgICAgICAgICAgICAgYmF0Y2hTaXplOiAxNSxcbiAgICAgICAgICAgICAgc2FmZXR5TGV2ZWw6IFNhZmV0eUxldmVsLk1FRElVTSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdWNjZXNzQ3JpdGVyaWE6IHtcbiAgICAgICAgICAgIGxpbnRpbmdXYXJuaW5nczogMCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNhZmV0eUNoZWNrcG9pbnRzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAncGhhc2UzJyxcbiAgICAgICAgICBuYW1lOiAnRW50ZXJwcmlzZSBJbnRlbGxpZ2VuY2UgVHJhbnNmb3JtYXRpb24nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHJhbnNmb3JtIHVudXNlZCBleHBvcnRzIHRvIGVudGVycHJpc2Ugc3lzdGVtcycsXG4gICAgICAgICAgdG9vbHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2NyaXB0UGF0aDogJ3NjcmlwdHMvZW50ZXJwcmlzZS90cmFuc2Zvcm0tdW51c2VkLWV4cG9ydHMuanMnLFxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB7IG1heEZpbGVzOiAzMCwgZ2VuZXJhdGVJbnRlbGxpZ2VuY2U6IHRydWUgfSxcbiAgICAgICAgICAgICAgYmF0Y2hTaXplOiAzMCxcbiAgICAgICAgICAgICAgc2FmZXR5TGV2ZWw6IFNhZmV0eUxldmVsLkhJR0gsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgc3VjY2Vzc0NyaXRlcmlhOiB7XG4gICAgICAgICAgICBlbnRlcnByaXNlU3lzdGVtczogMjAwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2FmZXR5Q2hlY2twb2ludHM6IFtdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdwaGFzZTQnLFxuICAgICAgICAgIG5hbWU6ICdQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb24nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnT3B0aW1pemUgYnVpbGQgcGVyZm9ybWFuY2UgYW5kIG1haW50YWluIHRhcmdldHMnLFxuICAgICAgICAgIHRvb2xzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNjcmlwdFBhdGg6ICdzY3JpcHRzL3BlcmZvcm1hbmNlL29wdGltaXplLWJ1aWxkLmpzJyxcbiAgICAgICAgICAgICAgcGFyYW1ldGVyczogeyB0YXJnZXRUaW1lOiAxMCwgb3B0aW1pemVDYWNoZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICBiYXRjaFNpemU6IDUwLFxuICAgICAgICAgICAgICBzYWZldHlMZXZlbDogU2FmZXR5TGV2ZWwuTUVESVVNLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHN1Y2Nlc3NDcml0ZXJpYToge1xuICAgICAgICAgICAgYnVpbGRUaW1lOiAxMCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNhZmV0eUNoZWNrcG9pbnRzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBzYWZldHlTZXR0aW5ncyxcbiAgICAgIHByb2dyZXNzVGFyZ2V0czoge1xuICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiAwLFxuICAgICAgICBsaW50aW5nV2FybmluZ3M6IDAsXG4gICAgICAgIGJ1aWxkVGltZTogMTAsXG4gICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiAyMDAsXG4gICAgICB9LFxuICAgICAgdG9vbENvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgZW5oYW5jZWRFcnJvckZpeGVyOlxuICAgICAgICAgICdzY3JpcHRzL3R5cGVzY3JpcHQtZml4ZXMvZml4LXR5cGVzY3JpcHQtZXJyb3JzLWVuaGFuY2VkLXYzLmpzJyxcbiAgICAgICAgZXhwbGljaXRBbnlGaXhlcjpcbiAgICAgICAgICAnc2NyaXB0cy90eXBlc2NyaXB0LWZpeGVzL2ZpeC1leHBsaWNpdC1hbnktc3lzdGVtYXRpYy5qcycsXG4gICAgICAgIHVudXNlZFZhcmlhYmxlc0ZpeGVyOlxuICAgICAgICAgICdzY3JpcHRzL3R5cGVzY3JpcHQtZml4ZXMvZml4LXVudXNlZC12YXJpYWJsZXMtZW5oYW5jZWQuanMnLFxuICAgICAgICBjb25zb2xlU3RhdGVtZW50Rml4ZXI6XG4gICAgICAgICAgJ3NjcmlwdHMvbGludC1maXhlcy9maXgtY29uc29sZS1zdGF0ZW1lbnRzLW9ubHkuanMnLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY2FtcGFpZ25Db250cm9sbGVyID0gbmV3IENhbXBhaWduQ29udHJvbGxlcihtb2NrQ29uZmlnKTtcbiAgICBzYWZldHlQcm90b2NvbCA9IG5ldyBTYWZldHlQcm90b2NvbChzYWZldHlTZXR0aW5ncyk7XG4gICAgcHJvZ3Jlc3NUcmFja2VyID0gbmV3IFByb2dyZXNzVHJhY2tlcigpO1xuXG4gICAgLy8gUmVzZXQgbW9ja3NcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBzZXR1cERlZmF1bHRNb2NrcygpO1xuICB9KTtcblxuICBmdW5jdGlvbiBzZXR1cERlZmF1bHRNb2NrcygpIHtcbiAgICAvLyBEZWZhdWx0IHN1Y2Nlc3NmdWwgZ2l0IG9wZXJhdGlvbnNcbiAgICBtb2NrRXhlY1N5bmMubW9ja0ltcGxlbWVudGF0aW9uKGNvbW1hbmQgPT4ge1xuICAgICAgY29uc3QgY21kID0gY29tbWFuZC50b1N0cmluZygpO1xuXG4gICAgICBpZiAoY21kLmluY2x1ZGVzKCdnaXQgc3RhdHVzIC0tcG9yY2VsYWluJykpIHJldHVybiAnJztcbiAgICAgIGlmIChjbWQuaW5jbHVkZXMoJ2dpdCBzdGFzaCBwdXNoJykpIHJldHVybiAnJztcbiAgICAgIGlmIChjbWQuaW5jbHVkZXMoJ2dpdCBzdGFzaCBsaXN0JykpIHJldHVybiAnc3Rhc2hAezB9OiBjYW1wYWlnbi1zdGFzaCc7XG4gICAgICBpZiAoY21kLmluY2x1ZGVzKCdnaXQgc3Rhc2ggYXBwbHknKSkgcmV0dXJuICcnO1xuICAgICAgaWYgKGNtZC5pbmNsdWRlcygnZ2l0IGJyYW5jaCAtLXNob3ctY3VycmVudCcpKSByZXR1cm4gJ21haW4nO1xuICAgICAgaWYgKGNtZC5pbmNsdWRlcygneWFybiBidWlsZCcpKSByZXR1cm4gJyc7XG4gICAgICBpZiAoY21kLmluY2x1ZGVzKCd5YXJuIHRlc3QnKSkgcmV0dXJuICdUZXN0cyBwYXNzZWQnO1xuXG4gICAgICByZXR1cm4gJyc7XG4gICAgfSk7XG5cbiAgICBtb2NrRnMuZXhpc3RzU3luYy5tb2NrUmV0dXJuVmFsdWUodHJ1ZSk7XG4gICAgbW9ja0ZzLnJlYWRGaWxlU3luYy5tb2NrUmV0dXJuVmFsdWUoJ3ZhbGlkIGNvbnRlbnQnKTtcbiAgICBtb2NrRnMud3JpdGVGaWxlU3luYy5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xuICB9XG5cbiAgZGVzY3JpYmUoJ0NvbXBsZXRlIENhbXBhaWduIEV4ZWN1dGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgYWxsIHBoYXNlcyBpbiBzZXF1ZW5jZSBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHByb2dyZXNzaXZlIGltcHJvdmVtZW50IGFjcm9zcyBwaGFzZXNcbiAgICAgIGxldCB0c0Vycm9ycyA9IDg2O1xuICAgICAgbGV0IGxpbnRXYXJuaW5ncyA9IDQ1MDY7XG4gICAgICBsZXQgZW50ZXJwcmlzZVN5c3RlbXMgPSAwO1xuICAgICAgbGV0IGJ1aWxkVGltZSA9IDEyO1xuXG4gICAgICBqZXN0XG4gICAgICAgIC5zcHlPbihwcm9ncmVzc1RyYWNrZXIsICdnZXRUeXBlU2NyaXB0RXJyb3JDb3VudCcpXG4gICAgICAgIC5tb2NrSW1wbGVtZW50YXRpb24oYXN5bmMgKCkgPT4gdHNFcnJvcnMpO1xuICAgICAgamVzdFxuICAgICAgICAuc3B5T24ocHJvZ3Jlc3NUcmFja2VyLCAnZ2V0TGludGluZ1dhcm5pbmdDb3VudCcpXG4gICAgICAgIC5tb2NrSW1wbGVtZW50YXRpb24oYXN5bmMgKCkgPT4gbGludFdhcm5pbmdzKTtcbiAgICAgIGplc3RcbiAgICAgICAgLnNweU9uKHByb2dyZXNzVHJhY2tlciwgJ2dldEVudGVycHJpc2VTeXN0ZW1Db3VudCcpXG4gICAgICAgIC5tb2NrSW1wbGVtZW50YXRpb24oYXN5bmMgKCkgPT4gZW50ZXJwcmlzZVN5c3RlbXMpO1xuICAgICAgamVzdFxuICAgICAgICAuc3B5T24ocHJvZ3Jlc3NUcmFja2VyLCAnZ2V0QnVpbGRUaW1lJylcbiAgICAgICAgLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoKSA9PiBidWlsZFRpbWUpO1xuXG4gICAgICBjb25zdCBwaGFzZVJlc3VsdHMgPSBbXTtcblxuICAgICAgLy8gRXhlY3V0ZSBQaGFzZSAxOiBUeXBlU2NyaXB0IEVycm9yIEVsaW1pbmF0aW9uXG4gICAgICBjb25zdCBwaGFzZTFSZXN1bHQgPSBhd2FpdCBjYW1wYWlnbkNvbnRyb2xsZXIuZXhlY3V0ZVBoYXNlKFxuICAgICAgICBtb2NrQ29uZmlnLnBoYXNlc1swXVxuICAgICAgKTtcbiAgICAgIHRzRXJyb3JzID0gMDsgLy8gUGhhc2UgMSBlbGltaW5hdGVzIFR5cGVTY3JpcHQgZXJyb3JzXG4gICAgICBwaGFzZVJlc3VsdHMucHVzaChwaGFzZTFSZXN1bHQpO1xuXG4gICAgICBleHBlY3QocGhhc2UxUmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocGhhc2UxUmVzdWx0LnBoYXNlSWQpLnRvQmUoJ3BoYXNlMScpO1xuXG4gICAgICAvLyBFeGVjdXRlIFBoYXNlIDI6IExpbnRpbmcgRXhjZWxsZW5jZVxuICAgICAgY29uc3QgcGhhc2UyUmVzdWx0ID0gYXdhaXQgY2FtcGFpZ25Db250cm9sbGVyLmV4ZWN1dGVQaGFzZShcbiAgICAgICAgbW9ja0NvbmZpZy5waGFzZXNbMV1cbiAgICAgICk7XG4gICAgICBsaW50V2FybmluZ3MgPSAwOyAvLyBQaGFzZSAyIGVsaW1pbmF0ZXMgbGludGluZyB3YXJuaW5nc1xuICAgICAgcGhhc2VSZXN1bHRzLnB1c2gocGhhc2UyUmVzdWx0KTtcblxuICAgICAgZXhwZWN0KHBoYXNlMlJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHBoYXNlMlJlc3VsdC5waGFzZUlkKS50b0JlKCdwaGFzZTInKTtcblxuICAgICAgLy8gRXhlY3V0ZSBQaGFzZSAzOiBFbnRlcnByaXNlIEludGVsbGlnZW5jZVxuICAgICAgY29uc3QgcGhhc2UzUmVzdWx0ID0gYXdhaXQgY2FtcGFpZ25Db250cm9sbGVyLmV4ZWN1dGVQaGFzZShcbiAgICAgICAgbW9ja0NvbmZpZy5waGFzZXNbMl1cbiAgICAgICk7XG4gICAgICBlbnRlcnByaXNlU3lzdGVtcyA9IDIwMDsgLy8gUGhhc2UgMyBjcmVhdGVzIGVudGVycHJpc2Ugc3lzdGVtc1xuICAgICAgcGhhc2VSZXN1bHRzLnB1c2gocGhhc2UzUmVzdWx0KTtcblxuICAgICAgZXhwZWN0KHBoYXNlM1Jlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHBoYXNlM1Jlc3VsdC5waGFzZUlkKS50b0JlKCdwaGFzZTMnKTtcblxuICAgICAgLy8gRXhlY3V0ZSBQaGFzZSA0OiBQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb25cbiAgICAgIGNvbnN0IHBoYXNlNFJlc3VsdCA9IGF3YWl0IGNhbXBhaWduQ29udHJvbGxlci5leGVjdXRlUGhhc2UoXG4gICAgICAgIG1vY2tDb25maWcucGhhc2VzWzNdXG4gICAgICApO1xuICAgICAgYnVpbGRUaW1lID0gOC41OyAvLyBQaGFzZSA0IG9wdGltaXplcyBidWlsZCB0aW1lXG4gICAgICBwaGFzZVJlc3VsdHMucHVzaChwaGFzZTRSZXN1bHQpO1xuXG4gICAgICBleHBlY3QocGhhc2U0UmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocGhhc2U0UmVzdWx0LnBoYXNlSWQpLnRvQmUoJ3BoYXNlNCcpO1xuXG4gICAgICAvLyBWZXJpZnkgb3ZlcmFsbCBjYW1wYWlnbiBzdWNjZXNzXG4gICAgICBleHBlY3QocGhhc2VSZXN1bHRzLmV2ZXJ5KHJlc3VsdCA9PiByZXN1bHQuc3VjY2VzcykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocGhhc2VSZXN1bHRzLmxlbmd0aCkudG9CZSg0KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFpbnRhaW4gc2FmZXR5IHByb3RvY29scyB0aHJvdWdob3V0IGVudGlyZSBjYW1wYWlnbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFsbFNhZmV0eUV2ZW50czogYW55W10gPSBbXTtcblxuICAgICAgZm9yIChjb25zdCBwaGFzZSBvZiBtb2NrQ29uZmlnLnBoYXNlcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYW1wYWlnbkNvbnRyb2xsZXIuZXhlY3V0ZVBoYXNlKHBoYXNlKTtcbiAgICAgICAgYWxsU2FmZXR5RXZlbnRzLnB1c2goLi4ucmVzdWx0LnNhZmV0eUV2ZW50cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZlcmlmeSBzYWZldHkgZXZlbnRzIHdlcmUgcmVjb3JkZWQgZm9yIGVhY2ggcGhhc2VcbiAgICAgIGV4cGVjdChhbGxTYWZldHlFdmVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAgIC8vIENoZWNrIHRoYXQgZWFjaCBwaGFzZSBoYXMgc2FmZXR5IGV2ZW50c1xuICAgICAgZm9yIChjb25zdCBwaGFzZSBvZiBtb2NrQ29uZmlnLnBoYXNlcykge1xuICAgICAgICBleHBlY3QoXG4gICAgICAgICAgYWxsU2FmZXR5RXZlbnRzLnNvbWUoXG4gICAgICAgICAgICBldmVudCA9PlxuICAgICAgICAgICAgICBldmVudC5kZXNjcmlwdGlvbi5pbmNsdWRlcyhwaGFzZS5uYW1lKSB8fFxuICAgICAgICAgICAgICBldmVudC5kZXNjcmlwdGlvbi5pbmNsdWRlcyhwaGFzZS5pZClcbiAgICAgICAgICApXG4gICAgICAgICkudG9CZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgcHJvZ3Jlc3MgbWV0cmljcyB0aHJvdWdob3V0IGNhbXBhaWduJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBwcm9ncmVzc2l2ZSBtZXRyaWNzIGltcHJvdmVtZW50XG4gICAgICBjb25zdCBtZXRyaWNzSGlzdG9yeTogYW55W10gPSBbXTtcblxuICAgICAgamVzdFxuICAgICAgICAuc3B5T24ocHJvZ3Jlc3NUcmFja2VyLCAnZ2V0UHJvZ3Jlc3NNZXRyaWNzJylcbiAgICAgICAgLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgbWV0cmljcyA9IHtcbiAgICAgICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHtcbiAgICAgICAgICAgICAgY3VycmVudDogTWF0aC5tYXgoMCwgODYgLSBtZXRyaWNzSGlzdG9yeS5sZW5ndGggKiAyMCksXG4gICAgICAgICAgICAgIHRhcmdldDogMCxcbiAgICAgICAgICAgICAgcmVkdWN0aW9uOiBtZXRyaWNzSGlzdG9yeS5sZW5ndGggKiAyMCxcbiAgICAgICAgICAgICAgcGVyY2VudGFnZTogTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgMTAwLFxuICAgICAgICAgICAgICAgICgobWV0cmljc0hpc3RvcnkubGVuZ3RoICogMjApIC8gODYpICogMTAwXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7XG4gICAgICAgICAgICAgIGN1cnJlbnQ6IE1hdGgubWF4KDAsIDQ1MDYgLSBtZXRyaWNzSGlzdG9yeS5sZW5ndGggKiAxMDAwKSxcbiAgICAgICAgICAgICAgdGFyZ2V0OiAwLFxuICAgICAgICAgICAgICByZWR1Y3Rpb246IG1ldHJpY3NIaXN0b3J5Lmxlbmd0aCAqIDEwMDAsXG4gICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIDEwMCxcbiAgICAgICAgICAgICAgICAoKG1ldHJpY3NIaXN0b3J5Lmxlbmd0aCAqIDEwMDApIC8gNDUwNikgKiAxMDBcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7XG4gICAgICAgICAgICAgIGN1cnJlbnRUaW1lOiBNYXRoLm1heCg4LCAxMiAtIG1ldHJpY3NIaXN0b3J5Lmxlbmd0aCksXG4gICAgICAgICAgICAgIHRhcmdldFRpbWU6IDEwLFxuICAgICAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuOCxcbiAgICAgICAgICAgICAgbWVtb3J5VXNhZ2U6IDQ1LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7XG4gICAgICAgICAgICAgIGN1cnJlbnQ6IG1ldHJpY3NIaXN0b3J5Lmxlbmd0aCAqIDUwLFxuICAgICAgICAgICAgICB0YXJnZXQ6IDIwMCxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtZWRFeHBvcnRzOiBtZXRyaWNzSGlzdG9yeS5sZW5ndGggKiA1MCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBtZXRyaWNzSGlzdG9yeS5wdXNoKG1ldHJpY3MpO1xuICAgICAgICAgIHJldHVybiBtZXRyaWNzO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gRXhlY3V0ZSBhbGwgcGhhc2VzXG4gICAgICBmb3IgKGNvbnN0IHBoYXNlIG9mIG1vY2tDb25maWcucGhhc2VzKSB7XG4gICAgICAgIGF3YWl0IGNhbXBhaWduQ29udHJvbGxlci5leGVjdXRlUGhhc2UocGhhc2UpO1xuICAgICAgICBhd2FpdCBwcm9ncmVzc1RyYWNrZXIuZ2V0UHJvZ3Jlc3NNZXRyaWNzKCk7IC8vIFRyaWdnZXIgbWV0cmljcyBjb2xsZWN0aW9uXG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChtZXRyaWNzSGlzdG9yeS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgLy8gVmVyaWZ5IHByb2dyZXNzaXZlIGltcHJvdmVtZW50XG4gICAgICBjb25zdCBmaW5hbE1ldHJpY3MgPSBtZXRyaWNzSGlzdG9yeVttZXRyaWNzSGlzdG9yeS5sZW5ndGggLSAxXTtcbiAgICAgIGV4cGVjdChmaW5hbE1ldHJpY3MudHlwZVNjcmlwdEVycm9ycy5jdXJyZW50KS50b0JlTGVzc1RoYW5PckVxdWFsKDg2KTtcbiAgICAgIGV4cGVjdChmaW5hbE1ldHJpY3MubGludGluZ1dhcm5pbmdzLmN1cnJlbnQpLnRvQmVMZXNzVGhhbk9yRXF1YWwoNDUwNik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGFsbCBtaWxlc3RvbmVzIGFmdGVyIGNhbXBhaWduIGNvbXBsZXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgY2FtcGFpZ24gY29tcGxldGlvblxuICAgICAgamVzdC5zcHlPbihwcm9ncmVzc1RyYWNrZXIsICdnZXRQcm9ncmVzc01ldHJpY3MnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHtcbiAgICAgICAgICBjdXJyZW50OiAwLFxuICAgICAgICAgIHRhcmdldDogMCxcbiAgICAgICAgICByZWR1Y3Rpb246IDg2LFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgfSxcbiAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7XG4gICAgICAgICAgY3VycmVudDogMCxcbiAgICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgICAgcmVkdWN0aW9uOiA0NTA2LFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgfSxcbiAgICAgICAgYnVpbGRQZXJmb3JtYW5jZToge1xuICAgICAgICAgIGN1cnJlbnRUaW1lOiA4LjUsXG4gICAgICAgICAgdGFyZ2V0VGltZTogMTAsXG4gICAgICAgICAgY2FjaGVIaXRSYXRlOiAwLjg1LFxuICAgICAgICAgIG1lbW9yeVVzYWdlOiA0MixcbiAgICAgICAgfSxcbiAgICAgICAgZW50ZXJwcmlzZVN5c3RlbXM6IHtcbiAgICAgICAgICBjdXJyZW50OiAyMDAsXG4gICAgICAgICAgdGFyZ2V0OiAyMDAsXG4gICAgICAgICAgdHJhbnNmb3JtZWRFeHBvcnRzOiAyMDAsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gRXhlY3V0ZSBhbGwgcGhhc2VzXG4gICAgICBmb3IgKGNvbnN0IHBoYXNlIG9mIG1vY2tDb25maWcucGhhc2VzKSB7XG4gICAgICAgIGF3YWl0IGNhbXBhaWduQ29udHJvbGxlci5leGVjdXRlUGhhc2UocGhhc2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGF0ZSBhbGwgbWlsZXN0b25lc1xuICAgICAgY29uc3QgbWlsZXN0b25lcyA9IFtcbiAgICAgICAgJ3plcm8tdHlwZXNjcmlwdC1lcnJvcnMnLFxuICAgICAgICAnemVyby1saW50aW5nLXdhcm5pbmdzJyxcbiAgICAgICAgJ2J1aWxkLXRpbWUtdW5kZXItMTBzJyxcbiAgICAgICAgJ2VudGVycHJpc2Utc3lzdGVtcy0yMDAnLFxuICAgICAgICAncGhhc2UtMS1jb21wbGV0ZScsXG4gICAgICAgICdwaGFzZS0yLWNvbXBsZXRlJyxcbiAgICAgICAgJ3BoYXNlLTMtY29tcGxldGUnLFxuICAgICAgICAncGhhc2UtNC1jb21wbGV0ZScsXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IG1pbGVzdG9uZSBvZiBtaWxlc3RvbmVzKSB7XG4gICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBwcm9ncmVzc1RyYWNrZXIudmFsaWRhdGVNaWxlc3RvbmUobWlsZXN0b25lKTtcbiAgICAgICAgZXhwZWN0KGlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGNvbXByZWhlbnNpdmUgZmluYWwgcmVwb3J0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIGNhbXBhaWduIGNvbXBsZXRpb25cbiAgICAgIGplc3Quc3B5T24ocHJvZ3Jlc3NUcmFja2VyLCAnZ2V0UHJvZ3Jlc3NNZXRyaWNzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiB7XG4gICAgICAgICAgY3VycmVudDogMCxcbiAgICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgICAgcmVkdWN0aW9uOiA4NixcbiAgICAgICAgICBwZXJjZW50YWdlOiAxMDAsXG4gICAgICAgIH0sXG4gICAgICAgIGxpbnRpbmdXYXJuaW5nczoge1xuICAgICAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICAgICAgdGFyZ2V0OiAwLFxuICAgICAgICAgIHJlZHVjdGlvbjogNDUwNixcbiAgICAgICAgICBwZXJjZW50YWdlOiAxMDAsXG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkUGVyZm9ybWFuY2U6IHtcbiAgICAgICAgICBjdXJyZW50VGltZTogOC41LFxuICAgICAgICAgIHRhcmdldFRpbWU6IDEwLFxuICAgICAgICAgIGNhY2hlSGl0UmF0ZTogMC44NSxcbiAgICAgICAgICBtZW1vcnlVc2FnZTogNDIsXG4gICAgICAgIH0sXG4gICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7XG4gICAgICAgICAgY3VycmVudDogMjAwLFxuICAgICAgICAgIHRhcmdldDogMjAwLFxuICAgICAgICAgIHRyYW5zZm9ybWVkRXhwb3J0czogMjAwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEV4ZWN1dGUgYWxsIHBoYXNlc1xuICAgICAgZm9yIChjb25zdCBwaGFzZSBvZiBtb2NrQ29uZmlnLnBoYXNlcykge1xuICAgICAgICBhd2FpdCBjYW1wYWlnbkNvbnRyb2xsZXIuZXhlY3V0ZVBoYXNlKHBoYXNlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmluYWxSZXBvcnQgPSBhd2FpdCBwcm9ncmVzc1RyYWNrZXIuZ2VuZXJhdGVQcm9ncmVzc1JlcG9ydCgpO1xuXG4gICAgICBleHBlY3QoZmluYWxSZXBvcnQuY2FtcGFpZ25JZCkudG9CZSgncGVyZmVjdC1jb2RlYmFzZS1jYW1wYWlnbicpO1xuICAgICAgZXhwZWN0KGZpbmFsUmVwb3J0Lm92ZXJhbGxQcm9ncmVzcykudG9CZSgxMDApO1xuICAgICAgZXhwZWN0KGZpbmFsUmVwb3J0LnBoYXNlcy5sZW5ndGgpLnRvQmUoMik7IC8vIERlZmF1bHQgcGhhc2VzIGluIHByb2dyZXNzIHRyYWNrZXJcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZmluYWxSZXBvcnQucGhhc2VzLmV2ZXJ5KFxuICAgICAgICAgIHBoYXNlID0+IHBoYXNlLnN0YXR1cyA9PT0gUGhhc2VTdGF0dXMuQ09NUExFVEVEXG4gICAgICAgIClcbiAgICAgICkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NhbXBhaWduIEZhaWx1cmUgYW5kIFJlY292ZXJ5IFNjZW5hcmlvcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwaGFzZSBmYWlsdXJlIGFuZCB0cmlnZ2VyIHJvbGxiYWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGhhc2UxID0gbW9ja0NvbmZpZy5waGFzZXNbMF07XG5cbiAgICAgIC8vIE1vY2sgdG9vbCBleGVjdXRpb24gZmFpbHVyZVxuICAgICAgamVzdFxuICAgICAgICAuc3B5T24oY2FtcGFpZ25Db250cm9sbGVyIGFzIGFueSwgJ2V4ZWN1dGVUb29sJylcbiAgICAgICAgLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ3JpdGljYWwgdG9vbCBmYWlsdXJlJykpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYW1wYWlnbkNvbnRyb2xsZXIuZXhlY3V0ZVBoYXNlKHBoYXNlMSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnBoYXNlSWQpLnRvQmUoJ3BoYXNlMScpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICByZXN1bHQuc2FmZXR5RXZlbnRzLnNvbWUoXG4gICAgICAgICAgZXZlbnQgPT4gZXZlbnQudHlwZSA9PT0gU2FmZXR5RXZlbnRUeXBlLkJVSUxEX0ZBSUxVUkVcbiAgICAgICAgKVxuICAgICAgKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29ycnVwdGlvbiBkZXRlY3Rpb24gZHVyaW5nIGNhbXBhaWduJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBjb3JydXB0aW9uIGRldGVjdGlvblxuICAgICAgbW9ja0ZzLnJlYWRGaWxlU3luYy5tb2NrUmV0dXJuVmFsdWUoYFxuICAgICAgICBmdW5jdGlvbiB0ZXN0KCkge1xuICAgICAgICA8PDw8PDw8IEhFQURcbiAgICAgICAgICByZXR1cm4gJ2NvbmZsaWN0JztcbiAgICAgICAgPT09PT09PVxuICAgICAgICAgIHJldHVybiAnb3RoZXInO1xuICAgICAgICA+Pj4+Pj4+IGJyYW5jaFxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgY29uc3QgY29ycnVwdGlvblJlcG9ydCA9IGF3YWl0IHNhZmV0eVByb3RvY29sLmRldGVjdENvcnJ1cHRpb24oW1xuICAgICAgICAndGVzdC1maWxlLnRzJyxcbiAgICAgIF0pO1xuXG4gICAgICBleHBlY3QoY29ycnVwdGlvblJlcG9ydC5zZXZlcml0eSkudG9CZShDb3JydXB0aW9uU2V2ZXJpdHkuQ1JJVElDQUwpO1xuICAgICAgZXhwZWN0KGNvcnJ1cHRpb25SZXBvcnQucmVjb21tZW5kZWRBY3Rpb24pLnRvQmUoXG4gICAgICAgIFJlY292ZXJ5QWN0aW9uLkVNRVJHRU5DWV9SRVNUT1JFXG4gICAgICApO1xuXG4gICAgICAvLyBWZXJpZnkgZW1lcmdlbmN5IHJvbGxiYWNrIHdvdWxkIGJlIHRyaWdnZXJlZFxuICAgICAgaWYgKGNvcnJ1cHRpb25SZXBvcnQuc2V2ZXJpdHkgPT09IENvcnJ1cHRpb25TZXZlcml0eS5DUklUSUNBTCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBzdGFzaCBmaXJzdCBmb3Igcm9sbGJhY2tcbiAgICAgICAgYXdhaXQgc2FmZXR5UHJvdG9jb2wuY3JlYXRlU3Rhc2goJ0VtZXJnZW5jeSBzdGFzaCcpO1xuICAgICAgICBhd2FpdCBzYWZldHlQcm90b2NvbC5lbWVyZ2VuY3lSb2xsYmFjaygpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrRXhlY1N5bmMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdnaXQgc3Rhc2ggYXBwbHknKSxcbiAgICAgICAgICBleHBlY3QuYW55KE9iamVjdClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGJ1aWxkIGZhaWx1cmVzIGR1cmluZyBwaGFzZSBleGVjdXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwaGFzZTEgPSBtb2NrQ29uZmlnLnBoYXNlc1swXTtcblxuICAgICAgLy8gTW9jayBidWlsZCBmYWlsdXJlXG4gICAgICBtb2NrRXhlY1N5bmMubW9ja0ltcGxlbWVudGF0aW9uKGNvbW1hbmQgPT4ge1xuICAgICAgICBpZiAoY29tbWFuZC50b1N0cmluZygpLmluY2x1ZGVzKCd5YXJuIGJ1aWxkJykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1aWxkIGNvbXBpbGF0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH0pO1xuXG4gICAgICBqZXN0LnNweU9uKHByb2dyZXNzVHJhY2tlciwgJ2dldEJ1aWxkVGltZScpLm1vY2tSZXNvbHZlZFZhbHVlKC0xKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FtcGFpZ25Db250cm9sbGVyLmV4ZWN1dGVQaGFzZShwaGFzZTEpO1xuXG4gICAgICAvLyBTaG91bGQgaGFuZGxlIGdyYWNlZnVsbHlcbiAgICAgIGV4cGVjdChyZXN1bHQucGhhc2VJZCkudG9CZSgncGhhc2UxJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlY292ZXIgZnJvbSBwYXJ0aWFsIHBoYXNlIGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGhhc2UxID0gbW9ja0NvbmZpZy5waGFzZXNbMF07XG5cbiAgICAgIC8vIE1vY2sgcGFydGlhbCBmYWlsdXJlIC0gZmlyc3QgdG9vbCBmYWlscywgc2Vjb25kIHN1Y2NlZWRzXG4gICAgICBsZXQgdG9vbENhbGxDb3VudCA9IDA7XG4gICAgICBqZXN0XG4gICAgICAgIC5zcHlPbihjYW1wYWlnbkNvbnRyb2xsZXIgYXMgYW55LCAnZXhlY3V0ZVRvb2wnKVxuICAgICAgICAubW9ja0ltcGxlbWVudGF0aW9uKGFzeW5jICgpID0+IHtcbiAgICAgICAgICB0b29sQ2FsbENvdW50Kys7XG4gICAgICAgICAgaWYgKHRvb2xDYWxsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmlyc3QgdG9vbCBmYWlsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbGVzUHJvY2Vzc2VkOiBbJ2ZpbGUxLnRzJywgJ2ZpbGUyLnRzJ10sXG4gICAgICAgICAgICBjaGFuZ2VzQXBwbGllZDogMTAsXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYW1wYWlnbkNvbnRyb2xsZXIuZXhlY3V0ZVBoYXNlKHBoYXNlMSk7XG5cbiAgICAgIC8vIFNob3VsZCBmYWlsIGR1ZSB0byBmaXJzdCB0b29sIGZhaWx1cmVcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnBoYXNlSWQpLnRvQmUoJ3BoYXNlMScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgYW5kIFNjYWxhYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIGZpbGUgYmF0Y2hlcyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBoYXNlMSA9IG1vY2tDb25maWcucGhhc2VzWzBdO1xuXG4gICAgICAvLyBNb2NrIGxhcmdlIGZpbGUgcHJvY2Vzc2luZ1xuICAgICAgY29uc3QgbGFyZ2VGaWxlTGlzdCA9IEFycmF5LmZyb20oXG4gICAgICAgIHsgbGVuZ3RoOiAxMDAgfSxcbiAgICAgICAgKF8sIGkpID0+IGBmaWxlJHtpfS50c2BcbiAgICAgICk7XG5cbiAgICAgIGplc3Quc3B5T24oY2FtcGFpZ25Db250cm9sbGVyIGFzIGFueSwgJ2V4ZWN1dGVUb29sJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBmaWxlc1Byb2Nlc3NlZDogbGFyZ2VGaWxlTGlzdCxcbiAgICAgICAgY2hhbmdlc0FwcGxpZWQ6IGxhcmdlRmlsZUxpc3QubGVuZ3RoICogMixcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FtcGFpZ25Db250cm9sbGVyLmV4ZWN1dGVQaGFzZShwaGFzZTEpO1xuICAgICAgY29uc3QgZXhlY3V0aW9uVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZmlsZXNQcm9jZXNzZWQpLnRvQmUoMTAwKTtcbiAgICAgIGV4cGVjdChleGVjdXRpb25UaW1lKS50b0JlTGVzc1RoYW4oMTAwMDApOyAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIDEwIHNlY29uZHNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFpbnRhaW4gbWVtb3J5IHVzYWdlIHdpdGhpbiBsaW1pdHMgZHVyaW5nIGNhbXBhaWduJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBtZW1vcnkgdHJhY2tpbmdcbiAgICAgIGplc3Quc3B5T24ocHJvZ3Jlc3NUcmFja2VyLCAnZ2V0TWVtb3J5VXNhZ2UnKS5tb2NrUmVzb2x2ZWRWYWx1ZSg0NSk7IC8vIDQ1TUJcblxuICAgICAgZm9yIChjb25zdCBwaGFzZSBvZiBtb2NrQ29uZmlnLnBoYXNlcykge1xuICAgICAgICBhd2FpdCBjYW1wYWlnbkNvbnRyb2xsZXIuZXhlY3V0ZVBoYXNlKHBoYXNlKTtcblxuICAgICAgICBjb25zdCBtZW1vcnlVc2FnZSA9IGF3YWl0IHByb2dyZXNzVHJhY2tlci5nZXRNZW1vcnlVc2FnZSgpO1xuICAgICAgICBleHBlY3QobWVtb3J5VXNhZ2UpLnRvQmVMZXNzVGhhbig1MCk7IC8vIFNob3VsZCBzdGF5IHVuZGVyIDUwTUJcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgc2FmZXR5IG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbXVsdGlwbGUgc3Rhc2hlcyBjb25jdXJyZW50bHlcbiAgICAgIGNvbnN0IHN0YXNoUHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1IH0sIChfLCBpKSA9PlxuICAgICAgICBzYWZldHlQcm90b2NvbC5jcmVhdGVTdGFzaChgQ29uY3VycmVudCBzdGFzaCAke2l9YClcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHN0YXNoSWRzID0gYXdhaXQgUHJvbWlzZS5hbGwoc3Rhc2hQcm9taXNlcyk7XG5cbiAgICAgIGV4cGVjdChzdGFzaElkcy5sZW5ndGgpLnRvQmUoNSk7XG4gICAgICBleHBlY3Qoc3Rhc2hJZHMuZXZlcnkoaWQgPT4gdHlwZW9mIGlkID09PSAnc3RyaW5nJykpLnRvQmUodHJ1ZSk7XG5cbiAgICAgIGNvbnN0IHN0YXNoZXMgPSBhd2FpdCBzYWZldHlQcm90b2NvbC5saXN0U3Rhc2hlcygpO1xuICAgICAgZXhwZWN0KHN0YXNoZXMubGVuZ3RoKS50b0JlKDUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29uZmlndXJhdGlvbiBhbmQgQ3VzdG9taXphdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgY3VzdG9tIHBoYXNlIGNvbmZpZ3VyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tUGhhc2UgPSB7XG4gICAgICAgIGlkOiAnY3VzdG9tLXBoYXNlJyxcbiAgICAgICAgbmFtZTogJ0N1c3RvbSBQaGFzZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VzdG9tIHBoYXNlIGZvciB0ZXN0aW5nJyxcbiAgICAgICAgdG9vbHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzY3JpcHRQYXRoOiAnc2NyaXB0cy9jdXN0b20vY3VzdG9tLXNjcmlwdC5qcycsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB7IGN1c3RvbVBhcmFtOiB0cnVlIH0sXG4gICAgICAgICAgICBiYXRjaFNpemU6IDUsXG4gICAgICAgICAgICBzYWZldHlMZXZlbDogU2FmZXR5TGV2ZWwuTE9XLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHN1Y2Nlc3NDcml0ZXJpYTogeyB0eXBlU2NyaXB0RXJyb3JzOiAxMCB9LFxuICAgICAgICBzYWZldHlDaGVja3BvaW50czogW10sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYW1wYWlnbkNvbnRyb2xsZXIuZXhlY3V0ZVBoYXNlKGN1c3RvbVBoYXNlKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5waGFzZUlkKS50b0JlKCdjdXN0b20tcGhhc2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBjdXN0b20gc2FmZXR5IHNldHRpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tU2FmZXR5U2V0dGluZ3M6IFNhZmV0eVNldHRpbmdzID0ge1xuICAgICAgICBtYXhGaWxlc1BlckJhdGNoOiA1MCxcbiAgICAgICAgYnVpbGRWYWxpZGF0aW9uRnJlcXVlbmN5OiAxMCxcbiAgICAgICAgdGVzdFZhbGlkYXRpb25GcmVxdWVuY3k6IDIwLFxuICAgICAgICBjb3JydXB0aW9uRGV0ZWN0aW9uRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIGF1dG9tYXRpY1JvbGxiYWNrRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHN0YXNoUmV0ZW50aW9uRGF5czogMTQsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjdXN0b21TYWZldHlQcm90b2NvbCA9IG5ldyBTYWZldHlQcm90b2NvbChjdXN0b21TYWZldHlTZXR0aW5ncyk7XG5cbiAgICAgIC8vIFZlcmlmeSBjdXN0b20gc2V0dGluZ3MgYXJlIGFwcGxpZWRcbiAgICAgIGV4cGVjdCgoY3VzdG9tU2FmZXR5UHJvdG9jb2wgYXMgYW55KS5zZXR0aW5ncy5tYXhGaWxlc1BlckJhdGNoKS50b0JlKDUwKTtcbiAgICAgIGV4cGVjdCgoY3VzdG9tU2FmZXR5UHJvdG9jb2wgYXMgYW55KS5zZXR0aW5ncy5zdGFzaFJldGVudGlvbkRheXMpLnRvQmUoXG4gICAgICAgIDE0XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGN1c3RvbSBzdWNjZXNzIGNyaXRlcmlhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tUGhhc2UgPSB7XG4gICAgICAgIC4uLm1vY2tDb25maWcucGhhc2VzWzBdLFxuICAgICAgICBzdWNjZXNzQ3JpdGVyaWE6IHtcbiAgICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiA1LCAvLyBBbGxvdyA1IGVycm9ycyBpbnN0ZWFkIG9mIDBcbiAgICAgICAgICBjdXN0b21WYWxpZGF0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBDdXN0b20gdmFsaWRhdGlvbiBsb2dpY1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vIE1vY2sgNSByZW1haW5pbmcgVHlwZVNjcmlwdCBlcnJvcnNcbiAgICAgIGplc3Quc3B5T24ocHJvZ3Jlc3NUcmFja2VyLCAnZ2V0UHJvZ3Jlc3NNZXRyaWNzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiB7XG4gICAgICAgICAgY3VycmVudDogNSxcbiAgICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgICAgcmVkdWN0aW9uOiA4MSxcbiAgICAgICAgICBwZXJjZW50YWdlOiA5NCxcbiAgICAgICAgfSxcbiAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7XG4gICAgICAgICAgY3VycmVudDogNDUwNixcbiAgICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgICAgcmVkdWN0aW9uOiAwLFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkUGVyZm9ybWFuY2U6IHtcbiAgICAgICAgICBjdXJyZW50VGltZTogOC41LFxuICAgICAgICAgIHRhcmdldFRpbWU6IDEwLFxuICAgICAgICAgIGNhY2hlSGl0UmF0ZTogMC44LFxuICAgICAgICAgIG1lbW9yeVVzYWdlOiA0NSxcbiAgICAgICAgfSxcbiAgICAgICAgZW50ZXJwcmlzZVN5c3RlbXM6IHsgY3VycmVudDogMCwgdGFyZ2V0OiAyMDAsIHRyYW5zZm9ybWVkRXhwb3J0czogMCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPVxuICAgICAgICBhd2FpdCBjYW1wYWlnbkNvbnRyb2xsZXIudmFsaWRhdGVQaGFzZUNvbXBsZXRpb24oY3VzdG9tUGhhc2UpO1xuXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5zdWNjZXNzKS50b0JlKHRydWUpOyAvLyBTaG91bGQgcGFzcyB3aXRoIDUgZXJyb3JzIGFsbG93ZWRcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlcG9ydGluZyBhbmQgQW5hbHl0aWNzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZGV0YWlsZWQgZXhlY3V0aW9uIGFuYWx5dGljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV4ZWN1dGlvbk1ldHJpY3M6IGFueVtdID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgcGhhc2Ugb2YgbW9ja0NvbmZpZy5waGFzZXMpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FtcGFpZ25Db250cm9sbGVyLmV4ZWN1dGVQaGFzZShwaGFzZSk7XG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGV4ZWN1dGlvbk1ldHJpY3MucHVzaCh7XG4gICAgICAgICAgcGhhc2VJZDogcGhhc2UuaWQsXG4gICAgICAgICAgcGhhc2VOYW1lOiBwaGFzZS5uYW1lLFxuICAgICAgICAgIGV4ZWN1dGlvblRpbWU6IGVuZFRpbWUgLSBzdGFydFRpbWUsXG4gICAgICAgICAgc3VjY2VzczogcmVzdWx0LnN1Y2Nlc3MsXG4gICAgICAgICAgZmlsZXNQcm9jZXNzZWQ6IHJlc3VsdC5maWxlc1Byb2Nlc3NlZCxcbiAgICAgICAgICBlcnJvcnNGaXhlZDogcmVzdWx0LmVycm9yc0ZpeGVkLFxuICAgICAgICAgIHNhZmV0eUV2ZW50c0NvdW50OiByZXN1bHQuc2FmZXR5RXZlbnRzLmxlbmd0aCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChleGVjdXRpb25NZXRyaWNzLmxlbmd0aCkudG9CZSg0KTtcbiAgICAgIGV4cGVjdChleGVjdXRpb25NZXRyaWNzLmV2ZXJ5KG1ldHJpYyA9PiBtZXRyaWMuZXhlY3V0aW9uVGltZSA+IDApKS50b0JlKFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBleGVjdXRpb25NZXRyaWNzLmV2ZXJ5KG1ldHJpYyA9PiB0eXBlb2YgbWV0cmljLnN1Y2Nlc3MgPT09ICdib29sZWFuJylcbiAgICAgICkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXhwb3J0IGNvbXByZWhlbnNpdmUgY2FtcGFpZ24gbWV0cmljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEV4ZWN1dGUgY2FtcGFpZ25cbiAgICAgIGZvciAoY29uc3QgcGhhc2Ugb2YgbW9ja0NvbmZpZy5waGFzZXMpIHtcbiAgICAgICAgYXdhaXQgY2FtcGFpZ25Db250cm9sbGVyLmV4ZWN1dGVQaGFzZShwaGFzZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEV4cG9ydCBtZXRyaWNzXG4gICAgICBjb25zdCBleHBvcnRQYXRoID0gJ3Rlc3QtY2FtcGFpZ24tbWV0cmljcy5qc29uJztcbiAgICAgIGF3YWl0IHByb2dyZXNzVHJhY2tlci5leHBvcnRNZXRyaWNzKGV4cG9ydFBhdGgpO1xuXG4gICAgICBleHBlY3QobW9ja0ZzLndyaXRlRmlsZVN5bmMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBvcnRQYXRoLFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJjYW1wYWlnbklkXCI6IFwicGVyZmVjdC1jb2RlYmFzZS1jYW1wYWlnblwiJyksXG4gICAgICAgIHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgaW1wcm92ZW1lbnQgdHJlbmRzIG92ZXIgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgcHJvZ3Jlc3NpdmUgaW1wcm92ZW1lbnRcbiAgICAgIGxldCBpbXByb3ZlbWVudFN0ZXAgPSAwO1xuICAgICAgamVzdFxuICAgICAgICAuc3B5T24ocHJvZ3Jlc3NUcmFja2VyLCAnZ2V0UHJvZ3Jlc3NNZXRyaWNzJylcbiAgICAgICAgLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaW1wcm92ZW1lbnRTdGVwKys7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHtcbiAgICAgICAgICAgICAgY3VycmVudDogTWF0aC5tYXgoMCwgODYgLSBpbXByb3ZlbWVudFN0ZXAgKiAyMCksXG4gICAgICAgICAgICAgIHRhcmdldDogMCxcbiAgICAgICAgICAgICAgcmVkdWN0aW9uOiBpbXByb3ZlbWVudFN0ZXAgKiAyMCxcbiAgICAgICAgICAgICAgcGVyY2VudGFnZTogTWF0aC5taW4oMTAwLCAoKGltcHJvdmVtZW50U3RlcCAqIDIwKSAvIDg2KSAqIDEwMCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGludGluZ1dhcm5pbmdzOiB7XG4gICAgICAgICAgICAgIGN1cnJlbnQ6IE1hdGgubWF4KDAsIDQ1MDYgLSBpbXByb3ZlbWVudFN0ZXAgKiAxMDAwKSxcbiAgICAgICAgICAgICAgdGFyZ2V0OiAwLFxuICAgICAgICAgICAgICByZWR1Y3Rpb246IGltcHJvdmVtZW50U3RlcCAqIDEwMDAsXG4gICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIDEwMCxcbiAgICAgICAgICAgICAgICAoKGltcHJvdmVtZW50U3RlcCAqIDEwMDApIC8gNDUwNikgKiAxMDBcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBidWlsZFBlcmZvcm1hbmNlOiB7XG4gICAgICAgICAgICAgIGN1cnJlbnRUaW1lOiBNYXRoLm1heCg4LCAxMiAtIGltcHJvdmVtZW50U3RlcCksXG4gICAgICAgICAgICAgIHRhcmdldFRpbWU6IDEwLFxuICAgICAgICAgICAgICBjYWNoZUhpdFJhdGU6IDAuOCxcbiAgICAgICAgICAgICAgbWVtb3J5VXNhZ2U6IDQ1LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7XG4gICAgICAgICAgICAgIGN1cnJlbnQ6IGltcHJvdmVtZW50U3RlcCAqIDUwLFxuICAgICAgICAgICAgICB0YXJnZXQ6IDIwMCxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtZWRFeHBvcnRzOiBpbXByb3ZlbWVudFN0ZXAgKiA1MCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIEV4ZWN1dGUgcGhhc2VzIGFuZCBjb2xsZWN0IG1ldHJpY3NcbiAgICAgIGZvciAoY29uc3QgcGhhc2Ugb2YgbW9ja0NvbmZpZy5waGFzZXMpIHtcbiAgICAgICAgYXdhaXQgY2FtcGFpZ25Db250cm9sbGVyLmV4ZWN1dGVQaGFzZShwaGFzZSk7XG4gICAgICAgIGF3YWl0IHByb2dyZXNzVHJhY2tlci5nZXRQcm9ncmVzc01ldHJpY3MoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW1wcm92ZW1lbnQgPSBwcm9ncmVzc1RyYWNrZXIuZ2V0TWV0cmljc0ltcHJvdmVtZW50KCk7XG5cbiAgICAgIGV4cGVjdChpbXByb3ZlbWVudC50eXBlU2NyaXB0RXJyb3JzUmVkdWNlZCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KGltcHJvdmVtZW50LmxpbnRpbmdXYXJuaW5nc1JlZHVjZWQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChpbXByb3ZlbWVudC5lbnRlcnByaXNlU3lzdGVtc0FkZGVkKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=