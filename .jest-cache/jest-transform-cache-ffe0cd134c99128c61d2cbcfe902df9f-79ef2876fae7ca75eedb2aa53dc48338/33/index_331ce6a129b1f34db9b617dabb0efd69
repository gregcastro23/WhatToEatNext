f638fd1e8819c7d3bc73553a081079f6
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.allOils = exports.nutOils = exports.dressingOils = exports.bakingOils = exports.highHeatOils = exports.airOils = exports.earthOils = exports.waterOils = exports.fireOils = exports.specialtyOils = exports.supplementOils = exports.finishingOils = exports.cookingOils = exports.processedOils = exports.oils = void 0;
const oils_1 = require("./oils");
Object.defineProperty(exports, "oils", { enumerable: true, get: function () { return oils_1.oils; } });
const elementalUtils_1 = require("@/utils/elementalUtils");
// Process oils to add enhanced properties
exports.processedOils = (0, elementalUtils_1.fixIngredientMappings)(oils_1.oils);
// Export enhanced oils as default
exports.default = exports.processedOils;
// Export specific oil categories
exports.cookingOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => value.subCategory === 'cooking')
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.finishingOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => value.subCategory === 'finishing')
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.supplementOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => value.subCategory === 'supplement')
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.specialtyOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => !value.subCategory ||
    (value.subCategory !== 'cooking' &&
        value.subCategory !== 'finishing' &&
        value.subCategory !== 'supplement'))
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
// Export by elemental properties
exports.fireOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => {
    var _a, _b;
    return value.elementalProperties.Fire >= 0.4 ||
        (typeof ((_a = value.astrologicalProfile) === null || _a === void 0 ? void 0 : _a.elementalAffinity) === 'object' && ((_b = value.astrologicalProfile.elementalAffinity) === null || _b === void 0 ? void 0 : _b.base) === 'Fire');
})
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.waterOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => {
    var _a, _b;
    return value.elementalProperties.Water >= 0.4 ||
        (typeof ((_a = value.astrologicalProfile) === null || _a === void 0 ? void 0 : _a.elementalAffinity) === 'object' && ((_b = value.astrologicalProfile.elementalAffinity) === null || _b === void 0 ? void 0 : _b.base) === 'Water');
})
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.earthOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => {
    var _a, _b;
    return value.elementalProperties.Earth >= 0.4 ||
        (typeof ((_a = value.astrologicalProfile) === null || _a === void 0 ? void 0 : _a.elementalAffinity) === 'object' && ((_b = value.astrologicalProfile.elementalAffinity) === null || _b === void 0 ? void 0 : _b.base) === 'Earth');
})
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.airOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => {
    var _a, _b;
    return value.elementalProperties.Air >= 0.4 ||
        (typeof ((_a = value.astrologicalProfile) === null || _a === void 0 ? void 0 : _a.elementalAffinity) === 'object' && ((_b = value.astrologicalProfile.elementalAffinity) === null || _b === void 0 ? void 0 : _b.base) === 'Air');
})
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
// Export by culinary applications
exports.highHeatOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => {
    var _a, _b;
    return (typeof value.smokePoint === 'object' && value.smokePoint !== null && 'fahrenheit' in value.smokePoint && value.smokePoint.fahrenheit >= 400) ||
        (((_a = value.culinaryApplications) === null || _a === void 0 ? void 0 : _a.frying) || ((_b = value.culinaryApplications) === null || _b === void 0 ? void 0 : _b.deepfrying));
})
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.bakingOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => { var _a; return (_a = value.culinaryApplications) === null || _a === void 0 ? void 0 : _a.baking; })
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.dressingOils = Object.entries(exports.processedOils)
    .filter(([_, value]) => { var _a; return (_a = value.culinaryApplications) === null || _a === void 0 ? void 0 : _a.dressings; })
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
exports.nutOils = Object.entries(exports.processedOils)
    .filter(([key, _]) => key.includes('walnut') ||
    key.includes('almond') ||
    key.includes('macadamia') ||
    key.includes('peanut'))
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
// For backward compatibility
exports.allOils = exports.processedOils;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9kYXRhL2luZ3JlZGllbnRzL29pbHMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsaUNBQThCO0FBR3JCLHFGQUhBLFdBQUksT0FHQTtBQUZiLDJEQUFxRjtBQUlyRiwwQ0FBMEM7QUFDN0IsUUFBQSxhQUFhLEdBQXNDLElBQUEsc0NBQXFCLEVBQUMsV0FBSSxDQUFDLENBQUM7QUFFNUYsa0NBQWtDO0FBQ2xDLGtCQUFlLHFCQUFhLENBQUM7QUFFN0IsaUNBQWlDO0FBQ3BCLFFBQUEsV0FBVyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMscUJBQWEsQ0FBQztLQUNyRCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsS0FBSyxTQUFTLENBQUM7S0FDdkQsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRXBELFFBQUEsYUFBYSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMscUJBQWEsQ0FBQztLQUN2RCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsS0FBSyxXQUFXLENBQUM7S0FDekQsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRXBELFFBQUEsY0FBYyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMscUJBQWEsQ0FBQztLQUN4RCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsS0FBSyxZQUFZLENBQUM7S0FDMUQsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRXBELFFBQUEsYUFBYSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMscUJBQWEsQ0FBQztLQUN2RCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQ3JCLENBQUMsS0FBSyxDQUFDLFdBQVc7SUFDbEIsQ0FBQyxLQUFLLENBQUMsV0FBVyxLQUFLLFNBQVM7UUFDL0IsS0FBSyxDQUFDLFdBQVcsS0FBSyxXQUFXO1FBQ2pDLEtBQUssQ0FBQyxXQUFXLEtBQUssWUFBWSxDQUFDLENBQUM7S0FDdEMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRWpFLGlDQUFpQztBQUNwQixRQUFBLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLHFCQUFhLENBQUM7S0FDbEQsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTs7SUFDckIsT0FBQSxLQUFLLENBQUMsbUJBQW1CLENBQUMsSUFBSSxJQUFJLEdBQUc7UUFDckMsQ0FBQyxPQUFPLENBQUEsTUFBQSxLQUFLLENBQUMsbUJBQW1CLDBDQUFFLGlCQUFpQixDQUFBLEtBQUssUUFBUSxJQUFJLENBQUEsTUFBQSxLQUFLLENBQUMsbUJBQW1CLENBQUMsaUJBQWlCLDBDQUFFLElBQUksTUFBSyxNQUFNLENBQUMsQ0FBQTtDQUFBLENBQUM7S0FDcEksTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRXBELFFBQUEsU0FBUyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMscUJBQWEsQ0FBQztLQUNuRCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFOztJQUNyQixPQUFBLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLElBQUksR0FBRztRQUN0QyxDQUFDLE9BQU8sQ0FBQSxNQUFBLEtBQUssQ0FBQyxtQkFBbUIsMENBQUUsaUJBQWlCLENBQUEsS0FBSyxRQUFRLElBQUksQ0FBQSxNQUFBLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxpQkFBaUIsMENBQUUsSUFBSSxNQUFLLE9BQU8sQ0FBQyxDQUFBO0NBQUEsQ0FBQztLQUNySSxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFFcEQsUUFBQSxTQUFTLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxxQkFBYSxDQUFDO0tBQ25ELE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7O0lBQ3JCLE9BQUEsS0FBSyxDQUFDLG1CQUFtQixDQUFDLEtBQUssSUFBSSxHQUFHO1FBQ3RDLENBQUMsT0FBTyxDQUFBLE1BQUEsS0FBSyxDQUFDLG1CQUFtQiwwQ0FBRSxpQkFBaUIsQ0FBQSxLQUFLLFFBQVEsSUFBSSxDQUFBLE1BQUEsS0FBSyxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQiwwQ0FBRSxJQUFJLE1BQUssT0FBTyxDQUFDLENBQUE7Q0FBQSxDQUFDO0tBQ3JJLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVwRCxRQUFBLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLHFCQUFhLENBQUM7S0FDakQsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTs7SUFDckIsT0FBQSxLQUFLLENBQUMsbUJBQW1CLENBQUMsR0FBRyxJQUFJLEdBQUc7UUFDcEMsQ0FBQyxPQUFPLENBQUEsTUFBQSxLQUFLLENBQUMsbUJBQW1CLDBDQUFFLGlCQUFpQixDQUFBLEtBQUssUUFBUSxJQUFJLENBQUEsTUFBQSxLQUFLLENBQUMsbUJBQW1CLENBQUMsaUJBQWlCLDBDQUFFLElBQUksTUFBSyxLQUFLLENBQUMsQ0FBQTtDQUFBLENBQUM7S0FDbkksTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRWpFLGtDQUFrQztBQUNyQixRQUFBLFlBQVksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLHFCQUFhLENBQUM7S0FDdEQsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTs7SUFDckIsT0FBQSxDQUFDLE9BQU8sS0FBSyxDQUFDLFVBQVUsS0FBSyxRQUFRLElBQUksS0FBSyxDQUFDLFVBQVUsS0FBSyxJQUFJLElBQUksWUFBWSxJQUFJLEtBQUssQ0FBQyxVQUFVLElBQUssS0FBSyxDQUFDLFVBQWtCLENBQUMsVUFBVSxJQUFJLEdBQUcsQ0FBQztRQUN0SixDQUFDLENBQUEsTUFBQSxLQUFLLENBQUMsb0JBQW9CLDBDQUFFLE1BQU0sTUFBSSxNQUFBLEtBQUssQ0FBQyxvQkFBb0IsMENBQUUsVUFBVSxDQUFBLENBQUMsQ0FBQTtDQUFBLENBQUM7S0FDaEYsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRXBELFFBQUEsVUFBVSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMscUJBQWEsQ0FBQztLQUNwRCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLFdBQUMsT0FBQSxNQUFBLEtBQUssQ0FBQyxvQkFBb0IsMENBQUUsTUFBTSxDQUFBLEVBQUEsQ0FBQztLQUMxRCxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFFcEQsUUFBQSxZQUFZLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxxQkFBYSxDQUFDO0tBQ3RELE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsV0FBQyxPQUFBLE1BQUEsS0FBSyxDQUFDLG9CQUFvQiwwQ0FBRSxTQUFTLENBQUEsRUFBQSxDQUFDO0tBQzdELE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVwRCxRQUFBLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLHFCQUFhLENBQUM7S0FDakQsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUNuQixHQUFHLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUN0QixHQUFHLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUN0QixHQUFHLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQztJQUN6QixHQUFHLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ3hCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVqRSw2QkFBNkI7QUFDaEIsUUFBQSxPQUFPLEdBQXNDLHFCQUFhLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9kYXRhL2luZ3JlZGllbnRzL29pbHMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBJbmdyZWRpZW50TWFwcGluZyB9IGZyb20gJ0AvZGF0YS9pbmdyZWRpZW50cy90eXBlcyc7XG5pbXBvcnQgeyBvaWxzIH0gZnJvbSAnLi9vaWxzJztcbmltcG9ydCB7IGVuaGFuY2VPaWxQcm9wZXJ0aWVzLCBmaXhJbmdyZWRpZW50TWFwcGluZ3MgfSBmcm9tICdAL3V0aWxzL2VsZW1lbnRhbFV0aWxzJztcblxuZXhwb3J0IHsgb2lscyB9O1xuXG4vLyBQcm9jZXNzIG9pbHMgdG8gYWRkIGVuaGFuY2VkIHByb3BlcnRpZXNcbmV4cG9ydCBjb25zdCBwcm9jZXNzZWRPaWxzOiBSZWNvcmQ8c3RyaW5nLCBJbmdyZWRpZW50TWFwcGluZz4gPSBmaXhJbmdyZWRpZW50TWFwcGluZ3Mob2lscyk7XG5cbi8vIEV4cG9ydCBlbmhhbmNlZCBvaWxzIGFzIGRlZmF1bHRcbmV4cG9ydCBkZWZhdWx0IHByb2Nlc3NlZE9pbHM7XG5cbi8vIEV4cG9ydCBzcGVjaWZpYyBvaWwgY2F0ZWdvcmllc1xuZXhwb3J0IGNvbnN0IGNvb2tpbmdPaWxzID0gT2JqZWN0LmVudHJpZXMocHJvY2Vzc2VkT2lscylcbiAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUuc3ViQ2F0ZWdvcnkgPT09ICdjb29raW5nJylcbiAgLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICh7IC4uLmFjYywgW2tleV06IHZhbHVlIH0pLCB7fSk7XG5cbmV4cG9ydCBjb25zdCBmaW5pc2hpbmdPaWxzID0gT2JqZWN0LmVudHJpZXMocHJvY2Vzc2VkT2lscylcbiAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUuc3ViQ2F0ZWdvcnkgPT09ICdmaW5pc2hpbmcnKVxuICAucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKHsgLi4uYWNjLCBba2V5XTogdmFsdWUgfSksIHt9KTtcblxuZXhwb3J0IGNvbnN0IHN1cHBsZW1lbnRPaWxzID0gT2JqZWN0LmVudHJpZXMocHJvY2Vzc2VkT2lscylcbiAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUuc3ViQ2F0ZWdvcnkgPT09ICdzdXBwbGVtZW50JylcbiAgLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICh7IC4uLmFjYywgW2tleV06IHZhbHVlIH0pLCB7fSk7XG5cbmV4cG9ydCBjb25zdCBzcGVjaWFsdHlPaWxzID0gT2JqZWN0LmVudHJpZXMocHJvY2Vzc2VkT2lscylcbiAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gXG4gICAgIXZhbHVlLnN1YkNhdGVnb3J5IHx8IFxuICAgICh2YWx1ZS5zdWJDYXRlZ29yeSAhPT0gJ2Nvb2tpbmcnICYmIFxuICAgICB2YWx1ZS5zdWJDYXRlZ29yeSAhPT0gJ2ZpbmlzaGluZycgJiYgXG4gICAgIHZhbHVlLnN1YkNhdGVnb3J5ICE9PSAnc3VwcGxlbWVudCcpKVxuICAucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKHsgLi4uYWNjLCBba2V5XTogdmFsdWUgfSksIHt9KTtcblxuLy8gRXhwb3J0IGJ5IGVsZW1lbnRhbCBwcm9wZXJ0aWVzXG5leHBvcnQgY29uc3QgZmlyZU9pbHMgPSBPYmplY3QuZW50cmllcyhwcm9jZXNzZWRPaWxzKVxuICAuZmlsdGVyKChbXywgdmFsdWVdKSA9PiBcbiAgICB2YWx1ZS5lbGVtZW50YWxQcm9wZXJ0aWVzLkZpcmUgPj0gMC40IHx8IFxuICAgICh0eXBlb2YgdmFsdWUuYXN0cm9sb2dpY2FsUHJvZmlsZT8uZWxlbWVudGFsQWZmaW5pdHkgPT09ICdvYmplY3QnICYmIHZhbHVlLmFzdHJvbG9naWNhbFByb2ZpbGUuZWxlbWVudGFsQWZmaW5pdHk/LmJhc2UgPT09ICdGaXJlJykpXG4gIC5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoeyAuLi5hY2MsIFtrZXldOiB2YWx1ZSB9KSwge30pO1xuXG5leHBvcnQgY29uc3Qgd2F0ZXJPaWxzID0gT2JqZWN0LmVudHJpZXMocHJvY2Vzc2VkT2lscylcbiAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gXG4gICAgdmFsdWUuZWxlbWVudGFsUHJvcGVydGllcy5XYXRlciA+PSAwLjQgfHwgXG4gICAgKHR5cGVvZiB2YWx1ZS5hc3Ryb2xvZ2ljYWxQcm9maWxlPy5lbGVtZW50YWxBZmZpbml0eSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuYXN0cm9sb2dpY2FsUHJvZmlsZS5lbGVtZW50YWxBZmZpbml0eT8uYmFzZSA9PT0gJ1dhdGVyJykpXG4gIC5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoeyAuLi5hY2MsIFtrZXldOiB2YWx1ZSB9KSwge30pO1xuXG5leHBvcnQgY29uc3QgZWFydGhPaWxzID0gT2JqZWN0LmVudHJpZXMocHJvY2Vzc2VkT2lscylcbiAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gXG4gICAgdmFsdWUuZWxlbWVudGFsUHJvcGVydGllcy5FYXJ0aCA+PSAwLjQgfHwgXG4gICAgKHR5cGVvZiB2YWx1ZS5hc3Ryb2xvZ2ljYWxQcm9maWxlPy5lbGVtZW50YWxBZmZpbml0eSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuYXN0cm9sb2dpY2FsUHJvZmlsZS5lbGVtZW50YWxBZmZpbml0eT8uYmFzZSA9PT0gJ0VhcnRoJykpXG4gIC5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoeyAuLi5hY2MsIFtrZXldOiB2YWx1ZSB9KSwge30pO1xuXG5leHBvcnQgY29uc3QgYWlyT2lscyA9IE9iamVjdC5lbnRyaWVzKHByb2Nlc3NlZE9pbHMpXG4gIC5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IFxuICAgIHZhbHVlLmVsZW1lbnRhbFByb3BlcnRpZXMuQWlyID49IDAuNCB8fCBcbiAgICAodHlwZW9mIHZhbHVlLmFzdHJvbG9naWNhbFByb2ZpbGU/LmVsZW1lbnRhbEFmZmluaXR5ID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5hc3Ryb2xvZ2ljYWxQcm9maWxlLmVsZW1lbnRhbEFmZmluaXR5Py5iYXNlID09PSAnQWlyJykpXG4gIC5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoeyAuLi5hY2MsIFtrZXldOiB2YWx1ZSB9KSwge30pO1xuXG4vLyBFeHBvcnQgYnkgY3VsaW5hcnkgYXBwbGljYXRpb25zXG5leHBvcnQgY29uc3QgaGlnaEhlYXRPaWxzID0gT2JqZWN0LmVudHJpZXMocHJvY2Vzc2VkT2lscylcbiAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gXG4gICAgKHR5cGVvZiB2YWx1ZS5zbW9rZVBvaW50ID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5zbW9rZVBvaW50ICE9PSBudWxsICYmICdmYWhyZW5oZWl0JyBpbiB2YWx1ZS5zbW9rZVBvaW50ICYmICh2YWx1ZS5zbW9rZVBvaW50IGFzIGFueSkuZmFocmVuaGVpdCA+PSA0MDApIHx8IFxuICAgICh2YWx1ZS5jdWxpbmFyeUFwcGxpY2F0aW9ucz8uZnJ5aW5nIHx8IHZhbHVlLmN1bGluYXJ5QXBwbGljYXRpb25zPy5kZWVwZnJ5aW5nKSlcbiAgLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICh7IC4uLmFjYywgW2tleV06IHZhbHVlIH0pLCB7fSk7XG5cbmV4cG9ydCBjb25zdCBiYWtpbmdPaWxzID0gT2JqZWN0LmVudHJpZXMocHJvY2Vzc2VkT2lscylcbiAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUuY3VsaW5hcnlBcHBsaWNhdGlvbnM/LmJha2luZylcbiAgLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICh7IC4uLmFjYywgW2tleV06IHZhbHVlIH0pLCB7fSk7XG5cbmV4cG9ydCBjb25zdCBkcmVzc2luZ09pbHMgPSBPYmplY3QuZW50cmllcyhwcm9jZXNzZWRPaWxzKVxuICAuZmlsdGVyKChbXywgdmFsdWVdKSA9PiB2YWx1ZS5jdWxpbmFyeUFwcGxpY2F0aW9ucz8uZHJlc3NpbmdzKVxuICAucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKHsgLi4uYWNjLCBba2V5XTogdmFsdWUgfSksIHt9KTtcblxuZXhwb3J0IGNvbnN0IG51dE9pbHMgPSBPYmplY3QuZW50cmllcyhwcm9jZXNzZWRPaWxzKVxuICAuZmlsdGVyKChba2V5LCBfXSkgPT4gXG4gICAga2V5LmluY2x1ZGVzKCd3YWxudXQnKSB8fCBcbiAgICBrZXkuaW5jbHVkZXMoJ2FsbW9uZCcpIHx8IFxuICAgIGtleS5pbmNsdWRlcygnbWFjYWRhbWlhJykgfHwgXG4gICAga2V5LmluY2x1ZGVzKCdwZWFudXQnKSlcbiAgLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICh7IC4uLmFjYywgW2tleV06IHZhbHVlIH0pLCB7fSk7XG5cbi8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5leHBvcnQgY29uc3QgYWxsT2lsczogUmVjb3JkPHN0cmluZywgSW5ncmVkaWVudE1hcHBpbmc+ID0gcHJvY2Vzc2VkT2lsczsgIl0sInZlcnNpb24iOjN9