7981b3bd53c35a14292b36bf00219aed
"use strict";
/**
 * Perfect Codebase Campaign - Final Validation System Tests
 *
 * Comprehensive test suite for the Final Validation System
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
// Mock external dependencies
jest.mock('child_process');
jest.mock('fs');
const child_process_1 = require("child_process");
const fs = __importStar(require("fs"));
const FinalValidationSystem_1 = require("./FinalValidationSystem");
const mockedExecSync = child_process_1.execSync;
const mockedFs = fs;
describe('FinalValidationSystem', () => {
    let validationSystem;
    beforeEach(() => {
        validationSystem = new FinalValidationSystem_1.FinalValidationSystem();
        jest.clearAllMocks();
    });
    describe('TypeScript Error Validation', () => {
        it('should pass validation when no TypeScript errors exist', async () => {
            // Mock successful TypeScript compilation
            mockedExecSync.mockReturnValue('');
            const result = await validationSystem.validateTypeScriptErrors();
            expect(result.category).toBe('TypeScript Compilation');
            expect(result.passed).toBe(true);
            expect(result.current).toBe(0);
            expect(result.target).toBe(0);
            expect(result.criticalIssues).toHaveLength(0);
        });
        it('should fail validation when TypeScript errors exist', async () => {
            // Mock TypeScript compilation with errors
            const mockError = new Error('TypeScript compilation failed');
            mockError.stdout = `
src/test.ts(10,5): error TS2304: Cannot find name 'unknownVariable'.
src/test.ts(15,10): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
      `;
            mockedExecSync.mockImplementation(() => {
                throw mockError;
            });
            const result = await validationSystem.validateTypeScriptErrors();
            expect(result.category).toBe('TypeScript Compilation');
            expect(result.passed).toBe(false);
            expect(result.current).toBe(2);
            expect(result.target).toBe(0);
            expect(result.criticalIssues.length).toBeGreaterThan(0);
        });
    });
    describe('Linting Warning Validation', () => {
        it('should pass validation when no linting warnings exist', async () => {
            // Mock successful linting with no warnings
            mockedExecSync.mockReturnValue('✨ All files passed linting');
            const result = await validationSystem.validateLintingWarnings();
            expect(result.category).toBe('Linting Quality');
            expect(result.passed).toBe(true);
            expect(result.current).toBe(0);
            expect(result.target).toBe(0);
            expect(result.criticalIssues).toHaveLength(0);
        });
        it('should fail validation when linting warnings exist', async () => {
            // Mock linting with warnings
            const mockError = new Error('Linting warnings found');
            mockError.stdout = `
src/test.ts:10:5 - warning: Unexpected any. Specify a different type (@typescript-eslint/no-explicit-any)
src/test.ts:15:10 - warning: 'unusedVar' is defined but never used (no-unused-vars)
src/test.ts:20:8 - warning: Unexpected console statement (no-console)
      `;
            mockedExecSync.mockImplementation(() => {
                throw mockError;
            });
            const result = await validationSystem.validateLintingWarnings();
            expect(result.category).toBe('Linting Quality');
            expect(result.passed).toBe(false);
            expect(result.current).toBe(3);
            expect(result.target).toBe(0);
            expect(result.criticalIssues.length).toBeGreaterThan(0);
        });
    });
    describe('Enterprise Intelligence Validation', () => {
        it('should pass validation when sufficient intelligence systems exist', async () => {
            // Mock grep output with 250 intelligence systems
            const mockIntelligenceOutput = Array(250)
                .fill(0)
                .map((_, i) => `src/services/test${i}.ts:export const TEST_${i}_INTELLIGENCE_SYSTEM = {`)
                .join('\n');
            mockedExecSync.mockReturnValue(mockIntelligenceOutput);
            const result = await validationSystem.validateEnterpriseIntelligence();
            expect(result.category).toBe('Enterprise Intelligence');
            expect(result.passed).toBe(true);
            expect(result.current).toBe(250);
            expect(result.target).toBe(200);
            expect(result.criticalIssues).toHaveLength(0);
        });
        it('should fail validation when insufficient intelligence systems exist', async () => {
            // Mock grep output with only 50 intelligence systems
            const mockIntelligenceOutput = Array(50)
                .fill(0)
                .map((_, i) => `src/services/test${i}.ts:export const TEST_${i}_INTELLIGENCE_SYSTEM = {`)
                .join('\n');
            mockedExecSync.mockReturnValue(mockIntelligenceOutput);
            const result = await validationSystem.validateEnterpriseIntelligence();
            expect(result.category).toBe('Enterprise Intelligence');
            expect(result.passed).toBe(false);
            expect(result.current).toBe(50);
            expect(result.target).toBe(200);
            expect(result.criticalIssues.length).toBeGreaterThan(0);
        });
        it('should handle case when no intelligence systems exist', async () => {
            // Mock grep failure (no matches found)
            const mockError = new Error('No matches found');
            mockedExecSync.mockImplementation(() => {
                throw mockError;
            });
            const result = await validationSystem.validateEnterpriseIntelligence();
            expect(result.category).toBe('Enterprise Intelligence');
            expect(result.passed).toBe(false);
            expect(result.current).toBe(0);
            expect(result.target).toBe(200);
            expect(result.criticalIssues.length).toBeGreaterThan(0);
        });
    });
    describe('Performance Validation', () => {
        it('should pass validation when performance targets are met', async () => {
            // Mock fast build time and low memory usage
            mockedExecSync
                .mockReturnValueOnce('') // yarn build
                .mockReturnValueOnce('Maximum resident set size (kbytes): 40960') // memory usage (40MB)
                .mockReturnValueOnce('400K\t.next/'); // bundle size
            // Mock Date.now to simulate 5-second build
            const originalDateNow = Date.now;
            let callCount = 0;
            Date.now = jest.fn(() => {
                callCount++;
                return callCount === 1 ? 1000 : 6000; // 5 second difference
            });
            const result = await validationSystem.validatePerformanceTargets();
            expect(result.category).toBe('Performance Optimization');
            expect(result.passed).toBe(true);
            expect(result.current).toBe(5); // 5 seconds build time
            expect(result.target).toBe(10);
            expect(result.criticalIssues).toHaveLength(0);
            // Restore Date.now
            Date.now = originalDateNow;
        });
        it('should fail validation when performance targets are not met', async () => {
            // Mock slow build time and high memory usage
            mockedExecSync
                .mockReturnValueOnce('') // yarn build
                .mockReturnValueOnce('Maximum resident set size (kbytes): 61440') // memory usage (60MB)
                .mockReturnValueOnce('500K\t.next/'); // bundle size
            // Mock Date.now to simulate 15-second build
            const originalDateNow = Date.now;
            let callCount = 0;
            Date.now = jest.fn(() => {
                callCount++;
                return callCount === 1 ? 1000 : 16000; // 15 second difference
            });
            const result = await validationSystem.validatePerformanceTargets();
            expect(result.category).toBe('Performance Optimization');
            expect(result.passed).toBe(false);
            expect(result.current).toBe(15); // 15 seconds build time
            expect(result.target).toBe(10);
            expect(result.criticalIssues.length).toBeGreaterThan(0);
            // Restore Date.now
            Date.now = originalDateNow;
        });
    });
    describe('Build and Test Validation', () => {
        it('should pass validation when build and tests succeed', async () => {
            // Mock successful build and tests
            mockedExecSync
                .mockReturnValueOnce('') // yarn build
                .mockReturnValueOnce(''); // yarn test
            const result = await validationSystem.validateBuildAndTests();
            expect(result.category).toBe('Build and Test Stability');
            expect(result.passed).toBe(true);
            expect(result.current).toBe(1);
            expect(result.target).toBe(1);
            expect(result.criticalIssues).toHaveLength(0);
        });
        it('should fail validation when build fails', async () => {
            // Mock build failure
            mockedExecSync
                .mockImplementationOnce(() => {
                throw new Error('Build failed');
            })
                .mockReturnValueOnce(''); // yarn test succeeds
            const result = await validationSystem.validateBuildAndTests();
            expect(result.category).toBe('Build and Test Stability');
            expect(result.passed).toBe(false);
            expect(result.current).toBe(0);
            expect(result.target).toBe(1);
            expect(result.criticalIssues.length).toBeGreaterThan(0);
        });
        it('should fail validation when tests fail', async () => {
            // Mock test failure
            mockedExecSync
                .mockReturnValueOnce('') // yarn build succeeds
                .mockImplementationOnce(() => {
                throw new Error('Tests failed');
            });
            const result = await validationSystem.validateBuildAndTests();
            expect(result.category).toBe('Build and Test Stability');
            expect(result.passed).toBe(false);
            expect(result.current).toBe(0);
            expect(result.target).toBe(1);
            expect(result.criticalIssues.length).toBeGreaterThan(0);
        });
    });
    describe('Campaign Summary Generation', () => {
        it('should generate accurate campaign summary with baseline', async () => {
            // Mock baseline file
            const mockBaseline = {
                errors: 100,
                warnings: 500,
                intelligence: 10,
            };
            mockedFs.existsSync.mockReturnValue(true);
            mockedFs.readFileSync.mockReturnValue(JSON.stringify(mockBaseline));
            // Mock current state (perfect codebase)
            mockedExecSync
                .mockReturnValueOnce('') // TypeScript - no errors
                .mockReturnValueOnce('') // Linting - no warnings
                .mockReturnValueOnce(Array(250).fill('INTELLIGENCE_SYSTEM').join('\n')); // 250 intelligence systems
            const summary = await validationSystem.generateCampaignSummary();
            expect(summary.initialState).toEqual(mockBaseline);
            expect(summary.finalState.errors).toBe(0);
            expect(summary.finalState.warnings).toBe(0);
            expect(summary.finalState.intelligence).toBe(250);
            expect(summary.improvements.errorReduction).toBe(100);
            expect(summary.improvements.warningReduction).toBe(500);
            expect(summary.improvements.intelligenceIncrease).toBe(240);
        });
        it('should handle missing baseline file', async () => {
            // Mock missing baseline file
            mockedFs.existsSync.mockReturnValue(false);
            // Mock current state
            mockedExecSync
                .mockReturnValueOnce('') // TypeScript - no errors
                .mockReturnValueOnce('') // Linting - no warnings
                .mockReturnValueOnce(Array(200).fill('INTELLIGENCE_SYSTEM').join('\n')); // 200 intelligence systems
            const summary = await validationSystem.generateCampaignSummary();
            expect(summary.initialState).toEqual({ errors: 0, warnings: 0, intelligence: 0 });
            expect(summary.finalState.intelligence).toBe(200);
            expect(summary.improvements.intelligenceIncrease).toBe(200);
        });
    });
    describe('Certification Status Determination', () => {
        it('should achieve ENTERPRISE certification for perfect codebase', () => {
            const mockValidationResults = [
                { category: 'TypeScript', passed: true, current: 0, target: 0, details: [], criticalIssues: [] },
                { category: 'Linting', passed: true, current: 0, target: 0, details: [], criticalIssues: [] },
                { category: 'Intelligence', passed: true, current: 250, target: 200, details: [], criticalIssues: [] },
                { category: 'Performance', passed: true, current: 8, target: 10, details: [], criticalIssues: [] },
                { category: 'Build/Test', passed: true, current: 1, target: 1, details: [], criticalIssues: [] },
            ];
            const mockPerformanceMetrics = {
                buildTime: 8,
                memoryUsage: 40,
                bundleSize: '400kB',
                cacheHitRate: 85,
                testCoverage: 98,
            };
            const certification = validationSystem.determineCertificationStatus(mockValidationResults, mockPerformanceMetrics);
            expect(certification.perfectCodebaseAchieved).toBe(true);
            expect(certification.enterpriseReady).toBe(true);
            expect(certification.productionDeploymentReady).toBe(true);
            expect(certification.certificationLevel).toBe('ENTERPRISE');
            expect(certification.certificationDate).toBeDefined();
        });
        it('should achieve BASIC certification for incomplete campaign', () => {
            const mockValidationResults = [
                { category: 'TypeScript', passed: false, current: 10, target: 0, details: [], criticalIssues: [] },
                { category: 'Linting', passed: false, current: 50, target: 0, details: [], criticalIssues: [] },
                { category: 'Intelligence', passed: false, current: 100, target: 200, details: [], criticalIssues: [] },
                { category: 'Performance', passed: false, current: 15, target: 10, details: [], criticalIssues: [] },
                { category: 'Build/Test', passed: true, current: 1, target: 1, details: [], criticalIssues: [] },
            ];
            const mockPerformanceMetrics = {
                buildTime: 15,
                memoryUsage: 60,
                bundleSize: '500kB',
                cacheHitRate: 70,
                testCoverage: 85,
            };
            const certification = validationSystem.determineCertificationStatus(mockValidationResults, mockPerformanceMetrics);
            expect(certification.perfectCodebaseAchieved).toBe(false);
            expect(certification.enterpriseReady).toBe(false);
            expect(certification.productionDeploymentReady).toBe(false);
            expect(certification.certificationLevel).toBe('BASIC');
            expect(certification.certificationDate).toBeUndefined();
        });
    });
    describe('Comprehensive Validation', () => {
        it('should execute complete validation successfully', async () => {
            // Mock all successful validations
            mockedExecSync
                .mockReturnValueOnce('') // TypeScript compilation
                .mockReturnValueOnce('✨ All files passed linting') // Linting
                .mockReturnValueOnce(Array(250).fill('INTELLIGENCE_SYSTEM').join('\n')) // Intelligence systems
                .mockReturnValueOnce('') // Build performance test
                .mockReturnValueOnce('Maximum resident set size (kbytes): 40960') // Memory usage
                .mockReturnValueOnce('400K\t.next/') // Bundle size
                .mockReturnValueOnce('') // Build validation
                .mockReturnValueOnce('') // Test validation
                .mockReturnValueOnce('') // Performance metrics build
                .mockReturnValueOnce('') // TypeScript for summary
                .mockReturnValueOnce('') // Linting for summary
                .mockReturnValueOnce(Array(250).fill('INTELLIGENCE_SYSTEM').join('\n')); // Intelligence for summary
            // Mock file system operations
            mockedFs.existsSync.mockReturnValue(true);
            mockedFs.readFileSync.mockReturnValue(JSON.stringify({ errors: 100, warnings: 500, intelligence: 10 }));
            mockedFs.mkdirSync.mockReturnValue(undefined);
            mockedFs.writeFileSync.mockReturnValue(undefined);
            // Mock Date.now for consistent build time
            const originalDateNow = Date.now;
            let callCount = 0;
            Date.now = jest.fn(() => {
                callCount++;
                return callCount % 2 === 1 ? 1000 : 6000; // 5 second build times
            });
            const report = await validationSystem.executeComprehensiveValidation();
            expect(report.overallSuccess).toBe(true);
            expect(report.validationResults).toHaveLength(5);
            expect(report.certificationStatus.perfectCodebaseAchieved).toBe(true);
            expect(report.certificationStatus.certificationLevel).toBe('ENTERPRISE');
            // Restore Date.now
            Date.now = originalDateNow;
        });
        it('should handle validation failures gracefully', async () => {
            // Mock validation failures
            const mockError = new Error('Validation failed');
            mockError.stdout = 'error TS2304: Cannot find name';
            mockedExecSync.mockImplementation(() => {
                throw mockError;
            });
            // Mock file system operations
            mockedFs.existsSync.mockReturnValue(false);
            mockedFs.mkdirSync.mockReturnValue(undefined);
            mockedFs.writeFileSync.mockReturnValue(undefined);
            const report = await validationSystem.executeComprehensiveValidation();
            expect(report.overallSuccess).toBe(false);
            expect(report.certificationStatus.perfectCodebaseAchieved).toBe(false);
            expect(report.certificationStatus.certificationLevel).toBe('BASIC');
        });
    });
    describe('Report Generation', () => {
        it('should save validation report to file', async () => {
            const mockReport = {
                timestamp: '2025-01-15T10:00:00.000Z',
                overallSuccess: true,
                validationResults: [],
                performanceMetrics: {
                    buildTime: 8,
                    memoryUsage: 40,
                    bundleSize: '400kB',
                    cacheHitRate: 85,
                    testCoverage: 98,
                },
                campaignSummary: {
                    initialState: { errors: 100, warnings: 500, intelligence: 10 },
                    finalState: { errors: 0, warnings: 0, intelligence: 250 },
                    improvements: { errorReduction: 100, warningReduction: 500, intelligenceIncrease: 240 },
                },
                certificationStatus: {
                    perfectCodebaseAchieved: true,
                    enterpriseReady: true,
                    productionDeploymentReady: true,
                    certificationLevel: 'ENTERPRISE',
                    certificationDate: '2025-01-15T10:00:00.000Z',
                },
            };
            mockedFs.existsSync.mockReturnValue(false);
            mockedFs.mkdirSync.mockReturnValue(undefined);
            mockedFs.writeFileSync.mockReturnValue(undefined);
            await validationSystem.saveValidationReport(mockReport);
            expect(mockedFs.mkdirSync).toHaveBeenCalledWith('.campaign-progress', { recursive: true });
            expect(mockedFs.writeFileSync).toHaveBeenCalledWith(expect.stringMatching(/\.campaign-progress\/final-validation-report-\d+\.json/), JSON.stringify(mockReport, null, 2));
        });
        it('should create certification document for successful campaigns', async () => {
            const mockReport = {
                timestamp: '2025-01-15T10:00:00.000Z',
                overallSuccess: true,
                validationResults: [
                    { category: 'TypeScript', passed: true, current: 0, target: 0, details: [], criticalIssues: [] },
                ],
                performanceMetrics: {
                    buildTime: 8,
                    memoryUsage: 40,
                    bundleSize: '400kB',
                    cacheHitRate: 85,
                    testCoverage: 98,
                },
                campaignSummary: {
                    initialState: { errors: 100, warnings: 500, intelligence: 10 },
                    finalState: { errors: 0, warnings: 0, intelligence: 250 },
                    improvements: { errorReduction: 100, warningReduction: 500, intelligenceIncrease: 240 },
                },
                certificationStatus: {
                    perfectCodebaseAchieved: true,
                    enterpriseReady: true,
                    productionDeploymentReady: true,
                    certificationLevel: 'ENTERPRISE',
                    certificationDate: '2025-01-15T10:00:00.000Z',
                },
            };
            mockedFs.writeFileSync.mockReturnValue(undefined);
            await validationSystem.createCertification(mockReport);
            expect(mockedFs.writeFileSync).toHaveBeenCalledWith('PERFECT_CODEBASE_CERTIFICATION.md', expect.stringContaining('# Perfect Codebase Campaign - Certification'));
            expect(mockedFs.writeFileSync).toHaveBeenCalledWith('PERFECT_CODEBASE_CERTIFICATION.md', expect.stringContaining('**Certification Level**: ENTERPRISE'));
        });
    });
});
// Integration test for CLI execution
describe('FinalValidationSystem CLI', () => {
    it('should handle CLI validation command', () => {
        // This test would require more complex mocking of the module execution
        // For now, we'll just verify the class can be instantiated
        const validator = new FinalValidationSystem_1.FinalValidationSystem();
        expect(validator).toBeInstanceOf(FinalValidationSystem_1.FinalValidationSystem);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvY29uc2VydmF0aXZlLXdhdmUtMjAyNS0wOC0xMVQwNS0yMS0zMy00MTBaL3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9GaW5hbFZhbGlkYXRpb25TeXN0ZW0udGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7R0FJRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9ILDZCQUE2QjtBQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFQaEIsaURBQXlDO0FBQ3pDLHVDQUF5QjtBQUV6QixtRUFBZ0U7QUFNaEUsTUFBTSxjQUFjLEdBQUcsd0JBQWdELENBQUM7QUFDeEUsTUFBTSxRQUFRLEdBQUcsRUFBNEIsQ0FBQztBQUU5QyxRQUFRLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO0lBQ3JDLElBQUksZ0JBQXVDLENBQUM7SUFFNUMsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLGdCQUFnQixHQUFHLElBQUksNkNBQXFCLEVBQUUsQ0FBQztRQUMvQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDdkIsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsNkJBQTZCLEVBQUUsR0FBRyxFQUFFO1FBQzNDLEVBQUUsQ0FBQyx3REFBd0QsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN0RSx5Q0FBeUM7WUFDekMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUVuQyxNQUFNLE1BQU0sR0FBRyxNQUNiLGdCQVNELENBQUMsd0JBQXdCLEVBQUUsQ0FBQztZQUU3QixNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1lBQ3ZELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFD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QU0sQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUMsb0JBQW9CLENBQ2pELG1DQUFtQyxFQUNuQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMscUNBQXFDLENBQUMsQ0FDL0QsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILHFDQUFxQztBQUNyQyxRQUFRLENBQUMsMkJBQTJCLEVBQUUsR0FBRyxFQUFFO0lBQ3pDLEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7UUFDOUMsdUVBQXVFO1FBQ3ZFLDJEQUEyRDtRQUMzRCxNQUFNLFNBQVMsR0FBRyxJQUFJLDZDQUFxQixFQUFFLENBQUM7UUFDOUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyw2Q0FBcUIsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvY29uc2VydmF0aXZlLXdhdmUtMjAyNS0wOC0xMVQwNS0yMS0zMy00MTBaL3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9GaW5hbFZhbGlkYXRpb25TeXN0ZW0udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBlcmZlY3QgQ29kZWJhc2UgQ2FtcGFpZ24gLSBGaW5hbCBWYWxpZGF0aW9uIFN5c3RlbSBUZXN0c1xuICpcbiAqIENvbXByZWhlbnNpdmUgdGVzdCBzdWl0ZSBmb3IgdGhlIEZpbmFsIFZhbGlkYXRpb24gU3lzdGVtXG4gKi9cblxuaW1wb3J0IHsgZXhlY1N5bmMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcblxuaW1wb3J0IHsgRmluYWxWYWxpZGF0aW9uU3lzdGVtIH0gZnJvbSAnLi9GaW5hbFZhbGlkYXRpb25TeXN0ZW0nO1xuXG4vLyBNb2NrIGV4dGVybmFsIGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKCdjaGlsZF9wcm9jZXNzJyk7XG5qZXN0Lm1vY2soJ2ZzJyk7XG5cbmNvbnN0IG1vY2tlZEV4ZWNTeW5jID0gZXhlY1N5bmMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZXhlY1N5bmM+O1xuY29uc3QgbW9ja2VkRnMgPSBmcyBhcyBqZXN0Lk1vY2tlZDx0eXBlb2YgZnM+O1xuXG5kZXNjcmliZSgnRmluYWxWYWxpZGF0aW9uU3lzdGVtJywgKCkgPT4ge1xuICBsZXQgdmFsaWRhdGlvblN5c3RlbTogRmluYWxWYWxpZGF0aW9uU3lzdGVtO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHZhbGlkYXRpb25TeXN0ZW0gPSBuZXcgRmluYWxWYWxpZGF0aW9uU3lzdGVtKCk7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUeXBlU2NyaXB0IEVycm9yIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwYXNzIHZhbGlkYXRpb24gd2hlbiBubyBUeXBlU2NyaXB0IGVycm9ycyBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBUeXBlU2NyaXB0IGNvbXBpbGF0aW9uXG4gICAgICBtb2NrZWRFeGVjU3luYy5tb2NrUmV0dXJuVmFsdWUoJycpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoXG4gICAgICAgIHZhbGlkYXRpb25TeXN0ZW0gYXMgdW5rbm93biBhcyB7XG4gICAgICAgICAgdmFsaWRhdGVUeXBlU2NyaXB0RXJyb3JzOiAoKSA9PiBQcm9taXNlPHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBzdHJpbmc7XG4gICAgICAgICAgICBwYXNzZWQ6IGJvb2xlYW47XG4gICAgICAgICAgICBjdXJyZW50OiBudW1iZXI7XG4gICAgICAgICAgICB0YXJnZXQ6IG51bWJlcjtcbiAgICAgICAgICAgIGNyaXRpY2FsSXNzdWVzOiB1bmtub3duW107XG4gICAgICAgICAgfT47XG4gICAgICAgIH1cbiAgICAgICkudmFsaWRhdGVUeXBlU2NyaXB0RXJyb3JzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY2F0ZWdvcnkpLnRvQmUoJ1R5cGVTY3JpcHQgQ29tcGlsYXRpb24nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucGFzc2VkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC50YXJnZXQpLnRvQmUoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmNyaXRpY2FsSXNzdWVzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgdmFsaWRhdGlvbiB3aGVuIFR5cGVTY3JpcHQgZXJyb3JzIGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBUeXBlU2NyaXB0IGNvbXBpbGF0aW9uIHdpdGggZXJyb3JzXG4gICAgICBjb25zdCBtb2NrRXJyb3IgPSBuZXcgRXJyb3IoJ1R5cGVTY3JpcHQgY29tcGlsYXRpb24gZmFpbGVkJyk7XG4gICAgICAobW9ja0Vycm9yIGFzIEVycm9yICYgeyBzdGRvdXQ/OiBzdHJpbmcgfSkuc3Rkb3V0ID0gYFxuc3JjL3Rlc3QudHMoMTAsNSk6IGVycm9yIFRTMjMwNDogQ2Fubm90IGZpbmQgbmFtZSAndW5rbm93blZhcmlhYmxlJy5cbnNyYy90ZXN0LnRzKDE1LDEwKTogZXJyb3IgVFMyMzQ1OiBBcmd1bWVudCBvZiB0eXBlICdzdHJpbmcnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdudW1iZXInLlxuICAgICAgYDtcbiAgICAgIG1vY2tlZEV4ZWNTeW5jLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IG1vY2tFcnJvcjtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoXG4gICAgICAgIHZhbGlkYXRpb25TeXN0ZW0gYXMgdW5rbm93biBhcyB7XG4gICAgICAgICAgdmFsaWRhdGVUeXBlU2NyaXB0RXJyb3JzOiAoKSA9PiBQcm9taXNlPHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBzdHJpbmc7XG4gICAgICAgICAgICBwYXNzZWQ6IGJvb2xlYW47XG4gICAgICAgICAgICBjdXJyZW50OiBudW1iZXI7XG4gICAgICAgICAgICB0YXJnZXQ6IG51bWJlcjtcbiAgICAgICAgICAgIGNyaXRpY2FsSXNzdWVzOiB1bmtub3duW107XG4gICAgICAgICAgfT47XG4gICAgICAgIH1cbiAgICAgICkudmFsaWRhdGVUeXBlU2NyaXB0RXJyb3JzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY2F0ZWdvcnkpLnRvQmUoJ1R5cGVTY3JpcHQgQ29tcGlsYXRpb24nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucGFzc2VkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudGFyZ2V0KS50b0JlKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jcml0aWNhbElzc3Vlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0xpbnRpbmcgV2FybmluZyBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcGFzcyB2YWxpZGF0aW9uIHdoZW4gbm8gbGludGluZyB3YXJuaW5ncyBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBsaW50aW5nIHdpdGggbm8gd2FybmluZ3NcbiAgICAgIG1vY2tlZEV4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZSgn4pyoIEFsbCBmaWxlcyBwYXNzZWQgbGludGluZycpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoXG4gICAgICAgIHZhbGlkYXRpb25TeXN0ZW0gYXMgdW5rbm93biBhcyB7IHZhbGlkYXRlTGludGluZ1dhcm5pbmdzOiAoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB9XG4gICAgICApLnZhbGlkYXRlTGludGluZ1dhcm5pbmdzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY2F0ZWdvcnkpLnRvQmUoJ0xpbnRpbmcgUXVhbGl0eScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wYXNzZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmUoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnRhcmdldCkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3JpdGljYWxJc3N1ZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCB2YWxpZGF0aW9uIHdoZW4gbGludGluZyB3YXJuaW5ncyBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbGludGluZyB3aXRoIHdhcm5pbmdzXG4gICAgICBjb25zdCBtb2NrRXJyb3IgPSBuZXcgRXJyb3IoJ0xpbnRpbmcgd2FybmluZ3MgZm91bmQnKTtcbiAgICAgIChtb2NrRXJyb3IgYXMgRXJyb3IgJiB7IHN0ZG91dD86IHN0cmluZyB9KS5zdGRvdXQgPSBgXG5zcmMvdGVzdC50czoxMDo1IC0gd2FybmluZzogVW5leHBlY3RlZCBhbnkuIFNwZWNpZnkgYSBkaWZmZXJlbnQgdHlwZSAoQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSlcbnNyYy90ZXN0LnRzOjE1OjEwIC0gd2FybmluZzogJ3VudXNlZFZhcicgaXMgZGVmaW5lZCBidXQgbmV2ZXIgdXNlZCAobm8tdW51c2VkLXZhcnMpXG5zcmMvdGVzdC50czoyMDo4IC0gd2FybmluZzogVW5leHBlY3RlZCBjb25zb2xlIHN0YXRlbWVudCAobm8tY29uc29sZSlcbiAgICAgIGA7XG4gICAgICBtb2NrZWRFeGVjU3luYy5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBtb2NrRXJyb3I7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKFxuICAgICAgICB2YWxpZGF0aW9uU3lzdGVtIGFzIHVua25vd24gYXMgeyB2YWxpZGF0ZUxpbnRpbmdXYXJuaW5nczogKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gfVxuICAgICAgKS52YWxpZGF0ZUxpbnRpbmdXYXJuaW5ncygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNhdGVnb3J5KS50b0JlKCdMaW50aW5nIFF1YWxpdHknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucGFzc2VkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZSgzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudGFyZ2V0KS50b0JlKDApO1xuICAgICAgZXhwZWN0KChyZXN1bHQgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmNyaXRpY2FsSXNzdWVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW50ZXJwcmlzZSBJbnRlbGxpZ2VuY2UgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHBhc3MgdmFsaWRhdGlvbiB3aGVuIHN1ZmZpY2llbnQgaW50ZWxsaWdlbmNlIHN5c3RlbXMgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGdyZXAgb3V0cHV0IHdpdGggMjUwIGludGVsbGlnZW5jZSBzeXN0ZW1zXG4gICAgICBjb25zdCBtb2NrSW50ZWxsaWdlbmNlT3V0cHV0ID0gQXJyYXkoMjUwKVxuICAgICAgICAuZmlsbCgwKVxuICAgICAgICAubWFwKChfLCBpKSA9PiBgc3JjL3NlcnZpY2VzL3Rlc3Qke2l9LnRzOmV4cG9ydCBjb25zdCBURVNUXyR7aX1fSU5URUxMSUdFTkNFX1NZU1RFTSA9IHtgKVxuICAgICAgICAuam9pbignXFxuJyk7XG5cbiAgICAgIG1vY2tlZEV4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZShtb2NrSW50ZWxsaWdlbmNlT3V0cHV0KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKFxuICAgICAgICB2YWxpZGF0aW9uU3lzdGVtIGFzIHVua25vd24gYXMgeyB2YWxpZGF0ZUVudGVycHJpc2VJbnRlbGxpZ2VuY2U6ICgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IH1cbiAgICAgICkudmFsaWRhdGVFbnRlcnByaXNlSW50ZWxsaWdlbmNlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY2F0ZWdvcnkpLnRvQmUoJ0VudGVycHJpc2UgSW50ZWxsaWdlbmNlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnBhc3NlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZSgyNTApO1xuICAgICAgZXhwZWN0KHJlc3VsdC50YXJnZXQpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3JpdGljYWxJc3N1ZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCB2YWxpZGF0aW9uIHdoZW4gaW5zdWZmaWNpZW50IGludGVsbGlnZW5jZSBzeXN0ZW1zIGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBncmVwIG91dHB1dCB3aXRoIG9ubHkgNTAgaW50ZWxsaWdlbmNlIHN5c3RlbXNcbiAgICAgIGNvbnN0IG1vY2tJbnRlbGxpZ2VuY2VPdXRwdXQgPSBBcnJheSg1MClcbiAgICAgICAgLmZpbGwoMClcbiAgICAgICAgLm1hcCgoXywgaSkgPT4gYHNyYy9zZXJ2aWNlcy90ZXN0JHtpfS50czpleHBvcnQgY29uc3QgVEVTVF8ke2l9X0lOVEVMTElHRU5DRV9TWVNURU0gPSB7YClcbiAgICAgICAgLmpvaW4oJ1xcbicpO1xuXG4gICAgICBtb2NrZWRFeGVjU3luYy5tb2NrUmV0dXJuVmFsdWUobW9ja0ludGVsbGlnZW5jZU91dHB1dCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChcbiAgICAgICAgdmFsaWRhdGlvblN5c3RlbSBhcyB1bmtub3duIGFzIHsgdmFsaWRhdGVFbnRlcnByaXNlSW50ZWxsaWdlbmNlOiAoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB9XG4gICAgICApLnZhbGlkYXRlRW50ZXJwcmlzZUludGVsbGlnZW5jZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNhdGVnb3J5KS50b0JlKCdFbnRlcnByaXNlIEludGVsbGlnZW5jZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wYXNzZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlKDUwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudGFyZ2V0KS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoKHJlc3VsdCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuY3JpdGljYWxJc3N1ZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjYXNlIHdoZW4gbm8gaW50ZWxsaWdlbmNlIHN5c3RlbXMgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGdyZXAgZmFpbHVyZSAobm8gbWF0Y2hlcyBmb3VuZClcbiAgICAgIGNvbnN0IG1vY2tFcnJvciA9IG5ldyBFcnJvcignTm8gbWF0Y2hlcyBmb3VuZCcpO1xuICAgICAgbW9ja2VkRXhlY1N5bmMubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbW9ja0Vycm9yO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChcbiAgICAgICAgdmFsaWRhdGlvblN5c3RlbSBhcyB1bmtub3duIGFzIHsgdmFsaWRhdGVFbnRlcnByaXNlSW50ZWxsaWdlbmNlOiAoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB9XG4gICAgICApLnZhbGlkYXRlRW50ZXJwcmlzZUludGVsbGlnZW5jZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNhdGVnb3J5KS50b0JlKCdFbnRlcnByaXNlIEludGVsbGlnZW5jZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wYXNzZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC50YXJnZXQpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdCgocmVzdWx0IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5jcml0aWNhbElzc3Vlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwYXNzIHZhbGlkYXRpb24gd2hlbiBwZXJmb3JtYW5jZSB0YXJnZXRzIGFyZSBtZXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGZhc3QgYnVpbGQgdGltZSBhbmQgbG93IG1lbW9yeSB1c2FnZVxuICAgICAgbW9ja2VkRXhlY1N5bmNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJycpIC8vIHlhcm4gYnVpbGRcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJ01heGltdW0gcmVzaWRlbnQgc2V0IHNpemUgKGtieXRlcyk6IDQwOTYwJykgLy8gbWVtb3J5IHVzYWdlICg0ME1CKVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgnNDAwS1xcdC5uZXh0LycpOyAvLyBidW5kbGUgc2l6ZVxuXG4gICAgICAvLyBNb2NrIERhdGUubm93IHRvIHNpbXVsYXRlIDUtc2Vjb25kIGJ1aWxkXG4gICAgICBjb25zdCBvcmlnaW5hbERhdGVOb3cgPSBEYXRlLm5vdztcbiAgICAgIGxldCBjYWxsQ291bnQgPSAwO1xuICAgICAgRGF0ZS5ub3cgPSBqZXN0LmZuKCgpID0+IHtcbiAgICAgICAgY2FsbENvdW50Kys7XG4gICAgICAgIHJldHVybiBjYWxsQ291bnQgPT09IDEgPyAxMDAwIDogNjAwMDsgLy8gNSBzZWNvbmQgZGlmZmVyZW5jZVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChcbiAgICAgICAgdmFsaWRhdGlvblN5c3RlbSBhcyB1bmtub3duIGFzIHsgdmFsaWRhdGVQZXJmb3JtYW5jZVRhcmdldHM6ICgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IH1cbiAgICAgICkudmFsaWRhdGVQZXJmb3JtYW5jZVRhcmdldHMoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jYXRlZ29yeSkudG9CZSgnUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnBhc3NlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZSg1KTsgLy8gNSBzZWNvbmRzIGJ1aWxkIHRpbWVcbiAgICAgIGV4cGVjdChyZXN1bHQudGFyZ2V0KS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3JpdGljYWxJc3N1ZXMpLnRvSGF2ZUxlbmd0aCgwKTtcblxuICAgICAgLy8gUmVzdG9yZSBEYXRlLm5vd1xuICAgICAgRGF0ZS5ub3cgPSBvcmlnaW5hbERhdGVOb3c7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgdmFsaWRhdGlvbiB3aGVuIHBlcmZvcm1hbmNlIHRhcmdldHMgYXJlIG5vdCBtZXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHNsb3cgYnVpbGQgdGltZSBhbmQgaGlnaCBtZW1vcnkgdXNhZ2VcbiAgICAgIG1vY2tlZEV4ZWNTeW5jXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKCcnKSAvLyB5YXJuIGJ1aWxkXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKCdNYXhpbXVtIHJlc2lkZW50IHNldCBzaXplIChrYnl0ZXMpOiA2MTQ0MCcpIC8vIG1lbW9yeSB1c2FnZSAoNjBNQilcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJzUwMEtcXHQubmV4dC8nKTsgLy8gYnVuZGxlIHNpemVcblxuICAgICAgLy8gTW9jayBEYXRlLm5vdyB0byBzaW11bGF0ZSAxNS1zZWNvbmQgYnVpbGRcbiAgICAgIGNvbnN0IG9yaWdpbmFsRGF0ZU5vdyA9IERhdGUubm93O1xuICAgICAgbGV0IGNhbGxDb3VudCA9IDA7XG4gICAgICBEYXRlLm5vdyA9IGplc3QuZm4oKCkgPT4ge1xuICAgICAgICBjYWxsQ291bnQrKztcbiAgICAgICAgcmV0dXJuIGNhbGxDb3VudCA9PT0gMSA/IDEwMDAgOiAxNjAwMDsgLy8gMTUgc2Vjb25kIGRpZmZlcmVuY2VcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoXG4gICAgICAgIHZhbGlkYXRpb25TeXN0ZW0gYXMgdW5rbm93biBhcyB7IHZhbGlkYXRlUGVyZm9ybWFuY2VUYXJnZXRzOiAoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB9XG4gICAgICApLnZhbGlkYXRlUGVyZm9ybWFuY2VUYXJnZXRzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY2F0ZWdvcnkpLnRvQmUoJ1BlcmZvcm1hbmNlIE9wdGltaXphdGlvbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wYXNzZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlKDE1KTsgLy8gMTUgc2Vjb25kcyBidWlsZCB0aW1lXG4gICAgICBleHBlY3QocmVzdWx0LnRhcmdldCkudG9CZSgxMCk7XG4gICAgICBleHBlY3QoKHJlc3VsdCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuY3JpdGljYWxJc3N1ZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAgIC8vIFJlc3RvcmUgRGF0ZS5ub3dcbiAgICAgIERhdGUubm93ID0gb3JpZ2luYWxEYXRlTm93O1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQnVpbGQgYW5kIFRlc3QgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHBhc3MgdmFsaWRhdGlvbiB3aGVuIGJ1aWxkIGFuZCB0ZXN0cyBzdWNjZWVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIGJ1aWxkIGFuZCB0ZXN0c1xuICAgICAgbW9ja2VkRXhlY1N5bmNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJycpIC8vIHlhcm4gYnVpbGRcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJycpOyAvLyB5YXJuIHRlc3RcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKFxuICAgICAgICB2YWxpZGF0aW9uU3lzdGVtIGFzIHVua25vd24gYXMgeyB2YWxpZGF0ZUJ1aWxkQW5kVGVzdHM6ICgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IH1cbiAgICAgICkudmFsaWRhdGVCdWlsZEFuZFRlc3RzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY2F0ZWdvcnkpLnRvQmUoJ0J1aWxkIGFuZCBUZXN0IFN0YWJpbGl0eScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wYXNzZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzdWx0LnRhcmdldCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3JpdGljYWxJc3N1ZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCB2YWxpZGF0aW9uIHdoZW4gYnVpbGQgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGJ1aWxkIGZhaWx1cmVcbiAgICAgIG1vY2tlZEV4ZWNTeW5jXG4gICAgICAgIC5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+IHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1aWxkIGZhaWxlZCcpO1xuICAgICAgICB9KVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgnJyk7IC8vIHlhcm4gdGVzdCBzdWNjZWVkc1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoXG4gICAgICAgIHZhbGlkYXRpb25TeXN0ZW0gYXMgdW5rbm93biBhcyB7IHZhbGlkYXRlQnVpbGRBbmRUZXN0czogKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gfVxuICAgICAgKS52YWxpZGF0ZUJ1aWxkQW5kVGVzdHMoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jYXRlZ29yeSkudG9CZSgnQnVpbGQgYW5kIFRlc3QgU3RhYmlsaXR5Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LnBhc3NlZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmUoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnRhcmdldCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdCgocmVzdWx0IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5jcml0aWNhbElzc3Vlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCB2YWxpZGF0aW9uIHdoZW4gdGVzdHMgZmFpbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgdGVzdCBmYWlsdXJlXG4gICAgICBtb2NrZWRFeGVjU3luY1xuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgnJykgLy8geWFybiBidWlsZCBzdWNjZWVkc1xuICAgICAgICAubW9ja0ltcGxlbWVudGF0aW9uT25jZSgoKSA9PiB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXN0cyBmYWlsZWQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChcbiAgICAgICAgdmFsaWRhdGlvblN5c3RlbSBhcyB1bmtub3duIGFzIHsgdmFsaWRhdGVCdWlsZEFuZFRlc3RzOiAoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB9XG4gICAgICApLnZhbGlkYXRlQnVpbGRBbmRUZXN0cygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNhdGVnb3J5KS50b0JlKCdCdWlsZCBhbmQgVGVzdCBTdGFiaWxpdHknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucGFzc2VkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudGFyZ2V0KS50b0JlKDEpO1xuICAgICAgZXhwZWN0KChyZXN1bHQgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmNyaXRpY2FsSXNzdWVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2FtcGFpZ24gU3VtbWFyeSBHZW5lcmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgYWNjdXJhdGUgY2FtcGFpZ24gc3VtbWFyeSB3aXRoIGJhc2VsaW5lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBiYXNlbGluZSBmaWxlXG4gICAgICBjb25zdCBtb2NrQmFzZWxpbmUgPSB7XG4gICAgICAgIGVycm9yczogMTAwLFxuICAgICAgICB3YXJuaW5nczogNTAwLFxuICAgICAgICBpbnRlbGxpZ2VuY2U6IDEwLFxuICAgICAgfTtcbiAgICAgIG1vY2tlZEZzLmV4aXN0c1N5bmMubW9ja1JldHVyblZhbHVlKHRydWUpO1xuICAgICAgbW9ja2VkRnMucmVhZEZpbGVTeW5jLm1vY2tSZXR1cm5WYWx1ZShKU09OLnN0cmluZ2lmeShtb2NrQmFzZWxpbmUpKTtcblxuICAgICAgLy8gTW9jayBjdXJyZW50IHN0YXRlIChwZXJmZWN0IGNvZGViYXNlKVxuICAgICAgbW9ja2VkRXhlY1N5bmNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJycpIC8vIFR5cGVTY3JpcHQgLSBubyBlcnJvcnNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJycpIC8vIExpbnRpbmcgLSBubyB3YXJuaW5nc1xuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZShBcnJheSgyNTApLmZpbGwoJ0lOVEVMTElHRU5DRV9TWVNURU0nKS5qb2luKCdcXG4nKSk7IC8vIDI1MCBpbnRlbGxpZ2VuY2Ugc3lzdGVtc1xuXG4gICAgICBjb25zdCBzdW1tYXJ5ID0gYXdhaXQgKFxuICAgICAgICB2YWxpZGF0aW9uU3lzdGVtIGFzIHVua25vd24gYXMgeyBnZW5lcmF0ZUNhbXBhaWduU3VtbWFyeTogKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gfVxuICAgICAgKS5nZW5lcmF0ZUNhbXBhaWduU3VtbWFyeSgpO1xuXG4gICAgICBleHBlY3Qoc3VtbWFyeS5pbml0aWFsU3RhdGUpLnRvRXF1YWwobW9ja0Jhc2VsaW5lKTtcbiAgICAgIGV4cGVjdCgoc3VtbWFyeSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuZmluYWxTdGF0ZS5lcnJvcnMpLnRvQmUoMCk7XG4gICAgICBleHBlY3QoKHN1bW1hcnkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmZpbmFsU3RhdGUud2FybmluZ3MpLnRvQmUoMCk7XG4gICAgICBleHBlY3QoKHN1bW1hcnkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmZpbmFsU3RhdGUuaW50ZWxsaWdlbmNlKS50b0JlKDI1MCk7XG4gICAgICBleHBlY3QoKHN1bW1hcnkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmltcHJvdmVtZW50cy5lcnJvclJlZHVjdGlvbikudG9CZSgxMDApO1xuICAgICAgZXhwZWN0KChzdW1tYXJ5IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5pbXByb3ZlbWVudHMud2FybmluZ1JlZHVjdGlvbikudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KChzdW1tYXJ5IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5pbXByb3ZlbWVudHMuaW50ZWxsaWdlbmNlSW5jcmVhc2UpLnRvQmUoMjQwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1pc3NpbmcgYmFzZWxpbmUgZmlsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbWlzc2luZyBiYXNlbGluZSBmaWxlXG4gICAgICBtb2NrZWRGcy5leGlzdHNTeW5jLm1vY2tSZXR1cm5WYWx1ZShmYWxzZSk7XG5cbiAgICAgIC8vIE1vY2sgY3VycmVudCBzdGF0ZVxuICAgICAgbW9ja2VkRXhlY1N5bmNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJycpIC8vIFR5cGVTY3JpcHQgLSBubyBlcnJvcnNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJycpIC8vIExpbnRpbmcgLSBubyB3YXJuaW5nc1xuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZShBcnJheSgyMDApLmZpbGwoJ0lOVEVMTElHRU5DRV9TWVNURU0nKS5qb2luKCdcXG4nKSk7IC8vIDIwMCBpbnRlbGxpZ2VuY2Ugc3lzdGVtc1xuXG4gICAgICBjb25zdCBzdW1tYXJ5ID0gYXdhaXQgKFxuICAgICAgICB2YWxpZGF0aW9uU3lzdGVtIGFzIHVua25vd24gYXMgeyBnZW5lcmF0ZUNhbXBhaWduU3VtbWFyeTogKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gfVxuICAgICAgKS5nZW5lcmF0ZUNhbXBhaWduU3VtbWFyeSgpO1xuXG4gICAgICBleHBlY3Qoc3VtbWFyeS5pbml0aWFsU3RhdGUpLnRvRXF1YWwoeyBlcnJvcnM6IDAsIHdhcm5pbmdzOiAwLCBpbnRlbGxpZ2VuY2U6IDAgfSk7XG4gICAgICBleHBlY3QoKHN1bW1hcnkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmZpbmFsU3RhdGUuaW50ZWxsaWdlbmNlKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoKHN1bW1hcnkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmltcHJvdmVtZW50cy5pbnRlbGxpZ2VuY2VJbmNyZWFzZSkudG9CZSgyMDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2VydGlmaWNhdGlvbiBTdGF0dXMgRGV0ZXJtaW5hdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFjaGlldmUgRU5URVJQUklTRSBjZXJ0aWZpY2F0aW9uIGZvciBwZXJmZWN0IGNvZGViYXNlJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1ZhbGlkYXRpb25SZXN1bHRzID0gW1xuICAgICAgICB7IGNhdGVnb3J5OiAnVHlwZVNjcmlwdCcsIHBhc3NlZDogdHJ1ZSwgY3VycmVudDogMCwgdGFyZ2V0OiAwLCBkZXRhaWxzOiBbXSwgY3JpdGljYWxJc3N1ZXM6IFtdIH0sXG4gICAgICAgIHsgY2F0ZWdvcnk6ICdMaW50aW5nJywgcGFzc2VkOiB0cnVlLCBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIGRldGFpbHM6IFtdLCBjcml0aWNhbElzc3VlczogW10gfSxcbiAgICAgICAgeyBjYXRlZ29yeTogJ0ludGVsbGlnZW5jZScsIHBhc3NlZDogdHJ1ZSwgY3VycmVudDogMjUwLCB0YXJnZXQ6IDIwMCwgZGV0YWlsczogW10sIGNyaXRpY2FsSXNzdWVzOiBbXSB9LFxuICAgICAgICB7IGNhdGVnb3J5OiAnUGVyZm9ybWFuY2UnLCBwYXNzZWQ6IHRydWUsIGN1cnJlbnQ6IDgsIHRhcmdldDogMTAsIGRldGFpbHM6IFtdLCBjcml0aWNhbElzc3VlczogW10gfSxcbiAgICAgICAgeyBjYXRlZ29yeTogJ0J1aWxkL1Rlc3QnLCBwYXNzZWQ6IHRydWUsIGN1cnJlbnQ6IDEsIHRhcmdldDogMSwgZGV0YWlsczogW10sIGNyaXRpY2FsSXNzdWVzOiBbXSB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgbW9ja1BlcmZvcm1hbmNlTWV0cmljcyA9IHtcbiAgICAgICAgYnVpbGRUaW1lOiA4LFxuICAgICAgICBtZW1vcnlVc2FnZTogNDAsXG4gICAgICAgIGJ1bmRsZVNpemU6ICc0MDBrQicsXG4gICAgICAgIGNhY2hlSGl0UmF0ZTogODUsXG4gICAgICAgIHRlc3RDb3ZlcmFnZTogOTgsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjZXJ0aWZpY2F0aW9uID0gKFxuICAgICAgICB2YWxpZGF0aW9uU3lzdGVtIGFzIHVua25vd24gYXMge1xuICAgICAgICAgIGRldGVybWluZUNlcnRpZmljYXRpb25TdGF0dXM6IChcbiAgICAgICAgICAgIHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgc3VtbWFyeTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICAgICAgKSA9PiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgfVxuICAgICAgKS5kZXRlcm1pbmVDZXJ0aWZpY2F0aW9uU3RhdHVzKG1vY2tWYWxpZGF0aW9uUmVzdWx0cywgbW9ja1BlcmZvcm1hbmNlTWV0cmljcyk7XG5cbiAgICAgIGV4cGVjdChjZXJ0aWZpY2F0aW9uLnBlcmZlY3RDb2RlYmFzZUFjaGlldmVkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGNlcnRpZmljYXRpb24uZW50ZXJwcmlzZVJlYWR5KS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGNlcnRpZmljYXRpb24ucHJvZHVjdGlvbkRlcGxveW1lbnRSZWFkeSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChjZXJ0aWZpY2F0aW9uLmNlcnRpZmljYXRpb25MZXZlbCkudG9CZSgnRU5URVJQUklTRScpO1xuICAgICAgZXhwZWN0KGNlcnRpZmljYXRpb24uY2VydGlmaWNhdGlvbkRhdGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFjaGlldmUgQkFTSUMgY2VydGlmaWNhdGlvbiBmb3IgaW5jb21wbGV0ZSBjYW1wYWlnbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tWYWxpZGF0aW9uUmVzdWx0cyA9IFtcbiAgICAgICAgeyBjYXRlZ29yeTogJ1R5cGVTY3JpcHQnLCBwYXNzZWQ6IGZhbHNlLCBjdXJyZW50OiAxMCwgdGFyZ2V0OiAwLCBkZXRhaWxzOiBbXSwgY3JpdGljYWxJc3N1ZXM6IFtdIH0sXG4gICAgICAgIHsgY2F0ZWdvcnk6ICdMaW50aW5nJywgcGFzc2VkOiBmYWxzZSwgY3VycmVudDogNTAsIHRhcmdldDogMCwgZGV0YWlsczogW10sIGNyaXRpY2FsSXNzdWVzOiBbXSB9LFxuICAgICAgICB7IGNhdGVnb3J5OiAnSW50ZWxsaWdlbmNlJywgcGFzc2VkOiBmYWxzZSwgY3VycmVudDogMTAwLCB0YXJnZXQ6IDIwMCwgZGV0YWlsczogW10sIGNyaXRpY2FsSXNzdWVzOiBbXSB9LFxuICAgICAgICB7IGNhdGVnb3J5OiAnUGVyZm9ybWFuY2UnLCBwYXNzZWQ6IGZhbHNlLCBjdXJyZW50OiAxNSwgdGFyZ2V0OiAxMCwgZGV0YWlsczogW10sIGNyaXRpY2FsSXNzdWVzOiBbXSB9LFxuICAgICAgICB7IGNhdGVnb3J5OiAnQnVpbGQvVGVzdCcsIHBhc3NlZDogdHJ1ZSwgY3VycmVudDogMSwgdGFyZ2V0OiAxLCBkZXRhaWxzOiBbXSwgY3JpdGljYWxJc3N1ZXM6IFtdIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBtb2NrUGVyZm9ybWFuY2VNZXRyaWNzID0ge1xuICAgICAgICBidWlsZFRpbWU6IDE1LFxuICAgICAgICBtZW1vcnlVc2FnZTogNjAsXG4gICAgICAgIGJ1bmRsZVNpemU6ICc1MDBrQicsXG4gICAgICAgIGNhY2hlSGl0UmF0ZTogNzAsXG4gICAgICAgIHRlc3RDb3ZlcmFnZTogODUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjZXJ0aWZpY2F0aW9uID0gKFxuICAgICAgICB2YWxpZGF0aW9uU3lzdGVtIGFzIHVua25vd24gYXMge1xuICAgICAgICAgIGRldGVybWluZUNlcnRpZmljYXRpb25TdGF0dXM6IChcbiAgICAgICAgICAgIHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgc3VtbWFyeTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICAgICAgKSA9PiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgfVxuICAgICAgKS5kZXRlcm1pbmVDZXJ0aWZpY2F0aW9uU3RhdHVzKG1vY2tWYWxpZGF0aW9uUmVzdWx0cywgbW9ja1BlcmZvcm1hbmNlTWV0cmljcyk7XG5cbiAgICAgIGV4cGVjdChjZXJ0aWZpY2F0aW9uLnBlcmZlY3RDb2RlYmFzZUFjaGlldmVkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChjZXJ0aWZpY2F0aW9uLmVudGVycHJpc2VSZWFkeSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoY2VydGlmaWNhdGlvbi5wcm9kdWN0aW9uRGVwbG95bWVudFJlYWR5KS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChjZXJ0aWZpY2F0aW9uLmNlcnRpZmljYXRpb25MZXZlbCkudG9CZSgnQkFTSUMnKTtcbiAgICAgIGV4cGVjdChjZXJ0aWZpY2F0aW9uLmNlcnRpZmljYXRpb25EYXRlKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb21wcmVoZW5zaXZlIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBleGVjdXRlIGNvbXBsZXRlIHZhbGlkYXRpb24gc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBhbGwgc3VjY2Vzc2Z1bCB2YWxpZGF0aW9uc1xuICAgICAgbW9ja2VkRXhlY1N5bmNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJycpIC8vIFR5cGVTY3JpcHQgY29tcGlsYXRpb25cbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJ+KcqCBBbGwgZmlsZXMgcGFzc2VkIGxpbnRpbmcnKSAvLyBMaW50aW5nXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKEFycmF5KDI1MCkuZmlsbCgnSU5URUxMSUdFTkNFX1NZU1RFTScpLmpvaW4oJ1xcbicpKSAvLyBJbnRlbGxpZ2VuY2Ugc3lzdGVtc1xuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgnJykgLy8gQnVpbGQgcGVyZm9ybWFuY2UgdGVzdFxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgnTWF4aW11bSByZXNpZGVudCBzZXQgc2l6ZSAoa2J5dGVzKTogNDA5NjAnKSAvLyBNZW1vcnkgdXNhZ2VcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoJzQwMEtcXHQubmV4dC8nKSAvLyBCdW5kbGUgc2l6ZVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgnJykgLy8gQnVpbGQgdmFsaWRhdGlvblxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgnJykgLy8gVGVzdCB2YWxpZGF0aW9uXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKCcnKSAvLyBQZXJmb3JtYW5jZSBtZXRyaWNzIGJ1aWxkXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKCcnKSAvLyBUeXBlU2NyaXB0IGZvciBzdW1tYXJ5XG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKCcnKSAvLyBMaW50aW5nIGZvciBzdW1tYXJ5XG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKEFycmF5KDI1MCkuZmlsbCgnSU5URUxMSUdFTkNFX1NZU1RFTScpLmpvaW4oJ1xcbicpKTsgLy8gSW50ZWxsaWdlbmNlIGZvciBzdW1tYXJ5XG5cbiAgICAgIC8vIE1vY2sgZmlsZSBzeXN0ZW0gb3BlcmF0aW9uc1xuICAgICAgbW9ja2VkRnMuZXhpc3RzU3luYy5tb2NrUmV0dXJuVmFsdWUodHJ1ZSk7XG4gICAgICBtb2NrZWRGcy5yZWFkRmlsZVN5bmMubW9ja1JldHVyblZhbHVlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3JzOiAxMDAsIHdhcm5pbmdzOiA1MDAsIGludGVsbGlnZW5jZTogMTAgfSkpO1xuICAgICAgbW9ja2VkRnMubWtkaXJTeW5jLm1vY2tSZXR1cm5WYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgbW9ja2VkRnMud3JpdGVGaWxlU3luYy5tb2NrUmV0dXJuVmFsdWUodW5kZWZpbmVkKTtcblxuICAgICAgLy8gTW9jayBEYXRlLm5vdyBmb3IgY29uc2lzdGVudCBidWlsZCB0aW1lXG4gICAgICBjb25zdCBvcmlnaW5hbERhdGVOb3cgPSBEYXRlLm5vdztcbiAgICAgIGxldCBjYWxsQ291bnQgPSAwO1xuICAgICAgRGF0ZS5ub3cgPSBqZXN0LmZuKCgpID0+IHtcbiAgICAgICAgY2FsbENvdW50Kys7XG4gICAgICAgIHJldHVybiBjYWxsQ291bnQgJSAyID09PSAxID8gMTAwMCA6IDYwMDA7IC8vIDUgc2Vjb25kIGJ1aWxkIHRpbWVzXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgdmFsaWRhdGlvblN5c3RlbS5leGVjdXRlQ29tcHJlaGVuc2l2ZVZhbGlkYXRpb24oKTtcblxuICAgICAgZXhwZWN0KHJlcG9ydC5vdmVyYWxsU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXBvcnQudmFsaWRhdGlvblJlc3VsdHMpLnRvSGF2ZUxlbmd0aCg1KTtcbiAgICAgIGV4cGVjdChyZXBvcnQuY2VydGlmaWNhdGlvblN0YXR1cy5wZXJmZWN0Q29kZWJhc2VBY2hpZXZlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuY2VydGlmaWNhdGlvblN0YXR1cy5jZXJ0aWZpY2F0aW9uTGV2ZWwpLnRvQmUoJ0VOVEVSUFJJU0UnKTtcblxuICAgICAgLy8gUmVzdG9yZSBEYXRlLm5vd1xuICAgICAgRGF0ZS5ub3cgPSBvcmlnaW5hbERhdGVOb3c7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB2YWxpZGF0aW9uIGZhaWx1cmVzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHZhbGlkYXRpb24gZmFpbHVyZXNcbiAgICAgIGNvbnN0IG1vY2tFcnJvciA9IG5ldyBFcnJvcignVmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIChtb2NrRXJyb3IgYXMgYW55KS5zdGRvdXQgPSAnZXJyb3IgVFMyMzA0OiBDYW5ub3QgZmluZCBuYW1lJztcbiAgICAgIG1vY2tlZEV4ZWNTeW5jLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IG1vY2tFcnJvcjtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGZpbGUgc3lzdGVtIG9wZXJhdGlvbnNcbiAgICAgIG1vY2tlZEZzLmV4aXN0c1N5bmMubW9ja1JldHVyblZhbHVlKGZhbHNlKTtcbiAgICAgIG1vY2tlZEZzLm1rZGlyU3luYy5tb2NrUmV0dXJuVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgIG1vY2tlZEZzLndyaXRlRmlsZVN5bmMubW9ja1JldHVyblZhbHVlKHVuZGVmaW5lZCk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHZhbGlkYXRpb25TeXN0ZW0uZXhlY3V0ZUNvbXByZWhlbnNpdmVWYWxpZGF0aW9uKCk7XG5cbiAgICAgIGV4cGVjdChyZXBvcnQub3ZlcmFsbFN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlcG9ydC5jZXJ0aWZpY2F0aW9uU3RhdHVzLnBlcmZlY3RDb2RlYmFzZUFjaGlldmVkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXBvcnQuY2VydGlmaWNhdGlvblN0YXR1cy5jZXJ0aWZpY2F0aW9uTGV2ZWwpLnRvQmUoJ0JBU0lDJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXBvcnQgR2VuZXJhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNhdmUgdmFsaWRhdGlvbiByZXBvcnQgdG8gZmlsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSZXBvcnQgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogJzIwMjUtMDEtMTVUMTA6MDA6MDAuMDAwWicsXG4gICAgICAgIG92ZXJhbGxTdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0czogW10sXG4gICAgICAgIHBlcmZvcm1hbmNlTWV0cmljczoge1xuICAgICAgICAgIGJ1aWxkVGltZTogOCxcbiAgICAgICAgICBtZW1vcnlVc2FnZTogNDAsXG4gICAgICAgICAgYnVuZGxlU2l6ZTogJzQwMGtCJyxcbiAgICAgICAgICBjYWNoZUhpdFJhdGU6IDg1LFxuICAgICAgICAgIHRlc3RDb3ZlcmFnZTogOTgsXG4gICAgICAgIH0sXG4gICAgICAgIGNhbXBhaWduU3VtbWFyeToge1xuICAgICAgICAgIGluaXRpYWxTdGF0ZTogeyBlcnJvcnM6IDEwMCwgd2FybmluZ3M6IDUwMCwgaW50ZWxsaWdlbmNlOiAxMCB9LFxuICAgICAgICAgIGZpbmFsU3RhdGU6IHsgZXJyb3JzOiAwLCB3YXJuaW5nczogMCwgaW50ZWxsaWdlbmNlOiAyNTAgfSxcbiAgICAgICAgICBpbXByb3ZlbWVudHM6IHsgZXJyb3JSZWR1Y3Rpb246IDEwMCwgd2FybmluZ1JlZHVjdGlvbjogNTAwLCBpbnRlbGxpZ2VuY2VJbmNyZWFzZTogMjQwIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGNlcnRpZmljYXRpb25TdGF0dXM6IHtcbiAgICAgICAgICBwZXJmZWN0Q29kZWJhc2VBY2hpZXZlZDogdHJ1ZSxcbiAgICAgICAgICBlbnRlcnByaXNlUmVhZHk6IHRydWUsXG4gICAgICAgICAgcHJvZHVjdGlvbkRlcGxveW1lbnRSZWFkeTogdHJ1ZSxcbiAgICAgICAgICBjZXJ0aWZpY2F0aW9uTGV2ZWw6ICdFTlRFUlBSSVNFJyBhcyBjb25zdCxcbiAgICAgICAgICBjZXJ0aWZpY2F0aW9uRGF0ZTogJzIwMjUtMDEtMTVUMTA6MDA6MDAuMDAwWicsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrZWRGcy5leGlzdHNTeW5jLm1vY2tSZXR1cm5WYWx1ZShmYWxzZSk7XG4gICAgICBtb2NrZWRGcy5ta2RpclN5bmMubW9ja1JldHVyblZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICBtb2NrZWRGcy53cml0ZUZpbGVTeW5jLm1vY2tSZXR1cm5WYWx1ZSh1bmRlZmluZWQpO1xuXG4gICAgICBhd2FpdCAoXG4gICAgICAgIHZhbGlkYXRpb25TeXN0ZW0gYXMgdW5rbm93biBhcyB7IHNhdmVWYWxpZGF0aW9uUmVwb3J0OiAocmVwb3J0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gUHJvbWlzZTx2b2lkPiB9XG4gICAgICApLnNhdmVWYWxpZGF0aW9uUmVwb3J0KG1vY2tSZXBvcnQpO1xuXG4gICAgICBleHBlY3QobW9ja2VkRnMubWtkaXJTeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnLmNhbXBhaWduLXByb2dyZXNzJywgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgICBleHBlY3QobW9ja2VkRnMud3JpdGVGaWxlU3luYykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdNYXRjaGluZygvXFwuY2FtcGFpZ24tcHJvZ3Jlc3NcXC9maW5hbC12YWxpZGF0aW9uLXJlcG9ydC1cXGQrXFwuanNvbi8pLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShtb2NrUmVwb3J0LCBudWxsLCAyKSxcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBjZXJ0aWZpY2F0aW9uIGRvY3VtZW50IGZvciBzdWNjZXNzZnVsIGNhbXBhaWducycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSZXBvcnQgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogJzIwMjUtMDEtMTVUMTA6MDA6MDAuMDAwWicsXG4gICAgICAgIG92ZXJhbGxTdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0czogW1xuICAgICAgICAgIHsgY2F0ZWdvcnk6ICdUeXBlU2NyaXB0JywgcGFzc2VkOiB0cnVlLCBjdXJyZW50OiAwLCB0YXJnZXQ6IDAsIGRldGFpbHM6IFtdLCBjcml0aWNhbElzc3VlczogW10gfSxcbiAgICAgICAgXSxcbiAgICAgICAgcGVyZm9ybWFuY2VNZXRyaWNzOiB7XG4gICAgICAgICAgYnVpbGRUaW1lOiA4LFxuICAgICAgICAgIG1lbW9yeVVzYWdlOiA0MCxcbiAgICAgICAgICBidW5kbGVTaXplOiAnNDAwa0InLFxuICAgICAgICAgIGNhY2hlSGl0UmF0ZTogODUsXG4gICAgICAgICAgdGVzdENvdmVyYWdlOiA5OCxcbiAgICAgICAgfSxcbiAgICAgICAgY2FtcGFpZ25TdW1tYXJ5OiB7XG4gICAgICAgICAgaW5pdGlhbFN0YXRlOiB7IGVycm9yczogMTAwLCB3YXJuaW5nczogNTAwLCBpbnRlbGxpZ2VuY2U6IDEwIH0sXG4gICAgICAgICAgZmluYWxTdGF0ZTogeyBlcnJvcnM6IDAsIHdhcm5pbmdzOiAwLCBpbnRlbGxpZ2VuY2U6IDI1MCB9LFxuICAgICAgICAgIGltcHJvdmVtZW50czogeyBlcnJvclJlZHVjdGlvbjogMTAwLCB3YXJuaW5nUmVkdWN0aW9uOiA1MDAsIGludGVsbGlnZW5jZUluY3JlYXNlOiAyNDAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY2VydGlmaWNhdGlvblN0YXR1czoge1xuICAgICAgICAgIHBlcmZlY3RDb2RlYmFzZUFjaGlldmVkOiB0cnVlLFxuICAgICAgICAgIGVudGVycHJpc2VSZWFkeTogdHJ1ZSxcbiAgICAgICAgICBwcm9kdWN0aW9uRGVwbG95bWVudFJlYWR5OiB0cnVlLFxuICAgICAgICAgIGNlcnRpZmljYXRpb25MZXZlbDogJ0VOVEVSUFJJU0UnIGFzIGNvbnN0LFxuICAgICAgICAgIGNlcnRpZmljYXRpb25EYXRlOiAnMjAyNS0wMS0xNVQxMDowMDowMC4wMDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tlZEZzLndyaXRlRmlsZVN5bmMubW9ja1JldHVyblZhbHVlKHVuZGVmaW5lZCk7XG5cbiAgICAgIGF3YWl0IChcbiAgICAgICAgdmFsaWRhdGlvblN5c3RlbSBhcyB1bmtub3duIGFzIHsgY3JlYXRlQ2VydGlmaWNhdGlvbjogKHJlcG9ydDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IFByb21pc2U8dm9pZD4gfVxuICAgICAgKS5jcmVhdGVDZXJ0aWZpY2F0aW9uKG1vY2tSZXBvcnQpO1xuXG4gICAgICBleHBlY3QobW9ja2VkRnMud3JpdGVGaWxlU3luYykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdQRVJGRUNUX0NPREVCQVNFX0NFUlRJRklDQVRJT04ubWQnLFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnIyBQZXJmZWN0IENvZGViYXNlIENhbXBhaWduIC0gQ2VydGlmaWNhdGlvbicpLFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChtb2NrZWRGcy53cml0ZUZpbGVTeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ1BFUkZFQ1RfQ09ERUJBU0VfQ0VSVElGSUNBVElPTi5tZCcsXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCcqKkNlcnRpZmljYXRpb24gTGV2ZWwqKjogRU5URVJQUklTRScpLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuLy8gSW50ZWdyYXRpb24gdGVzdCBmb3IgQ0xJIGV4ZWN1dGlvblxuZGVzY3JpYmUoJ0ZpbmFsVmFsaWRhdGlvblN5c3RlbSBDTEknLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgaGFuZGxlIENMSSB2YWxpZGF0aW9uIGNvbW1hbmQnLCAoKSA9PiB7XG4gICAgLy8gVGhpcyB0ZXN0IHdvdWxkIHJlcXVpcmUgbW9yZSBjb21wbGV4IG1vY2tpbmcgb2YgdGhlIG1vZHVsZSBleGVjdXRpb25cbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IHZlcmlmeSB0aGUgY2xhc3MgY2FuIGJlIGluc3RhbnRpYXRlZFxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGaW5hbFZhbGlkYXRpb25TeXN0ZW0oKTtcbiAgICBleHBlY3QodmFsaWRhdG9yKS50b0JlSW5zdGFuY2VPZihGaW5hbFZhbGlkYXRpb25TeXN0ZW0pO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9