dc22d4b6c70750e9905f28644547997f
"use strict";
/**
 * Tests for Campaign Intelligence System
 *
 * Verifies Enterprise Intelligence integration and analytics capabilities
 */
Object.defineProperty(exports, "__esModule", { value: true });
const CampaignIntelligenceSystem_1 = require("./CampaignIntelligenceSystem");
const TypeScriptErrorAnalyzer_1 = require("./TypeScriptErrorAnalyzer");
describe('Campaign Intelligence System', () => {
    describe('ERROR_PATTERN_INTELLIGENCE', () => {
        it('should analyze error patterns correctly', () => {
            const sampleErrors = [
                {
                    code: 'TS2352',
                    category: TypeScriptErrorAnalyzer_1.ErrorCategory.TS2352_TYPE_CONVERSION,
                    priority: 20,
                },
                {
                    code: 'TS2352',
                    category: TypeScriptErrorAnalyzer_1.ErrorCategory.TS2352_TYPE_CONVERSION,
                    priority: 18,
                },
                {
                    code: 'TS2345',
                    category: TypeScriptErrorAnalyzer_1.ErrorCategory.TS2345_ARGUMENT_MISMATCH,
                    priority: 15,
                },
                {
                    code: 'TS2304',
                    category: TypeScriptErrorAnalyzer_1.ErrorCategory.TS2304_CANNOT_FIND_NAME,
                    priority: 22,
                },
            ];
            const patterns = CampaignIntelligenceSystem_1.ERROR_PATTERN_INTELLIGENCE.analyzeErrorPatterns(sampleErrors);
            expect(patterns.patternRecognition['TS2352_TS2352_TYPE_CONVERSION']).toBe(2);
            expect(patterns.patternRecognition['TS2345_TS2345_ARGUMENT_MISMATCH']).toBe(1);
            expect(patterns.patternRecognition['TS2304_TS2304_CANNOT_FIND_NAME']).toBe(1);
            expect(patterns.errorCategoryTrends[TypeScriptErrorAnalyzer_1.ErrorCategory.TS2352_TYPE_CONVERSION]).toBe(2);
            expect(patterns.errorCategoryTrends[TypeScriptErrorAnalyzer_1.ErrorCategory.TS2345_ARGUMENT_MISMATCH]).toBe(1);
            expect(patterns.errorCategoryTrends[TypeScriptErrorAnalyzer_1.ErrorCategory.TS2304_CANNOT_FIND_NAME]).toBe(1);
            expect(patterns.fixSuccessRates['TS2352_TS2352_TYPE_CONVERSION']).toBe(0.92);
            expect(patterns.fixSuccessRates['TS2304_TS2304_CANNOT_FIND_NAME']).toBe(0.95);
            expect(patterns.predictiveAnalytics.errorReductionPotential).toBeGreaterThan(0);
            expect(patterns.predictiveAnalytics.campaignDurationEstimate).toBeGreaterThan(0);
            expect(patterns.predictiveAnalytics.buildStabilityPrediction).toBeGreaterThan(0.6);
        });
        it('should generate error intelligence report', () => {
            const patterns = {
                patternRecognition: {
                    TS2352_TYPE_CONVERSION: 10,
                    TS2345_ARGUMENT_MISMATCH: 5,
                },
                fixSuccessRates: {
                    TS2352_TYPE_CONVERSION: 0.92,
                    TS2345_ARGUMENT_MISMATCH: 0.87,
                },
                errorCategoryTrends: {
                    [TypeScriptErrorAnalyzer_1.ErrorCategory.TS2352_TYPE_CONVERSION]: 10,
                    [TypeScriptErrorAnalyzer_1.ErrorCategory.TS2345_ARGUMENT_MISMATCH]: 5,
                    [TypeScriptErrorAnalyzer_1.ErrorCategory.TS2698_SPREAD_TYPE]: 0,
                    [TypeScriptErrorAnalyzer_1.ErrorCategory.TS2304_CANNOT_FIND_NAME]: 0,
                    [TypeScriptErrorAnalyzer_1.ErrorCategory.TS2362_ARITHMETIC_OPERATION]: 0,
                    [TypeScriptErrorAnalyzer_1.ErrorCategory.OTHER]: 0,
                },
                priorityOptimization: {
                    TS2352_TYPE_CONVERSION: 9.2,
                    TS2345_ARGUMENT_MISMATCH: 4.35,
                },
                predictiveAnalytics: {
                    errorReductionPotential: 0.85,
                    campaignDurationEstimate: 30,
                    buildStabilityPrediction: 0.94,
                },
            };
            const report = CampaignIntelligenceSystem_1.ERROR_PATTERN_INTELLIGENCE.generateErrorIntelligenceReport(patterns);
            expect(report).toContain('Dominant error pattern: TS2352_TYPE_CONVERSION (10 occurrences)');
            expect(report).toContain('High-success fix patterns identified: TS2352_TYPE_CONVERSION');
            expect(report).toContain('Projected error reduction potential: 85.0%');
            expect(report).toContain('Estimated campaign duration: 30.0 days');
        });
    });
    describe('CAMPAIGN_PROGRESS_INTELLIGENCE', () => {
        it('should analyze campaign progress correctly', () => {
            const sampleFixerResults = [
                {
                    success: true,
                    filesProcessed: 15,
                    errorsFixed: 50,
                    errorsRemaining: 2450,
                    buildValidationPassed: true,
                    executionTime: 60000,
                    safetyScore: 0.85,
                    warnings: [],
                    errors: [],
                },
                {
                    success: true,
                    filesProcessed: 12,
                    errorsFixed: 30,
                    errorsRemaining: 2420,
                    buildValidationPassed: true,
                    executionTime: 45000,
                    safetyScore: 0.9,
                    warnings: [],
                    errors: [],
                },
            ];
            const sampleCampaignProgress = {
                totalExplicitAnyStart: 1000,
                totalExplicitAnyRemaining: 200,
                reductionAchieved: 800,
                reductionPercentage: 80,
                campaignTarget: 75.5,
                isTargetMet: true,
            };
            const progress = CampaignIntelligenceSystem_1.CAMPAIGN_PROGRESS_INTELLIGENCE.analyzeCampaignProgress(2420, 2500, sampleFixerResults, sampleCampaignProgress);
            expect(progress.velocityAnalysis.currentVelocity).toBeGreaterThan(0);
            expect(progress.velocityAnalysis.projectedCompletion).toBeInstanceOf(Date);
            expect(progress.velocityAnalysis.efficiencyTrends).toHaveLength(2);
            expect(progress.qualityMetrics.codeHealthScore).toBeGreaterThan(0.3);
            expect(progress.qualityMetrics.maintainabilityIndex).toBeGreaterThan(0);
            expect(progress.qualityMetrics.technicalDebtRatio).toBeLessThan(1);
            expect(progress.qualityMetrics.buildReliability).toBe(1); // All builds passed
            expect(progress.strategicInsights.recommendedActions).toBeInstanceOf(Array);
            expect(progress.strategicInsights.riskAssessment).toBeInstanceOf(Array);
            expect(progress.strategicInsights.opportunityIdentification).toBeInstanceOf(Array);
            expect(progress.strategicInsights.resourceOptimization).toBeInstanceOf(Array);
        });
        it('should generate progress intelligence report', () => {
            const progress = {
                velocityAnalysis: {
                    currentVelocity: 1.5,
                    projectedCompletion: new Date('2025-02-01'),
                    efficiencyTrends: [1.2, 1.5, 1.8],
                    bottleneckIdentification: ['Low error fixing velocity'],
                },
                qualityMetrics: {
                    codeHealthScore: 0.85,
                    maintainabilityIndex: 0.8,
                    technicalDebtRatio: 0.15,
                    buildReliability: 0.95,
                },
                strategicInsights: {
                    recommendedActions: ['Increase batch size for higher throughput'],
                    riskAssessment: ['Build stability risk detected'],
                    opportunityIdentification: [
                        'High success rate - consider aggressive mode',
                    ],
                    resourceOptimization: ['Focus on remaining high-impact errors'],
                },
            };
            const report = CampaignIntelligenceSystem_1.CAMPAIGN_PROGRESS_INTELLIGENCE.generateProgressIntelligenceReport(progress);
            expect(report).toContain('Current velocity: 1.50 errors/minute');
            expect(report).toContain('Projected completion: 2/1/2025');
            expect(report).toContain('Code health score: 85.0%');
            expect(report).toContain('Build reliability: 95.0%');
            expect(report).toContain('Bottlenecks identified: Low error fixing velocity');
            expect(report).toContain('Top recommendation: Increase batch size for higher throughput');
        });
    });
    describe('CAMPAIGN_ENTERPRISE_INTELLIGENCE', () => {
        it('should generate comprehensive intelligence', async () => {
            // Mock the analyzer methods to avoid actual system calls
            const mockErrorAnalyzer = {
                analyzeErrors: jest.fn().mockResolvedValue({
                    distribution: {
                        totalErrors: 2500,
                        priorityRanking: [
                            {
                                code: 'TS2352',
                                category: TypeScriptErrorAnalyzer_1.ErrorCategory.TS2352_TYPE_CONVERSION,
                                priority: 20,
                            },
                        ],
                    },
                }),
                getCurrentErrorCount: jest.fn().mockResolvedValue(2500),
            };
            const mockFixerIntegration = {};
            const mockAnyElimination = {
                showCampaignProgress: jest.fn().mockResolvedValue({
                    totalExplicitAnyStart: 1000,
                    totalExplicitAnyRemaining: 250,
                    reductionAchieved: 750,
                    reductionPercentage: 75,
                    campaignTarget: 75.5,
                    isTargetMet: false,
                }),
            };
            const intelligence = await CampaignIntelligenceSystem_1.CAMPAIGN_ENTERPRISE_INTELLIGENCE.generateComprehensiveIntelligence(mockErrorAnalyzer, mockFixerIntegration, mockAnyElimination);
            expect(intelligence.campaignMetrics).toBeDefined();
            expect(intelligence.errorPatterns).toBeDefined();
            expect(intelligence.progressAnalysis).toBeDefined();
            expect(intelligence.systemIntegration).toBeDefined();
            expect(intelligence.intelligenceRecommendations).toBeInstanceOf(Array);
            expect(intelligence.enterpriseReadinessScore).toBeGreaterThanOrEqual(0);
            expect(intelligence.enterpriseReadinessScore).toBeLessThanOrEqual(1);
            // Verify campaign metrics structure
            expect(intelligence.campaignMetrics.errorReductionVelocity).toBeGreaterThanOrEqual(0);
            expect(intelligence.campaignMetrics.codeQualityImprovement).toBeGreaterThanOrEqual(0);
            expect(intelligence.campaignMetrics.buildStabilityScore).toBeGreaterThanOrEqual(0);
            expect(intelligence.campaignMetrics.technicalDebtReduction).toBeGreaterThanOrEqual(0);
            expect(intelligence.campaignMetrics.enterpriseReadiness).toBeGreaterThanOrEqual(0);
            expect([
                'basic',
                'intermediate',
                'advanced',
                'enterprise_level',
            ]).toContain(intelligence.campaignMetrics.intelligenceDepth);
            // Verify system integration metrics
            expect(intelligence.systemIntegration.overallSystemIntegration).toBeGreaterThan(0.9);
        });
        it('should display enterprise intelligence correctly', () => {
            const mockIntelligence = {
                campaignMetrics: {
                    errorReductionVelocity: 1.5,
                    codeQualityImprovement: 0.85,
                    buildStabilityScore: 0.95,
                    technicalDebtReduction: 0.75,
                    enterpriseReadiness: 0.88,
                    systemComplexity: 0.6,
                    intelligenceDepth: 'advanced',
                    campaignEffectiveness: 0.82,
                },
                errorPatterns: {
                    patternRecognition: {
                        TS2352_TYPE_CONVERSION: 10,
                        TS2345_ARGUMENT_MISMATCH: 5,
                    },
                    fixSuccessRates: {},
                    errorCategoryTrends: {},
                    priorityOptimization: {},
                    predictiveAnalytics: {},
                },
                progressAnalysis: {
                    velocityAnalysis: {
                        currentVelocity: 1.5,
                        projectedCompletion: new Date('2025-02-01'),
                        efficiencyTrends: [],
                        bottleneckIdentification: [],
                    },
                    qualityMetrics: {
                        codeHealthScore: 0.85,
                        maintainabilityIndex: 0.8,
                        technicalDebtRatio: 0.15,
                        buildReliability: 0.95,
                    },
                    strategicInsights: {
                        recommendedActions: [],
                        riskAssessment: [],
                        opportunityIdentification: [],
                        resourceOptimization: [],
                    },
                },
                systemIntegration: { overallSystemIntegration: 0.92 },
                intelligenceRecommendations: ['Test recommendation'],
                enterpriseReadinessScore: 0.88,
            };
            const consoleSpy = jest.spyOn(console, 'log').mockImplementation();
            CampaignIntelligenceSystem_1.CAMPAIGN_ENTERPRISE_INTELLIGENCE.displayEnterpriseIntelligence(mockIntelligence);
            expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('CAMPAIGN ENTERPRISE INTELLIGENCE SYSTEM'));
            expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('Error Reduction Velocity: 1.50 errors/min'));
            expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('Enterprise Readiness: 88.0%'));
            expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('Intelligence Depth: advanced'));
            expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('ADVANCED LEVEL - Approaching enterprise readiness'));
            consoleSpy.mockRestore();
        });
    });
    describe('CAMPAIGN_INTELLIGENCE_DEMO', () => {
        it('should demonstrate all intelligence capabilities', async () => {
            const demo = await CampaignIntelligenceSystem_1.CAMPAIGN_INTELLIGENCE_DEMO.demonstrateAllIntelligence();
            expect(demo.errorPatternDemo).toBeDefined();
            expect(demo.progressAnalysisDemo).toBeDefined();
            expect(demo.enterpriseIntelligenceDemo).toBeDefined();
            expect(demo.integrationMetrics).toBeDefined();
            expect(demo.demonstrationSummary).toBeDefined();
            // Verify demonstration summary
            expect(demo.demonstrationSummary.intelligenceSystemsCount).toBe(3);
            expect(demo.demonstrationSummary.analysisMethodsCount).toBe(6);
            expect(demo.demonstrationSummary.demonstrationCompleteness).toBe(1.0);
            expect(demo.demonstrationSummary.intelligenceCapabilities).toBeInstanceOf(Array);
            expect(demo.demonstrationSummary.intelligenceCapabilities).toContain('Error Pattern Recognition');
            expect(demo.demonstrationSummary.intelligenceCapabilities).toContain('Enterprise Readiness Assessment');
            // Verify integration metrics
            expect(demo.integrationMetrics.overallIntelligenceIntegration).toBeGreaterThan(0.9);
            expect(demo.integrationMetrics.errorPatternIntegration).toBeGreaterThan(0.9);
            expect(demo.integrationMetrics.progressAnalysisIntegration).toBeGreaterThan(0.9);
            expect(demo.integrationMetrics.enterpriseIntelligenceIntegration).toBeGreaterThan(0.9);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9DYW1wYWlnbkludGVsbGlnZW5jZVN5c3RlbS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOztBQUVILDZFQVFzQztBQUN0Qyx1RUFBMEQ7QUFJMUQsUUFBUSxDQUFDLDhCQUE4QixFQUFFLEdBQUcsRUFBRTtJQUM1QyxRQUFRLENBQUMsNEJBQTRCLEVBQUUsR0FBRyxFQUFFO1FBQzFDLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7WUFDakQsTUFBTSxZQUFZLEdBQUc7Z0JBQ25CO29CQUNFLElBQUksRUFBRSxRQUFRO29CQUNkLFFBQVEsRUFBRSx1Q0FBYSxDQUFDLHNCQUFzQjtvQkFDOUMsUUFBUSxFQUFFLEVBQUU7aUJBQ2I7Z0JBQ0Q7b0JBQ0UsSUFBSSxFQUFFLFFBQVE7b0JBQ2QsUUFBUSxFQUFFLHVDQUFhLENBQUMsc0JBQXNCO29CQUM5QyxRQUFRLEVBQUUsRUFBRTtpQkFDYjtnQkFDRDtvQkFDRSxJQUFJLEVBQUUsUUFBUTtvQkFDZCxRQUFRLEVBQUUsdUNBQWEsQ0FBQyx3QkFBd0I7b0JBQ2hELFFBQVEsRUFBRSxFQUFFO2lCQUNiO2dCQUNEO29CQUNFLElBQUksRUFBRSxRQUFRO29CQUNkLFFBQVEsRUFBRSx1Q0FBYSxDQUFDLHVCQUF1QjtvQkFDL0MsUUFBUSxFQUFFLEVBQUU7aUJBQ2I7YUFDRixDQUFDO1lBRUYsTUFBTSxRQUFRLEdBQ1osdURBQTBCLENBQUMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLENBQUM7WUFFaEUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUN2RSxDQUFDLENBQ0YsQ0FBQztZQUNGLE1BQU0sQ0FDSixRQUFRLENBQUMsa0JBQWtCLENBQUMsaUNBQWlDLENBQUMsQ0FDL0QsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVixNQUFN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WUFDdkIsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLGVBQWUsQ0FDckUsR0FBRyxDQUNKLENBQUM7WUFDRixNQUFNLENBQ0osSUFBSSxDQUFDLGtCQUFrQixDQUFDLDJCQUEyQixDQUNwRCxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QixNQUFNLENBQ0osSUFBSSxDQUFDLGtCQUFrQixDQUFDLGlDQUFpQyxDQUMxRCxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9DYW1wYWlnbkludGVsbGlnZW5jZVN5c3RlbS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVzdHMgZm9yIENhbXBhaWduIEludGVsbGlnZW5jZSBTeXN0ZW1cbiAqXG4gKiBWZXJpZmllcyBFbnRlcnByaXNlIEludGVsbGlnZW5jZSBpbnRlZ3JhdGlvbiBhbmQgYW5hbHl0aWNzIGNhcGFiaWxpdGllc1xuICovXG5cbmltcG9ydCB7XG4gIEVSUk9SX1BBVFRFUk5fSU5URUxMSUdFTkNFLFxuICBDQU1QQUlHTl9QUk9HUkVTU19JTlRFTExJR0VOQ0UsXG4gIENBTVBBSUdOX0VOVEVSUFJJU0VfSU5URUxMSUdFTkNFLFxuICBDQU1QQUlHTl9JTlRFTExJR0VOQ0VfREVNTyxcbiAgQ2FtcGFpZ25JbnRlbGxpZ2VuY2VNZXRyaWNzLFxuICBFcnJvclBhdHRlcm5JbnRlbGxpZ2VuY2UsXG4gIENhbXBhaWduUHJvZ3Jlc3NJbnRlbGxpZ2VuY2UsXG59IGZyb20gJy4vQ2FtcGFpZ25JbnRlbGxpZ2VuY2VTeXN0ZW0nO1xuaW1wb3J0IHsgRXJyb3JDYXRlZ29yeSB9IGZyb20gJy4vVHlwZVNjcmlwdEVycm9yQW5hbHl6ZXInO1xuaW1wb3J0IHsgRml4ZXJSZXN1bHQgfSBmcm9tICcuL0VuaGFuY2VkRXJyb3JGaXhlckludGVncmF0aW9uJztcbmltcG9ydCB7IENhbXBhaWduUHJvZ3Jlc3MgfSBmcm9tICcuL0V4cGxpY2l0QW55RWxpbWluYXRpb25TeXN0ZW0nO1xuXG5kZXNjcmliZSgnQ2FtcGFpZ24gSW50ZWxsaWdlbmNlIFN5c3RlbScsICgpID0+IHtcbiAgZGVzY3JpYmUoJ0VSUk9SX1BBVFRFUk5fSU5URUxMSUdFTkNFJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYW5hbHl6ZSBlcnJvciBwYXR0ZXJucyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBzYW1wbGVFcnJvcnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBjb2RlOiAnVFMyMzUyJyxcbiAgICAgICAgICBjYXRlZ29yeTogRXJyb3JDYXRlZ29yeS5UUzIzNTJfVFlQRV9DT05WRVJTSU9OLFxuICAgICAgICAgIHByaW9yaXR5OiAyMCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGNvZGU6ICdUUzIzNTInLFxuICAgICAgICAgIGNhdGVnb3J5OiBFcnJvckNhdGVnb3J5LlRTMjM1Ml9UWVBFX0NPTlZFUlNJT04sXG4gICAgICAgICAgcHJpb3JpdHk6IDE4LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgY29kZTogJ1RTMjM0NScsXG4gICAgICAgICAgY2F0ZWdvcnk6IEVycm9yQ2F0ZWdvcnkuVFMyMzQ1X0FSR1VNRU5UX01JU01BVENILFxuICAgICAgICAgIHByaW9yaXR5OiAxNSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGNvZGU6ICdUUzIzMDQnLFxuICAgICAgICAgIGNhdGVnb3J5OiBFcnJvckNhdGVnb3J5LlRTMjMwNF9DQU5OT1RfRklORF9OQU1FLFxuICAgICAgICAgIHByaW9yaXR5OiAyMixcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHBhdHRlcm5zID1cbiAgICAgICAgRVJST1JfUEFUVEVSTl9JTlRFTExJR0VOQ0UuYW5hbHl6ZUVycm9yUGF0dGVybnMoc2FtcGxlRXJyb3JzKTtcblxuICAgICAgZXhwZWN0KHBhdHRlcm5zLnBhdHRlcm5SZWNvZ25pdGlvblsnVFMyMzUyX1RTMjM1Ml9UWVBFX0NPTlZFUlNJT04nXSkudG9CZShcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgcGF0dGVybnMucGF0dGVyblJlY29nbml0aW9uWydUUzIzNDVfVFMyMzQ1X0FSR1VNRU5UX01JU01BVENIJ11cbiAgICAgICkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgcGF0dGVybnMucGF0dGVyblJlY29nbml0aW9uWydUUzIzMDRfVFMyMzA0X0NBTk5PVF9GSU5EX05BTUUnXVxuICAgICAgKS50b0JlKDEpO1xuXG4gICAgICBleHBlY3QoXG4gICAgICAgIHBhdHRlcm5zLmVycm9yQ2F0ZWdvcnlUcmVuZHNbRXJyb3JDYXRlZ29yeS5UUzIzNTJfVFlQRV9DT05WRVJTSU9OXVxuICAgICAgKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBwYXR0ZXJucy5lcnJvckNhdGVnb3J5VHJlbmRzW0Vycm9yQ2F0ZWdvcnkuVFMyMzQ1X0FSR1VNRU5UX01JU01BVENIXVxuICAgICAgKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBwYXR0ZXJucy5lcnJvckNhdGVnb3J5VHJlbmRzW0Vycm9yQ2F0ZWdvcnkuVFMyMzA0X0NBTk5PVF9GSU5EX05BTUVdXG4gICAgICApLnRvQmUoMSk7XG5cbiAgICAgIGV4cGVjdChwYXR0ZXJucy5maXhTdWNjZXNzUmF0ZXNbJ1RTMjM1Ml9UUzIzNTJfVFlQRV9DT05WRVJTSU9OJ10pLnRvQmUoXG4gICAgICAgIDAuOTJcbiAgICAgICk7XG4gICAgICBleHBlY3QocGF0dGVybnMuZml4U3VjY2Vzc1JhdGVzWydUUzIzMDRfVFMyMzA0X0NBTk5PVF9GSU5EX05BTUUnXSkudG9CZShcbiAgICAgICAgMC45NVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KFxuICAgICAgICBwYXR0ZXJucy5wcmVkaWN0aXZlQW5hbHl0aWNzLmVycm9yUmVkdWN0aW9uUG90ZW50aWFsXG4gICAgICApLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgcGF0dGVybnMucHJlZGljdGl2ZUFuYWx5dGljcy5jYW1wYWlnbkR1cmF0aW9uRXN0aW1hdGVcbiAgICAgICkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBwYXR0ZXJucy5wcmVkaWN0aXZlQW5hbHl0aWNzLmJ1aWxkU3RhYmlsaXR5UHJlZGljdGlvblxuICAgICAgKS50b0JlR3JlYXRlclRoYW4oMC42KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZXJyb3IgaW50ZWxsaWdlbmNlIHJlcG9ydCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHBhdHRlcm5zOiBFcnJvclBhdHRlcm5JbnRlbGxpZ2VuY2UgPSB7XG4gICAgICAgIHBhdHRlcm5SZWNvZ25pdGlvbjoge1xuICAgICAgICAgIFRTMjM1Ml9UWVBFX0NPTlZFUlNJT046IDEwLFxuICAgICAgICAgIFRTMjM0NV9BUkdVTUVOVF9NSVNNQVRDSDogNSxcbiAgICAgICAgfSxcbiAgICAgICAgZml4U3VjY2Vzc1JhdGVzOiB7XG4gICAgICAgICAgVFMyMzUyX1RZUEVfQ09OVkVSU0lPTjogMC45MixcbiAgICAgICAgICBUUzIzNDVfQVJHVU1FTlRfTUlTTUFUQ0g6IDAuODcsXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yQ2F0ZWdvcnlUcmVuZHM6IHtcbiAgICAgICAgICBbRXJyb3JDYXRlZ29yeS5UUzIzNTJfVFlQRV9DT05WRVJTSU9OXTogMTAsXG4gICAgICAgICAgW0Vycm9yQ2F0ZWdvcnkuVFMyMzQ1X0FSR1VNRU5UX01JU01BVENIXTogNSxcbiAgICAgICAgICBbRXJyb3JDYXRlZ29yeS5UUzI2OThfU1BSRUFEX1RZUEVdOiAwLFxuICAgICAgICAgIFtFcnJvckNhdGVnb3J5LlRTMjMwNF9DQU5OT1RfRklORF9OQU1FXTogMCxcbiAgICAgICAgICBbRXJyb3JDYXRlZ29yeS5UUzIzNjJfQVJJVEhNRVRJQ19PUEVSQVRJT05dOiAwLFxuICAgICAgICAgIFtFcnJvckNhdGVnb3J5Lk9USEVSXTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHlPcHRpbWl6YXRpb246IHtcbiAgICAgICAgICBUUzIzNTJfVFlQRV9DT05WRVJTSU9OOiA5LjIsXG4gICAgICAgICAgVFMyMzQ1X0FSR1VNRU5UX01JU01BVENIOiA0LjM1LFxuICAgICAgICB9LFxuICAgICAgICBwcmVkaWN0aXZlQW5hbHl0aWNzOiB7XG4gICAgICAgICAgZXJyb3JSZWR1Y3Rpb25Qb3RlbnRpYWw6IDAuODUsXG4gICAgICAgICAgY2FtcGFpZ25EdXJhdGlvbkVzdGltYXRlOiAzMCxcbiAgICAgICAgICBidWlsZFN0YWJpbGl0eVByZWRpY3Rpb246IDAuOTQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXBvcnQgPVxuICAgICAgICBFUlJPUl9QQVRURVJOX0lOVEVMTElHRU5DRS5nZW5lcmF0ZUVycm9ySW50ZWxsaWdlbmNlUmVwb3J0KHBhdHRlcm5zKTtcblxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9Db250YWluKFxuICAgICAgICAnRG9taW5hbnQgZXJyb3IgcGF0dGVybjogVFMyMzUyX1RZUEVfQ09OVkVSU0lPTiAoMTAgb2NjdXJyZW5jZXMpJ1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChyZXBvcnQpLnRvQ29udGFpbihcbiAgICAgICAgJ0hpZ2gtc3VjY2VzcyBmaXggcGF0dGVybnMgaWRlbnRpZmllZDogVFMyMzUyX1RZUEVfQ09OVkVSU0lPTidcbiAgICAgICk7XG4gICAgICBleHBlY3QocmVwb3J0KS50b0NvbnRhaW4oJ1Byb2plY3RlZCBlcnJvciByZWR1Y3Rpb24gcG90ZW50aWFsOiA4NS4wJScpO1xuICAgICAgZXhwZWN0KHJlcG9ydCkudG9Db250YWluKCdFc3RpbWF0ZWQgY2FtcGFpZ24gZHVyYXRpb246IDMwLjAgZGF5cycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ0FNUEFJR05fUFJPR1JFU1NfSU5URUxMSUdFTkNFJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYW5hbHl6ZSBjYW1wYWlnbiBwcm9ncmVzcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBzYW1wbGVGaXhlclJlc3VsdHM6IEZpeGVyUmVzdWx0W10gPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGZpbGVzUHJvY2Vzc2VkOiAxNSxcbiAgICAgICAgICBlcnJvcnNGaXhlZDogNTAsXG4gICAgICAgICAgZXJyb3JzUmVtYWluaW5nOiAyNDUwLFxuICAgICAgICAgIGJ1aWxkVmFsaWRhdGlvblBhc3NlZDogdHJ1ZSxcbiAgICAgICAgICBleGVjdXRpb25UaW1lOiA2MDAwMCwgLy8gMSBtaW51dGVcbiAgICAgICAgICBzYWZldHlTY29yZTogMC44NSxcbiAgICAgICAgICB3YXJuaW5nczogW10sXG4gICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZmlsZXNQcm9jZXNzZWQ6IDEyLFxuICAgICAgICAgIGVycm9yc0ZpeGVkOiAzMCxcbiAgICAgICAgICBlcnJvcnNSZW1haW5pbmc6IDI0MjAsXG4gICAgICAgICAgYnVpbGRWYWxpZGF0aW9uUGFzc2VkOiB0cnVlLFxuICAgICAgICAgIGV4ZWN1dGlvblRpbWU6IDQ1MDAwLCAvLyA0NSBzZWNvbmRzXG4gICAgICAgICAgc2FmZXR5U2NvcmU6IDAuOSxcbiAgICAgICAgICB3YXJuaW5nczogW10sXG4gICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHNhbXBsZUNhbXBhaWduUHJvZ3Jlc3M6IENhbXBhaWduUHJvZ3Jlc3MgPSB7XG4gICAgICAgIHRvdGFsRXhwbGljaXRBbnlTdGFydDogMTAwMCxcbiAgICAgICAgdG90YWxFeHBsaWNpdEFueVJlbWFpbmluZzogMjAwLFxuICAgICAgICByZWR1Y3Rpb25BY2hpZXZlZDogODAwLFxuICAgICAgICByZWR1Y3Rpb25QZXJjZW50YWdlOiA4MCxcbiAgICAgICAgY2FtcGFpZ25UYXJnZXQ6IDc1LjUsXG4gICAgICAgIGlzVGFyZ2V0TWV0OiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBDQU1QQUlHTl9QUk9HUkVTU19JTlRFTExJR0VOQ0UuYW5hbHl6ZUNhbXBhaWduUHJvZ3Jlc3MoXG4gICAgICAgIDI0MjAsXG4gICAgICAgIDI1MDAsXG4gICAgICAgIHNhbXBsZUZpeGVyUmVzdWx0cyxcbiAgICAgICAgc2FtcGxlQ2FtcGFpZ25Qcm9ncmVzc1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHByb2dyZXNzLnZlbG9jaXR5QW5hbHlzaXMuY3VycmVudFZlbG9jaXR5KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocHJvZ3Jlc3MudmVsb2NpdHlBbmFseXNpcy5wcm9qZWN0ZWRDb21wbGV0aW9uKS50b0JlSW5zdGFuY2VPZihcbiAgICAgICAgRGF0ZVxuICAgICAgKTtcbiAgICAgIGV4cGVjdChwcm9ncmVzcy52ZWxvY2l0eUFuYWx5c2lzLmVmZmljaWVuY3lUcmVuZHMpLnRvSGF2ZUxlbmd0aCgyKTtcblxuICAgICAgZXhwZWN0KHByb2dyZXNzLnF1YWxpdHlNZXRyaWNzLmNvZGVIZWFsdGhTY29yZSkudG9CZUdyZWF0ZXJUaGFuKDAuMyk7XG4gICAgICBleHBlY3QocHJvZ3Jlc3MucXVhbGl0eU1ldHJpY3MubWFpbnRhaW5hYmlsaXR5SW5kZXgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChwcm9ncmVzcy5xdWFsaXR5TWV0cmljcy50ZWNobmljYWxEZWJ0UmF0aW8pLnRvQmVMZXNzVGhhbigxKTtcbiAgICAgIGV4cGVjdChwcm9ncmVzcy5xdWFsaXR5TWV0cmljcy5idWlsZFJlbGlhYmlsaXR5KS50b0JlKDEpOyAvLyBBbGwgYnVpbGRzIHBhc3NlZFxuXG4gICAgICBleHBlY3QocHJvZ3Jlc3Muc3RyYXRlZ2ljSW5zaWdodHMucmVjb21tZW5kZWRBY3Rpb25zKS50b0JlSW5zdGFuY2VPZihcbiAgICAgICAgQXJyYXlcbiAgICAgICk7XG4gICAgICBleHBlY3QocHJvZ3Jlc3Muc3RyYXRlZ2ljSW5zaWdodHMucmlza0Fzc2Vzc21lbnQpLnRvQmVJbnN0YW5jZU9mKEFycmF5KTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgcHJvZ3Jlc3Muc3RyYXRlZ2ljSW5zaWdodHMub3Bwb3J0dW5pdHlJZGVudGlmaWNhdGlvblxuICAgICAgKS50b0JlSW5zdGFuY2VPZihBcnJheSk7XG4gICAgICBleHBlY3QocHJvZ3Jlc3Muc3RyYXRlZ2ljSW5zaWdodHMucmVzb3VyY2VPcHRpbWl6YXRpb24pLnRvQmVJbnN0YW5jZU9mKFxuICAgICAgICBBcnJheVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgcHJvZ3Jlc3MgaW50ZWxsaWdlbmNlIHJlcG9ydCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2dyZXNzOiBDYW1wYWlnblByb2dyZXNzSW50ZWxsaWdlbmNlID0ge1xuICAgICAgICB2ZWxvY2l0eUFuYWx5c2lzOiB7XG4gICAgICAgICAgY3VycmVudFZlbG9jaXR5OiAxLjUsXG4gICAgICAgICAgcHJvamVjdGVkQ29tcGxldGlvbjogbmV3IERhdGUoJzIwMjUtMDItMDEnKSxcbiAgICAgICAgICBlZmZpY2llbmN5VHJlbmRzOiBbMS4yLCAxLjUsIDEuOF0sXG4gICAgICAgICAgYm90dGxlbmVja0lkZW50aWZpY2F0aW9uOiBbJ0xvdyBlcnJvciBmaXhpbmcgdmVsb2NpdHknXSxcbiAgICAgICAgfSxcbiAgICAgICAgcXVhbGl0eU1ldHJpY3M6IHtcbiAgICAgICAgICBjb2RlSGVhbHRoU2NvcmU6IDAuODUsXG4gICAgICAgICAgbWFpbnRhaW5hYmlsaXR5SW5kZXg6IDAuOCxcbiAgICAgICAgICB0ZWNobmljYWxEZWJ0UmF0aW86IDAuMTUsXG4gICAgICAgICAgYnVpbGRSZWxpYWJpbGl0eTogMC45NSxcbiAgICAgICAgfSxcbiAgICAgICAgc3RyYXRlZ2ljSW5zaWdodHM6IHtcbiAgICAgICAgICByZWNvbW1lbmRlZEFjdGlvbnM6IFsnSW5jcmVhc2UgYmF0Y2ggc2l6ZSBmb3IgaGlnaGVyIHRocm91Z2hwdXQnXSxcbiAgICAgICAgICByaXNrQXNzZXNzbWVudDogWydCdWlsZCBzdGFiaWxpdHkgcmlzayBkZXRlY3RlZCddLFxuICAgICAgICAgIG9wcG9ydHVuaXR5SWRlbnRpZmljYXRpb246IFtcbiAgICAgICAgICAgICdIaWdoIHN1Y2Nlc3MgcmF0ZSAtIGNvbnNpZGVyIGFnZ3Jlc3NpdmUgbW9kZScsXG4gICAgICAgICAgXSxcbiAgICAgICAgICByZXNvdXJjZU9wdGltaXphdGlvbjogWydGb2N1cyBvbiByZW1haW5pbmcgaGlnaC1pbXBhY3QgZXJyb3JzJ10sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXBvcnQgPVxuICAgICAgICBDQU1QQUlHTl9QUk9HUkVTU19JTlRFTExJR0VOQ0UuZ2VuZXJhdGVQcm9ncmVzc0ludGVsbGlnZW5jZVJlcG9ydChcbiAgICAgICAgICBwcm9ncmVzc1xuICAgICAgICApO1xuXG4gICAgICBleHBlY3QocmVwb3J0KS50b0NvbnRhaW4oJ0N1cnJlbnQgdmVsb2NpdHk6IDEuNTAgZXJyb3JzL21pbnV0ZScpO1xuICAgICAgZXhwZWN0KHJlcG9ydCkudG9Db250YWluKCdQcm9qZWN0ZWQgY29tcGxldGlvbjogMi8xLzIwMjUnKTtcbiAgICAgIGV4cGVjdChyZXBvcnQpLnRvQ29udGFpbignQ29kZSBoZWFsdGggc2NvcmU6IDg1LjAlJyk7XG4gICAgICBleHBlY3QocmVwb3J0KS50b0NvbnRhaW4oJ0J1aWxkIHJlbGlhYmlsaXR5OiA5NS4wJScpO1xuICAgICAgZXhwZWN0KHJlcG9ydCkudG9Db250YWluKFxuICAgICAgICAnQm90dGxlbmVja3MgaWRlbnRpZmllZDogTG93IGVycm9yIGZpeGluZyB2ZWxvY2l0eSdcbiAgICAgICk7XG4gICAgICBleHBlY3QocmVwb3J0KS50b0NvbnRhaW4oXG4gICAgICAgICdUb3AgcmVjb21tZW5kYXRpb246IEluY3JlYXNlIGJhdGNoIHNpemUgZm9yIGhpZ2hlciB0aHJvdWdocHV0J1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NBTVBBSUdOX0VOVEVSUFJJU0VfSU5URUxMSUdFTkNFJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBpbnRlbGxpZ2VuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHRoZSBhbmFseXplciBtZXRob2RzIHRvIGF2b2lkIGFjdHVhbCBzeXN0ZW0gY2FsbHNcbiAgICAgIGNvbnN0IG1vY2tFcnJvckFuYWx5emVyID0ge1xuICAgICAgICBhbmFseXplRXJyb3JzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRpc3RyaWJ1dGlvbjoge1xuICAgICAgICAgICAgdG90YWxFcnJvcnM6IDI1MDAsXG4gICAgICAgICAgICBwcmlvcml0eVJhbmtpbmc6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvZGU6ICdUUzIzNTInLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBFcnJvckNhdGVnb3J5LlRTMjM1Ml9UWVBFX0NPTlZFUlNJT04sXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDIwLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgZ2V0Q3VycmVudEVycm9yQ291bnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgyNTAwKSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1vY2tGaXhlckludGVncmF0aW9uID0ge307XG5cbiAgICAgIGNvbnN0IG1vY2tBbnlFbGltaW5hdGlvbiA9IHtcbiAgICAgICAgc2hvd0NhbXBhaWduUHJvZ3Jlc3M6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgdG90YWxFeHBsaWNpdEFueVN0YXJ0OiAxMDAwLFxuICAgICAgICAgIHRvdGFsRXhwbGljaXRBbnlSZW1haW5pbmc6IDI1MCxcbiAgICAgICAgICByZWR1Y3Rpb25BY2hpZXZlZDogNzUwLFxuICAgICAgICAgIHJlZHVjdGlvblBlcmNlbnRhZ2U6IDc1LFxuICAgICAgICAgIGNhbXBhaWduVGFyZ2V0OiA3NS41LFxuICAgICAgICAgIGlzVGFyZ2V0TWV0OiBmYWxzZSxcbiAgICAgICAgfSksXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBpbnRlbGxpZ2VuY2UgPVxuICAgICAgICBhd2FpdCBDQU1QQUlHTl9FTlRFUlBSSVNFX0lOVEVMTElHRU5DRS5nZW5lcmF0ZUNvbXByZWhlbnNpdmVJbnRlbGxpZ2VuY2UoXG4gICAgICAgICAgbW9ja0Vycm9yQW5hbHl6ZXIgYXMgYW55LFxuICAgICAgICAgIG1vY2tGaXhlckludGVncmF0aW9uIGFzIGFueSxcbiAgICAgICAgICBtb2NrQW55RWxpbWluYXRpb24gYXMgYW55XG4gICAgICAgICk7XG5cbiAgICAgIGV4cGVjdChpbnRlbGxpZ2VuY2UuY2FtcGFpZ25NZXRyaWNzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGludGVsbGlnZW5jZS5lcnJvclBhdHRlcm5zKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGludGVsbGlnZW5jZS5wcm9ncmVzc0FuYWx5c2lzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGludGVsbGlnZW5jZS5zeXN0ZW1JbnRlZ3JhdGlvbikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChpbnRlbGxpZ2VuY2UuaW50ZWxsaWdlbmNlUmVjb21tZW5kYXRpb25zKS50b0JlSW5zdGFuY2VPZihBcnJheSk7XG4gICAgICBleHBlY3QoaW50ZWxsaWdlbmNlLmVudGVycHJpc2VSZWFkaW5lc3NTY29yZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChpbnRlbGxpZ2VuY2UuZW50ZXJwcmlzZVJlYWRpbmVzc1Njb3JlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xuXG4gICAgICAvLyBWZXJpZnkgY2FtcGFpZ24gbWV0cmljcyBzdHJ1Y3R1cmVcbiAgICAgIGV4cGVjdChcbiAgICAgICAgaW50ZWxsaWdlbmNlLmNhbXBhaWduTWV0cmljcy5lcnJvclJlZHVjdGlvblZlbG9jaXR5XG4gICAgICApLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGludGVsbGlnZW5jZS5jYW1wYWlnbk1ldHJpY3MuY29kZVF1YWxpdHlJbXByb3ZlbWVudFxuICAgICAgKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBpbnRlbGxpZ2VuY2UuY2FtcGFpZ25NZXRyaWNzLmJ1aWxkU3RhYmlsaXR5U2NvcmVcbiAgICAgICkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgaW50ZWxsaWdlbmNlLmNhbXBhaWduTWV0cmljcy50ZWNobmljYWxEZWJ0UmVkdWN0aW9uXG4gICAgICApLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGludGVsbGlnZW5jZS5jYW1wYWlnbk1ldHJpY3MuZW50ZXJwcmlzZVJlYWRpbmVzc1xuICAgICAgKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KFtcbiAgICAgICAgJ2Jhc2ljJyxcbiAgICAgICAgJ2ludGVybWVkaWF0ZScsXG4gICAgICAgICdhZHZhbmNlZCcsXG4gICAgICAgICdlbnRlcnByaXNlX2xldmVsJyxcbiAgICAgIF0pLnRvQ29udGFpbihpbnRlbGxpZ2VuY2UuY2FtcGFpZ25NZXRyaWNzLmludGVsbGlnZW5jZURlcHRoKTtcblxuICAgICAgLy8gVmVyaWZ5IHN5c3RlbSBpbnRlZ3JhdGlvbiBtZXRyaWNzXG4gICAgICBleHBlY3QoXG4gICAgICAgIGludGVsbGlnZW5jZS5zeXN0ZW1JbnRlZ3JhdGlvbi5vdmVyYWxsU3lzdGVtSW50ZWdyYXRpb25cbiAgICAgICkudG9CZUdyZWF0ZXJUaGFuKDAuOSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgZW50ZXJwcmlzZSBpbnRlbGxpZ2VuY2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0ludGVsbGlnZW5jZSA9IHtcbiAgICAgICAgY2FtcGFpZ25NZXRyaWNzOiB7XG4gICAgICAgICAgZXJyb3JSZWR1Y3Rpb25WZWxvY2l0eTogMS41LFxuICAgICAgICAgIGNvZGVRdWFsaXR5SW1wcm92ZW1lbnQ6IDAuODUsXG4gICAgICAgICAgYnVpbGRTdGFiaWxpdHlTY29yZTogMC45NSxcbiAgICAgICAgICB0ZWNobmljYWxEZWJ0UmVkdWN0aW9uOiAwLjc1LFxuICAgICAgICAgIGVudGVycHJpc2VSZWFkaW5lc3M6IDAuODgsXG4gICAgICAgICAgc3lzdGVtQ29tcGxleGl0eTogMC42LFxuICAgICAgICAgIGludGVsbGlnZW5jZURlcHRoOiAnYWR2YW5jZWQnIGFzIGNvbnN0LFxuICAgICAgICAgIGNhbXBhaWduRWZmZWN0aXZlbmVzczogMC44MixcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3JQYXR0ZXJuczoge1xuICAgICAgICAgIHBhdHRlcm5SZWNvZ25pdGlvbjoge1xuICAgICAgICAgICAgVFMyMzUyX1RZUEVfQ09OVkVSU0lPTjogMTAsXG4gICAgICAgICAgICBUUzIzNDVfQVJHVU1FTlRfTUlTTUFUQ0g6IDUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaXhTdWNjZXNzUmF0ZXM6IHt9LFxuICAgICAgICAgIGVycm9yQ2F0ZWdvcnlUcmVuZHM6IHt9IGFzIGFueSxcbiAgICAgICAgICBwcmlvcml0eU9wdGltaXphdGlvbjoge30sXG4gICAgICAgICAgcHJlZGljdGl2ZUFuYWx5dGljczoge30sXG4gICAgICAgIH0sXG4gICAgICAgIHByb2dyZXNzQW5hbHlzaXM6IHtcbiAgICAgICAgICB2ZWxvY2l0eUFuYWx5c2lzOiB7XG4gICAgICAgICAgICBjdXJyZW50VmVsb2NpdHk6IDEuNSxcbiAgICAgICAgICAgIHByb2plY3RlZENvbXBsZXRpb246IG5ldyBEYXRlKCcyMDI1LTAyLTAxJyksXG4gICAgICAgICAgICBlZmZpY2llbmN5VHJlbmRzOiBbXSxcbiAgICAgICAgICAgIGJvdHRsZW5lY2tJZGVudGlmaWNhdGlvbjogW10sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBxdWFsaXR5TWV0cmljczoge1xuICAgICAgICAgICAgY29kZUhlYWx0aFNjb3JlOiAwLjg1LFxuICAgICAgICAgICAgbWFpbnRhaW5hYmlsaXR5SW5kZXg6IDAuOCxcbiAgICAgICAgICAgIHRlY2huaWNhbERlYnRSYXRpbzogMC4xNSxcbiAgICAgICAgICAgIGJ1aWxkUmVsaWFiaWxpdHk6IDAuOTUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdHJhdGVnaWNJbnNpZ2h0czoge1xuICAgICAgICAgICAgcmVjb21tZW5kZWRBY3Rpb25zOiBbXSxcbiAgICAgICAgICAgIHJpc2tBc3Nlc3NtZW50OiBbXSxcbiAgICAgICAgICAgIG9wcG9ydHVuaXR5SWRlbnRpZmljYXRpb246IFtdLFxuICAgICAgICAgICAgcmVzb3VyY2VPcHRpbWl6YXRpb246IFtdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHN5c3RlbUludGVncmF0aW9uOiB7IG92ZXJhbGxTeXN0ZW1JbnRlZ3JhdGlvbjogMC45MiB9LFxuICAgICAgICBpbnRlbGxpZ2VuY2VSZWNvbW1lbmRhdGlvbnM6IFsnVGVzdCByZWNvbW1lbmRhdGlvbiddLFxuICAgICAgICBlbnRlcnByaXNlUmVhZGluZXNzU2NvcmU6IDAuODgsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnbG9nJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICAgIENBTVBBSUdOX0VOVEVSUFJJU0VfSU5URUxMSUdFTkNFLmRpc3BsYXlFbnRlcnByaXNlSW50ZWxsaWdlbmNlKFxuICAgICAgICBtb2NrSW50ZWxsaWdlbmNlXG4gICAgICApO1xuXG4gICAgICBleHBlY3QoY29uc29sZVNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdDQU1QQUlHTiBFTlRFUlBSSVNFIElOVEVMTElHRU5DRSBTWVNURU0nKVxuICAgICAgKTtcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ0Vycm9yIFJlZHVjdGlvbiBWZWxvY2l0eTogMS41MCBlcnJvcnMvbWluJylcbiAgICAgICk7XG4gICAgICBleHBlY3QoY29uc29sZVNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdFbnRlcnByaXNlIFJlYWRpbmVzczogODguMCUnKVxuICAgICAgKTtcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ0ludGVsbGlnZW5jZSBEZXB0aDogYWR2YW5jZWQnKVxuICAgICAgKTtcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoXG4gICAgICAgICAgJ0FEVkFOQ0VEIExFVkVMIC0gQXBwcm9hY2hpbmcgZW50ZXJwcmlzZSByZWFkaW5lc3MnXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NBTVBBSUdOX0lOVEVMTElHRU5DRV9ERU1PJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGVtb25zdHJhdGUgYWxsIGludGVsbGlnZW5jZSBjYXBhYmlsaXRpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkZW1vID1cbiAgICAgICAgYXdhaXQgQ0FNUEFJR05fSU5URUxMSUdFTkNFX0RFTU8uZGVtb25zdHJhdGVBbGxJbnRlbGxpZ2VuY2UoKTtcblxuICAgICAgZXhwZWN0KGRlbW8uZXJyb3JQYXR0ZXJuRGVtbykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkZW1vLnByb2dyZXNzQW5hbHlzaXNEZW1vKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGRlbW8uZW50ZXJwcmlzZUludGVsbGlnZW5jZURlbW8pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZGVtby5pbnRlZ3JhdGlvbk1ldHJpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZGVtby5kZW1vbnN0cmF0aW9uU3VtbWFyeSkudG9CZURlZmluZWQoKTtcblxuICAgICAgLy8gVmVyaWZ5IGRlbW9uc3RyYXRpb24gc3VtbWFyeVxuICAgICAgZXhwZWN0KGRlbW8uZGVtb25zdHJhdGlvblN1bW1hcnkuaW50ZWxsaWdlbmNlU3lzdGVtc0NvdW50KS50b0JlKDMpO1xuICAgICAgZXhwZWN0KGRlbW8uZGVtb25zdHJhdGlvblN1bW1hcnkuYW5hbHlzaXNNZXRob2RzQ291bnQpLnRvQmUoNik7XG4gICAgICBleHBlY3QoZGVtby5kZW1vbnN0cmF0aW9uU3VtbWFyeS5kZW1vbnN0cmF0aW9uQ29tcGxldGVuZXNzKS50b0JlKDEuMCk7XG4gICAgICBleHBlY3QoZGVtby5kZW1vbnN0cmF0aW9uU3VtbWFyeS5pbnRlbGxpZ2VuY2VDYXBhYmlsaXRpZXMpLnRvQmVJbnN0YW5jZU9mKFxuICAgICAgICBBcnJheVxuICAgICAgKTtcbiAgICAgIGV4cGVjdChkZW1vLmRlbW9uc3RyYXRpb25TdW1tYXJ5LmludGVsbGlnZW5jZUNhcGFiaWxpdGllcykudG9Db250YWluKFxuICAgICAgICAnRXJyb3IgUGF0dGVybiBSZWNvZ25pdGlvbidcbiAgICAgICk7XG4gICAgICBleHBlY3QoZGVtby5kZW1vbnN0cmF0aW9uU3VtbWFyeS5pbnRlbGxpZ2VuY2VDYXBhYmlsaXRpZXMpLnRvQ29udGFpbihcbiAgICAgICAgJ0VudGVycHJpc2UgUmVhZGluZXNzIEFzc2Vzc21lbnQnXG4gICAgICApO1xuXG4gICAgICAvLyBWZXJpZnkgaW50ZWdyYXRpb24gbWV0cmljc1xuICAgICAgZXhwZWN0KFxuICAgICAgICBkZW1vLmludGVncmF0aW9uTWV0cmljcy5vdmVyYWxsSW50ZWxsaWdlbmNlSW50ZWdyYXRpb25cbiAgICAgICkudG9CZUdyZWF0ZXJUaGFuKDAuOSk7XG4gICAgICBleHBlY3QoZGVtby5pbnRlZ3JhdGlvbk1ldHJpY3MuZXJyb3JQYXR0ZXJuSW50ZWdyYXRpb24pLnRvQmVHcmVhdGVyVGhhbihcbiAgICAgICAgMC45XG4gICAgICApO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBkZW1vLmludGVncmF0aW9uTWV0cmljcy5wcm9ncmVzc0FuYWx5c2lzSW50ZWdyYXRpb25cbiAgICAgICkudG9CZUdyZWF0ZXJUaGFuKDAuOSk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGRlbW8uaW50ZWdyYXRpb25NZXRyaWNzLmVudGVycHJpc2VJbnRlbGxpZ2VuY2VJbnRlZ3JhdGlvblxuICAgICAgKS50b0JlR3JlYXRlclRoYW4oMC45KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==