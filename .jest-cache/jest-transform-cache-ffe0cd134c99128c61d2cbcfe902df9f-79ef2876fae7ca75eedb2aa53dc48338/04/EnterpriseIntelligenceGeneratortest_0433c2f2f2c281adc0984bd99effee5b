fa2a5091c461531fc62b325c691732ae
"use strict";
/**
 * Enterprise Intelligence Generator Tests
 * Perfect Codebase Campaign - Phase 3 Implementation
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
// Mock fs
jest.mock('fs');
const fs = __importStar(require("fs"));
const EnterpriseIntelligenceGenerator_1 = require("./EnterpriseIntelligenceGenerator");
const UnusedExportAnalyzer_1 = require("./UnusedExportAnalyzer");
const mockFs = fs;
describe('EnterpriseIntelligenceGenerator', () => {
    let generator;
    beforeEach(() => {
        generator = new EnterpriseIntelligenceGenerator_1.EnterpriseIntelligenceGenerator('test-output');
        jest.clearAllMocks();
        // Mock fs operations
        mockFs.promises = {
            access: jest.fn().mockRejectedValue(new Error('Directory does not exist')),
            mkdir: jest.fn().mockResolvedValue(undefined),
            writeFile: jest.fn().mockResolvedValue(undefined)
        };
    });
    describe('constructor', () => {
        it('should initialize with default output directory', () => {
            const defaultGenerator = new EnterpriseIntelligenceGenerator_1.EnterpriseIntelligenceGenerator();
            expect(defaultGenerator).toBeInstanceOf(EnterpriseIntelligenceGenerator_1.EnterpriseIntelligenceGenerator);
        });
        it('should initialize with custom output directory', () => {
            const customGenerator = new EnterpriseIntelligenceGenerator_1.EnterpriseIntelligenceGenerator('custom-output');
            expect(customGenerator).toBeInstanceOf(EnterpriseIntelligenceGenerator_1.EnterpriseIntelligenceGenerator);
        });
    });
    describe('generateIntelligenceSystems', () => {
        const mockFileAnalysis = {
            filePath: '/test/TestFile.ts',
            priority: UnusedExportAnalyzer_1.FilePriority.HIGH,
            unusedExports: [
                {
                    filePath: '/test/TestFile.ts',
                    exportName: 'testFunction',
                    exportType: 'function',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 5,
                    usageCount: 0
                }
            ],
            safetyScore: 90,
            transformationCandidates: [
                {
                    export: {
                        filePath: '/test/TestFile.ts',
                        exportName: 'testFunction',
                        exportType: 'function',
                        lineNumber: 1,
                        isDefault: false,
                        complexity: 5,
                        usageCount: 0
                    },
                    intelligenceSystemName: 'TEST_FUNCTION_INTELLIGENCE_SYSTEM',
                    transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.MODERATE,
                    safetyScore: 85,
                    estimatedBenefit: 75
                }
            ],
            category: UnusedExportAnalyzer_1.FileCategory.CORE
        };
        it('should generate intelligence systems from file analyses', async () => {
            const results = await generator.generateIntelligenceSystems([mockFileAnalysis]);
            expect(results).toHaveLength(1);
            expect(results[0]).toHaveProperty('systemName', 'TEST_FUNCTION_INTELLIGENCE_SYSTEM');
            expect(results[0]).toHaveProperty('originalExport');
            expect(results[0]).toHaveProperty('generatedCode');
            expect(results[0]).toHaveProperty('capabilities');
            expect(results[0]).toHaveProperty('integrationPoints');
            expect(results[0]).toHaveProperty('estimatedValue');
            expect(results[0]).toHaveProperty('complexity');
        });
        it('should create output directory if it does not exist', async () => {
            await generator.generateIntelligenceSystems([mockFileAnalysis]);
            expect(mockFs.promises.mkdir).toHaveBeenCalledWith('test-output', { recursive: true });
        });
        it('should write generated code to files', async () => {
            await generator.generateIntelligenceSystems([mockFileAnalysis]);
            expect(mockFs.promises.writeFile).toHaveBeenCalledWith(expect.stringContaining('TEST_FUNCTION_INTELLIGENCE_SYSTEM.ts'), expect.stringContaining('TEST_FUNCTION_INTELLIGENCE_SYSTEM'));
        });
        it('should handle generation errors gracefully', async () => {
            const invalidAnalysis = {
                ...mockFileAnalysis,
                transformationCandidates: [
                    {
                        ...mockFileAnalysis.transformationCandidates[0],
                        export: {
                            ...mockFileAnalysis.transformationCandidates[0].export,
                            exportName: null // Invalid export name
                        }
                    }
                ]
            };
            const results = await generator.generateIntelligenceSystems([invalidAnalysis]);
            expect(results).toHaveLength(0); // Should handle error and continue
        });
    });
    describe('selectTemplate', () => {
        it('should select function template for function exports', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'testFunction',
                    exportType: 'function',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 5,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.MODERATE,
                safetyScore: 85,
                estimatedBenefit: 75
            };
            const template = generator.selectTemplate(candidate);
            expect(template.name).toBe('Function Intelligence System');
        });
        it('should select class template for class exports', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'TestClass',
                    exportType: 'class',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 10,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_CLASS_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.COMPLEX,
                safetyScore: 80,
                estimatedBenefit: 85
            };
            const template = generator.selectTemplate(candidate);
            expect(template.name).toBe('Class Intelligence System');
        });
        it('should select type template for interface exports', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'TestInterface',
                    exportType: 'interface',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 3,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_INTERFACE_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.SIMPLE,
                safetyScore: 95,
                estimatedBenefit: 60
            };
            const template = generator.selectTemplate(candidate);
            expect(template.name).toBe('Type Intelligence System');
        });
        it('should select data template for const exports', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'TEST_CONSTANT',
                    exportType: 'const',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 2,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_CONSTANT_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.SIMPLE,
                safetyScore: 90,
                estimatedBenefit: 50
            };
            const template = generator.selectTemplate(candidate);
            expect(template.name).toBe('Data Intelligence System');
        });
    });
    describe('generateCapabilities', () => {
        it('should generate function-specific capabilities', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'testFunction',
                    exportType: 'function',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 5,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.MODERATE,
                safetyScore: 85,
                estimatedBenefit: 75
            };
            const template = generator.selectTemplate(candidate);
            const capabilities = generator.generateCapabilities(candidate, template);
            expect(capabilities.some((cap) => cap.name === 'analyzeFunction')).toBe(true);
            expect(capabilities.length).toBeGreaterThan(2);
        });
        it('should generate class-specific capabilities', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'TestClass',
                    exportType: 'class',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 10,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_CLASS_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.COMPLEX,
                safetyScore: 80,
                estimatedBenefit: 85
            };
            const template = generator.selectTemplate(candidate);
            const capabilities = generator.generateCapabilities(candidate, template);
            expect(capabilities.some((cap) => cap.name === 'analyzeClassStructure')).toBe(true);
        });
        it('should add advanced capabilities for complex exports', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'complexFunction',
                    exportType: 'function',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 25,
                    usageCount: 0
                },
                intelligenceSystemName: 'COMPLEX_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.VERY_COMPLEX,
                safetyScore: 70,
                estimatedBenefit: 90
            };
            const template = generator.selectTemplate(candidate);
            const capabilities = generator.generateCapabilities(candidate, template);
            expect(capabilities.some((cap) => cap.name === 'generateAdvancedInsights')).toBe(true);
        });
    });
    describe('generateIntegrationPoints', () => {
        it('should generate integration points for intelligence systems', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'testFunction',
                    exportType: 'function',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 5,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.MODERATE,
                safetyScore: 85,
                estimatedBenefit: 75
            };
            const integrationPoints = generator.generateIntegrationPoints(candidate, '/test/test.ts');
            expect(integrationPoints.length).toBeGreaterThan(0);
            expect(integrationPoints.some((ip) => ip.method === EnterpriseIntelligenceGenerator_1.IntegrationMethod.DIRECT_IMPORT)).toBe(true);
            expect(integrationPoints.some((ip) => ip.method === EnterpriseIntelligenceGenerator_1.IntegrationMethod.API_ENDPOINT)).toBe(true);
        });
        it('should include original file integration for safe candidates', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'safeFunction',
                    exportType: 'function',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 3,
                    usageCount: 0
                },
                intelligenceSystemName: 'SAFE_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.SIMPLE,
                safetyScore: 95,
                estimatedBenefit: 70
            };
            const integrationPoints = generator.generateIntegrationPoints(candidate, '/test/test.ts');
            expect(integrationPoints.some((ip) => ip.target === '/test/test.ts')).toBe(true);
        });
    });
    describe('generateCode', () => {
        it('should generate complete intelligence system code', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'testFunction',
                    exportType: 'function',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 5,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.MODERATE,
                safetyScore: 85,
                estimatedBenefit: 75
            };
            const template = generator.selectTemplate(candidate);
            const capabilities = generator.generateCapabilities(candidate, template);
            const code = generator.generateCode(candidate, template, capabilities);
            expect(code).toContain('TEST_FUNCTION_INTELLIGENCE_SYSTEM');
            expect(code).toContain('class TEST_FUNCTION_INTELLIGENCE_SYSTEM');
            expect(code).toContain('analyzePatterns');
            expect(code).toContain('generateRecommendations');
            expect(code).toContain('demonstrateCapabilities');
            expect(code).toContain('export const test_function_intelligence_system');
        });
        it('should include original export information in comments', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'originalFunction',
                    exportType: 'function',
                    lineNumber: 10,
                    isDefault: false,
                    complexity: 8,
                    usageCount: 0
                },
                intelligenceSystemName: 'ORIGINAL_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.MODERATE,
                safetyScore: 80,
                estimatedBenefit: 70
            };
            const template = generator.selectTemplate(candidate);
            const capabilities = generator.generateCapabilities(candidate, template);
            const code = generator.generateCode(candidate, template, capabilities);
            expect(code).toContain('Original Export: originalFunction (function)');
            expect(code).toContain('Estimated Value: 70/100');
        });
    });
    describe('calculateEstimatedValue', () => {
        it('should calculate value based on candidate benefit and capabilities', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'testFunction',
                    exportType: 'function',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 5,
                    usageCount: 0
                },
                intelligenceSystemName: 'TEST_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.MODERATE,
                safetyScore: 85,
                estimatedBenefit: 50
            };
            const capabilities = [
                {
                    name: 'basicCapability',
                    description: 'Basic capability',
                    implementation: 'return {};',
                    complexity: EnterpriseIntelligenceGenerator_1.CapabilityComplexity.BASIC
                },
                {
                    name: 'advancedCapability',
                    description: 'Advanced capability',
                    implementation: 'return {};',
                    complexity: EnterpriseIntelligenceGenerator_1.CapabilityComplexity.ADVANCED
                }
            ];
            const value = generator.calculateEstimatedValue(candidate, capabilities);
            expect(value).toBeGreaterThan(50); // Should be higher than base benefit
            expect(value).toBeLessThanOrEqual(100); // Should be capped at 100
        });
    });
    describe('assessGenerationComplexity', () => {
        it('should assess SIMPLE complexity for simple candidates', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'simpleFunction',
                    exportType: 'const',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 2,
                    usageCount: 0
                },
                intelligenceSystemName: 'SIMPLE_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.SIMPLE,
                safetyScore: 95,
                estimatedBenefit: 40
            };
            const capabilities = [
                {
                    name: 'basicCapability',
                    description: 'Basic capability',
                    implementation: 'return {};',
                    complexity: EnterpriseIntelligenceGenerator_1.CapabilityComplexity.BASIC
                }
            ];
            const complexity = generator.assessGenerationComplexity(candidate, capabilities);
            expect(complexity).toBe(EnterpriseIntelligenceGenerator_1.GenerationComplexity.SIMPLE);
        });
        it('should assess VERY_COMPLEX complexity for complex candidates', () => {
            const candidate = {
                export: {
                    filePath: '/test/test.ts',
                    exportName: 'complexFunction',
                    exportType: 'class',
                    lineNumber: 1,
                    isDefault: false,
                    complexity: 30,
                    usageCount: 0
                },
                intelligenceSystemName: 'COMPLEX_FUNCTION_INTELLIGENCE_SYSTEM',
                transformationComplexity: UnusedExportAnalyzer_1.TransformationComplexity.VERY_COMPLEX,
                safetyScore: 60,
                estimatedBenefit: 95
            };
            const capabilities = [
                {
                    name: 'expertCapability',
                    description: 'Expert capability',
                    implementation: 'return {};',
                    complexity: EnterpriseIntelligenceGenerator_1.CapabilityComplexity.EXPERT
                }
            ];
            const complexity = generator.assessGenerationComplexity(candidate, capabilities);
            expect(complexity).toBe(EnterpriseIntelligenceGenerator_1.GenerationComplexity.VERY_COMPLEX);
        });
    });
    describe('generateSummary', () => {
        it('should generate comprehensive summary of results', () => {
            const mockResults = [
                {
                    systemName: 'SYSTEM_1',
                    filePath: '/output/SYSTEM_1.ts',
                    originalExport: {
                        filePath: '/test/test1.ts',
                        exportName: 'function1',
                        exportType: 'function',
                        lineNumber: 1,
                        isDefault: false,
                        complexity: 5,
                        usageCount: 0
                    },
                    generatedCode: 'code1',
                    capabilities: [
                        { name: 'cap1', description: 'desc1', implementation: 'impl1', complexity: EnterpriseIntelligenceGenerator_1.CapabilityComplexity.BASIC },
                        { name: 'cap2', description: 'desc2', implementation: 'impl2', complexity: EnterpriseIntelligenceGenerator_1.CapabilityComplexity.INTERMEDIATE }
                    ],
                    integrationPoints: [
                        { target: 'target1', method: EnterpriseIntelligenceGenerator_1.IntegrationMethod.DIRECT_IMPORT, code: 'code1', priority: EnterpriseIntelligenceGenerator_1.IntegrationPriority.HIGH }
                    ],
                    estimatedValue: 75,
                    complexity: EnterpriseIntelligenceGenerator_1.GenerationComplexity.MODERATE
                },
                {
                    systemName: 'SYSTEM_2',
                    filePath: '/output/SYSTEM_2.ts',
                    originalExport: {
                        filePath: '/test/test2.ts',
                        exportName: 'class2',
                        exportType: 'class',
                        lineNumber: 1,
                        isDefault: false,
                        complexity: 10,
                        usageCount: 0
                    },
                    generatedCode: 'code2',
                    capabilities: [
                        { name: 'cap3', description: 'desc3', implementation: 'impl3', complexity: EnterpriseIntelligenceGenerator_1.CapabilityComplexity.ADVANCED }
                    ],
                    integrationPoints: [
                        { target: 'target2', method: EnterpriseIntelligenceGenerator_1.IntegrationMethod.API_ENDPOINT, code: 'code2', priority: EnterpriseIntelligenceGenerator_1.IntegrationPriority.MEDIUM }
                    ],
                    estimatedValue: 85,
                    complexity: EnterpriseIntelligenceGenerator_1.GenerationComplexity.COMPLEX
                }
            ];
            const summary = generator.generateSummary(mockResults);
            expect(summary.totalSystemsGenerated).toBe(2);
            expect(summary.totalCapabilitiesAdded).toBe(3);
            expect(summary.totalIntegrationPoints).toBe(2);
            expect(summary.estimatedTotalValue).toBe(160);
            expect(summary.generationsByCategory).toHaveProperty('function', 1);
            expect(summary.generationsByCategory).toHaveProperty('class', 1);
        });
    });
    describe('generateIntegrationGuide', () => {
        it('should generate comprehensive integration guide', () => {
            const mockResults = [
                {
                    systemName: 'TEST_SYSTEM_INTELLIGENCE_SYSTEM',
                    filePath: '/output/TEST_SYSTEM_INTELLIGENCE_SYSTEM.ts',
                    originalExport: {
                        filePath: '/test/test.ts',
                        exportName: 'testFunction',
                        exportType: 'function',
                        lineNumber: 1,
                        isDefault: false,
                        complexity: 5,
                        usageCount: 0
                    },
                    generatedCode: 'code',
                    capabilities: [],
                    integrationPoints: [
                        {
                            target: 'src/components/dashboard/IntelligenceDashboard.tsx',
                            method: EnterpriseIntelligenceGenerator_1.IntegrationMethod.DEPENDENCY_INJECTION,
                            code: 'dashboard integration code',
                            priority: EnterpriseIntelligenceGenerator_1.IntegrationPriority.MEDIUM
                        }
                    ],
                    estimatedValue: 75,
                    complexity: EnterpriseIntelligenceGenerator_1.GenerationComplexity.MODERATE
                }
            ];
            const guide = generator.generateIntegrationGuide(mockResults);
            expect(guide).toContain('# Enterprise Intelligence Systems Integration Guide');
            expect(guide).toContain('Generated 1 intelligence systems');
            expect(guide).toContain('TEST_SYSTEM_INTELLIGENCE_SYSTEM');
            expect(guide).toContain('Integration Steps');
            expect(guide).toContain('Dashboard Integration');
            expect(guide).toContain('Next Steps');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9FbnRlcnByaXNlSW50ZWxsaWdlbmNlR2VuZXJhdG9yLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCSCxVQUFVO0FBQ1YsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQWpCaEIsdUNBQXlCO0FBRXpCLHVGQU0yQztBQUMzQyxpRUFLZ0M7QUFJaEMsTUFBTSxNQUFNLEdBQUcsRUFBNEIsQ0FBQztBQUU1QyxRQUFRLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO0lBQy9DLElBQUksU0FBMEMsQ0FBQztJQUUvQyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsU0FBUyxHQUFHLElBQUksaUVBQStCLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRXJCLHFCQUFxQjtRQUNyQixNQUFNLENBQUMsUUFBUSxHQUFHO1lBQ2hCLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsSUFBSSxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztZQUMxRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQztZQUM3QyxTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQztTQUM1QixDQUFDO0lBQzFCLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7UUFDM0IsRUFBRSxDQUFDLGlEQUFpRCxFQUFFLEdBQUcsRUFBRTtZQUN6RCxNQUFNLGdCQUFnQixHQUFHLElBQUksaUVBQStCLEVBQUUsQ0FBQztZQUMvRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxjQUFjLENBQUMsaUVBQStCLENB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RUFBRTtvQkFDbEIsVUFBVSxFQUFFLHNEQUFvQixDQUFDLFFBQVE7aUJBQzFDO2FBQ0YsQ0FBQztZQUVGLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUU5RCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLHFEQUFxRCxDQUFDLENBQUM7WUFDL0UsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsaUNBQWlDLENBQUMsQ0FBQztZQUMzRCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDN0MsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDeEMsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9HcmVnQ2FzdHJvL0Rlc2t0b3AvV2hhdFRvRWF0TmV4dC9zcmMvc2VydmljZXMvY2FtcGFpZ24vRW50ZXJwcmlzZUludGVsbGlnZW5jZUdlbmVyYXRvci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRW50ZXJwcmlzZSBJbnRlbGxpZ2VuY2UgR2VuZXJhdG9yIFRlc3RzXG4gKiBQZXJmZWN0IENvZGViYXNlIENhbXBhaWduIC0gUGhhc2UgMyBJbXBsZW1lbnRhdGlvblxuICovXG5cbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcblxuaW1wb3J0IHsgXG4gIEVudGVycHJpc2VJbnRlbGxpZ2VuY2VHZW5lcmF0b3IsIFxuICBDYXBhYmlsaXR5Q29tcGxleGl0eSwgXG4gIEludGVncmF0aW9uTWV0aG9kLCBcbiAgSW50ZWdyYXRpb25Qcmlvcml0eSxcbiAgR2VuZXJhdGlvbkNvbXBsZXhpdHkgXG59IGZyb20gJy4vRW50ZXJwcmlzZUludGVsbGlnZW5jZUdlbmVyYXRvcic7XG5pbXBvcnQgeyBcbiAgRmlsZUFuYWx5c2lzLCBcbiAgRmlsZVByaW9yaXR5LCBcbiAgRmlsZUNhdGVnb3J5LCBcbiAgVHJhbnNmb3JtYXRpb25Db21wbGV4aXR5IFxufSBmcm9tICcuL1VudXNlZEV4cG9ydEFuYWx5emVyJztcblxuLy8gTW9jayBmc1xuamVzdC5tb2NrKCdmcycpO1xuY29uc3QgbW9ja0ZzID0gZnMgYXMgamVzdC5Nb2NrZWQ8dHlwZW9mIGZzPjtcblxuZGVzY3JpYmUoJ0VudGVycHJpc2VJbnRlbGxpZ2VuY2VHZW5lcmF0b3InLCAoKSA9PiB7XG4gIGxldCBnZW5lcmF0b3I6IEVudGVycHJpc2VJbnRlbGxpZ2VuY2VHZW5lcmF0b3I7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgZ2VuZXJhdG9yID0gbmV3IEVudGVycHJpc2VJbnRlbGxpZ2VuY2VHZW5lcmF0b3IoJ3Rlc3Qtb3V0cHV0Jyk7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgXG4gICAgLy8gTW9jayBmcyBvcGVyYXRpb25zXG4gICAgbW9ja0ZzLnByb21pc2VzID0ge1xuICAgICAgYWNjZXNzOiBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdEaXJlY3RvcnkgZG9lcyBub3QgZXhpc3QnKSksXG4gICAgICBta2RpcjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgICB3cml0ZUZpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgfSBhcyB0eXBlb2YgZnMucHJvbWlzZXM7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjb25zdHJ1Y3RvcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgd2l0aCBkZWZhdWx0IG91dHB1dCBkaXJlY3RvcnknLCAoKSA9PiB7XG4gICAgICBjb25zdCBkZWZhdWx0R2VuZXJhdG9yID0gbmV3IEVudGVycHJpc2VJbnRlbGxpZ2VuY2VHZW5lcmF0b3IoKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0R2VuZXJhdG9yKS50b0JlSW5zdGFuY2VPZihFbnRlcnByaXNlSW50ZWxsaWdlbmNlR2VuZXJhdG9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGN1c3RvbSBvdXRwdXQgZGlyZWN0b3J5JywgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tR2VuZXJhdG9yID0gbmV3IEVudGVycHJpc2VJbnRlbGxpZ2VuY2VHZW5lcmF0b3IoJ2N1c3RvbS1vdXRwdXQnKTtcbiAgICAgIGV4cGVjdChjdXN0b21HZW5lcmF0b3IpLnRvQmVJbnN0YW5jZU9mKEVudGVycHJpc2VJbnRlbGxpZ2VuY2VHZW5lcmF0b3IpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2VuZXJhdGVJbnRlbGxpZ2VuY2VTeXN0ZW1zJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tGaWxlQW5hbHlzaXM6IEZpbGVBbmFseXNpcyA9IHtcbiAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvVGVzdEZpbGUudHMnLFxuICAgICAgcHJpb3JpdHk6IEZpbGVQcmlvcml0eS5ISUdILFxuICAgICAgdW51c2VkRXhwb3J0czogW1xuICAgICAgICB7XG4gICAgICAgICAgZmlsZVBhdGg6ICcvdGVzdC9UZXN0RmlsZS50cycsXG4gICAgICAgICAgZXhwb3J0TmFtZTogJ3Rlc3RGdW5jdGlvbicsXG4gICAgICAgICAgZXhwb3J0VHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICBsaW5lTnVtYmVyOiAxLFxuICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgY29tcGxleGl0eTogNSxcbiAgICAgICAgICB1c2FnZUNvdW50OiAwXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBzYWZldHlTY29yZTogOTAsXG4gICAgICB0cmFuc2Zvcm1hdGlvbkNhbmRpZGF0ZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGV4cG9ydDoge1xuICAgICAgICAgICAgZmlsZVBhdGg6ICcvdGVzdC9UZXN0RmlsZS50cycsXG4gICAgICAgICAgICBleHBvcnROYW1lOiAndGVzdEZ1bmN0aW9uJyxcbiAgICAgICAgICAgIGV4cG9ydFR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgICBsaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIGNvbXBsZXhpdHk6IDUsXG4gICAgICAgICAgICB1c2FnZUNvdW50OiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbnRlbGxpZ2VuY2VTeXN0ZW1OYW1lOiAnVEVTVF9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNJyxcbiAgICAgICAgICB0cmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHk6IFRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eS5NT0RFUkFURSxcbiAgICAgICAgICBzYWZldHlTY29yZTogODUsXG4gICAgICAgICAgZXN0aW1hdGVkQmVuZWZpdDogNzVcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGNhdGVnb3J5OiBGaWxlQ2F0ZWdvcnkuQ09SRVxuICAgIH07XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGludGVsbGlnZW5jZSBzeXN0ZW1zIGZyb20gZmlsZSBhbmFseXNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBnZW5lcmF0b3IuZ2VuZXJhdGVJbnRlbGxpZ2VuY2VTeXN0ZW1zKFttb2NrRmlsZUFuYWx5c2lzXSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ3N5c3RlbU5hbWUnLCAnVEVTVF9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ29yaWdpbmFsRXhwb3J0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ2dlbmVyYXRlZENvZGUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgnY2FwYWJpbGl0aWVzJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ2ludGVncmF0aW9uUG9pbnRzJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ2VzdGltYXRlZFZhbHVlJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ2NvbXBsZXhpdHknKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIG91dHB1dCBkaXJlY3RvcnkgaWYgaXQgZG9lcyBub3QgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBnZW5lcmF0b3IuZ2VuZXJhdGVJbnRlbGxpZ2VuY2VTeXN0ZW1zKFttb2NrRmlsZUFuYWx5c2lzXSk7XG5cbiAgICAgIGV4cGVjdChtb2NrRnMucHJvbWlzZXMubWtkaXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LW91dHB1dCcsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB3cml0ZSBnZW5lcmF0ZWQgY29kZSB0byBmaWxlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGdlbmVyYXRvci5nZW5lcmF0ZUludGVsbGlnZW5jZVN5c3RlbXMoW21vY2tGaWxlQW5hbHlzaXNdKTtcblxuICAgICAgZXhwZWN0KG1vY2tGcy5wcm9taXNlcy53cml0ZUZpbGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnVEVTVF9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNLnRzJyksXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdURVNUX0ZVTkNUSU9OX0lOVEVMTElHRU5DRV9TWVNURU0nKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGdlbmVyYXRpb24gZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkQW5hbHlzaXMgPSB7XG4gICAgICAgIC4uLm1vY2tGaWxlQW5hbHlzaXMsXG4gICAgICAgIHRyYW5zZm9ybWF0aW9uQ2FuZGlkYXRlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLm1vY2tGaWxlQW5hbHlzaXMudHJhbnNmb3JtYXRpb25DYW5kaWRhdGVzWzBdLFxuICAgICAgICAgICAgZXhwb3J0OiB7XG4gICAgICAgICAgICAgIC4uLm1vY2tGaWxlQW5hbHlzaXMudHJhbnNmb3JtYXRpb25DYW5kaWRhdGVzWzBdLmV4cG9ydCxcbiAgICAgICAgICAgICAgZXhwb3J0TmFtZTogbnVsbCBhcyB1bmtub3duIC8vIEludmFsaWQgZXhwb3J0IG5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBnZW5lcmF0b3IuZ2VuZXJhdGVJbnRlbGxpZ2VuY2VTeXN0ZW1zKFtpbnZhbGlkQW5hbHlzaXNdKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7IC8vIFNob3VsZCBoYW5kbGUgZXJyb3IgYW5kIGNvbnRpbnVlXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzZWxlY3RUZW1wbGF0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNlbGVjdCBmdW5jdGlvbiB0ZW1wbGF0ZSBmb3IgZnVuY3Rpb24gZXhwb3J0cycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHtcbiAgICAgICAgZXhwb3J0OiB7XG4gICAgICAgICAgZmlsZVBhdGg6ICcvdGVzdC90ZXN0LnRzJyxcbiAgICAgICAgICBleHBvcnROYW1lOiAndGVzdEZ1bmN0aW9uJyxcbiAgICAgICAgICBleHBvcnRUeXBlOiAnZnVuY3Rpb24nIGFzIGNvbnN0LFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICBjb21wbGV4aXR5OiA1LFxuICAgICAgICAgIHVzYWdlQ291bnQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgaW50ZWxsaWdlbmNlU3lzdGVtTmFtZTogJ1RFU1RfRlVOQ1RJT05fSU5URUxMSUdFTkNFX1NZU1RFTScsXG4gICAgICAgIHRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eTogVHJhbnNmb3JtYXRpb25Db21wbGV4aXR5Lk1PREVSQVRFLFxuICAgICAgICBzYWZldHlTY29yZTogODUsXG4gICAgICAgIGVzdGltYXRlZEJlbmVmaXQ6IDc1XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IChnZW5lcmF0b3IgYXMgdW5rbm93biBhcyB7IHNlbGVjdFRlbXBsYXRlOiAoY2FuZGlkYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4geyBuYW1lOiBzdHJpbmcgfSB9KS5zZWxlY3RUZW1wbGF0ZShjYW5kaWRhdGUpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLm5hbWUpLnRvQmUoJ0Z1bmN0aW9uIEludGVsbGlnZW5jZSBTeXN0ZW0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2VsZWN0IGNsYXNzIHRlbXBsYXRlIGZvciBjbGFzcyBleHBvcnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0ge1xuICAgICAgICBleHBvcnQ6IHtcbiAgICAgICAgICBmaWxlUGF0aDogJy90ZXN0L3Rlc3QudHMnLFxuICAgICAgICAgIGV4cG9ydE5hbWU6ICdUZXN0Q2xhc3MnLFxuICAgICAgICAgIGV4cG9ydFR5cGU6ICdjbGFzcycgYXMgY29uc3QsXG4gICAgICAgICAgbGluZU51bWJlcjogMSxcbiAgICAgICAgICBpc0RlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGNvbXBsZXhpdHk6IDEwLFxuICAgICAgICAgIHVzYWdlQ291bnQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgaW50ZWxsaWdlbmNlU3lzdGVtTmFtZTogJ1RFU1RfQ0xBU1NfSU5URUxMSUdFTkNFX1NZU1RFTScsXG4gICAgICAgIHRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eTogVHJhbnNmb3JtYXRpb25Db21wbGV4aXR5LkNPTVBMRVgsXG4gICAgICAgIHNhZmV0eVNjb3JlOiA4MCxcbiAgICAgICAgZXN0aW1hdGVkQmVuZWZpdDogODVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gKGdlbmVyYXRvciBhcyB1bmtub3duIGFzIHsgc2VsZWN0VGVtcGxhdGU6IChjYW5kaWRhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7IG5hbWU6IHN0cmluZyB9IH0pLnNlbGVjdFRlbXBsYXRlKGNhbmRpZGF0ZSk7XG4gICAgICBleHBlY3QodGVtcGxhdGUubmFtZSkudG9CZSgnQ2xhc3MgSW50ZWxsaWdlbmNlIFN5c3RlbScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzZWxlY3QgdHlwZSB0ZW1wbGF0ZSBmb3IgaW50ZXJmYWNlIGV4cG9ydHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSB7XG4gICAgICAgIGV4cG9ydDoge1xuICAgICAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvdGVzdC50cycsXG4gICAgICAgICAgZXhwb3J0TmFtZTogJ1Rlc3RJbnRlcmZhY2UnLFxuICAgICAgICAgIGV4cG9ydFR5cGU6ICdpbnRlcmZhY2UnIGFzIGNvbnN0LFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICBjb21wbGV4aXR5OiAzLFxuICAgICAgICAgIHVzYWdlQ291bnQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgaW50ZWxsaWdlbmNlU3lzdGVtTmFtZTogJ1RFU1RfSU5URVJGQUNFX0lOVEVMTElHRU5DRV9TWVNURU0nLFxuICAgICAgICB0cmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHk6IFRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eS5TSU1QTEUsXG4gICAgICAgIHNhZmV0eVNjb3JlOiA5NSxcbiAgICAgICAgZXN0aW1hdGVkQmVuZWZpdDogNjBcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gKGdlbmVyYXRvciBhcyB1bmtub3duIGFzIHsgc2VsZWN0VGVtcGxhdGU6IChjYW5kaWRhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7IG5hbWU6IHN0cmluZyB9IH0pLnNlbGVjdFRlbXBsYXRlKGNhbmRpZGF0ZSk7XG4gICAgICBleHBlY3QodGVtcGxhdGUubmFtZSkudG9CZSgnVHlwZSBJbnRlbGxpZ2VuY2UgU3lzdGVtJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNlbGVjdCBkYXRhIHRlbXBsYXRlIGZvciBjb25zdCBleHBvcnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0ge1xuICAgICAgICBleHBvcnQ6IHtcbiAgICAgICAgICBmaWxlUGF0aDogJy90ZXN0L3Rlc3QudHMnLFxuICAgICAgICAgIGV4cG9ydE5hbWU6ICdURVNUX0NPTlNUQU5UJyxcbiAgICAgICAgICBleHBvcnRUeXBlOiAnY29uc3QnIGFzIGNvbnN0LFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICBjb21wbGV4aXR5OiAyLFxuICAgICAgICAgIHVzYWdlQ291bnQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgaW50ZWxsaWdlbmNlU3lzdGVtTmFtZTogJ1RFU1RfQ09OU1RBTlRfSU5URUxMSUdFTkNFX1NZU1RFTScsXG4gICAgICAgIHRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eTogVHJhbnNmb3JtYXRpb25Db21wbGV4aXR5LlNJTVBMRSxcbiAgICAgICAgc2FmZXR5U2NvcmU6IDkwLFxuICAgICAgICBlc3RpbWF0ZWRCZW5lZml0OiA1MFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdGVtcGxhdGUgPSAoZ2VuZXJhdG9yIGFzIHVua25vd24gYXMgeyBzZWxlY3RUZW1wbGF0ZTogKGNhbmRpZGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHsgbmFtZTogc3RyaW5nIH0gfSkuc2VsZWN0VGVtcGxhdGUoY2FuZGlkYXRlKTtcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5uYW1lKS50b0JlKCdEYXRhIEludGVsbGlnZW5jZSBTeXN0ZW0nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlQ2FwYWJpbGl0aWVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZnVuY3Rpb24tc3BlY2lmaWMgY2FwYWJpbGl0aWVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0ge1xuICAgICAgICBleHBvcnQ6IHtcbiAgICAgICAgICBmaWxlUGF0aDogJy90ZXN0L3Rlc3QudHMnLFxuICAgICAgICAgIGV4cG9ydE5hbWU6ICd0ZXN0RnVuY3Rpb24nLFxuICAgICAgICAgIGV4cG9ydFR5cGU6ICdmdW5jdGlvbicgYXMgY29uc3QsXG4gICAgICAgICAgbGluZU51bWJlcjogMSxcbiAgICAgICAgICBpc0RlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGNvbXBsZXhpdHk6IDUsXG4gICAgICAgICAgdXNhZ2VDb3VudDogMFxuICAgICAgICB9LFxuICAgICAgICBpbnRlbGxpZ2VuY2VTeXN0ZW1OYW1lOiAnVEVTVF9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNJyxcbiAgICAgICAgdHJhbnNmb3JtYXRpb25Db21wbGV4aXR5OiBUcmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHkuTU9ERVJBVEUsXG4gICAgICAgIHNhZmV0eVNjb3JlOiA4NSxcbiAgICAgICAgZXN0aW1hdGVkQmVuZWZpdDogNzVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gKGdlbmVyYXRvciBhcyB1bmtub3duIGFzIHsgc2VsZWN0VGVtcGxhdGU6IChjYW5kaWRhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7IG5hbWU6IHN0cmluZyB9IH0pLnNlbGVjdFRlbXBsYXRlKGNhbmRpZGF0ZSk7XG4gICAgICBjb25zdCBjYXBhYmlsaXRpZXMgPSAoZ2VuZXJhdG9yIGFzIHVua25vd24gYXMgeyBnZW5lcmF0ZUNhcGFiaWxpdGllczogKGNhbmRpZGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIHRlbXBsYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfSkuZ2VuZXJhdGVDYXBhYmlsaXRpZXMoY2FuZGlkYXRlLCB0ZW1wbGF0ZSk7XG5cbiAgICAgIGV4cGVjdChjYXBhYmlsaXRpZXMuc29tZSgoY2FwOiBhbnkpID0+IGNhcC5uYW1lID09PSAnYW5hbHl6ZUZ1bmN0aW9uJykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoY2FwYWJpbGl0aWVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBjbGFzcy1zcGVjaWZpYyBjYXBhYmlsaXRpZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSB7XG4gICAgICAgIGV4cG9ydDoge1xuICAgICAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvdGVzdC50cycsXG4gICAgICAgICAgZXhwb3J0TmFtZTogJ1Rlc3RDbGFzcycsXG4gICAgICAgICAgZXhwb3J0VHlwZTogJ2NsYXNzJyBhcyBjb25zdCxcbiAgICAgICAgICBsaW5lTnVtYmVyOiAxLFxuICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgY29tcGxleGl0eTogMTAsXG4gICAgICAgICAgdXNhZ2VDb3VudDogMFxuICAgICAgICB9LFxuICAgICAgICBpbnRlbGxpZ2VuY2VTeXN0ZW1OYW1lOiAnVEVTVF9DTEFTU19JTlRFTExJR0VOQ0VfU1lTVEVNJyxcbiAgICAgICAgdHJhbnNmb3JtYXRpb25Db21wbGV4aXR5OiBUcmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHkuQ09NUExFWCxcbiAgICAgICAgc2FmZXR5U2NvcmU6IDgwLFxuICAgICAgICBlc3RpbWF0ZWRCZW5lZml0OiA4NVxuICAgICAgfTtcblxuICAgICAgY29uc3QgdGVtcGxhdGUgPSAoZ2VuZXJhdG9yIGFzIHVua25vd24gYXMgeyBzZWxlY3RUZW1wbGF0ZTogKGNhbmRpZGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHsgbmFtZTogc3RyaW5nIH0gfSkuc2VsZWN0VGVtcGxhdGUoY2FuZGlkYXRlKTtcbiAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IChnZW5lcmF0b3IgYXMgdW5rbm93biBhcyB7IGdlbmVyYXRlQ2FwYWJpbGl0aWVzOiAoY2FuZGlkYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgdGVtcGxhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9KS5nZW5lcmF0ZUNhcGFiaWxpdGllcyhjYW5kaWRhdGUsIHRlbXBsYXRlKTtcblxuICAgICAgZXhwZWN0KGNhcGFiaWxpdGllcy5zb21lKChjYXA6IGFueSkgPT4gY2FwLm5hbWUgPT09ICdhbmFseXplQ2xhc3NTdHJ1Y3R1cmUnKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYWRkIGFkdmFuY2VkIGNhcGFiaWxpdGllcyBmb3IgY29tcGxleCBleHBvcnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0ge1xuICAgICAgICBleHBvcnQ6IHtcbiAgICAgICAgICBmaWxlUGF0aDogJy90ZXN0L3Rlc3QudHMnLFxuICAgICAgICAgIGV4cG9ydE5hbWU6ICdjb21wbGV4RnVuY3Rpb24nLFxuICAgICAgICAgIGV4cG9ydFR5cGU6ICdmdW5jdGlvbicgYXMgY29uc3QsXG4gICAgICAgICAgbGluZU51bWJlcjogMSxcbiAgICAgICAgICBpc0RlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGNvbXBsZXhpdHk6IDI1LFxuICAgICAgICAgIHVzYWdlQ291bnQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgaW50ZWxsaWdlbmNlU3lzdGVtTmFtZTogJ0NPTVBMRVhfRlVOQ1RJT05fSU5URUxMSUdFTkNFX1NZU1RFTScsXG4gICAgICAgIHRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eTogVHJhbnNmb3JtYXRpb25Db21wbGV4aXR5LlZFUllfQ09NUExFWCxcbiAgICAgICAgc2FmZXR5U2NvcmU6IDcwLFxuICAgICAgICBlc3RpbWF0ZWRCZW5lZml0OiA5MFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdGVtcGxhdGUgPSAoZ2VuZXJhdG9yIGFzIHVua25vd24gYXMgeyBzZWxlY3RUZW1wbGF0ZTogKGNhbmRpZGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHsgbmFtZTogc3RyaW5nIH0gfSkuc2VsZWN0VGVtcGxhdGUoY2FuZGlkYXRlKTtcbiAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IChnZW5lcmF0b3IgYXMgdW5rbm93biBhcyB7IGdlbmVyYXRlQ2FwYWJpbGl0aWVzOiAoY2FuZGlkYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgdGVtcGxhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9KS5nZW5lcmF0ZUNhcGFiaWxpdGllcyhjYW5kaWRhdGUsIHRlbXBsYXRlKTtcblxuICAgICAgZXhwZWN0KGNhcGFiaWxpdGllcy5zb21lKChjYXA6IGFueSkgPT4gY2FwLm5hbWUgPT09ICdnZW5lcmF0ZUFkdmFuY2VkSW5zaWdodHMnKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlSW50ZWdyYXRpb25Qb2ludHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBpbnRlZ3JhdGlvbiBwb2ludHMgZm9yIGludGVsbGlnZW5jZSBzeXN0ZW1zJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0ge1xuICAgICAgICBleHBvcnQ6IHtcbiAgICAgICAgICBmaWxlUGF0aDogJy90ZXN0L3Rlc3QudHMnLFxuICAgICAgICAgIGV4cG9ydE5hbWU6ICd0ZXN0RnVuY3Rpb24nLFxuICAgICAgICAgIGV4cG9ydFR5cGU6ICdmdW5jdGlvbicgYXMgY29uc3QsXG4gICAgICAgICAgbGluZU51bWJlcjogMSxcbiAgICAgICAgICBpc0RlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgIGNvbXBsZXhpdHk6IDUsXG4gICAgICAgICAgdXNhZ2VDb3VudDogMFxuICAgICAgICB9LFxuICAgICAgICBpbnRlbGxpZ2VuY2VTeXN0ZW1OYW1lOiAnVEVTVF9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNJyxcbiAgICAgICAgdHJhbnNmb3JtYXRpb25Db21wbGV4aXR5OiBUcmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHkuTU9ERVJBVEUsXG4gICAgICAgIHNhZmV0eVNjb3JlOiA4NSxcbiAgICAgICAgZXN0aW1hdGVkQmVuZWZpdDogNzVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGludGVncmF0aW9uUG9pbnRzID0gKGdlbmVyYXRvciBhcyB1bmtub3duIGFzIHsgZ2VuZXJhdGVJbnRlZ3JhdGlvblBvaW50czogKGNhbmRpZGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIHBhdGg6IHN0cmluZykgPT4gUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfSkuZ2VuZXJhdGVJbnRlZ3JhdGlvblBvaW50cyhjYW5kaWRhdGUsICcvdGVzdC90ZXN0LnRzJyk7XG5cbiAgICAgIGV4cGVjdChpbnRlZ3JhdGlvblBvaW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChpbnRlZ3JhdGlvblBvaW50cy5zb21lKChpcDogYW55KSA9PiBpcC5tZXRob2QgPT09IEludGVncmF0aW9uTWV0aG9kLkRJUkVDVF9JTVBPUlQpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGludGVncmF0aW9uUG9pbnRzLnNvbWUoKGlwOiBhbnkpID0+IGlwLm1ldGhvZCA9PT0gSW50ZWdyYXRpb25NZXRob2QuQVBJX0VORFBPSU5UKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBvcmlnaW5hbCBmaWxlIGludGVncmF0aW9uIGZvciBzYWZlIGNhbmRpZGF0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSB7XG4gICAgICAgIGV4cG9ydDoge1xuICAgICAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvdGVzdC50cycsXG4gICAgICAgICAgZXhwb3J0TmFtZTogJ3NhZmVGdW5jdGlvbicsXG4gICAgICAgICAgZXhwb3J0VHlwZTogJ2Z1bmN0aW9uJyBhcyBjb25zdCxcbiAgICAgICAgICBsaW5lTnVtYmVyOiAxLFxuICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgY29tcGxleGl0eTogMyxcbiAgICAgICAgICB1c2FnZUNvdW50OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGludGVsbGlnZW5jZVN5c3RlbU5hbWU6ICdTQUZFX0ZVTkNUSU9OX0lOVEVMTElHRU5DRV9TWVNURU0nLFxuICAgICAgICB0cmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHk6IFRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eS5TSU1QTEUsXG4gICAgICAgIHNhZmV0eVNjb3JlOiA5NSxcbiAgICAgICAgZXN0aW1hdGVkQmVuZWZpdDogNzBcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGludGVncmF0aW9uUG9pbnRzID0gKGdlbmVyYXRvciBhcyB1bmtub3duIGFzIHsgZ2VuZXJhdGVJbnRlZ3JhdGlvblBvaW50czogKGNhbmRpZGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIHBhdGg6IHN0cmluZykgPT4gUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfSkuZ2VuZXJhdGVJbnRlZ3JhdGlvblBvaW50cyhjYW5kaWRhdGUsICcvdGVzdC90ZXN0LnRzJyk7XG5cbiAgICAgIGV4cGVjdChpbnRlZ3JhdGlvblBvaW50cy5zb21lKChpcDogYW55KSA9PiBpcC50YXJnZXQgPT09ICcvdGVzdC90ZXN0LnRzJykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZW5lcmF0ZUNvZGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBjb21wbGV0ZSBpbnRlbGxpZ2VuY2Ugc3lzdGVtIGNvZGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSB7XG4gICAgICAgIGV4cG9ydDoge1xuICAgICAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvdGVzdC50cycsXG4gICAgICAgICAgZXhwb3J0TmFtZTogJ3Rlc3RGdW5jdGlvbicsXG4gICAgICAgICAgZXhwb3J0VHlwZTogJ2Z1bmN0aW9uJyBhcyBjb25zdCxcbiAgICAgICAgICBsaW5lTnVtYmVyOiAxLFxuICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgY29tcGxleGl0eTogNSxcbiAgICAgICAgICB1c2FnZUNvdW50OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGludGVsbGlnZW5jZVN5c3RlbU5hbWU6ICdURVNUX0ZVTkNUSU9OX0lOVEVMTElHRU5DRV9TWVNURU0nLFxuICAgICAgICB0cmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHk6IFRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eS5NT0RFUkFURSxcbiAgICAgICAgc2FmZXR5U2NvcmU6IDg1LFxuICAgICAgICBlc3RpbWF0ZWRCZW5lZml0OiA3NVxuICAgICAgfTtcblxuICAgICAgY29uc3QgdGVtcGxhdGUgPSAoZ2VuZXJhdG9yIGFzIHVua25vd24gYXMgeyBzZWxlY3RUZW1wbGF0ZTogKGNhbmRpZGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHsgbmFtZTogc3RyaW5nIH0gfSkuc2VsZWN0VGVtcGxhdGUoY2FuZGlkYXRlKTtcbiAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IChnZW5lcmF0b3IgYXMgdW5rbm93biBhcyB7IGdlbmVyYXRlQ2FwYWJpbGl0aWVzOiAoY2FuZGlkYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgdGVtcGxhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9KS5nZW5lcmF0ZUNhcGFiaWxpdGllcyhjYW5kaWRhdGUsIHRlbXBsYXRlKTtcbiAgICAgIGNvbnN0IGNvZGUgPSAoZ2VuZXJhdG9yIGFzIHVua25vd24gYXMgeyBnZW5lcmF0ZUNvZGU6IChjYW5kaWRhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCB0ZW1wbGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIGNhcGFiaWxpdGllczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHN0cmluZyB9KS5nZW5lcmF0ZUNvZGUoY2FuZGlkYXRlLCB0ZW1wbGF0ZSwgY2FwYWJpbGl0aWVzKTtcblxuICAgICAgZXhwZWN0KGNvZGUpLnRvQ29udGFpbignVEVTVF9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNJyk7XG4gICAgICBleHBlY3QoY29kZSkudG9Db250YWluKCdjbGFzcyBURVNUX0ZVTkNUSU9OX0lOVEVMTElHRU5DRV9TWVNURU0nKTtcbiAgICAgIGV4cGVjdChjb2RlKS50b0NvbnRhaW4oJ2FuYWx5emVQYXR0ZXJucycpO1xuICAgICAgZXhwZWN0KGNvZGUpLnRvQ29udGFpbignZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMnKTtcbiAgICAgIGV4cGVjdChjb2RlKS50b0NvbnRhaW4oJ2RlbW9uc3RyYXRlQ2FwYWJpbGl0aWVzJyk7XG4gICAgICBleHBlY3QoY29kZSkudG9Db250YWluKCdleHBvcnQgY29uc3QgdGVzdF9mdW5jdGlvbl9pbnRlbGxpZ2VuY2Vfc3lzdGVtJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgb3JpZ2luYWwgZXhwb3J0IGluZm9ybWF0aW9uIGluIGNvbW1lbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0ge1xuICAgICAgICBleHBvcnQ6IHtcbiAgICAgICAgICBmaWxlUGF0aDogJy90ZXN0L3Rlc3QudHMnLFxuICAgICAgICAgIGV4cG9ydE5hbWU6ICdvcmlnaW5hbEZ1bmN0aW9uJyxcbiAgICAgICAgICBleHBvcnRUeXBlOiAnZnVuY3Rpb24nIGFzIGNvbnN0LFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEwLFxuICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgY29tcGxleGl0eTogOCxcbiAgICAgICAgICB1c2FnZUNvdW50OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGludGVsbGlnZW5jZVN5c3RlbU5hbWU6ICdPUklHSU5BTF9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNJyxcbiAgICAgICAgdHJhbnNmb3JtYXRpb25Db21wbGV4aXR5OiBUcmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHkuTU9ERVJBVEUsXG4gICAgICAgIHNhZmV0eVNjb3JlOiA4MCxcbiAgICAgICAgZXN0aW1hdGVkQmVuZWZpdDogNzBcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gKGdlbmVyYXRvciBhcyB1bmtub3duIGFzIHsgc2VsZWN0VGVtcGxhdGU6IChjYW5kaWRhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7IG5hbWU6IHN0cmluZyB9IH0pLnNlbGVjdFRlbXBsYXRlKGNhbmRpZGF0ZSk7XG4gICAgICBjb25zdCBjYXBhYmlsaXRpZXMgPSAoZ2VuZXJhdG9yIGFzIHVua25vd24gYXMgeyBnZW5lcmF0ZUNhcGFiaWxpdGllczogKGNhbmRpZGF0ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIHRlbXBsYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfSkuZ2VuZXJhdGVDYXBhYmlsaXRpZXMoY2FuZGlkYXRlLCB0ZW1wbGF0ZSk7XG4gICAgICBjb25zdCBjb2RlID0gKGdlbmVyYXRvciBhcyB1bmtub3duIGFzIHsgZ2VuZXJhdGVDb2RlOiAoY2FuZGlkYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgdGVtcGxhdGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBjYXBhYmlsaXRpZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBzdHJpbmcgfSkuZ2VuZXJhdGVDb2RlKGNhbmRpZGF0ZSwgdGVtcGxhdGUsIGNhcGFiaWxpdGllcyk7XG5cbiAgICAgIGV4cGVjdChjb2RlKS50b0NvbnRhaW4oJ09yaWdpbmFsIEV4cG9ydDogb3JpZ2luYWxGdW5jdGlvbiAoZnVuY3Rpb24pJyk7XG4gICAgICBleHBlY3QoY29kZSkudG9Db250YWluKCdFc3RpbWF0ZWQgVmFsdWU6IDcwLzEwMCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY2FsY3VsYXRlRXN0aW1hdGVkVmFsdWUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgdmFsdWUgYmFzZWQgb24gY2FuZGlkYXRlIGJlbmVmaXQgYW5kIGNhcGFiaWxpdGllcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHtcbiAgICAgICAgZXhwb3J0OiB7XG4gICAgICAgICAgZmlsZVBhdGg6ICcvdGVzdC90ZXN0LnRzJyxcbiAgICAgICAgICBleHBvcnROYW1lOiAndGVzdEZ1bmN0aW9uJyxcbiAgICAgICAgICBleHBvcnRUeXBlOiAnZnVuY3Rpb24nIGFzIGNvbnN0LFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICBjb21wbGV4aXR5OiA1LFxuICAgICAgICAgIHVzYWdlQ291bnQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgaW50ZWxsaWdlbmNlU3lzdGVtTmFtZTogJ1RFU1RfRlVOQ1RJT05fSU5URUxMSUdFTkNFX1NZU1RFTScsXG4gICAgICAgIHRyYW5zZm9ybWF0aW9uQ29tcGxleGl0eTogVHJhbnNmb3JtYXRpb25Db21wbGV4aXR5Lk1PREVSQVRFLFxuICAgICAgICBzYWZldHlTY29yZTogODUsXG4gICAgICAgIGVzdGltYXRlZEJlbmVmaXQ6IDUwXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjYXBhYmlsaXRpZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnYmFzaWNDYXBhYmlsaXR5JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Jhc2ljIGNhcGFiaWxpdHknLFxuICAgICAgICAgIGltcGxlbWVudGF0aW9uOiAncmV0dXJuIHt9OycsXG4gICAgICAgICAgY29tcGxleGl0eTogQ2FwYWJpbGl0eUNvbXBsZXhpdHkuQkFTSUNcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdhZHZhbmNlZENhcGFiaWxpdHknLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWR2YW5jZWQgY2FwYWJpbGl0eScsXG4gICAgICAgICAgaW1wbGVtZW50YXRpb246ICdyZXR1cm4ge307JyxcbiAgICAgICAgICBjb21wbGV4aXR5OiBDYXBhYmlsaXR5Q29tcGxleGl0eS5BRFZBTkNFRFxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBjb25zdCB2YWx1ZSA9IChnZW5lcmF0b3IgYXMgdW5rbm93biBhcyB7IGNhbGN1bGF0ZUVzdGltYXRlZFZhbHVlOiAoY2FuZGlkYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgY2FwYWJpbGl0aWVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gbnVtYmVyIH0pLmNhbGN1bGF0ZUVzdGltYXRlZFZhbHVlKGNhbmRpZGF0ZSwgY2FwYWJpbGl0aWVzKTtcbiAgICAgIGV4cGVjdCh2YWx1ZSkudG9CZUdyZWF0ZXJUaGFuKDUwKTsgLy8gU2hvdWxkIGJlIGhpZ2hlciB0aGFuIGJhc2UgYmVuZWZpdFxuICAgICAgZXhwZWN0KHZhbHVlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7IC8vIFNob3VsZCBiZSBjYXBwZWQgYXQgMTAwXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdhc3Nlc3NHZW5lcmF0aW9uQ29tcGxleGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFzc2VzcyBTSU1QTEUgY29tcGxleGl0eSBmb3Igc2ltcGxlIGNhbmRpZGF0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSB7XG4gICAgICAgIGV4cG9ydDoge1xuICAgICAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvdGVzdC50cycsXG4gICAgICAgICAgZXhwb3J0TmFtZTogJ3NpbXBsZUZ1bmN0aW9uJyxcbiAgICAgICAgICBleHBvcnRUeXBlOiAnY29uc3QnIGFzIGNvbnN0LFxuICAgICAgICAgIGxpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICBjb21wbGV4aXR5OiAyLFxuICAgICAgICAgIHVzYWdlQ291bnQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgaW50ZWxsaWdlbmNlU3lzdGVtTmFtZTogJ1NJTVBMRV9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNJyxcbiAgICAgICAgdHJhbnNmb3JtYXRpb25Db21wbGV4aXR5OiBUcmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHkuU0lNUExFLFxuICAgICAgICBzYWZldHlTY29yZTogOTUsXG4gICAgICAgIGVzdGltYXRlZEJlbmVmaXQ6IDQwXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjYXBhYmlsaXRpZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnYmFzaWNDYXBhYmlsaXR5JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Jhc2ljIGNhcGFiaWxpdHknLFxuICAgICAgICAgIGltcGxlbWVudGF0aW9uOiAncmV0dXJuIHt9OycsXG4gICAgICAgICAgY29tcGxleGl0eTogQ2FwYWJpbGl0eUNvbXBsZXhpdHkuQkFTSUNcbiAgICAgICAgfVxuICAgICAgXTtcblxuICAgICAgY29uc3QgY29tcGxleGl0eSA9IChnZW5lcmF0b3IgYXMgdW5rbm93biBhcyB7IGFzc2Vzc0dlbmVyYXRpb25Db21wbGV4aXR5OiAoY2FuZGlkYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgY2FwYWJpbGl0aWVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gR2VuZXJhdGlvbkNvbXBsZXhpdHkgfSkuYXNzZXNzR2VuZXJhdGlvbkNvbXBsZXhpdHkoY2FuZGlkYXRlLCBjYXBhYmlsaXRpZXMpO1xuICAgICAgZXhwZWN0KGNvbXBsZXhpdHkpLnRvQmUoR2VuZXJhdGlvbkNvbXBsZXhpdHkuU0lNUExFKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYXNzZXNzIFZFUllfQ09NUExFWCBjb21wbGV4aXR5IGZvciBjb21wbGV4IGNhbmRpZGF0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSB7XG4gICAgICAgIGV4cG9ydDoge1xuICAgICAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvdGVzdC50cycsXG4gICAgICAgICAgZXhwb3J0TmFtZTogJ2NvbXBsZXhGdW5jdGlvbicsXG4gICAgICAgICAgZXhwb3J0VHlwZTogJ2NsYXNzJyBhcyBjb25zdCxcbiAgICAgICAgICBsaW5lTnVtYmVyOiAxLFxuICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgY29tcGxleGl0eTogMzAsXG4gICAgICAgICAgdXNhZ2VDb3VudDogMFxuICAgICAgICB9LFxuICAgICAgICBpbnRlbGxpZ2VuY2VTeXN0ZW1OYW1lOiAnQ09NUExFWF9GVU5DVElPTl9JTlRFTExJR0VOQ0VfU1lTVEVNJyxcbiAgICAgICAgdHJhbnNmb3JtYXRpb25Db21wbGV4aXR5OiBUcmFuc2Zvcm1hdGlvbkNvbXBsZXhpdHkuVkVSWV9DT01QTEVYLFxuICAgICAgICBzYWZldHlTY29yZTogNjAsXG4gICAgICAgIGVzdGltYXRlZEJlbmVmaXQ6IDk1XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjYXBhYmlsaXRpZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnZXhwZXJ0Q2FwYWJpbGl0eScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdFeHBlcnQgY2FwYWJpbGl0eScsXG4gICAgICAgICAgaW1wbGVtZW50YXRpb246ICdyZXR1cm4ge307JyxcbiAgICAgICAgICBjb21wbGV4aXR5OiBDYXBhYmlsaXR5Q29tcGxleGl0eS5FWFBFUlRcbiAgICAgICAgfVxuICAgICAgXTtcblxuICAgICAgY29uc3QgY29tcGxleGl0eSA9IChnZW5lcmF0b3IgYXMgdW5rbm93biBhcyB7IGFzc2Vzc0dlbmVyYXRpb25Db21wbGV4aXR5OiAoY2FuZGlkYXRlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgY2FwYWJpbGl0aWVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gR2VuZXJhdGlvbkNvbXBsZXhpdHkgfSkuYXNzZXNzR2VuZXJhdGlvbkNvbXBsZXhpdHkoY2FuZGlkYXRlLCBjYXBhYmlsaXRpZXMpO1xuICAgICAgZXhwZWN0KGNvbXBsZXhpdHkpLnRvQmUoR2VuZXJhdGlvbkNvbXBsZXhpdHkuVkVSWV9DT01QTEVYKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlU3VtbWFyeScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGNvbXByZWhlbnNpdmUgc3VtbWFyeSBvZiByZXN1bHRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1Jlc3VsdHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBzeXN0ZW1OYW1lOiAnU1lTVEVNXzEnLFxuICAgICAgICAgIGZpbGVQYXRoOiAnL291dHB1dC9TWVNURU1fMS50cycsXG4gICAgICAgICAgb3JpZ2luYWxFeHBvcnQ6IHtcbiAgICAgICAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvdGVzdDEudHMnLFxuICAgICAgICAgICAgZXhwb3J0TmFtZTogJ2Z1bmN0aW9uMScsXG4gICAgICAgICAgICBleHBvcnRUeXBlOiAnZnVuY3Rpb24nIGFzIGNvbnN0LFxuICAgICAgICAgICAgbGluZU51bWJlcjogMSxcbiAgICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgICBjb21wbGV4aXR5OiA1LFxuICAgICAgICAgICAgdXNhZ2VDb3VudDogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2VuZXJhdGVkQ29kZTogJ2NvZGUxJyxcbiAgICAgICAgICBjYXBhYmlsaXRpZXM6IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2NhcDEnLCBkZXNjcmlwdGlvbjogJ2Rlc2MxJywgaW1wbGVtZW50YXRpb246ICdpbXBsMScsIGNvbXBsZXhpdHk6IENhcGFiaWxpdHlDb21wbGV4aXR5LkJBU0lDIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdjYXAyJywgZGVzY3JpcHRpb246ICdkZXNjMicsIGltcGxlbWVudGF0aW9uOiAnaW1wbDInLCBjb21wbGV4aXR5OiBDYXBhYmlsaXR5Q29tcGxleGl0eS5JTlRFUk1FRElBVEUgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgaW50ZWdyYXRpb25Qb2ludHM6IFtcbiAgICAgICAgICAgIHsgdGFyZ2V0OiAndGFyZ2V0MScsIG1ldGhvZDogSW50ZWdyYXRpb25NZXRob2QuRElSRUNUX0lNUE9SVCwgY29kZTogJ2NvZGUxJywgcHJpb3JpdHk6IEludGVncmF0aW9uUHJpb3JpdHkuSElHSCB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBlc3RpbWF0ZWRWYWx1ZTogNzUsXG4gICAgICAgICAgY29tcGxleGl0eTogR2VuZXJhdGlvbkNvbXBsZXhpdHkuTU9ERVJBVEVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHN5c3RlbU5hbWU6ICdTWVNURU1fMicsXG4gICAgICAgICAgZmlsZVBhdGg6ICcvb3V0cHV0L1NZU1RFTV8yLnRzJyxcbiAgICAgICAgICBvcmlnaW5hbEV4cG9ydDoge1xuICAgICAgICAgICAgZmlsZVBhdGg6ICcvdGVzdC90ZXN0Mi50cycsXG4gICAgICAgICAgICBleHBvcnROYW1lOiAnY2xhc3MyJyxcbiAgICAgICAgICAgIGV4cG9ydFR5cGU6ICdjbGFzcycgYXMgY29uc3QsXG4gICAgICAgICAgICBsaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIGNvbXBsZXhpdHk6IDEwLFxuICAgICAgICAgICAgdXNhZ2VDb3VudDogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2VuZXJhdGVkQ29kZTogJ2NvZGUyJyxcbiAgICAgICAgICBjYXBhYmlsaXRpZXM6IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2NhcDMnLCBkZXNjcmlwdGlvbjogJ2Rlc2MzJywgaW1wbGVtZW50YXRpb246ICdpbXBsMycsIGNvbXBsZXhpdHk6IENhcGFiaWxpdHlDb21wbGV4aXR5LkFEVkFOQ0VEIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIGludGVncmF0aW9uUG9pbnRzOiBbXG4gICAgICAgICAgICB7IHRhcmdldDogJ3RhcmdldDInLCBtZXRob2Q6IEludGVncmF0aW9uTWV0aG9kLkFQSV9FTkRQT0lOVCwgY29kZTogJ2NvZGUyJywgcHJpb3JpdHk6IEludGVncmF0aW9uUHJpb3JpdHkuTUVESVVNIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIGVzdGltYXRlZFZhbHVlOiA4NSxcbiAgICAgICAgICBjb21wbGV4aXR5OiBHZW5lcmF0aW9uQ29tcGxleGl0eS5DT01QTEVYXG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHN1bW1hcnkgPSBnZW5lcmF0b3IuZ2VuZXJhdGVTdW1tYXJ5KG1vY2tSZXN1bHRzKTtcblxuICAgICAgZXhwZWN0KHN1bW1hcnkudG90YWxTeXN0ZW1zR2VuZXJhdGVkKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KHN1bW1hcnkudG90YWxDYXBhYmlsaXRpZXNBZGRlZCkudG9CZSgzKTtcbiAgICAgIGV4cGVjdChzdW1tYXJ5LnRvdGFsSW50ZWdyYXRpb25Qb2ludHMpLnRvQmUoMik7XG4gICAgICBleHBlY3Qoc3VtbWFyeS5lc3RpbWF0ZWRUb3RhbFZhbHVlKS50b0JlKDE2MCk7XG4gICAgICBleHBlY3Qoc3VtbWFyeS5nZW5lcmF0aW9uc0J5Q2F0ZWdvcnkpLnRvSGF2ZVByb3BlcnR5KCdmdW5jdGlvbicsIDEpO1xuICAgICAgZXhwZWN0KHN1bW1hcnkuZ2VuZXJhdGlvbnNCeUNhdGVnb3J5KS50b0hhdmVQcm9wZXJ0eSgnY2xhc3MnLCAxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlSW50ZWdyYXRpb25HdWlkZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGNvbXByZWhlbnNpdmUgaW50ZWdyYXRpb24gZ3VpZGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUmVzdWx0cyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHN5c3RlbU5hbWU6ICdURVNUX1NZU1RFTV9JTlRFTExJR0VOQ0VfU1lTVEVNJyxcbiAgICAgICAgICBmaWxlUGF0aDogJy9vdXRwdXQvVEVTVF9TWVNURU1fSU5URUxMSUdFTkNFX1NZU1RFTS50cycsXG4gICAgICAgICAgb3JpZ2luYWxFeHBvcnQ6IHtcbiAgICAgICAgICAgIGZpbGVQYXRoOiAnL3Rlc3QvdGVzdC50cycsXG4gICAgICAgICAgICBleHBvcnROYW1lOiAndGVzdEZ1bmN0aW9uJyxcbiAgICAgICAgICAgIGV4cG9ydFR5cGU6ICdmdW5jdGlvbicgYXMgY29uc3QsXG4gICAgICAgICAgICBsaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIGNvbXBsZXhpdHk6IDUsXG4gICAgICAgICAgICB1c2FnZUNvdW50OiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZW5lcmF0ZWRDb2RlOiAnY29kZScsXG4gICAgICAgICAgY2FwYWJpbGl0aWVzOiBbXSxcbiAgICAgICAgICBpbnRlZ3JhdGlvblBvaW50czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICdzcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvSW50ZWxsaWdlbmNlRGFzaGJvYXJkLnRzeCcsXG4gICAgICAgICAgICAgIG1ldGhvZDogSW50ZWdyYXRpb25NZXRob2QuREVQRU5ERU5DWV9JTkpFQ1RJT04sXG4gICAgICAgICAgICAgIGNvZGU6ICdkYXNoYm9hcmQgaW50ZWdyYXRpb24gY29kZScsXG4gICAgICAgICAgICAgIHByaW9yaXR5OiBJbnRlZ3JhdGlvblByaW9yaXR5Lk1FRElVTVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgZXN0aW1hdGVkVmFsdWU6IDc1LFxuICAgICAgICAgIGNvbXBsZXhpdHk6IEdlbmVyYXRpb25Db21wbGV4aXR5Lk1PREVSQVRFXG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IGd1aWRlID0gZ2VuZXJhdG9yLmdlbmVyYXRlSW50ZWdyYXRpb25HdWlkZShtb2NrUmVzdWx0cyk7XG5cbiAgICAgIGV4cGVjdChndWlkZSkudG9Db250YWluKCcjIEVudGVycHJpc2UgSW50ZWxsaWdlbmNlIFN5c3RlbXMgSW50ZWdyYXRpb24gR3VpZGUnKTtcbiAgICAgIGV4cGVjdChndWlkZSkudG9Db250YWluKCdHZW5lcmF0ZWQgMSBpbnRlbGxpZ2VuY2Ugc3lzdGVtcycpO1xuICAgICAgZXhwZWN0KGd1aWRlKS50b0NvbnRhaW4oJ1RFU1RfU1lTVEVNX0lOVEVMTElHRU5DRV9TWVNURU0nKTtcbiAgICAgIGV4cGVjdChndWlkZSkudG9Db250YWluKCdJbnRlZ3JhdGlvbiBTdGVwcycpO1xuICAgICAgZXhwZWN0KGd1aWRlKS50b0NvbnRhaW4oJ0Rhc2hib2FyZCBJbnRlZ3JhdGlvbicpO1xuICAgICAgZXhwZWN0KGd1aWRlKS50b0NvbnRhaW4oJ05leHQgU3RlcHMnKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=