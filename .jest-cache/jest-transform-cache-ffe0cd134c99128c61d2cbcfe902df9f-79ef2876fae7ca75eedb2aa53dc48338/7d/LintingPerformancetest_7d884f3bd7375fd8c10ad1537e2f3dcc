ba23447c36247f021014b0f71f13c0f8
"use strict";
/**
 * Linting Performance and Memory Usage Tests
 *
 * Tests the performance characteristics of the ESLint configuration,
 * including execution speed, memory usage, and caching effectiveness.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
// Mock dependencies for controlled testing
jest.mock('child_process');
jest.mock('fs');
const child_process_1 = require("child_process");
const fs_1 = require("fs");
const os_1 = require("os");
const path_1 = __importDefault(require("path"));
const perf_hooks_1 = require("perf_hooks");
const mockExecSync = child_process_1.execSync;
const _mockWriteFileSync = fs_1.writeFileSync;
const mockReadFileSync = fs_1.readFileSync;
const mockExistsSync = fs_1.existsSync;
const _mockMkdirSync = fs_1.mkdirSync;
const _mockRmSync = fs_1.rmSync;
describe('Linting Performance and Memory Usage', () => {
    const _testDir = path_1.default.join((0, os_1.tmpdir)(), 'eslint-performance-test');
    beforeEach(() => {
        jest.clearAllMocks();
        mockExistsSync.mockReturnValue(true);
    });
    describe('Execution Speed Tests', () => {
        test('should complete linting within performance targets', async () => {
            // Mock a medium-sized codebase response
            const mockLintOutput = JSON.stringify(Array.from({ length: 50 }, (_, i) => ({
                filePath: `/test/file${i}.ts`,
                messages: Array.from({ length: 3 }, (_, j) => ({
                    ruleId: 'no-unused-vars',
                    severity: 1,
                    message: 'Variable is unused',
                    line: j + 1,
                    column: 10,
                })),
            })));
            // Simulate execution time
            const _executionTime = 8000; // 8 seconds
            mockExecSync.mockImplementation(() => {
                // Simulate processing time
                const start = Date.now();
                while (Date.now() - start < 100) {
                    // Simulate work
                }
                return mockLintOutput;
            });
            const startTime = perf_hooks_1.performance.now();
            const result = mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const endTime = perf_hooks_1.performance.now();
            const actualExecutionTime = endTime - startTime;
            // Should complete within reasonable time (allowing for test overhead);
            expect(actualExecutionTime).toBeLessThan(5000); // 5 seconds max for test
            // Verify output structure
            const parsedResult = JSON.parse(result);
            expect(parsedResult).toHaveLength(50);
            expect(parsedResult[0].messages).toHaveLength(3);
        });
        test('should show performance improvement with caching', async () => {
            const mockLintOutput = JSON.stringify([{ filePath: '/test/file.ts', messages: [] }]);
            // First run - no cache
            mockExistsSync.mockReturnValueOnce(false); // No cache exists
            mockExecSync.mockReturnValueOnce(mockLintOutput);
            const firstRunStart = perf_hooks_1.performance.now();
            mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const _firstRunTime = perf_hooks_1.performance.now() - firstRunStart;
            // Second run - with cache
            mockExistsSync.mockReturnValueOnce(true); // Cache exists
            mockExecSync.mockReturnValueOnce(mockLintOutput);
            const secondRunStart = perf_hooks_1.performance.now();
            mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const _secondRunTime = perf_hooks_1.performance.now() - secondRunStart;
            // Cache should improve performance (in real scenario);
            expect(mockExecSync).toHaveBeenCalledTimes(2);
        });
        test('should handle incremental linting efficiently', async () => {
            // Mock git diff output for changed files
            const changedFiles = ['src/calculations/planetary.ts', 'src/components/AstrologicalChart.tsx'];
            const gitDiffOutput = changedFiles.join('\n');
            const mockLintOutput = JSON.stringify(changedFiles.map(file => ({
                filePath: file,
                messages: [{ ruleId: 'no-unused-vars', severity: 1, message: 'Unused variable' }],
            })));
            mockExecSync
                .mockReturnValueOnce(gitDiffOutput) // git diff
                .mockReturnValueOnce(mockLintOutput); // lint changed files
            // Simulate incremental linting
            const changedFilesResult = mockExecSync('git diff --name-only HEAD~1', { encoding: 'utf8' });
            const lintResult = mockExecSync(`yarn lint ${changedFiles.join(' ')} --format=json`, { encoding: 'utf8' });
            expect(changedFilesResult).toBe(gitDiffOutput);
            expect(JSON.parse(lintResult)).toHaveLength(2);
        });
        test('should optimize performance for large codebases', async () => {
            // Mock large codebase with many files
            const largeCodebaseOutput = JSON.stringify(Array.from({ length: 500 }, (_, i) => ({
                filePath: `/src/file${i}.ts`,
                messages: Array.from({ length: Math.floor(Math.random() * 5) }, (_, j) => ({
                    ruleId: 'prefer-const',
                    severity: 1,
                    message: 'Prefer const',
                    line: j + 1,
                })),
            })));
            mockExecSync.mockReturnValue(largeCodebaseOutput);
            const startTime = perf_hooks_1.performance.now();
            const result = mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const executionTime = perf_hooks_1.performance.now() - startTime;
            // Should handle large codebase efficiently
            expect(executionTime).toBeLessThan(10000); // 10 seconds max
            const parsedResult = JSON.parse(result);
            expect(parsedResult).toHaveLength(500);
        });
        test('should measure parallel processing performance', async () => {
            const mockParallelOutput = JSON.stringify([
                { filePath: '/test/batch1.ts', messages: [] },
                { filePath: '/test/batch2.ts', messages: [] },
                { filePath: '/test/batch3.ts', messages: [] },
            ]);
            // Simulate parallel processing
            mockExecSync.mockReturnValue(mockParallelOutput);
            const startTime = perf_hooks_1.performance.now();
            const result = mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const parallelTime = perf_hooks_1.performance.now() - startTime;
            // Parallel processing should be efficient
            expect(parallelTime).toBeLessThan(3000); // 3 seconds max
            expect(JSON.parse(String(result))).toHaveLength(3);
        });
    });
    describe('Memory Usage Tests', () => {
        test('should monitor memory usage during linting', async () => {
            const mockLintOutput = JSON.stringify([{ filePath: '/test/file.ts', messages: [] }]);
            // Mock memory usage monitoring
            const initialMemory = process.memoryUsage();
            mockExecSync.mockReturnValue(mockLintOutput);
            // Simulate linting execution
            mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const finalMemory = process.memoryUsage();
            // Memory usage should be reasonable
            const memoryIncrease = finalMemory.heapUsed - initialMemory.heapUsed;
            expect(memoryIncrease).toBeLessThan(100 * 1024 * 1024); // Less than 100MB increase
        });
        test('should handle memory-intensive astrological calculations', async () => {
            const astrologicalLintOutput = JSON.stringify([
                {
                    filePath: '/src/calculations/planetary.ts',
                    messages: [{ ruleId: 'astrological/validate-planetary-position-structure', severity: 1 }],
                },
            ]);
            mockExecSync.mockReturnValue(astrologicalLintOutput);
            // Monitor memory during astrological rule processing
            const memoryBefore = process.memoryUsage();
            mockExecSync('yarn lint src/calculations/ --format=json', { encoding: 'utf8' });
            const memoryAfter = process.memoryUsage();
            // Should not cause excessive memory usage
            const memoryDiff = memoryAfter.heapUsed - memoryBefore.heapUsed;
            expect(memoryDiff).toBeLessThan(50 * 1024 * 1024); // Less than 50MB
        });
        test('should optimize TypeScript parser memory usage', async () => {
            const typescriptLintOutput = JSON.stringify([
                {
                    filePath: '/src/complex.ts',
                    messages: [{ ruleId: '@typescript-eslint/no-explicit-any', severity: 2 }],
                },
            ]);
            mockExecSync.mockReturnValue(typescriptLintOutput);
            // Test TypeScript parser memory efficiency
            const result = mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            expect(JSON.parse(String(result))).toHaveLength(1);
            // Memory usage is monitored by the test framework
        });
        test('should manage cache memory efficiently', async () => {
            const cacheDir = '.eslint-ts-cache';
            const mockCacheData = JSON.stringify({
                version: '1.0.0',
                files: {
                    '/test/file.ts': { hash: 'abc123', results: [] },
                },
            });
            mockExistsSync.mockReturnValue(true);
            mockReadFileSync.mockReturnValue(mockCacheData);
            // Simulate cache usage
            const cacheContent = mockReadFileSync(path_1.default.join(cacheDir, 'cache.json'), 'utf8');
            const cacheData = JSON.parse(cacheContent);
            expect(cacheData.files).toBeDefined();
            expect(Object.keys(cacheData.files)).toHaveLength(1);
        });
    });
    describe('Caching Performance Tests', () => {
        test('should validate cache hit rates', async () => {
            const cacheMetrics = {
                totalFiles: 100,
                cacheHits: 85,
                cacheMisses: 15,
                cacheHitRate: 0.85,
            };
            // Mock cache performance data
            mockReadFileSync.mockReturnValue(JSON.stringify(cacheMetrics));
            mockExistsSync.mockReturnValue(true);
            const metricsData = JSON.parse(mockReadFileSync('.eslint-cache-metrics.json', 'utf8'));
            expect(metricsData.cacheHitRate).toBeGreaterThan(0.8); // 80% hit rate target
            expect(metricsData.cacheHits).toBeGreaterThan(metricsData.cacheMisses);
        });
        test('should measure cache invalidation performance', async () => {
            const mockLintOutput = JSON.stringify([{ filePath: '/test/file.ts', messages: [] }]);
            // Simulate cache invalidation
            mockExistsSync
                .mockReturnValueOnce(true) // Cache exists
                .mockReturnValueOnce(false); // Cache invalidated
            mockExecSync.mockReturnValue(mockLintOutput);
            // First run with cache
            mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            // Second run after invalidation
            mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            expect(mockExecSync).toHaveBeenCalledTimes(2);
        });
        test('should optimize cache storage size', async () => {
            const largeCacheData = {
                version: '1.0.0',
                files: Object.fromEntries(Array.from({ length: 1000 }, (_, i) => [`/test/file${i}.ts`, { hash: `hash${i}`, results: [] }])),
            };
            mockReadFileSync.mockReturnValue(JSON.stringify(largeCacheData));
            mockExistsSync.mockReturnValue(true);
            const cacheContent = mockReadFileSync('.eslint-cache.json', 'utf8');
            const cacheSize = Buffer.byteLength(String(cacheContent), 'utf8');
            // Cache should be reasonably sized (less than 10MB);
            expect(cacheSize).toBeLessThan(10 * 1024 * 1024);
        });
        test('should handle cache corruption gracefully', async () => {
            const corruptedCache = 'invalid json content';
            const mockLintOutput = JSON.stringify([{ filePath: '/test/file.ts', messages: [] }]);
            mockExistsSync.mockReturnValue(true);
            mockReadFileSync.mockReturnValue(corruptedCache);
            mockExecSync.mockReturnValue(mockLintOutput);
            // Should handle corrupted cache without failing
            expect(() => {
                try {
                    JSON.parse(String(mockReadFileSync('.eslint-cache.json', 'utf8')));
                }
                catch (error) {
                    // Simulate graceful handling
                    return mockExecSync('yarn lint --no-cache --format=json', { encoding: 'utf8' });
                }
            }).not.toThrow();
        });
    });
    describe('Resource Optimization Tests', () => {
        test('should optimize CPU usage during linting', async () => {
            const mockLintOutput = JSON.stringify([{ filePath: '/test/file.ts', messages: [] }]);
            mockExecSync.mockReturnValue(mockLintOutput);
            // Simulate CPU monitoring
            const cpuUsageBefore = process.cpuUsage();
            mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const cpuUsageAfter = process.cpuUsage(cpuUsageBefore);
            // CPU usage should be reasonable (values in microseconds);
            expect(cpuUsageAfter.user).toBeLessThan(5000000); // 5 seconds
            expect(cpuUsageAfter.system).toBeLessThan(2000000); // 2 seconds
        });
        test('should handle concurrent linting processes', async () => {
            const mockOutputs = [
                JSON.stringify([{ filePath: '/test/file1.ts', messages: [] }]),
                JSON.stringify([{ filePath: '/test/file2.ts', messages: [] }]),
                JSON.stringify([{ filePath: '/test/file3.ts', messages: [] }]),
            ];
            mockExecSync
                .mockReturnValueOnce(mockOutputs[0])
                .mockReturnValueOnce(mockOutputs[1])
                .mockReturnValueOnce(mockOutputs[2]);
            // Simulate concurrent processes
            const promises = [
                Promise.resolve(mockExecSync('yarn lint file1.ts --format=json', { encoding: 'utf8' })),
                Promise.resolve(mockExecSync('yarn lint file2.ts --format=json', { encoding: 'utf8' })),
                Promise.resolve(mockExecSync('yarn lint file3.ts --format=json', { encoding: 'utf8' })),
            ];
            const results = await Promise.all(promises);
            expect(results).toHaveLength(3);
            results.forEach((result, index) => {
                expect(JSON.parse(result)[0].filePath).toContain(`file${index + 1}.ts`);
            });
        });
        test('should optimize import resolution performance', async () => {
            const importResolutionOutput = JSON.stringify([
                {
                    filePath: '/test/imports.ts',
                    messages: [{ ruleId: 'import/no-unresolved', severity: 1, message: 'Unable to resolve path' }],
                },
            ]);
            mockExecSync.mockReturnValue(importResolutionOutput);
            const startTime = perf_hooks_1.performance.now();
            const result = mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const resolutionTime = perf_hooks_1.performance.now() - startTime;
            // Import resolution should be fast
            expect(resolutionTime).toBeLessThan(2000); // 2 seconds
            expect(JSON.parse(String(result))).toHaveLength(1);
        });
        test('should measure rule execution performance', async () => {
            const rulePerformanceData = {
                rules: {
                    '@typescript-eslint/no-unused-vars': { executionTime: 150, fileCount: 50 },
                    'import/order': { executionTime: 200, fileCount: 50 },
                    'astrological/preserve-planetary-constants': { executionTime: 50, fileCount: 10 },
                    'react-hooks/exhaustive-deps': { executionTime: 100, fileCount: 25 },
                },
            };
            mockReadFileSync.mockReturnValue(JSON.stringify(rulePerformanceData));
            mockExistsSync.mockReturnValue(true);
            const perfData = JSON.parse(mockReadFileSync('.eslint-rule-performance.json', 'utf8'));
            // Each rule should execute efficiently
            Object.entries(perfData.rules).forEach(([_ruleName, data]) => {
                const avgTimePerFile = data.executionTime / data.fileCount;
                expect(avgTimePerFile).toBeLessThan(10); // Less than 10ms per file per rule
            });
        });
    });
    describe('Scalability Tests', () => {
        test('should scale with increasing file count', async () => {
            const fileCounts = [10, 50, 100, 500];
            const executionTimes = [];
            fileCounts.forEach(count => {
                const mockOutput = JSON.stringify(Array.from({ length: count }, (_, i) => ({
                    filePath: `/test/file${i}.ts`,
                    messages: [],
                })));
                mockExecSync.mockReturnValueOnce(mockOutput);
                const startTime = perf_hooks_1.performance.now();
                mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
                const executionTime = perf_hooks_1.performance.now() - startTime;
                executionTimes.push(executionTime);
            });
            // Execution time should scale reasonably (not exponentially);
            expect(executionTimes[1]).toBeLessThan(executionTimes[0] * 10); // 50 files shouldn't take 10x longer than 10 files
            expect(executionTimes[2]).toBeLessThan(executionTimes[1] * 5); // 100 files shouldn't take 5x longer than 50 files
        });
        test('should handle memory pressure gracefully', async () => {
            // Simulate memory pressure scenario
            const memoryIntensiveOutput = JSON.stringify(Array.from({ length: 1000 }, (_, i) => ({
                filePath: `/test/large-file${i}.ts`,
                messages: Array.from({ length: 20 }, (_, j) => ({
                    ruleId: 'complex-rule',
                    severity: 1,
                    message: `Complex message ${j}`,
                    line: j + 1,
                    column: 10,
                    source: 'a'.repeat(1000), // Large source content
                })),
            })));
            mockExecSync.mockReturnValue(memoryIntensiveOutput);
            // Should handle large output without memory issues
            const result = mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const parsedResult = JSON.parse(result);
            expect(parsedResult).toHaveLength(1000);
            expect(parsedResult[0].messages).toHaveLength(20);
        });
        test('should optimize for CI/CD environments', async () => {
            const ciOptimizedOutput = JSON.stringify([{ filePath: '/test/file.ts', messages: [] }]);
            // Simulate CI environment variables
            const originalCI = process.env.CI;
            const originalNodeEnv = process.env.NODE_ENV;
            // Use Object.defineProperty to override read-only properties
            Object.defineProperty(process.env, 'CI', { value: 'true', configurable: true });
            Object.defineProperty(process.env, 'NODE_ENV', { value: 'production', configurable: true });
            mockExecSync.mockReturnValue(ciOptimizedOutput);
            const startTime = perf_hooks_1.performance.now();
            const result = mockExecSync('yarn lint --format=json', { encoding: 'utf8' });
            const ciExecutionTime = perf_hooks_1.performance.now() - startTime;
            // CI execution should be optimized
            expect(ciExecutionTime).toBeLessThan(5000); // 5 seconds max
            expect(JSON.parse(String(result))).toHaveLength(1);
            // Restore original environment
            if (originalCI !== undefined) {
                Object.defineProperty(process.env, 'CI', { value: originalCI, configurable: true });
            }
            else {
                Object.defineProperty(process.env, 'CI', { value: undefined, configurable: true });
            }
            if (originalNodeEnv !== undefined) {
                Object.defineProperty(process.env, 'NODE_ENV', { value: originalNodeEnv, configurable: true });
            }
            else {
                Object.defineProperty(process.env, 'NODE_ENV', { value: undefined, configurable: true });
            }
        });
    });
    describe('Performance Regression Detection', () => {
        test('should detect performance regressions', async () => {
            const baselineMetrics = {
                executionTime: 5000,
                memoryUsage: 128 * 1024 * 1024,
                cacheHitRate: 0.85,
                filesProcessed: 100,
            };
            const currentMetrics = {
                executionTime: 7500,
                memoryUsage: 192 * 1024 * 1024,
                cacheHitRate: 0.75,
                filesProcessed: 100,
            };
            mockReadFileSync
                .mockReturnValueOnce(JSON.stringify(baselineMetrics))
                .mockReturnValueOnce(JSON.stringify(currentMetrics));
            const baseline = JSON.parse(String(mockReadFileSync('baseline-metrics.json', 'utf8')));
            const current = JSON.parse(String(mockReadFileSync('current-metrics.json', 'utf8')));
            // Detect regressions
            const executionRegression = (current.executionTime - baseline.executionTime) / baseline.executionTime;
            const memoryRegression = (current.memoryUsage - baseline.memoryUsage) / baseline.memoryUsage;
            const cacheRegression = (baseline.cacheHitRate - current.cacheHitRate) / baseline.cacheHitRate;
            expect(executionRegression).toBeGreaterThan(0.2); // 20% regression threshold
            expect(memoryRegression).toBeGreaterThan(0.2); // 20% regression threshold
            expect(cacheRegression).toBeGreaterThan(0.05); // 5% regression threshold
        });
        test('should track performance trends over time', async () => {
            const performanceHistory = [
                { date: '2024-01-01', executionTime: 5000, memoryUsage: 128 * 1024 * 1024 },
                { date: '2024-01-02', executionTime: 5100, memoryUsage: 130 * 1024 * 1024 },
                { date: '2024-01-03', executionTime: 5200, memoryUsage: 132 * 1024 * 1024 },
                { date: '2024-01-04', executionTime: 5300, memoryUsage: 134 * 1024 * 1024 },
            ];
            mockReadFileSync.mockReturnValue(JSON.stringify(performanceHistory));
            const history = JSON.parse(mockReadFileSync('performance-history.json', 'utf8'));
            // Calculate trend
            const executionTrend = history[history.length - 1].executionTime - history[0].executionTime;
            const memoryTrend = history[history.length - 1].memoryUsage - history[0].memoryUsage;
            expect(executionTrend).toBeLessThan(1000); // Less than 1 second increase over time
            expect(memoryTrend).toBeLessThan(10 * 1024 * 1024); // Less than 10MB increase over time
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvZmlyc3Qtd2F2ZS0yMDI1LTA4LTExVDA1LTE5LTI2LTgxM1ovc3JjL19fdGVzdHNfXy9saW50aW5nL0xpbnRpbmdQZXJmb3JtYW5jZS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7R0FLRzs7Ozs7QUFRSCwyQ0FBMkM7QUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBUmhCLGlEQUF5QztBQUN6QywyQkFBZ0Y7QUFDaEYsMkJBQTRCO0FBQzVCLGdEQUF3QjtBQUN4QiwyQ0FBeUM7QUFNekMsTUFBTSxZQUFZLEdBQUcsd0JBQWdELENBQUM7QUFDdEUsTUFBTSxrQkFBa0IsR0FBRyxrQkFBMEQsQ0FBQztBQUN0RixNQUFNLGdCQUFnQixHQUFHLGlCQUF3RCxDQUFDO0FBQ2xGLE1BQU0sY0FBYyxHQUFHLGVBQW9ELENBQUM7QUFDNUUsTUFBTSxjQUFjLEdBQUcsY0FBa0QsQ0FBQztBQUMxRSxNQUFNLFdBQVcsR0FBRyxXQUE0QyxDQUFDO0FBRWpFLFFBQVEsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7SUFDcEQsTUFBTSxRQUFRLEdBQUcsY0FBSSxDQUFDLElBQUksQ0FBQyxJQUFBLFdBQU0sR0FBRSxFQUFFLHlCQUF5QixDQUFDLENBQUM7SUFFaEUsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNyQixjQUFjLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRTtRQUNyQyxJQUFJLENBQUMsb0RBQW9ELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDcEUsd0NBQXdDO1lBQ3hDLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQ25D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QUFZLENBQUMsRUFBRSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLG9DQUFvQztRQUMxRixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvZmlyc3Qtd2F2ZS0yMDI1LTA4LTExVDA1LTE5LTI2LTgxM1ovc3JjL19fdGVzdHNfXy9saW50aW5nL0xpbnRpbmdQZXJmb3JtYW5jZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGludGluZyBQZXJmb3JtYW5jZSBhbmQgTWVtb3J5IFVzYWdlIFRlc3RzXG4gKlxuICogVGVzdHMgdGhlIHBlcmZvcm1hbmNlIGNoYXJhY3RlcmlzdGljcyBvZiB0aGUgRVNMaW50IGNvbmZpZ3VyYXRpb24sXG4gKiBpbmNsdWRpbmcgZXhlY3V0aW9uIHNwZWVkLCBtZW1vcnkgdXNhZ2UsIGFuZCBjYWNoaW5nIGVmZmVjdGl2ZW5lc3MuXG4gKi9cblxuaW1wb3J0IHsgZXhlY1N5bmMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IGV4aXN0c1N5bmMsIG1rZGlyU3luYywgcmVhZEZpbGVTeW5jLCBybVN5bmMsIHdyaXRlRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyB0bXBkaXIgfSBmcm9tICdvcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IHBlcmZvcm1hbmNlIH0gZnJvbSAncGVyZl9ob29rcyc7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzIGZvciBjb250cm9sbGVkIHRlc3Rpbmdcbmplc3QubW9jaygnY2hpbGRfcHJvY2VzcycpO1xuamVzdC5tb2NrKCdmcycpO1xuXG5jb25zdCBtb2NrRXhlY1N5bmMgPSBleGVjU3luYyBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBleGVjU3luYz47XG5jb25zdCBfbW9ja1dyaXRlRmlsZVN5bmMgPSB3cml0ZUZpbGVTeW5jIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHdyaXRlRmlsZVN5bmM+O1xuY29uc3QgbW9ja1JlYWRGaWxlU3luYyA9IHJlYWRGaWxlU3luYyBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiByZWFkRmlsZVN5bmM+O1xuY29uc3QgbW9ja0V4aXN0c1N5bmMgPSBleGlzdHNTeW5jIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGV4aXN0c1N5bmM+O1xuY29uc3QgX21vY2tNa2RpclN5bmMgPSBta2RpclN5bmMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgbWtkaXJTeW5jPjtcbmNvbnN0IF9tb2NrUm1TeW5jID0gcm1TeW5jIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHJtU3luYz47XG5cbmRlc2NyaWJlKCdMaW50aW5nIFBlcmZvcm1hbmNlIGFuZCBNZW1vcnkgVXNhZ2UnLCAoKSA9PiB7XG4gIGNvbnN0IF90ZXN0RGlyID0gcGF0aC5qb2luKHRtcGRpcigpLCAnZXNsaW50LXBlcmZvcm1hbmNlLXRlc3QnKTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBtb2NrRXhpc3RzU3luYy5tb2NrUmV0dXJuVmFsdWUodHJ1ZSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFeGVjdXRpb24gU3BlZWQgVGVzdHMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNvbXBsZXRlIGxpbnRpbmcgd2l0aGluIHBlcmZvcm1hbmNlIHRhcmdldHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGEgbWVkaXVtLXNpemVkIGNvZGViYXNlIHJlc3BvbnNlXG4gICAgICBjb25zdCBtb2NrTGludE91dHB1dCA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1MCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgICBmaWxlUGF0aDogYC90ZXN0L2ZpbGUke2l9LnRzYCxcbiAgICAgICAgICBtZXNzYWdlczogQXJyYXkuZnJvbSh7IGxlbmd0aDogMyB9LCAoXywgaikgPT4gKHtcbiAgICAgICAgICAgIHJ1bGVJZDogJ25vLXVudXNlZC12YXJzJyxcbiAgICAgICAgICAgIHNldmVyaXR5OiAxLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1ZhcmlhYmxlIGlzIHVudXNlZCcsXG4gICAgICAgICAgICBsaW5lOiBqICsgMSxcbiAgICAgICAgICAgIGNvbHVtbjogMTAsXG4gICAgICAgICAgfSkpLFxuICAgICAgICB9KSksXG4gICAgICApO1xuXG4gICAgICAvLyBTaW11bGF0ZSBleGVjdXRpb24gdGltZVxuICAgICAgY29uc3QgX2V4ZWN1dGlvblRpbWUgPSA4MDAwOyAvLyA4IHNlY29uZHNcbiAgICAgIG1vY2tFeGVjU3luYy5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICAvLyBTaW11bGF0ZSBwcm9jZXNzaW5nIHRpbWVcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICB3aGlsZSAoRGF0ZS5ub3coKSAtIHN0YXJ0IDwgMTAwKSB7XG4gICAgICAgICAgLy8gU2ltdWxhdGUgd29ya1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2NrTGludE91dHB1dDtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tFeGVjU3luYygneWFybiBsaW50IC0tZm9ybWF0PWpzb24nLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgIGNvbnN0IGFjdHVhbEV4ZWN1dGlvblRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIHJlYXNvbmFibGUgdGltZSAoYWxsb3dpbmcgZm9yIHRlc3Qgb3ZlcmhlYWQpO1xuICAgICAgZXhwZWN0KGFjdHVhbEV4ZWN1dGlvblRpbWUpLnRvQmVMZXNzVGhhbig1MDAwKTsgLy8gNSBzZWNvbmRzIG1heCBmb3IgdGVzdFxuXG4gICAgICAvLyBWZXJpZnkgb3V0cHV0IHN0cnVjdHVyZVxuICAgICAgY29uc3QgcGFyc2VkUmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQgYXMgdW5rbm93biBhcyBzdHJpbmcpO1xuICAgICAgZXhwZWN0KHBhcnNlZFJlc3VsdCkudG9IYXZlTGVuZ3RoKDUwKTtcbiAgICAgIGV4cGVjdChwYXJzZWRSZXN1bHRbMF0ubWVzc2FnZXMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBzaG93IHBlcmZvcm1hbmNlIGltcHJvdmVtZW50IHdpdGggY2FjaGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMaW50T3V0cHV0ID0gSlNPTi5zdHJpbmdpZnkoW3sgZmlsZVBhdGg6ICcvdGVzdC9maWxlLnRzJywgbWVzc2FnZXM6IFtdIH1dKTtcblxuICAgICAgLy8gRmlyc3QgcnVuIC0gbm8gY2FjaGVcbiAgICAgIG1vY2tFeGlzdHNTeW5jLm1vY2tSZXR1cm5WYWx1ZU9uY2UoZmFsc2UpOyAvLyBObyBjYWNoZSBleGlzdHNcbiAgICAgIG1vY2tFeGVjU3luYy5tb2NrUmV0dXJuVmFsdWVPbmNlKG1vY2tMaW50T3V0cHV0KTtcblxuICAgICAgY29uc3QgZmlyc3RSdW5TdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgbW9ja0V4ZWNTeW5jKCd5YXJuIGxpbnQgLS1mb3JtYXQ9anNvbicsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICAgIGNvbnN0IF9maXJzdFJ1blRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGZpcnN0UnVuU3RhcnQ7XG5cbiAgICAgIC8vIFNlY29uZCBydW4gLSB3aXRoIGNhY2hlXG4gICAgICBtb2NrRXhpc3RzU3luYy5tb2NrUmV0dXJuVmFsdWVPbmNlKHRydWUpOyAvLyBDYWNoZSBleGlzdHNcbiAgICAgIG1vY2tFeGVjU3luYy5tb2NrUmV0dXJuVmFsdWVPbmNlKG1vY2tMaW50T3V0cHV0KTtcblxuICAgICAgY29uc3Qgc2Vjb25kUnVuU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIG1vY2tFeGVjU3luYygneWFybiBsaW50IC0tZm9ybWF0PWpzb24nLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICBjb25zdCBfc2Vjb25kUnVuVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc2Vjb25kUnVuU3RhcnQ7XG5cbiAgICAgIC8vIENhY2hlIHNob3VsZCBpbXByb3ZlIHBlcmZvcm1hbmNlIChpbiByZWFsIHNjZW5hcmlvKTtcbiAgICAgIGV4cGVjdChtb2NrRXhlY1N5bmMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgaW5jcmVtZW50YWwgbGludGluZyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgZ2l0IGRpZmYgb3V0cHV0IGZvciBjaGFuZ2VkIGZpbGVzXG4gICAgICBjb25zdCBjaGFuZ2VkRmlsZXMgPSBbJ3NyYy9jYWxjdWxhdGlvbnMvcGxhbmV0YXJ5LnRzJywgJ3NyYy9jb21wb25lbnRzL0FzdHJvbG9naWNhbENoYXJ0LnRzeCddO1xuXG4gICAgICBjb25zdCBnaXREaWZmT3V0cHV0ID0gY2hhbmdlZEZpbGVzLmpvaW4oJ1xcbicpO1xuICAgICAgY29uc3QgbW9ja0xpbnRPdXRwdXQgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgY2hhbmdlZEZpbGVzLm1hcChmaWxlID0+ICh7XG4gICAgICAgICAgZmlsZVBhdGg6IGZpbGUsXG4gICAgICAgICAgbWVzc2FnZXM6IFt7IHJ1bGVJZDogJ25vLXVudXNlZC12YXJzJywgc2V2ZXJpdHk6IDEsIG1lc3NhZ2U6ICdVbnVzZWQgdmFyaWFibGUnIH1dLFxuICAgICAgICB9KSksXG4gICAgICApO1xuXG4gICAgICBtb2NrRXhlY1N5bmNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoZ2l0RGlmZk91dHB1dCkgLy8gZ2l0IGRpZmZcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UobW9ja0xpbnRPdXRwdXQpOyAvLyBsaW50IGNoYW5nZWQgZmlsZXNcblxuICAgICAgLy8gU2ltdWxhdGUgaW5jcmVtZW50YWwgbGludGluZ1xuICAgICAgY29uc3QgY2hhbmdlZEZpbGVzUmVzdWx0ID0gbW9ja0V4ZWNTeW5jKCdnaXQgZGlmZiAtLW5hbWUtb25seSBIRUFEfjEnLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICBjb25zdCBsaW50UmVzdWx0ID0gbW9ja0V4ZWNTeW5jKGB5YXJuIGxpbnQgJHtjaGFuZ2VkRmlsZXMuam9pbignICcpfSAtLWZvcm1hdD1qc29uYCwgeyBlbmNvZGluZzogJ3V0ZjgnIH0pO1xuXG4gICAgICBleHBlY3QoY2hhbmdlZEZpbGVzUmVzdWx0KS50b0JlKGdpdERpZmZPdXRwdXQpO1xuICAgICAgZXhwZWN0KEpTT04ucGFyc2UobGludFJlc3VsdCkpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBvcHRpbWl6ZSBwZXJmb3JtYW5jZSBmb3IgbGFyZ2UgY29kZWJhc2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBsYXJnZSBjb2RlYmFzZSB3aXRoIG1hbnkgZmlsZXNcbiAgICAgIGNvbnN0IGxhcmdlQ29kZWJhc2VPdXRwdXQgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogNTAwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICAgIGZpbGVQYXRoOiBgL3NyYy9maWxlJHtpfS50c2AsXG4gICAgICAgICAgbWVzc2FnZXM6IEFycmF5LmZyb20oeyBsZW5ndGg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpIH0sIChfLCBqKSA9PiAoe1xuICAgICAgICAgICAgcnVsZUlkOiAncHJlZmVyLWNvbnN0JyxcbiAgICAgICAgICAgIHNldmVyaXR5OiAxLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1ByZWZlciBjb25zdCcsXG4gICAgICAgICAgICBsaW5lOiBqICsgMSxcbiAgICAgICAgICB9KSksXG4gICAgICAgIH0pKSxcbiAgICAgICk7XG5cbiAgICAgIG1vY2tFeGVjU3luYy5tb2NrUmV0dXJuVmFsdWUobGFyZ2VDb2RlYmFzZU91dHB1dCk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0V4ZWNTeW5jKCd5YXJuIGxpbnQgLS1mb3JtYXQ9anNvbicsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBsYXJnZSBjb2RlYmFzZSBlZmZpY2llbnRseVxuICAgICAgZXhwZWN0KGV4ZWN1dGlvblRpbWUpLnRvQmVMZXNzVGhhbigxMDAwMCk7IC8vIDEwIHNlY29uZHMgbWF4XG5cbiAgICAgIGNvbnN0IHBhcnNlZFJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0IGFzIHVua25vd24gYXMgc3RyaW5nKTtcbiAgICAgIGV4cGVjdChwYXJzZWRSZXN1bHQpLnRvSGF2ZUxlbmd0aCg1MDApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG1lYXN1cmUgcGFyYWxsZWwgcHJvY2Vzc2luZyBwZXJmb3JtYW5jZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tQYXJhbGxlbE91dHB1dCA9IEpTT04uc3RyaW5naWZ5KFtcbiAgICAgICAgeyBmaWxlUGF0aDogJy90ZXN0L2JhdGNoMS50cycsIG1lc3NhZ2VzOiBbXSB9LFxuICAgICAgICB7IGZpbGVQYXRoOiAnL3Rlc3QvYmF0Y2gyLnRzJywgbWVzc2FnZXM6IFtdIH0sXG4gICAgICAgIHsgZmlsZVBhdGg6ICcvdGVzdC9iYXRjaDMudHMnLCBtZXNzYWdlczogW10gfSxcbiAgICAgIF0pO1xuXG4gICAgICAvLyBTaW11bGF0ZSBwYXJhbGxlbCBwcm9jZXNzaW5nXG4gICAgICBtb2NrRXhlY1N5bmMubW9ja1JldHVyblZhbHVlKG1vY2tQYXJhbGxlbE91dHB1dCk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0V4ZWNTeW5jKCd5YXJuIGxpbnQgLS1mb3JtYXQ9anNvbicsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICAgIGNvbnN0IHBhcmFsbGVsVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyBQYXJhbGxlbCBwcm9jZXNzaW5nIHNob3VsZCBiZSBlZmZpY2llbnRcbiAgICAgIGV4cGVjdChwYXJhbGxlbFRpbWUpLnRvQmVMZXNzVGhhbigzMDAwKTsgLy8gMyBzZWNvbmRzIG1heFxuICAgICAgZXhwZWN0KEpTT04ucGFyc2UoU3RyaW5nKHJlc3VsdCkpKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZW1vcnkgVXNhZ2UgVGVzdHMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIG1vbml0b3IgbWVtb3J5IHVzYWdlIGR1cmluZyBsaW50aW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0xpbnRPdXRwdXQgPSBKU09OLnN0cmluZ2lmeShbeyBmaWxlUGF0aDogJy90ZXN0L2ZpbGUudHMnLCBtZXNzYWdlczogW10gfV0pO1xuXG4gICAgICAvLyBNb2NrIG1lbW9yeSB1c2FnZSBtb25pdG9yaW5nXG4gICAgICBjb25zdCBpbml0aWFsTWVtb3J5ID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpO1xuICAgICAgbW9ja0V4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZShtb2NrTGludE91dHB1dCk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIGxpbnRpbmcgZXhlY3V0aW9uXG4gICAgICBtb2NrRXhlY1N5bmMoJ3lhcm4gbGludCAtLWZvcm1hdD1qc29uJywgeyBlbmNvZGluZzogJ3V0ZjgnIH0pO1xuXG4gICAgICBjb25zdCBmaW5hbE1lbW9yeSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKTtcblxuICAgICAgLy8gTWVtb3J5IHVzYWdlIHNob3VsZCBiZSByZWFzb25hYmxlXG4gICAgICBjb25zdCBtZW1vcnlJbmNyZWFzZSA9IGZpbmFsTWVtb3J5LmhlYXBVc2VkIC0gaW5pdGlhbE1lbW9yeS5oZWFwVXNlZDtcbiAgICAgIGV4cGVjdChtZW1vcnlJbmNyZWFzZSkudG9CZUxlc3NUaGFuKDEwMCAqIDEwMjQgKiAxMDI0KTsgLy8gTGVzcyB0aGFuIDEwME1CIGluY3JlYXNlXG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG1lbW9yeS1pbnRlbnNpdmUgYXN0cm9sb2dpY2FsIGNhbGN1bGF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFzdHJvbG9naWNhbExpbnRPdXRwdXQgPSBKU09OLnN0cmluZ2lmeShbXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxlUGF0aDogJy9zcmMvY2FsY3VsYXRpb25zL3BsYW5ldGFyeS50cycsXG4gICAgICAgICAgbWVzc2FnZXM6IFt7IHJ1bGVJZDogJ2FzdHJvbG9naWNhbC92YWxpZGF0ZS1wbGFuZXRhcnktcG9zaXRpb24tc3RydWN0dXJlJywgc2V2ZXJpdHk6IDEgfV0sXG4gICAgICAgIH0sXG4gICAgICBdKTtcblxuICAgICAgbW9ja0V4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZShhc3Ryb2xvZ2ljYWxMaW50T3V0cHV0KTtcblxuICAgICAgLy8gTW9uaXRvciBtZW1vcnkgZHVyaW5nIGFzdHJvbG9naWNhbCBydWxlIHByb2Nlc3NpbmdcbiAgICAgIGNvbnN0IG1lbW9yeUJlZm9yZSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKTtcbiAgICAgIG1vY2tFeGVjU3luYygneWFybiBsaW50IHNyYy9jYWxjdWxhdGlvbnMvIC0tZm9ybWF0PWpzb24nLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICBjb25zdCBtZW1vcnlBZnRlciA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKTtcblxuICAgICAgLy8gU2hvdWxkIG5vdCBjYXVzZSBleGNlc3NpdmUgbWVtb3J5IHVzYWdlXG4gICAgICBjb25zdCBtZW1vcnlEaWZmID0gbWVtb3J5QWZ0ZXIuaGVhcFVzZWQgLSBtZW1vcnlCZWZvcmUuaGVhcFVzZWQ7XG4gICAgICBleHBlY3QobWVtb3J5RGlmZikudG9CZUxlc3NUaGFuKDUwICogMTAyNCAqIDEwMjQpOyAvLyBMZXNzIHRoYW4gNTBNQlxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG9wdGltaXplIFR5cGVTY3JpcHQgcGFyc2VyIG1lbW9yeSB1c2FnZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGVzY3JpcHRMaW50T3V0cHV0ID0gSlNPTi5zdHJpbmdpZnkoW1xuICAgICAgICB7XG4gICAgICAgICAgZmlsZVBhdGg6ICcvc3JjL2NvbXBsZXgudHMnLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbeyBydWxlSWQ6ICdAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55Jywgc2V2ZXJpdHk6IDIgfV0sXG4gICAgICAgIH0sXG4gICAgICBdKTtcblxuICAgICAgbW9ja0V4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZSh0eXBlc2NyaXB0TGludE91dHB1dCk7XG5cbiAgICAgIC8vIFRlc3QgVHlwZVNjcmlwdCBwYXJzZXIgbWVtb3J5IGVmZmljaWVuY3lcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tFeGVjU3luYygneWFybiBsaW50IC0tZm9ybWF0PWpzb24nLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICBleHBlY3QoSlNPTi5wYXJzZShTdHJpbmcocmVzdWx0KSkpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIC8vIE1lbW9yeSB1c2FnZSBpcyBtb25pdG9yZWQgYnkgdGhlIHRlc3QgZnJhbWV3b3JrXG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbWFuYWdlIGNhY2hlIG1lbW9yeSBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlRGlyID0gJy5lc2xpbnQtdHMtY2FjaGUnO1xuICAgICAgY29uc3QgbW9ja0NhY2hlRGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgICAgZmlsZXM6IHtcbiAgICAgICAgICAnL3Rlc3QvZmlsZS50cyc6IHsgaGFzaDogJ2FiYzEyMycsIHJlc3VsdHM6IFtdIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgbW9ja0V4aXN0c1N5bmMubW9ja1JldHVyblZhbHVlKHRydWUpO1xuICAgICAgbW9ja1JlYWRGaWxlU3luYy5tb2NrUmV0dXJuVmFsdWUobW9ja0NhY2hlRGF0YSk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIGNhY2hlIHVzYWdlXG4gICAgICBjb25zdCBjYWNoZUNvbnRlbnQgPSBtb2NrUmVhZEZpbGVTeW5jKHBhdGguam9pbihjYWNoZURpciwgJ2NhY2hlLmpzb24nKSwgJ3V0ZjgnKTtcbiAgICAgIGNvbnN0IGNhY2hlRGF0YSA9IEpTT04ucGFyc2UoY2FjaGVDb250ZW50KTtcblxuICAgICAgZXhwZWN0KGNhY2hlRGF0YS5maWxlcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChPYmplY3Qua2V5cyhjYWNoZURhdGEuZmlsZXMpKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDYWNoaW5nIFBlcmZvcm1hbmNlIFRlc3RzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCB2YWxpZGF0ZSBjYWNoZSBoaXQgcmF0ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjYWNoZU1ldHJpY3MgPSB7XG4gICAgICAgIHRvdGFsRmlsZXM6IDEwMCxcbiAgICAgICAgY2FjaGVIaXRzOiA4NSxcbiAgICAgICAgY2FjaGVNaXNzZXM6IDE1LFxuICAgICAgICBjYWNoZUhpdFJhdGU6IDAuODUsXG4gICAgICB9O1xuXG4gICAgICAvLyBNb2NrIGNhY2hlIHBlcmZvcm1hbmNlIGRhdGFcbiAgICAgIG1vY2tSZWFkRmlsZVN5bmMubW9ja1JldHVyblZhbHVlKEpTT04uc3RyaW5naWZ5KGNhY2hlTWV0cmljcykpO1xuICAgICAgbW9ja0V4aXN0c1N5bmMubW9ja1JldHVyblZhbHVlKHRydWUpO1xuXG4gICAgICBjb25zdCBtZXRyaWNzRGF0YSA9IEpTT04ucGFyc2UobW9ja1JlYWRGaWxlU3luYygnLmVzbGludC1jYWNoZS1tZXRyaWNzLmpzb24nLCAndXRmOCcpKTtcblxuICAgICAgZXhwZWN0KG1ldHJpY3NEYXRhLmNhY2hlSGl0UmF0ZSkudG9CZUdyZWF0ZXJUaGFuKDAuOCk7IC8vIDgwJSBoaXQgcmF0ZSB0YXJnZXRcbiAgICAgIGV4cGVjdChtZXRyaWNzRGF0YS5jYWNoZUhpdHMpLnRvQmVHcmVhdGVyVGhhbihtZXRyaWNzRGF0YS5jYWNoZU1pc3Nlcyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbWVhc3VyZSBjYWNoZSBpbnZhbGlkYXRpb24gcGVyZm9ybWFuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTGludE91dHB1dCA9IEpTT04uc3RyaW5naWZ5KFt7IGZpbGVQYXRoOiAnL3Rlc3QvZmlsZS50cycsIG1lc3NhZ2VzOiBbXSB9XSk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIGNhY2hlIGludmFsaWRhdGlvblxuICAgICAgbW9ja0V4aXN0c1N5bmNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UodHJ1ZSkgLy8gQ2FjaGUgZXhpc3RzXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKGZhbHNlKTsgLy8gQ2FjaGUgaW52YWxpZGF0ZWRcblxuICAgICAgbW9ja0V4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZShtb2NrTGludE91dHB1dCk7XG5cbiAgICAgIC8vIEZpcnN0IHJ1biB3aXRoIGNhY2hlXG4gICAgICBtb2NrRXhlY1N5bmMoJ3lhcm4gbGludCAtLWZvcm1hdD1qc29uJywgeyBlbmNvZGluZzogJ3V0ZjgnIH0pO1xuXG4gICAgICAvLyBTZWNvbmQgcnVuIGFmdGVyIGludmFsaWRhdGlvblxuICAgICAgbW9ja0V4ZWNTeW5jKCd5YXJuIGxpbnQgLS1mb3JtYXQ9anNvbicsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tFeGVjU3luYykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG9wdGltaXplIGNhY2hlIHN0b3JhZ2Ugc2l6ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlQ2FjaGVEYXRhID0ge1xuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICBmaWxlczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAgfSwgKF8sIGkpID0+IFtgL3Rlc3QvZmlsZSR7aX0udHNgLCB7IGhhc2g6IGBoYXNoJHtpfWAsIHJlc3VsdHM6IFtdIH1dKSxcbiAgICAgICAgKSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tSZWFkRmlsZVN5bmMubW9ja1JldHVyblZhbHVlKEpTT04uc3RyaW5naWZ5KGxhcmdlQ2FjaGVEYXRhKSk7XG4gICAgICBtb2NrRXhpc3RzU3luYy5tb2NrUmV0dXJuVmFsdWUodHJ1ZSk7XG5cbiAgICAgIGNvbnN0IGNhY2hlQ29udGVudCA9IG1vY2tSZWFkRmlsZVN5bmMoJy5lc2xpbnQtY2FjaGUuanNvbicsICd1dGY4Jyk7XG4gICAgICBjb25zdCBjYWNoZVNpemUgPSBCdWZmZXIuYnl0ZUxlbmd0aChTdHJpbmcoY2FjaGVDb250ZW50KSwgJ3V0ZjgnKTtcblxuICAgICAgLy8gQ2FjaGUgc2hvdWxkIGJlIHJlYXNvbmFibHkgc2l6ZWQgKGxlc3MgdGhhbiAxME1CKTtcbiAgICAgIGV4cGVjdChjYWNoZVNpemUpLnRvQmVMZXNzVGhhbigxMCAqIDEwMjQgKiAxMDI0KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgY2FjaGUgY29ycnVwdGlvbiBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29ycnVwdGVkQ2FjaGUgPSAnaW52YWxpZCBqc29uIGNvbnRlbnQnO1xuICAgICAgY29uc3QgbW9ja0xpbnRPdXRwdXQgPSBKU09OLnN0cmluZ2lmeShbeyBmaWxlUGF0aDogJy90ZXN0L2ZpbGUudHMnLCBtZXNzYWdlczogW10gfV0pO1xuXG4gICAgICBtb2NrRXhpc3RzU3luYy5tb2NrUmV0dXJuVmFsdWUodHJ1ZSk7XG4gICAgICBtb2NrUmVhZEZpbGVTeW5jLm1vY2tSZXR1cm5WYWx1ZShjb3JydXB0ZWRDYWNoZSk7XG4gICAgICBtb2NrRXhlY1N5bmMubW9ja1JldHVyblZhbHVlKG1vY2tMaW50T3V0cHV0KTtcblxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBjb3JydXB0ZWQgY2FjaGUgd2l0aG91dCBmYWlsaW5nXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIEpTT04ucGFyc2UoU3RyaW5nKG1vY2tSZWFkRmlsZVN5bmMoJy5lc2xpbnQtY2FjaGUuanNvbicsICd1dGY4JykpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBTaW11bGF0ZSBncmFjZWZ1bCBoYW5kbGluZ1xuICAgICAgICAgIHJldHVybiBtb2NrRXhlY1N5bmMoJ3lhcm4gbGludCAtLW5vLWNhY2hlIC0tZm9ybWF0PWpzb24nLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXNvdXJjZSBPcHRpbWl6YXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIG9wdGltaXplIENQVSB1c2FnZSBkdXJpbmcgbGludGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMaW50T3V0cHV0ID0gSlNPTi5zdHJpbmdpZnkoW3sgZmlsZVBhdGg6ICcvdGVzdC9maWxlLnRzJywgbWVzc2FnZXM6IFtdIH1dKTtcblxuICAgICAgbW9ja0V4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZShtb2NrTGludE91dHB1dCk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIENQVSBtb25pdG9yaW5nXG4gICAgICBjb25zdCBjcHVVc2FnZUJlZm9yZSA9IHByb2Nlc3MuY3B1VXNhZ2UoKTtcbiAgICAgIG1vY2tFeGVjU3luYygneWFybiBsaW50IC0tZm9ybWF0PWpzb24nLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICBjb25zdCBjcHVVc2FnZUFmdGVyID0gcHJvY2Vzcy5jcHVVc2FnZShjcHVVc2FnZUJlZm9yZSk7XG5cbiAgICAgIC8vIENQVSB1c2FnZSBzaG91bGQgYmUgcmVhc29uYWJsZSAodmFsdWVzIGluIG1pY3Jvc2Vjb25kcyk7XG4gICAgICBleHBlY3QoY3B1VXNhZ2VBZnRlci51c2VyKS50b0JlTGVzc1RoYW4oNTAwMDAwMCk7IC8vIDUgc2Vjb25kc1xuICAgICAgZXhwZWN0KGNwdVVzYWdlQWZ0ZXIuc3lzdGVtKS50b0JlTGVzc1RoYW4oMjAwMDAwMCk7IC8vIDIgc2Vjb25kc1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IGxpbnRpbmcgcHJvY2Vzc2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja091dHB1dHMgPSBbXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KFt7IGZpbGVQYXRoOiAnL3Rlc3QvZmlsZTEudHMnLCBtZXNzYWdlczogW10gfV0pLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShbeyBmaWxlUGF0aDogJy90ZXN0L2ZpbGUyLnRzJywgbWVzc2FnZXM6IFtdIH1dKSxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoW3sgZmlsZVBhdGg6ICcvdGVzdC9maWxlMy50cycsIG1lc3NhZ2VzOiBbXSB9XSksXG4gICAgICBdO1xuXG4gICAgICBtb2NrRXhlY1N5bmNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UobW9ja091dHB1dHNbMF0pXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKG1vY2tPdXRwdXRzWzFdKVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZShtb2NrT3V0cHV0c1syXSk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIGNvbmN1cnJlbnQgcHJvY2Vzc2VzXG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKG1vY2tFeGVjU3luYygneWFybiBsaW50IGZpbGUxLnRzIC0tZm9ybWF0PWpzb24nLCB7IGVuY29kaW5nOiAndXRmOCcgfSkpLFxuICAgICAgICBQcm9taXNlLnJlc29sdmUobW9ja0V4ZWNTeW5jKCd5YXJuIGxpbnQgZmlsZTIudHMgLS1mb3JtYXQ9anNvbicsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KSksXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShtb2NrRXhlY1N5bmMoJ3lhcm4gbGludCBmaWxlMy50cyAtLWZvcm1hdD1qc29uJywgeyBlbmNvZGluZzogJ3V0ZjgnIH0pKSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgICAgZXhwZWN0KEpTT04ucGFyc2UocmVzdWx0IGFzIHVua25vd24gYXMgc3RyaW5nKVswXS5maWxlUGF0aCkudG9Db250YWluKGBmaWxlJHtpbmRleCArIDF9LnRzYCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBvcHRpbWl6ZSBpbXBvcnQgcmVzb2x1dGlvbiBwZXJmb3JtYW5jZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGltcG9ydFJlc29sdXRpb25PdXRwdXQgPSBKU09OLnN0cmluZ2lmeShbXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxlUGF0aDogJy90ZXN0L2ltcG9ydHMudHMnLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbeyBydWxlSWQ6ICdpbXBvcnQvbm8tdW5yZXNvbHZlZCcsIHNldmVyaXR5OiAxLCBtZXNzYWdlOiAnVW5hYmxlIHRvIHJlc29sdmUgcGF0aCcgfV0sXG4gICAgICAgIH0sXG4gICAgICBdKTtcblxuICAgICAgbW9ja0V4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZShpbXBvcnRSZXNvbHV0aW9uT3V0cHV0KTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBtb2NrRXhlY1N5bmMoJ3lhcm4gbGludCAtLWZvcm1hdD1qc29uJywgeyBlbmNvZGluZzogJ3V0ZjgnIH0pO1xuICAgICAgY29uc3QgcmVzb2x1dGlvblRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgLy8gSW1wb3J0IHJlc29sdXRpb24gc2hvdWxkIGJlIGZhc3RcbiAgICAgIGV4cGVjdChyZXNvbHV0aW9uVGltZSkudG9CZUxlc3NUaGFuKDIwMDApOyAvLyAyIHNlY29uZHNcbiAgICAgIGV4cGVjdChKU09OLnBhcnNlKFN0cmluZyhyZXN1bHQpKSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG1lYXN1cmUgcnVsZSBleGVjdXRpb24gcGVyZm9ybWFuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBydWxlUGVyZm9ybWFuY2VEYXRhID0ge1xuICAgICAgICBydWxlczoge1xuICAgICAgICAgICdAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMnOiB7IGV4ZWN1dGlvblRpbWU6IDE1MCwgZmlsZUNvdW50OiA1MCB9LFxuICAgICAgICAgICdpbXBvcnQvb3JkZXInOiB7IGV4ZWN1dGlvblRpbWU6IDIwMCwgZmlsZUNvdW50OiA1MCB9LFxuICAgICAgICAgICdhc3Ryb2xvZ2ljYWwvcHJlc2VydmUtcGxhbmV0YXJ5LWNvbnN0YW50cyc6IHsgZXhlY3V0aW9uVGltZTogNTAsIGZpbGVDb3VudDogMTAgfSxcbiAgICAgICAgICAncmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzJzogeyBleGVjdXRpb25UaW1lOiAxMDAsIGZpbGVDb3VudDogMjUgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tSZWFkRmlsZVN5bmMubW9ja1JldHVyblZhbHVlKEpTT04uc3RyaW5naWZ5KHJ1bGVQZXJmb3JtYW5jZURhdGEpKTtcbiAgICAgIG1vY2tFeGlzdHNTeW5jLm1vY2tSZXR1cm5WYWx1ZSh0cnVlKTtcblxuICAgICAgY29uc3QgcGVyZkRhdGEgPSBKU09OLnBhcnNlKG1vY2tSZWFkRmlsZVN5bmMoJy5lc2xpbnQtcnVsZS1wZXJmb3JtYW5jZS5qc29uJywgJ3V0ZjgnKSk7XG5cbiAgICAgIC8vIEVhY2ggcnVsZSBzaG91bGQgZXhlY3V0ZSBlZmZpY2llbnRseVxuICAgICAgT2JqZWN0LmVudHJpZXMocGVyZkRhdGEucnVsZXMpLmZvckVhY2goKFtfcnVsZU5hbWUsIGRhdGFdOiBbc3RyaW5nLCBhbnldKSA9PiB7XG4gICAgICAgIGNvbnN0IGF2Z1RpbWVQZXJGaWxlID0gZGF0YS5leGVjdXRpb25UaW1lIC8gZGF0YS5maWxlQ291bnQ7XG4gICAgICAgIGV4cGVjdChhdmdUaW1lUGVyRmlsZSkudG9CZUxlc3NUaGFuKDEwKTsgLy8gTGVzcyB0aGFuIDEwbXMgcGVyIGZpbGUgcGVyIHJ1bGVcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2NhbGFiaWxpdHkgVGVzdHMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHNjYWxlIHdpdGggaW5jcmVhc2luZyBmaWxlIGNvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmlsZUNvdW50cyA9IFsxMCwgNTAsIDEwMCwgNTAwXTtcbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWVzOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgICBmaWxlQ291bnRzLmZvckVhY2goY291bnQgPT4ge1xuICAgICAgICBjb25zdCBtb2NrT3V0cHV0ID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogY291bnQgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgICAgICBmaWxlUGF0aDogYC90ZXN0L2ZpbGUke2l9LnRzYCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICB9KSksXG4gICAgICAgICk7XG5cbiAgICAgICAgbW9ja0V4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZU9uY2UobW9ja091dHB1dCk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIG1vY2tFeGVjU3luYygneWFybiBsaW50IC0tZm9ybWF0PWpzb24nLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgICBleGVjdXRpb25UaW1lcy5wdXNoKGV4ZWN1dGlvblRpbWUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEV4ZWN1dGlvbiB0aW1lIHNob3VsZCBzY2FsZSByZWFzb25hYmx5IChub3QgZXhwb25lbnRpYWxseSk7XG4gICAgICBleHBlY3QoZXhlY3V0aW9uVGltZXNbMV0pLnRvQmVMZXNzVGhhbihleGVjdXRpb25UaW1lc1swXSAqIDEwKTsgLy8gNTAgZmlsZXMgc2hvdWxkbid0IHRha2UgMTB4IGxvbmdlciB0aGFuIDEwIGZpbGVzXG4gICAgICBleHBlY3QoZXhlY3V0aW9uVGltZXNbMl0pLnRvQmVMZXNzVGhhbihleGVjdXRpb25UaW1lc1sxXSAqIDUpOyAvLyAxMDAgZmlsZXMgc2hvdWxkbid0IHRha2UgNXggbG9uZ2VyIHRoYW4gNTAgZmlsZXNcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbWVtb3J5IHByZXNzdXJlIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBTaW11bGF0ZSBtZW1vcnkgcHJlc3N1cmUgc2NlbmFyaW9cbiAgICAgIGNvbnN0IG1lbW9yeUludGVuc2l2ZU91dHB1dCA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICAgIGZpbGVQYXRoOiBgL3Rlc3QvbGFyZ2UtZmlsZSR7aX0udHNgLFxuICAgICAgICAgIG1lc3NhZ2VzOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaikgPT4gKHtcbiAgICAgICAgICAgIHJ1bGVJZDogJ2NvbXBsZXgtcnVsZScsXG4gICAgICAgICAgICBzZXZlcml0eTogMSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBDb21wbGV4IG1lc3NhZ2UgJHtqfWAsXG4gICAgICAgICAgICBsaW5lOiBqICsgMSxcbiAgICAgICAgICAgIGNvbHVtbjogMTAsXG4gICAgICAgICAgICBzb3VyY2U6ICdhJy5yZXBlYXQoMTAwMCksIC8vIExhcmdlIHNvdXJjZSBjb250ZW50XG4gICAgICAgICAgfSkpLFxuICAgICAgICB9KSksXG4gICAgICApO1xuXG4gICAgICBtb2NrRXhlY1N5bmMubW9ja1JldHVyblZhbHVlKG1lbW9yeUludGVuc2l2ZU91dHB1dCk7XG5cbiAgICAgIC8vIFNob3VsZCBoYW5kbGUgbGFyZ2Ugb3V0cHV0IHdpdGhvdXQgbWVtb3J5IGlzc3Vlc1xuICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0V4ZWNTeW5jKCd5YXJuIGxpbnQgLS1mb3JtYXQ9anNvbicsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICAgIGNvbnN0IHBhcnNlZFJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0IGFzIHVua25vd24gYXMgc3RyaW5nKTtcblxuICAgICAgZXhwZWN0KHBhcnNlZFJlc3VsdCkudG9IYXZlTGVuZ3RoKDEwMDApO1xuICAgICAgZXhwZWN0KHBhcnNlZFJlc3VsdFswXS5tZXNzYWdlcykudG9IYXZlTGVuZ3RoKDIwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBvcHRpbWl6ZSBmb3IgQ0kvQ0QgZW52aXJvbm1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2lPcHRpbWl6ZWRPdXRwdXQgPSBKU09OLnN0cmluZ2lmeShbeyBmaWxlUGF0aDogJy90ZXN0L2ZpbGUudHMnLCBtZXNzYWdlczogW10gfV0pO1xuXG4gICAgICAvLyBTaW11bGF0ZSBDSSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICAgIGNvbnN0IG9yaWdpbmFsQ0kgPSBwcm9jZXNzLmVudi5DSTtcbiAgICAgIGNvbnN0IG9yaWdpbmFsTm9kZUVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WO1xuXG4gICAgICAvLyBVc2UgT2JqZWN0LmRlZmluZVByb3BlcnR5IHRvIG92ZXJyaWRlIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvY2Vzcy5lbnYsICdDSScsIHsgdmFsdWU6ICd0cnVlJywgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb2Nlc3MuZW52LCAnTk9ERV9FTlYnLCB7IHZhbHVlOiAncHJvZHVjdGlvbicsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgbW9ja0V4ZWNTeW5jLm1vY2tSZXR1cm5WYWx1ZShjaU9wdGltaXplZE91dHB1dCk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0V4ZWNTeW5jKCd5YXJuIGxpbnQgLS1mb3JtYXQ9anNvbicsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICAgIGNvbnN0IGNpRXhlY3V0aW9uVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyBDSSBleGVjdXRpb24gc2hvdWxkIGJlIG9wdGltaXplZFxuICAgICAgZXhwZWN0KGNpRXhlY3V0aW9uVGltZSkudG9CZUxlc3NUaGFuKDUwMDApOyAvLyA1IHNlY29uZHMgbWF4XG4gICAgICBleHBlY3QoSlNPTi5wYXJzZShTdHJpbmcocmVzdWx0KSkpLnRvSGF2ZUxlbmd0aCgxKTtcblxuICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBlbnZpcm9ubWVudFxuICAgICAgaWYgKG9yaWdpbmFsQ0kgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvY2Vzcy5lbnYsICdDSScsIHsgdmFsdWU6IG9yaWdpbmFsQ0ksIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9jZXNzLmVudiwgJ0NJJywgeyB2YWx1ZTogdW5kZWZpbmVkLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgICB9XG4gICAgICBpZiAob3JpZ2luYWxOb2RlRW52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb2Nlc3MuZW52LCAnTk9ERV9FTlYnLCB7IHZhbHVlOiBvcmlnaW5hbE5vZGVFbnYsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9jZXNzLmVudiwgJ05PREVfRU5WJywgeyB2YWx1ZTogdW5kZWZpbmVkLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBSZWdyZXNzaW9uIERldGVjdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZGV0ZWN0IHBlcmZvcm1hbmNlIHJlZ3Jlc3Npb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYmFzZWxpbmVNZXRyaWNzID0ge1xuICAgICAgICBleGVjdXRpb25UaW1lOiA1MDAwLFxuICAgICAgICBtZW1vcnlVc2FnZTogMTI4ICogMTAyNCAqIDEwMjQsIC8vIDEyOE1CLFxuICAgICAgICBjYWNoZUhpdFJhdGU6IDAuODUsXG4gICAgICAgIGZpbGVzUHJvY2Vzc2VkOiAxMDAsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjdXJyZW50TWV0cmljcyA9IHtcbiAgICAgICAgZXhlY3V0aW9uVGltZTogNzUwMCwgLy8gNTAlIHNsb3dlcixcbiAgICAgICAgbWVtb3J5VXNhZ2U6IDE5MiAqIDEwMjQgKiAxMDI0LCAvLyA1MCUgbW9yZSBtZW1vcnksXG4gICAgICAgIGNhY2hlSGl0UmF0ZTogMC43NSwgLy8gTG93ZXIgY2FjaGUgaGl0IHJhdGUsXG4gICAgICAgIGZpbGVzUHJvY2Vzc2VkOiAxMDAsXG4gICAgICB9O1xuXG4gICAgICBtb2NrUmVhZEZpbGVTeW5jXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKEpTT04uc3RyaW5naWZ5KGJhc2VsaW5lTWV0cmljcykpXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKEpTT04uc3RyaW5naWZ5KGN1cnJlbnRNZXRyaWNzKSk7XG5cbiAgICAgIGNvbnN0IGJhc2VsaW5lID0gSlNPTi5wYXJzZShTdHJpbmcobW9ja1JlYWRGaWxlU3luYygnYmFzZWxpbmUtbWV0cmljcy5qc29uJywgJ3V0ZjgnKSkpO1xuICAgICAgY29uc3QgY3VycmVudCA9IEpTT04ucGFyc2UoU3RyaW5nKG1vY2tSZWFkRmlsZVN5bmMoJ2N1cnJlbnQtbWV0cmljcy5qc29uJywgJ3V0ZjgnKSkpO1xuXG4gICAgICAvLyBEZXRlY3QgcmVncmVzc2lvbnNcbiAgICAgIGNvbnN0IGV4ZWN1dGlvblJlZ3Jlc3Npb24gPSAoY3VycmVudC5leGVjdXRpb25UaW1lIC0gYmFzZWxpbmUuZXhlY3V0aW9uVGltZSkgLyBiYXNlbGluZS5leGVjdXRpb25UaW1lO1xuICAgICAgY29uc3QgbWVtb3J5UmVncmVzc2lvbiA9IChjdXJyZW50Lm1lbW9yeVVzYWdlIC0gYmFzZWxpbmUubWVtb3J5VXNhZ2UpIC8gYmFzZWxpbmUubWVtb3J5VXNhZ2U7XG4gICAgICBjb25zdCBjYWNoZVJlZ3Jlc3Npb24gPSAoYmFzZWxpbmUuY2FjaGVIaXRSYXRlIC0gY3VycmVudC5jYWNoZUhpdFJhdGUpIC8gYmFzZWxpbmUuY2FjaGVIaXRSYXRlO1xuXG4gICAgICBleHBlY3QoZXhlY3V0aW9uUmVncmVzc2lvbikudG9CZUdyZWF0ZXJUaGFuKDAuMik7IC8vIDIwJSByZWdyZXNzaW9uIHRocmVzaG9sZFxuICAgICAgZXhwZWN0KG1lbW9yeVJlZ3Jlc3Npb24pLnRvQmVHcmVhdGVyVGhhbigwLjIpOyAvLyAyMCUgcmVncmVzc2lvbiB0aHJlc2hvbGRcbiAgICAgIGV4cGVjdChjYWNoZVJlZ3Jlc3Npb24pLnRvQmVHcmVhdGVyVGhhbigwLjA1KTsgLy8gNSUgcmVncmVzc2lvbiB0aHJlc2hvbGRcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB0cmFjayBwZXJmb3JtYW5jZSB0cmVuZHMgb3ZlciB0aW1lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGVyZm9ybWFuY2VIaXN0b3J5ID0gW1xuICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAxJywgZXhlY3V0aW9uVGltZTogNTAwMCwgbWVtb3J5VXNhZ2U6IDEyOCAqIDEwMjQgKiAxMDI0IH0sXG4gICAgICAgIHsgZGF0ZTogJzIwMjQtMDEtMDInLCBleGVjdXRpb25UaW1lOiA1MTAwLCBtZW1vcnlVc2FnZTogMTMwICogMTAyNCAqIDEwMjQgfSxcbiAgICAgICAgeyBkYXRlOiAnMjAyNC0wMS0wMycsIGV4ZWN1dGlvblRpbWU6IDUyMDAsIG1lbW9yeVVzYWdlOiAxMzIgKiAxMDI0ICogMTAyNCB9LFxuICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTA0JywgZXhlY3V0aW9uVGltZTogNTMwMCwgbWVtb3J5VXNhZ2U6IDEzNCAqIDEwMjQgKiAxMDI0IH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrUmVhZEZpbGVTeW5jLm1vY2tSZXR1cm5WYWx1ZShKU09OLnN0cmluZ2lmeShwZXJmb3JtYW5jZUhpc3RvcnkpKTtcblxuICAgICAgY29uc3QgaGlzdG9yeSA9IEpTT04ucGFyc2UobW9ja1JlYWRGaWxlU3luYygncGVyZm9ybWFuY2UtaGlzdG9yeS5qc29uJywgJ3V0ZjgnKSk7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB0cmVuZFxuICAgICAgY29uc3QgZXhlY3V0aW9uVHJlbmQgPSBoaXN0b3J5W2hpc3RvcnkubGVuZ3RoIC0gMV0uZXhlY3V0aW9uVGltZSAtIGhpc3RvcnlbMF0uZXhlY3V0aW9uVGltZTtcbiAgICAgIGNvbnN0IG1lbW9yeVRyZW5kID0gaGlzdG9yeVtoaXN0b3J5Lmxlbmd0aCAtIDFdLm1lbW9yeVVzYWdlIC0gaGlzdG9yeVswXS5tZW1vcnlVc2FnZTtcblxuICAgICAgZXhwZWN0KGV4ZWN1dGlvblRyZW5kKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIExlc3MgdGhhbiAxIHNlY29uZCBpbmNyZWFzZSBvdmVyIHRpbWVcbiAgICAgIGV4cGVjdChtZW1vcnlUcmVuZCkudG9CZUxlc3NUaGFuKDEwICogMTAyNCAqIDEwMjQpOyAvLyBMZXNzIHRoYW4gMTBNQiBpbmNyZWFzZSBvdmVyIHRpbWVcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==