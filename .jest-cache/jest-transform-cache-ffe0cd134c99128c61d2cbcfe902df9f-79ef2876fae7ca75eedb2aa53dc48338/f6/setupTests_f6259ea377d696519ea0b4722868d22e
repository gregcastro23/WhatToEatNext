cc5182960b4879178a015e8f0dcf67c6
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
require("@testing-library/jest-dom");
const react_1 = __importDefault(require("react"));
// Mock IntersectionObserver
global.IntersectionObserver = class IntersectionObserver {
    constructor(callback, options) {
        this.root = null;
        this.rootMargin = '0px';
        this.thresholds = [0];
        this.callback = callback;
        this.root = (options === null || options === void 0 ? void 0 : options.root) || null;
        this.rootMargin = (options === null || options === void 0 ? void 0 : options.rootMargin) || '0px';
        this.thresholds = (options === null || options === void 0 ? void 0 : options.threshold) ?
            (Array.isArray(options.threshold) ? options.threshold : [options.threshold]) :
            [0];
    }
    disconnect() { }
    observe() { }
    unobserve() { }
    takeRecords() {
        return [];
    }
};
// Mock ResizeObserver
global.ResizeObserver = class ResizeObserver {
    constructor() { }
    disconnect() { }
    observe() { }
    unobserve() { }
};
// Mock matchMedia
Object.defineProperty(window, 'matchMedia', {
    writable: true,
    value: jest.fn().mockImplementation(query => ({
        matches: false,
        media: query,
        onchange: null,
        addListener: jest.fn(),
        removeListener: jest.fn(),
        addEventListener: jest.fn(),
        removeEventListener: jest.fn(),
        dispatchEvent: jest.fn(),
    })),
});
// Mock scrollTo
Object.defineProperty(window, 'scrollTo', {
    value: jest.fn(),
    writable: true
});
// Mock localStorage
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
};
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
});
// Mock sessionStorage
const sessionStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
};
Object.defineProperty(window, 'sessionStorage', {
    value: sessionStorageMock
});
// Mock requestAnimationFrame
global.requestAnimationFrame = jest.fn(cb => setTimeout(cb, 0));
global.cancelAnimationFrame = jest.fn();
// Mock performance.now
Object.defineProperty(window, 'performance', {
    value: {
        now: jest.fn(() => Date.now()),
        mark: jest.fn(),
        measure: jest.fn(),
        getEntriesByName: jest.fn(() => []),
        getEntriesByType: jest.fn(() => []),
    },
    writable: true
});
// Suppress console warnings for tests
const originalConsoleWarn = console.warn;
const originalConsoleError = console.error;
beforeEach(() => {
    // Reset mocks before each test
    jest.clearAllMocks();
    localStorageMock.getItem.mockClear();
    localStorageMock.setItem.mockClear();
    sessionStorageMock.getItem.mockClear();
    sessionStorageMock.setItem.mockClear();
});
// Suppress specific warnings that are expected in tests
console.warn = (...args) => {
    const message = args[0];
    if (typeof message === 'string' &&
        (message.includes('React.createFactory') ||
            message.includes('componentWillReceiveProps') ||
            message.includes('componentWillUpdate'))) {
        return;
    }
    originalConsoleWarn.apply(console, args);
};
console.error = (...args) => {
    const message = args[0];
    if (typeof message === 'string' &&
        (message.includes('Warning: ReactDOM.render') ||
            message.includes('Warning: componentWillReceiveProps') ||
            message.includes('The above error occurred'))) {
        return;
    }
    originalConsoleError.apply(console, args);
};
// Mock implementations for git operations - comprehensive implementation
const gitMock = {
    stash: jest.fn().mockResolvedValue('stash-id'),
    stashPop: jest.fn().mockResolvedValue(true),
    getCurrentBranch: jest.fn().mockResolvedValue('main'),
    hasUncommittedChanges: jest.fn().mockResolvedValue(false),
    getLastCommitHash: jest.fn().mockResolvedValue('abc123'),
    mockStashes: ['stash-1', 'stash-2'],
    mockBranch: 'main',
    mockGitStatus: {
        staged: [],
        unstaged: [],
        untracked: []
    },
    shouldFailCommands: false,
    setMockBranch: jest.fn((branch) => { gitMock.mockBranch = branch; }),
    setMockStashes: jest.fn((stashes) => { gitMock.mockStashes = stashes; }),
    setMockGitStatus: jest.fn((status) => { gitMock.mockGitStatus = status; }),
    setShouldFailCommands: jest.fn((shouldFail) => { gitMock.shouldFailCommands = shouldFail; }),
    addMockStash: jest.fn((stashId) => { gitMock.mockStashes.push(stashId); }),
    removeMockStash: jest.fn((stashId) => {
        gitMock.mockStashes = gitMock.mockStashes.filter(s => s !== stashId);
    }),
    clearMockStashes: jest.fn(() => { gitMock.mockStashes = []; }),
    getMockStashes: jest.fn(() => gitMock.mockStashes),
    simulateGitError: jest.fn((command, error) => {
        console.warn(`Simulated git error for ${command}: ${error}`);
    }),
    resetMocks: jest.fn(() => {
        gitMock.mockStashes = [];
        gitMock.mockBranch = 'main';
        gitMock.mockGitStatus = { staged: [], unstaged: [], untracked: [] };
        gitMock.shouldFailCommands = false;
    })
};
// Mock implementations for script execution - comprehensive implementation
const scriptMock = {
    executeScript: jest.fn().mockResolvedValue({ success: true, output: '' }),
    executeCommand: jest.fn().mockResolvedValue({ stdout: '', stderr: '', exitCode: 0 }),
    getScriptOutput: jest.fn().mockReturnValue(''),
    mockResults: {},
    mockBuildSuccess: true,
    mockTestSuccess: true,
    shouldFailExecution: false,
    mockExecutionTime: 1000,
    mockMemoryUsage: 50,
    mockErrorOutput: '',
    mockStdout: '',
    mockStderr: '',
    mockExitCode: 0,
    setMockResult: jest.fn((scriptPath, result) => {
        scriptMock.mockResults[scriptPath] = result;
    }),
    setMockBuildSuccess: jest.fn((success) => { scriptMock.mockBuildSuccess = success; }),
    setMockTestSuccess: jest.fn((success) => { scriptMock.mockTestSuccess = success; }),
    setShouldFailExecution: jest.fn((shouldFail) => { scriptMock.shouldFailExecution = shouldFail; }),
    setMockExecutionTime: jest.fn((time) => { scriptMock.mockExecutionTime = time; }),
    setMockMemoryUsage: jest.fn((usage) => { scriptMock.mockMemoryUsage = usage; }),
    setMockOutput: jest.fn((stdout, stderr, exitCode) => {
        scriptMock.mockStdout = stdout;
        scriptMock.mockStderr = stderr;
        scriptMock.mockExitCode = exitCode;
    }),
    simulateScriptError: jest.fn((scriptPath, error) => {
        console.warn(`Simulated script error for ${scriptPath}: ${error}`);
    }),
    simulateTimeout: jest.fn((scriptPath, timeout) => {
        console.warn(`Simulated timeout for ${scriptPath}: ${timeout}ms`);
    }),
    resetMocks: jest.fn(() => {
        scriptMock.mockResults = {};
        scriptMock.mockBuildSuccess = true;
        scriptMock.mockTestSuccess = true;
        scriptMock.shouldFailExecution = false;
        scriptMock.mockExecutionTime = 1000;
        scriptMock.mockMemoryUsage = 50;
        scriptMock.mockErrorOutput = '';
        scriptMock.mockStdout = '';
        scriptMock.mockStderr = '';
        scriptMock.mockExitCode = 0;
    })
};
// Global test utilities with extended interface
global.testUtils = {
    // Git operations mock
    gitMock,
    // Script execution mock
    scriptMock,
    // Helper to wait for async operations
    waitForAsync: (ms = 0) => new Promise(resolve => setTimeout(resolve, ms)),
    // Helper to create mock functions with specific return values
    createMockFunction: (returnValue) => jest.fn(() => returnValue),
    // Helper to create mock component
    createMockComponent: (name, testId) => {
        const MockComponent = (props) => ((0, jsx_runtime_1.jsxs)("div", { "data-testid": testId || name.toLowerCase(), ...props, children: ["Mock ", name] }));
        MockComponent.displayName = `Mock${name}`;
        return MockComponent;
    },
    // Memory management utilities
    checkMemory: () => {
        if (global.getMemoryUsage) {
            return global.getMemoryUsage();
        }
        const usage = process.memoryUsage();
        return {
            heapUsed: `${(usage.heapUsed / 1024 / 1024).toFixed(2)}MB`,
            heapTotal: `${(usage.heapTotal / 1024 / 1024).toFixed(2)}MB`,
            external: `${(usage.external / 1024 / 1024).toFixed(2)}MB`,
            arrayBuffers: `${(usage.arrayBuffers / 1024 / 1024).toFixed(2)}MB`
        };
    },
    // Force cleanup for memory-intensive tests
    cleanupMemory: () => {
        if (global.cleanupTestMemory) {
            return global.cleanupTestMemory();
        }
        // Fallback cleanup
        jest.clearAllMocks();
        jest.resetModules();
        if (global.forceGC) {
            global.forceGC();
        }
        return null;
    },
    // Mock file creation utilities
    createMockCorruptedFile: (content) => {
        return `// CORRUPTED FILE\n${content}\n// CORRUPTION_MARKER`;
    },
    createMockTypeScriptErrors: (count) => {
        return Array.from({ length: count }, (_, i) => `error TS2339: Property 'test${i}' does not exist on type 'unknown'.`).join('\n');
    },
    createMockLintingWarnings: (count) => {
        return Array.from({ length: count }, (_, i) => `warning: Unused variable 'test${i}' @typescript-eslint/no-unused-vars`).join('\n');
    },
    createMockProgressMetrics: (overrides = {}) => ({
        typeScriptErrors: 0,
        lintingWarnings: 0,
        buildTime: 5000,
        memoryUsage: 100,
        ...overrides
    })
};
// Extend Jest matchers
expect.extend({
    toBeWithinRange(received, floor, ceiling) {
        const pass = received >= floor && received <= ceiling;
        if (pass) {
            return {
                message: () => `expected ${received} not to be within range ${floor} - ${ceiling}`,
                pass: true,
            };
        }
        else {
            return {
                message: () => `expected ${received} to be within range ${floor} - ${ceiling}`,
                pass: false,
            };
        }
    },
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9fX3Rlc3RzX18vc2V0dXBUZXN0cy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscUNBQW1DO0FBQ25DLGtEQUEwQjtBQUUxQiw0QkFBNEI7QUFDNUIsTUFBTSxDQUFDLG9CQUFvQixHQUFHLE1BQU0sb0JBQW9CO0lBTXRELFlBQVksUUFBc0MsRUFBRSxPQUFrQztRQUx0RixTQUFJLEdBQW1CLElBQUksQ0FBQztRQUM1QixlQUFVLEdBQVcsS0FBSyxDQUFDO1FBQzNCLGVBQVUsR0FBMEIsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUl0QyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLElBQWdCLEtBQUksSUFBSSxDQUFDO1FBQy9DLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQSxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsVUFBVSxLQUFJLEtBQUssQ0FBQztRQUMvQyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFNBQVMsRUFBQyxDQUFDO1lBQ3BDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5RSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUVELFVBQVUsS0FBSSxDQUFDO0lBQ2YsT0FBTyxLQUFJLENBQUM7SUFDWixTQUFTLEtBQUksQ0FBQztJQUNkLFdBQVc7UUFDVCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7Q0FDSyxDQUFDO0FBRVQsc0JBQXNCO0FBQ3RCLE1BQU0sQ0FBQyxjQUFjLEdBQUcsTUFBTSxjQUFj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QUFHLFFBQVEsSUFBSSxLQUFLLElBQUksUUFBUSxJQUFJLE9BQU8sQ0FBQztRQUN0RCxJQUFJLElBQUksRUFBRTtZQUNSLE9BQU87Z0JBQ0wsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUNaLFlBQVksUUFBUSwyQkFBMkIsS0FBSyxNQUFNLE9BQU8sRUFBRTtnQkFDckUsSUFBSSxFQUFFLElBQUk7YUFDWCxDQUFDO1NBQ0g7YUFBTTtZQUNMLE9BQU87Z0JBQ0wsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUNaLFlBQVksUUFBUSx1QkFBdUIsS0FBSyxNQUFNLE9BQU8sRUFBRTtnQkFDakUsSUFBSSxFQUFFLEtBQUs7YUFDWixDQUFDO1NBQ0g7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9HcmVnQ2FzdHJvL0Rlc2t0b3AvV2hhdFRvRWF0TmV4dC9zcmMvX190ZXN0c19fL3NldHVwVGVzdHMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vLyBNb2NrIEludGVyc2VjdGlvbk9ic2VydmVyXG5nbG9iYWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBjbGFzcyBJbnRlcnNlY3Rpb25PYnNlcnZlciB7XG4gIHJvb3Q6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcm9vdE1hcmdpbjogc3RyaW5nID0gJzBweCc7XG4gIHRocmVzaG9sZHM6IFJlYWRvbmx5QXJyYXk8bnVtYmVyPiA9IFswXTtcbiAgcHJpdmF0ZSBjYWxsYmFjazogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjaztcbiAgXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrOiBJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrLCBvcHRpb25zPzogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJJbml0KSB7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMucm9vdCA9IChvcHRpb25zPy5yb290IGFzIEVsZW1lbnQpIHx8IG51bGw7XG4gICAgdGhpcy5yb290TWFyZ2luID0gb3B0aW9ucz8ucm9vdE1hcmdpbiB8fCAnMHB4JztcbiAgICB0aGlzLnRocmVzaG9sZHMgPSBvcHRpb25zPy50aHJlc2hvbGQgPyBcbiAgICAgIChBcnJheS5pc0FycmF5KG9wdGlvbnMudGhyZXNob2xkKSA/IG9wdGlvbnMudGhyZXNob2xkIDogW29wdGlvbnMudGhyZXNob2xkXSkgOiBcbiAgICAgIFswXTtcbiAgfVxuICBcbiAgZGlzY29ubmVjdCgpIHt9XG4gIG9ic2VydmUoKSB7fVxuICB1bm9ic2VydmUoKSB7fVxuICB0YWtlUmVjb3JkcygpOiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5W10ge1xuICAgIHJldHVybiBbXTtcbiAgfVxufSBhcyBhbnk7XG5cbi8vIE1vY2sgUmVzaXplT2JzZXJ2ZXJcbmdsb2JhbC5SZXNpemVPYnNlcnZlciA9IGNsYXNzIFJlc2l6ZU9ic2VydmVyIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuICBkaXNjb25uZWN0KCkge31cbiAgb2JzZXJ2ZSgpIHt9XG4gIHVub2JzZXJ2ZSgpIHt9XG59O1xuXG4vLyBNb2NrIG1hdGNoTWVkaWFcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdtYXRjaE1lZGlhJywge1xuICB3cml0YWJsZTogdHJ1ZSxcbiAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24ocXVlcnkgPT4gKHtcbiAgICBtYXRjaGVzOiBmYWxzZSxcbiAgICBtZWRpYTogcXVlcnksXG4gICAgb25jaGFuZ2U6IG51bGwsXG4gICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSwgLy8gZGVwcmVjYXRlZFxuICAgIHJlbW92ZUxpc3RlbmVyOiBqZXN0LmZuKCksIC8vIGRlcHJlY2F0ZWRcbiAgICBhZGRFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgIGRpc3BhdGNoRXZlbnQ6IGplc3QuZm4oKSxcbiAgfSkpLFxufSk7XG5cbi8vIE1vY2sgc2Nyb2xsVG9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdzY3JvbGxUbycsIHtcbiAgdmFsdWU6IGplc3QuZm4oKSxcbiAgd3JpdGFibGU6IHRydWVcbn0pO1xuXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxuY29uc3QgbG9jYWxTdG9yYWdlTW9jayA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywge1xuICB2YWx1ZTogbG9jYWxTdG9yYWdlTW9ja1xufSk7XG5cbi8vIE1vY2sgc2Vzc2lvblN0b3JhZ2VcbmNvbnN0IHNlc3Npb25TdG9yYWdlTW9jayA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnc2Vzc2lvblN0b3JhZ2UnLCB7XG4gIHZhbHVlOiBzZXNzaW9uU3RvcmFnZU1vY2tcbn0pO1xuXG4vLyBNb2NrIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGplc3QuZm4oY2IgPT4gc2V0VGltZW91dChjYiwgMCkpO1xuZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gamVzdC5mbigpO1xuXG4vLyBNb2NrIHBlcmZvcm1hbmNlLm5vd1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3BlcmZvcm1hbmNlJywge1xuICB2YWx1ZToge1xuICAgIG5vdzogamVzdC5mbigoKSA9PiBEYXRlLm5vdygpKSxcbiAgICBtYXJrOiBqZXN0LmZuKCksXG4gICAgbWVhc3VyZTogamVzdC5mbigpLFxuICAgIGdldEVudHJpZXNCeU5hbWU6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgIGdldEVudHJpZXNCeVR5cGU6IGplc3QuZm4oKCkgPT4gW10pLFxuICB9LFxuICB3cml0YWJsZTogdHJ1ZVxufSk7XG5cbi8vIFN1cHByZXNzIGNvbnNvbGUgd2FybmluZ3MgZm9yIHRlc3RzXG5jb25zdCBvcmlnaW5hbENvbnNvbGVXYXJuID0gY29uc29sZS53YXJuO1xuY29uc3Qgb3JpZ2luYWxDb25zb2xlRXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG5iZWZvcmVFYWNoKCgpID0+IHtcbiAgLy8gUmVzZXQgbW9ja3MgYmVmb3JlIGVhY2ggdGVzdFxuICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tDbGVhcigpO1xuICBsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0ubW9ja0NsZWFyKCk7XG4gIHNlc3Npb25TdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tDbGVhcigpO1xuICBzZXNzaW9uU3RvcmFnZU1vY2suc2V0SXRlbS5tb2NrQ2xlYXIoKTtcbn0pO1xuXG4vLyBTdXBwcmVzcyBzcGVjaWZpYyB3YXJuaW5ncyB0aGF0IGFyZSBleHBlY3RlZCBpbiB0ZXN0c1xuY29uc29sZS53YXJuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBhcmdzWzBdO1xuICBpZiAoXG4gICAgdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnICYmIFxuICAgIChtZXNzYWdlLmluY2x1ZGVzKCdSZWFjdC5jcmVhdGVGYWN0b3J5JykgfHxcbiAgICAgbWVzc2FnZS5pbmNsdWRlcygnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpIHx8XG4gICAgIG1lc3NhZ2UuaW5jbHVkZXMoJ2NvbXBvbmVudFdpbGxVcGRhdGUnKSlcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9yaWdpbmFsQ29uc29sZVdhcm4uYXBwbHkoY29uc29sZSwgYXJncyk7XG59O1xuXG5jb25zb2xlLmVycm9yID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBhcmdzWzBdO1xuICBpZiAoXG4gICAgdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnICYmIFxuICAgIChtZXNzYWdlLmluY2x1ZGVzKCdXYXJuaW5nOiBSZWFjdERPTS5yZW5kZXInKSB8fFxuICAgICBtZXNzYWdlLmluY2x1ZGVzKCdXYXJuaW5nOiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJykgfHxcbiAgICAgbWVzc2FnZS5pbmNsdWRlcygnVGhlIGFib3ZlIGVycm9yIG9jY3VycmVkJykpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICBvcmlnaW5hbENvbnNvbGVFcnJvci5hcHBseShjb25zb2xlLCBhcmdzKTtcbn07XG5cbi8vIE1vY2sgaW1wbGVtZW50YXRpb25zIGZvciBnaXQgb3BlcmF0aW9ucyAtIGNvbXByZWhlbnNpdmUgaW1wbGVtZW50YXRpb25cbmNvbnN0IGdpdE1vY2sgPSB7XG4gIHN0YXNoOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ3N0YXNoLWlkJyksXG4gIHN0YXNoUG9wOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gIGdldEN1cnJlbnRCcmFuY2g6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnbWFpbicpLFxuICBoYXNVbmNvbW1pdHRlZENoYW5nZXM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShmYWxzZSksXG4gIGdldExhc3RDb21taXRIYXNoOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ2FiYzEyMycpLFxuICBtb2NrU3Rhc2hlczogWydzdGFzaC0xJywgJ3N0YXNoLTInXSxcbiAgbW9ja0JyYW5jaDogJ21haW4nLFxuICBtb2NrR2l0U3RhdHVzOiB7XG4gICAgc3RhZ2VkOiBbXSxcbiAgICB1bnN0YWdlZDogW10sXG4gICAgdW50cmFja2VkOiBbXVxuICB9LFxuICBzaG91bGRGYWlsQ29tbWFuZHM6IGZhbHNlLFxuICBzZXRNb2NrQnJhbmNoOiBqZXN0LmZuKChicmFuY2g6IHN0cmluZykgPT4geyBnaXRNb2NrLm1vY2tCcmFuY2ggPSBicmFuY2g7IH0pLFxuICBzZXRNb2NrU3Rhc2hlczogamVzdC5mbigoc3Rhc2hlczogc3RyaW5nW10pID0+IHsgZ2l0TW9jay5tb2NrU3Rhc2hlcyA9IHN0YXNoZXM7IH0pLFxuICBzZXRNb2NrR2l0U3RhdHVzOiBqZXN0LmZuKChzdGF0dXM6IGFueSkgPT4geyBnaXRNb2NrLm1vY2tHaXRTdGF0dXMgPSBzdGF0dXM7IH0pLFxuICBzZXRTaG91bGRGYWlsQ29tbWFuZHM6IGplc3QuZm4oKHNob3VsZEZhaWw6IGJvb2xlYW4pID0+IHsgZ2l0TW9jay5zaG91bGRGYWlsQ29tbWFuZHMgPSBzaG91bGRGYWlsOyB9KSxcbiAgYWRkTW9ja1N0YXNoOiBqZXN0LmZuKChzdGFzaElkOiBzdHJpbmcpID0+IHsgZ2l0TW9jay5tb2NrU3Rhc2hlcy5wdXNoKHN0YXNoSWQpOyB9KSxcbiAgcmVtb3ZlTW9ja1N0YXNoOiBqZXN0LmZuKChzdGFzaElkOiBzdHJpbmcpID0+IHsgXG4gICAgZ2l0TW9jay5tb2NrU3Rhc2hlcyA9IGdpdE1vY2subW9ja1N0YXNoZXMuZmlsdGVyKHMgPT4gcyAhPT0gc3Rhc2hJZCk7IFxuICB9KSxcbiAgY2xlYXJNb2NrU3Rhc2hlczogamVzdC5mbigoKSA9PiB7IGdpdE1vY2subW9ja1N0YXNoZXMgPSBbXTsgfSksXG4gIGdldE1vY2tTdGFzaGVzOiBqZXN0LmZuKCgpID0+IGdpdE1vY2subW9ja1N0YXNoZXMpLFxuICBzaW11bGF0ZUdpdEVycm9yOiBqZXN0LmZuKChjb21tYW5kOiBzdHJpbmcsIGVycm9yOiBzdHJpbmcpID0+IHtcbiAgICBjb25zb2xlLndhcm4oYFNpbXVsYXRlZCBnaXQgZXJyb3IgZm9yICR7Y29tbWFuZH06ICR7ZXJyb3J9YCk7XG4gIH0pLFxuICByZXNldE1vY2tzOiBqZXN0LmZuKCgpID0+IHtcbiAgICBnaXRNb2NrLm1vY2tTdGFzaGVzID0gW107XG4gICAgZ2l0TW9jay5tb2NrQnJhbmNoID0gJ21haW4nO1xuICAgIGdpdE1vY2subW9ja0dpdFN0YXR1cyA9IHsgc3RhZ2VkOiBbXSwgdW5zdGFnZWQ6IFtdLCB1bnRyYWNrZWQ6IFtdIH07XG4gICAgZ2l0TW9jay5zaG91bGRGYWlsQ29tbWFuZHMgPSBmYWxzZTtcbiAgfSlcbn07XG5cbi8vIE1vY2sgaW1wbGVtZW50YXRpb25zIGZvciBzY3JpcHQgZXhlY3V0aW9uIC0gY29tcHJlaGVuc2l2ZSBpbXBsZW1lbnRhdGlvblxuY29uc3Qgc2NyaXB0TW9jayA9IHtcbiAgZXhlY3V0ZVNjcmlwdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgc3VjY2VzczogdHJ1ZSwgb3V0cHV0OiAnJyB9KSxcbiAgZXhlY3V0ZUNvbW1hbmQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN0ZG91dDogJycsIHN0ZGVycjogJycsIGV4aXRDb2RlOiAwIH0pLFxuICBnZXRTY3JpcHRPdXRwdXQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoJycpLFxuICBtb2NrUmVzdWx0czoge30sXG4gIG1vY2tCdWlsZFN1Y2Nlc3M6IHRydWUsXG4gIG1vY2tUZXN0U3VjY2VzczogdHJ1ZSxcbiAgc2hvdWxkRmFpbEV4ZWN1dGlvbjogZmFsc2UsXG4gIG1vY2tFeGVjdXRpb25UaW1lOiAxMDAwLFxuICBtb2NrTWVtb3J5VXNhZ2U6IDUwLFxuICBtb2NrRXJyb3JPdXRwdXQ6ICcnLFxuICBtb2NrU3Rkb3V0OiAnJyxcbiAgbW9ja1N0ZGVycjogJycsXG4gIG1vY2tFeGl0Q29kZTogMCxcbiAgc2V0TW9ja1Jlc3VsdDogamVzdC5mbigoc2NyaXB0UGF0aDogc3RyaW5nLCByZXN1bHQ6IGFueSkgPT4ge1xuICAgIHNjcmlwdE1vY2subW9ja1Jlc3VsdHNbc2NyaXB0UGF0aF0gPSByZXN1bHQ7XG4gIH0pLFxuICBzZXRNb2NrQnVpbGRTdWNjZXNzOiBqZXN0LmZuKChzdWNjZXNzOiBib29sZWFuKSA9PiB7IHNjcmlwdE1vY2subW9ja0J1aWxkU3VjY2VzcyA9IHN1Y2Nlc3M7IH0pLFxuICBzZXRNb2NrVGVzdFN1Y2Nlc3M6IGplc3QuZm4oKHN1Y2Nlc3M6IGJvb2xlYW4pID0+IHsgc2NyaXB0TW9jay5tb2NrVGVzdFN1Y2Nlc3MgPSBzdWNjZXNzOyB9KSxcbiAgc2V0U2hvdWxkRmFpbEV4ZWN1dGlvbjogamVzdC5mbigoc2hvdWxkRmFpbDogYm9vbGVhbikgPT4geyBzY3JpcHRNb2NrLnNob3VsZEZhaWxFeGVjdXRpb24gPSBzaG91bGRGYWlsOyB9KSxcbiAgc2V0TW9ja0V4ZWN1dGlvblRpbWU6IGplc3QuZm4oKHRpbWU6IG51bWJlcikgPT4geyBzY3JpcHRNb2NrLm1vY2tFeGVjdXRpb25UaW1lID0gdGltZTsgfSksXG4gIHNldE1vY2tNZW1vcnlVc2FnZTogamVzdC5mbigodXNhZ2U6IG51bWJlcikgPT4geyBzY3JpcHRNb2NrLm1vY2tNZW1vcnlVc2FnZSA9IHVzYWdlOyB9KSxcbiAgc2V0TW9ja091dHB1dDogamVzdC5mbigoc3Rkb3V0OiBzdHJpbmcsIHN0ZGVycjogc3RyaW5nLCBleGl0Q29kZTogbnVtYmVyKSA9PiB7XG4gICAgc2NyaXB0TW9jay5tb2NrU3Rkb3V0ID0gc3Rkb3V0O1xuICAgIHNjcmlwdE1vY2subW9ja1N0ZGVyciA9IHN0ZGVycjtcbiAgICBzY3JpcHRNb2NrLm1vY2tFeGl0Q29kZSA9IGV4aXRDb2RlO1xuICB9KSxcbiAgc2ltdWxhdGVTY3JpcHRFcnJvcjogamVzdC5mbigoc2NyaXB0UGF0aDogc3RyaW5nLCBlcnJvcjogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS53YXJuKGBTaW11bGF0ZWQgc2NyaXB0IGVycm9yIGZvciAke3NjcmlwdFBhdGh9OiAke2Vycm9yfWApO1xuICB9KSxcbiAgc2ltdWxhdGVUaW1lb3V0OiBqZXN0LmZuKChzY3JpcHRQYXRoOiBzdHJpbmcsIHRpbWVvdXQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnNvbGUud2FybihgU2ltdWxhdGVkIHRpbWVvdXQgZm9yICR7c2NyaXB0UGF0aH06ICR7dGltZW91dH1tc2ApO1xuICB9KSxcbiAgcmVzZXRNb2NrczogamVzdC5mbigoKSA9PiB7XG4gICAgc2NyaXB0TW9jay5tb2NrUmVzdWx0cyA9IHt9O1xuICAgIHNjcmlwdE1vY2subW9ja0J1aWxkU3VjY2VzcyA9IHRydWU7XG4gICAgc2NyaXB0TW9jay5tb2NrVGVzdFN1Y2Nlc3MgPSB0cnVlO1xuICAgIHNjcmlwdE1vY2suc2hvdWxkRmFpbEV4ZWN1dGlvbiA9IGZhbHNlO1xuICAgIHNjcmlwdE1vY2subW9ja0V4ZWN1dGlvblRpbWUgPSAxMDAwO1xuICAgIHNjcmlwdE1vY2subW9ja01lbW9yeVVzYWdlID0gNTA7XG4gICAgc2NyaXB0TW9jay5tb2NrRXJyb3JPdXRwdXQgPSAnJztcbiAgICBzY3JpcHRNb2NrLm1vY2tTdGRvdXQgPSAnJztcbiAgICBzY3JpcHRNb2NrLm1vY2tTdGRlcnIgPSAnJztcbiAgICBzY3JpcHRNb2NrLm1vY2tFeGl0Q29kZSA9IDA7XG4gIH0pXG59O1xuXG4vLyBHbG9iYWwgdGVzdCB1dGlsaXRpZXMgd2l0aCBleHRlbmRlZCBpbnRlcmZhY2Vcbmdsb2JhbC50ZXN0VXRpbHMgPSB7XG4gIC8vIEdpdCBvcGVyYXRpb25zIG1vY2tcbiAgZ2l0TW9jayxcbiAgXG4gIC8vIFNjcmlwdCBleGVjdXRpb24gbW9ja1xuICBzY3JpcHRNb2NrLFxuICBcbiAgLy8gSGVscGVyIHRvIHdhaXQgZm9yIGFzeW5jIG9wZXJhdGlvbnNcbiAgd2FpdEZvckFzeW5jOiAobXMgPSAwKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKSxcbiAgXG4gIC8vIEhlbHBlciB0byBjcmVhdGUgbW9jayBmdW5jdGlvbnMgd2l0aCBzcGVjaWZpYyByZXR1cm4gdmFsdWVzXG4gIGNyZWF0ZU1vY2tGdW5jdGlvbjogKHJldHVyblZhbHVlPzogYW55KSA9PiBqZXN0LmZuKCgpID0+IHJldHVyblZhbHVlKSxcbiAgXG4gIC8vIEhlbHBlciB0byBjcmVhdGUgbW9jayBjb21wb25lbnRcbiAgY3JlYXRlTW9ja0NvbXBvbmVudDogKG5hbWU6IHN0cmluZywgdGVzdElkPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgTW9ja0NvbXBvbmVudCA9IChwcm9wczogYW55KSA9PiAoXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPXt0ZXN0SWQgfHwgbmFtZS50b0xvd2VyQ2FzZSgpfSB7Li4ucHJvcHN9PlxuICAgICAgICBNb2NrIHtuYW1lfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICBNb2NrQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gYE1vY2ske25hbWV9YDtcbiAgICByZXR1cm4gTW9ja0NvbXBvbmVudDtcbiAgfSxcbiAgXG4gIC8vIE1lbW9yeSBtYW5hZ2VtZW50IHV0aWxpdGllc1xuICBjaGVja01lbW9yeTogKCkgPT4ge1xuICAgIGlmIChnbG9iYWwuZ2V0TWVtb3J5VXNhZ2UpIHtcbiAgICAgIHJldHVybiBnbG9iYWwuZ2V0TWVtb3J5VXNhZ2UoKTtcbiAgICB9XG4gICAgY29uc3QgdXNhZ2UgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhlYXBVc2VkOiBgJHsodXNhZ2UuaGVhcFVzZWQgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKX1NQmAsXG4gICAgICBoZWFwVG90YWw6IGAkeyh1c2FnZS5oZWFwVG90YWwgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKX1NQmAsXG4gICAgICBleHRlcm5hbDogYCR7KHVzYWdlLmV4dGVybmFsIC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMil9TUJgLFxuICAgICAgYXJyYXlCdWZmZXJzOiBgJHsodXNhZ2UuYXJyYXlCdWZmZXJzIC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMil9TUJgXG4gICAgfTtcbiAgfSxcbiAgXG4gIC8vIEZvcmNlIGNsZWFudXAgZm9yIG1lbW9yeS1pbnRlbnNpdmUgdGVzdHNcbiAgY2xlYW51cE1lbW9yeTogKCkgPT4ge1xuICAgIGlmIChnbG9iYWwuY2xlYW51cFRlc3RNZW1vcnkpIHtcbiAgICAgIHJldHVybiBnbG9iYWwuY2xlYW51cFRlc3RNZW1vcnkoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRmFsbGJhY2sgY2xlYW51cFxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGplc3QucmVzZXRNb2R1bGVzKCk7XG4gICAgXG4gICAgaWYgKGdsb2JhbC5mb3JjZUdDKSB7XG4gICAgICBnbG9iYWwuZm9yY2VHQygpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgXG4gIC8vIE1vY2sgZmlsZSBjcmVhdGlvbiB1dGlsaXRpZXNcbiAgY3JlYXRlTW9ja0NvcnJ1cHRlZEZpbGU6IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYC8vIENPUlJVUFRFRCBGSUxFXFxuJHtjb250ZW50fVxcbi8vIENPUlJVUFRJT05fTUFSS0VSYDtcbiAgfSxcbiAgXG4gIGNyZWF0ZU1vY2tUeXBlU2NyaXB0RXJyb3JzOiAoY291bnQ6IG51bWJlcikgPT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjb3VudCB9LCAoXywgaSkgPT4gXG4gICAgICBgZXJyb3IgVFMyMzM5OiBQcm9wZXJ0eSAndGVzdCR7aX0nIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ3Vua25vd24nLmBcbiAgICApLmpvaW4oJ1xcbicpO1xuICB9LFxuICBcbiAgY3JlYXRlTW9ja0xpbnRpbmdXYXJuaW5nczogKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY291bnQgfSwgKF8sIGkpID0+IFxuICAgICAgYHdhcm5pbmc6IFVudXNlZCB2YXJpYWJsZSAndGVzdCR7aX0nIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc2BcbiAgICApLmpvaW4oJ1xcbicpO1xuICB9LFxuICBcbiAgY3JlYXRlTW9ja1Byb2dyZXNzTWV0cmljczogKG92ZXJyaWRlczogYW55ID0ge30pID0+ICh7XG4gICAgdHlwZVNjcmlwdEVycm9yczogMCxcbiAgICBsaW50aW5nV2FybmluZ3M6IDAsXG4gICAgYnVpbGRUaW1lOiA1MDAwLFxuICAgIG1lbW9yeVVzYWdlOiAxMDAsXG4gICAgLi4ub3ZlcnJpZGVzXG4gIH0pXG59O1xuXG4vLyBFeHRlbmQgSmVzdCBtYXRjaGVyc1xuZXhwZWN0LmV4dGVuZCh7XG4gIHRvQmVXaXRoaW5SYW5nZShyZWNlaXZlZDogbnVtYmVyLCBmbG9vcjogbnVtYmVyLCBjZWlsaW5nOiBudW1iZXIpIHtcbiAgICBjb25zdCBwYXNzID0gcmVjZWl2ZWQgPj0gZmxvb3IgJiYgcmVjZWl2ZWQgPD0gY2VpbGluZztcbiAgICBpZiAocGFzcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogKCkgPT5cbiAgICAgICAgICBgZXhwZWN0ZWQgJHtyZWNlaXZlZH0gbm90IHRvIGJlIHdpdGhpbiByYW5nZSAke2Zsb29yfSAtICR7Y2VpbGluZ31gLFxuICAgICAgICBwYXNzOiB0cnVlLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogKCkgPT5cbiAgICAgICAgICBgZXhwZWN0ZWQgJHtyZWNlaXZlZH0gdG8gYmUgd2l0aGluIHJhbmdlICR7Zmxvb3J9IC0gJHtjZWlsaW5nfWAsXG4gICAgICAgIHBhc3M6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG59KTtcblxuLy8gSW1wb3J0IHRoZSB1bmlmaWVkIHR5cGUgZGVmaW5pdGlvbnNcbmltcG9ydCB0eXBlIHsgRXh0ZW5kZWRUZXN0VXRpbHMgfSBmcm9tICcuL3R5cGVzL3Rlc3RVdGlscyc7XG5cbi8vIERlY2xhcmUgY3VzdG9tIG1hdGNoZXIgdHlwZXNcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgbmFtZXNwYWNlIGplc3Qge1xuICAgIGludGVyZmFjZSBNYXRjaGVyczxSPiB7XG4gICAgICB0b0JlV2l0aGluUmFuZ2UoZmxvb3I6IG51bWJlciwgY2VpbGluZzogbnVtYmVyKTogUjtcbiAgICB9XG4gIH1cbiAgXG4gIHZhciB0ZXN0VXRpbHM6IEV4dGVuZGVkVGVzdFV0aWxzO1xufVxuXG5leHBvcnQge307Il0sInZlcnNpb24iOjN9