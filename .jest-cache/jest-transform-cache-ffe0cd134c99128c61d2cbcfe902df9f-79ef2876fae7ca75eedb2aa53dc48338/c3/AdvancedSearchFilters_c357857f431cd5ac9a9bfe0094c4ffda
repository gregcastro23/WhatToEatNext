022888695a6926bd56dbc227dc737ca9
"use strict";
'use client';
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const lucide_react_1 = require("lucide-react");
// ========== CONSTANTS ==========
const DIETARY_RESTRICTIONS = [
    'vegetarian',
    'vegan',
    'gluten-free',
    'dairy-free',
    'nut-free',
    'low-carb',
    'keto',
    'paleo',
    'halal',
    'kosher'
];
const DIFFICULTY_LEVELS = [
    'beginner',
    'easy',
    'medium',
    'hard',
    'expert'
];
const COOKING_TIME_RANGES = [
    { label: 'Quick (< 30 min)', min: 0, max: 30 },
    { label: 'Medium (30-60 min)', min: 30, max: 60 },
    { label: 'Long (1-2 hours)', min: 60, max: 120 },
    { label: 'Extended (2+ hours)', min: 120, max: 480 }
];
const MEAL_TYPES = [
    'breakfast',
    'lunch',
    'dinner',
    'snack',
    'appetizer',
    'dessert',
    'beverage'
];
const SPICINESS_LEVELS = [
    'mild',
    'medium',
    'hot',
    'very-hot'
];
const DEFAULT_CUISINES = [
    'italian',
    'chinese',
    'japanese',
    'indian',
    'thai',
    'mexican',
    'french',
    'mediterranean',
    'middle-eastern',
    'korean',
    'vietnamese',
    'greek'
];
// ========== COMPONENT ==========
function AdvancedSearchFilters({ onFiltersChange, onSearch, availableCuisines = DEFAULT_CUISINES, className = '' }) {
    // ========== STATE ==========
    const [isExpanded, setIsExpanded] = (0, react_1.useState)(false);
    const [searchQuery, setSearchQuery] = (0, react_1.useState)('');
    const [filters, setFilters] = (0, react_1.useState)({
        query: '',
        dietaryRestrictions: [],
        difficultyLevel: [],
        cookingTime: { min: 0, max: 480 },
        cuisineTypes: [],
        mealTypes: [],
        spiciness: [],
        ingredients: []
    });
    // ========== MEMOIZED VALUES ==========
    const activeFilters = (0, react_1.useMemo)(() => {
        const chips = [];
        // Dietary restrictions
        filters.dietaryRestrictions.forEach(restriction => {
            chips.push({
                id: `dietary-${restriction}`,
                label: restriction.charAt(0).toUpperCase() + restriction.slice(1),
                category: 'Dietary',
                value: restriction,
                removable: true
            });
        });
        // Difficulty levels
        filters.difficultyLevel.forEach(level => {
            chips.push({
                id: `difficulty-${level}`,
                label: level.charAt(0).toUpperCase() + level.slice(1),
                category: 'Difficulty',
                value: level,
                removable: true
            });
        });
        // Cooking time
        if (filters.cookingTime.min > 0 || filters.cookingTime.max < 480) {
            chips.push({
                id: 'cooking-time',
                label: `${filters.cookingTime.min}-${filters.cookingTime.max} min`,
                category: 'Time',
                value: `${filters.cookingTime.min}-${filters.cookingTime.max}`,
                removable: true
            });
        }
        // Cuisine types
        filters.cuisineTypes.forEach(cuisine => {
            chips.push({
                id: `cuisine-${cuisine}`,
                label: cuisine.charAt(0).toUpperCase() + cuisine.slice(1),
                category: 'Cuisine',
                value: cuisine,
                removable: true
            });
        });
        // Meal types
        filters.mealTypes.forEach(meal => {
            chips.push({
                id: `meal-${meal}`,
                label: meal.charAt(0).toUpperCase() + meal.slice(1),
                category: 'Meal',
                value: meal,
                removable: true
            });
        });
        // Spiciness
        filters.spiciness.forEach(spice => {
            chips.push({
                id: `spice-${spice}`,
                label: spice.charAt(0).toUpperCase() + spice.slice(1),
                category: 'Spice',
                value: spice,
                removable: true
            });
        });
        return chips;
    }, [filters]);
    const hasActiveFilters = (0, react_1.useMemo)(() => {
        return activeFilters.length > 0 || searchQuery.trim().length > 0;
    }, [activeFilters, searchQuery]);
    // ========== EVENT HANDLERS ==========
    const handleSearchChange = (0, react_1.useCallback)((value) => {
        setSearchQuery(value);
        const updatedFilters = { ...filters, query: value };
        setFilters(updatedFilters);
        onFiltersChange(updatedFilters);
    }, [filters, onFiltersChange]);
    const handleSearchSubmit = (0, react_1.useCallback)((e) => {
        e.preventDefault();
        onSearch(searchQuery);
    }, [searchQuery, onSearch]);
    const handleFilterToggle = (0, react_1.useCallback)((category, value) => {
        const updatedFilters = { ...filters };
        if (Array.isArray(updatedFilters[category])) {
            const currentArray = updatedFilters[category];
            const index = currentArray.indexOf(value);
            if (index > -1) {
                currentArray.splice(index, 1);
            }
            else {
                currentArray.push(value);
            }
        }
        setFilters(updatedFilters);
        onFiltersChange(updatedFilters);
    }, [filters, onFiltersChange]);
    const handleTimeRangeChange = (0, react_1.useCallback)((min, max) => {
        const updatedFilters = {
            ...filters,
            cookingTime: { min, max }
        };
        setFilters(updatedFilters);
        onFiltersChange(updatedFilters);
    }, [filters, onFiltersChange]);
    const handleRemoveFilter = (0, react_1.useCallback)((chipId) => {
        const updatedFilters = { ...filters };
        if (chipId.startsWith('dietary-')) {
            const value = chipId.replace('dietary-', '');
            updatedFilters.dietaryRestrictions = updatedFilters.dietaryRestrictions.filter(r => r !== value);
        }
        else if (chipId.startsWith('difficulty-')) {
            const value = chipId.replace('difficulty-', '');
            updatedFilters.difficultyLevel = updatedFilters.difficultyLevel.filter(d => d !== value);
        }
        else if (chipId === 'cooking-time') {
            updatedFilters.cookingTime = { min: 0, max: 480 };
        }
        else if (chipId.startsWith('cuisine-')) {
            const value = chipId.replace('cuisine-', '');
            updatedFilters.cuisineTypes = updatedFilters.cuisineTypes.filter(c => c !== value);
        }
        else if (chipId.startsWith('meal-')) {
            const value = chipId.replace('meal-', '');
            updatedFilters.mealTypes = updatedFilters.mealTypes.filter(m => m !== value);
        }
        else if (chipId.startsWith('spice-')) {
            const value = chipId.replace('spice-', '');
            updatedFilters.spiciness = updatedFilters.spiciness.filter(s => s !== value);
        }
        setFilters(updatedFilters);
        onFiltersChange(updatedFilters);
    }, [filters, onFiltersChange]);
    const handleClearAllFilters = (0, react_1.useCallback)(() => {
        const clearedFilters = {
            query: '',
            dietaryRestrictions: [],
            difficultyLevel: [],
            cookingTime: { min: 0, max: 480 },
            cuisineTypes: [],
            mealTypes: [],
            spiciness: [],
            ingredients: []
        };
        setSearchQuery('');
        setFilters(clearedFilters);
        onFiltersChange(clearedFilters);
    }, [onFiltersChange]);
    // ========== RENDER HELPERS ==========
    const renderFilterSection = (title, icon, options, selectedValues, category) => ((0, jsx_runtime_1.jsxs)("div", { className: "mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2 mb-2", children: [icon, (0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium text-gray-700", children: title })] }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-2", children: options.map(option => ((0, jsx_runtime_1.jsx)("button", { onClick: () => handleFilterToggle(category, option), className: `px-3 py-1 text-xs rounded-full border transition-colors ${selectedValues.includes(option)
                        ? 'bg-blue-100 border-blue-300 text-blue-700'
                        : 'bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100'}`, children: option.charAt(0).toUpperCase() + option.slice(1) }, option))) })] }));
    const renderTimeRangeSection = () => ((0, jsx_runtime_1.jsxs)("div", { className: "mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2 mb-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { size: 16, className: "text-gray-500" }), (0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium text-gray-700", children: "Cooking Time" })] }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-2", children: COOKING_TIME_RANGES.map(range => ((0, jsx_runtime_1.jsx)("button", { onClick: () => handleTimeRangeChange(range.min, range.max), className: `px-3 py-1 text-xs rounded-full border transition-colors ${filters.cookingTime.min === range.min && filters.cookingTime.max === range.max
                        ? 'bg-blue-100 border-blue-300 text-blue-700'
                        : 'bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100'}`, children: range.label }, range.label))) })] }));
    // ========== RENDER ==========
    return ((0, jsx_runtime_1.jsxs)("div", { className: `bg-white rounded-lg border ${className}`, children: [(0, jsx_runtime_1.jsx)("form", { onSubmit: handleSearchSubmit, className: "p-4 border-b", children: (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { size: 20, className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" }), (0, jsx_runtime_1.jsx)("input", { type: "text", value: searchQuery, onChange: (e) => handleSearchChange(e.target.value), placeholder: "Search cuisines, recipes, or ingredients...", className: "w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" }), (0, jsx_runtime_1.jsx)("button", { type: "button", onClick: () => setIsExpanded(!isExpanded), className: `absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded transition-colors ${isExpanded ? 'text-blue-600 bg-blue-50' : 'text-gray-400 hover:text-gray-600'}`, "aria-label": "Toggle filters", title: "Toggle filters", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Filter, { size: 16 }) })] }) }), hasActiveFilters && ((0, jsx_runtime_1.jsxs)("div", { className: "p-4 border-b bg-gray-50", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Active Filters" }), (0, jsx_runtime_1.jsx)("button", { onClick: handleClearAllFilters, className: "text-xs text-gray-500 hover:text-gray-700", children: "Clear All" })] }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-2", children: activeFilters.map(chip => ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full", children: [(0, jsx_runtime_1.jsxs)("span", { className: "text-blue-500 text-xs", children: [chip.category, ":"] }), (0, jsx_runtime_1.jsx)("span", { children: chip.label }), chip.removable && ((0, jsx_runtime_1.jsx)("button", { onClick: () => handleRemoveFilter(chip.id), className: "ml-1 text-blue-500 hover:text-blue-700", children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { size: 12 }) }))] }, chip.id))) })] })), isExpanded && ((0, jsx_runtime_1.jsxs)("div", { className: "p-4 space-y-4", children: [renderFilterSection('Dietary Restrictions', (0, jsx_runtime_1.jsx)(lucide_react_1.Utensils, { size: 16, className: "text-green-500" }), DIETARY_RESTRICTIONS, filters.dietaryRestrictions, 'dietaryRestrictions'), renderFilterSection('Difficulty Level', (0, jsx_runtime_1.jsx)(lucide_react_1.ChefHat, { size: 16, className: "text-orange-500" }), DIFFICULTY_LEVELS, filters.difficultyLevel, 'difficultyLevel'), renderTimeRangeSection(), renderFilterSection('Cuisine Types', (0, jsx_runtime_1.jsx)(lucide_react_1.Globe, { size: 16, className: "text-purple-500" }), availableCuisines, filters.cuisineTypes, 'cuisineTypes'), renderFilterSection('Meal Types', (0, jsx_runtime_1.jsx)(lucide_react_1.Utensils, { size: 16, className: "text-blue-500" }), MEAL_TYPES, filters.mealTypes, 'mealTypes'), renderFilterSection('Spiciness Level', (0, jsx_runtime_1.jsx)("span", { className: "text-red-500", children: "\uD83C\uDF36\uFE0F" }), SPICINESS_LEVELS, filters.spiciness, 'spiciness')] }))] }));
}
exports.default = AdvancedSearchFilters;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9jb21wb25lbnRzL0FkdmFuY2VkU2VhcmNoRmlsdGVycy50c3giLCJtYXBwaW5ncyI6IjtBQUFBLFlBQVksQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFYiwrQ0FBOEQ7QUFDOUQsK0NBQWtGO0FBaUNsRixrQ0FBa0M7QUFFbEMsTUFBTSxvQkFBb0IsR0FBRztJQUMzQixZQUFZO0lBQ1osT0FBTztJQUNQLGFBQWE7SUFDYixZQUFZO0lBQ1osVUFBVTtJQUNWLFVBQVU7SUFDVixNQUFNO0lBQ04sT0FBTztJQUNQLE9BQU87SUFDUCxRQUFRO0NBQ1QsQ0FBQztBQUVGLE1BQU0saUJBQWlCLEdBQUc7SUFDeEIsVUFBVTtJQUNWLE1BQU07SUFDTixRQUFRO0lBQ1IsTUFBTTtJQUNOLFFBQVE7Q0FDVCxDQUFDO0FBRUYsTUFBTSxtQkFBbUIsR0FBRztJQUMxQixFQUFFLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUU7SUFDOUMsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFO0lBQ2pELEVBQUUsS0FBSyxFQUFFLGtCQUFrQixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtJQUNoRCxFQUFFLEtBQUssRUFBRSxxQkFBcUIsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7Q0FDckQsQ0FBQztBQUVGLE1BQU0sVUFBVSxHQUFHO0lBQ2pCLFdBQVc7SUFDWCxPQUFPO0lBQ1AsUUFBUTtJQUNSLE9BQU87SUFDUCxXQUFXO0lBQ1gsU0FBUztJQUNULFVBQVU7Q0FDWCxDQUFDO0FBRUYsTUFBTSxnQkFBZ0IsR0FBRztJQUN2QixNQUFNO0lBQ04sUUFBUTtJQUNSLEtBQUs7SUFDTCxVQUFVO0NBQ1gsQ0FBQztB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Q0FBQyxZQUFZLEVBQ3BCLGNBQWMsQ0FDZixFQUdBLG1CQUFtQixDQUNsQixZQUFZLEVBQ1osdUJBQUMsdUJBQVEsSUFBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBQyxlQUFlLEdBQUcsRUFDaEQsVUFBVSxFQUNWLE9BQU8sQ0FBQyxTQUFTLEVBQ2pCLFdBQVcsQ0FDWixFQUdBLG1CQUFtQixDQUNsQixpQkFBaUIsRUFDakIsaUNBQU0sU0FBUyxFQUFDLGNBQWMsbUNBQVcsRUFDekMsZ0JBQWdCLEVBQ2hCLE9BQU8sQ0FBQyxTQUFTLEVBQ2pCLFdBQVcsQ0FDWixJQUNHLENBQ1AsSUFDRyxDQUNQLENBQUM7QUFDSixDQUFDO0FBdldELHdDQXVXQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvc3JjL2NvbXBvbmVudHMvQWR2YW5jZWRTZWFyY2hGaWx0ZXJzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTZWFyY2gsIEZpbHRlciwgWCwgQ2xvY2ssIENoZWZIYXQsIFV0ZW5zaWxzLCBHbG9iZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbi8vID09PT09PT09PT0gSU5URVJGQUNFUyA9PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoRmlsdGVycyB7XG4gIHF1ZXJ5OiBzdHJpbmc7XG4gIGRpZXRhcnlSZXN0cmljdGlvbnM6IHN0cmluZ1tdO1xuICBkaWZmaWN1bHR5TGV2ZWw6IHN0cmluZ1tdO1xuICBjb29raW5nVGltZToge1xuICAgIG1pbjogbnVtYmVyO1xuICAgIG1heDogbnVtYmVyO1xuICB9O1xuICBjdWlzaW5lVHlwZXM6IHN0cmluZ1tdO1xuICBtZWFsVHlwZXM6IHN0cmluZ1tdO1xuICBzcGljaW5lc3M6IHN0cmluZ1tdO1xuICBpbmdyZWRpZW50czogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsdGVyQ2hpcCB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmcgfCBudW1iZXI7XG4gIHJlbW92YWJsZTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEFkdmFuY2VkU2VhcmNoRmlsdGVyc1Byb3BzIHtcbiAgb25GaWx0ZXJzQ2hhbmdlOiAoZmlsdGVyczogU2VhcmNoRmlsdGVycykgPT4gdm9pZDtcbiAgb25TZWFyY2g6IChxdWVyeTogc3RyaW5nKSA9PiB2b2lkO1xuICBhdmFpbGFibGVDdWlzaW5lcz86IHN0cmluZ1tdO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbi8vID09PT09PT09PT0gQ09OU1RBTlRTID09PT09PT09PT1cblxuY29uc3QgRElFVEFSWV9SRVNUUklDVElPTlMgPSBbXG4gICd2ZWdldGFyaWFuJyxcbiAgJ3ZlZ2FuJyxcbiAgJ2dsdXRlbi1mcmVlJyxcbiAgJ2RhaXJ5LWZyZWUnLFxuICAnbnV0LWZyZWUnLFxuICAnbG93LWNhcmInLFxuICAna2V0bycsXG4gICdwYWxlbycsXG4gICdoYWxhbCcsXG4gICdrb3NoZXInXG5dO1xuXG5jb25zdCBESUZGSUNVTFRZX0xFVkVMUyA9IFtcbiAgJ2JlZ2lubmVyJyxcbiAgJ2Vhc3knLFxuICAnbWVkaXVtJyxcbiAgJ2hhcmQnLFxuICAnZXhwZXJ0J1xuXTtcblxuY29uc3QgQ09PS0lOR19USU1FX1JBTkdFUyA9IFtcbiAgeyBsYWJlbDogJ1F1aWNrICg8IDMwIG1pbiknLCBtaW46IDAsIG1heDogMzAgfSxcbiAgeyBsYWJlbDogJ01lZGl1bSAoMzAtNjAgbWluKScsIG1pbjogMzAsIG1heDogNjAgfSxcbiAgeyBsYWJlbDogJ0xvbmcgKDEtMiBob3VycyknLCBtaW46IDYwLCBtYXg6IDEyMCB9LFxuICB7IGxhYmVsOiAnRXh0ZW5kZWQgKDIrIGhvdXJzKScsIG1pbjogMTIwLCBtYXg6IDQ4MCB9XG5dO1xuXG5jb25zdCBNRUFMX1RZUEVTID0gW1xuICAnYnJlYWtmYXN0JyxcbiAgJ2x1bmNoJyxcbiAgJ2Rpbm5lcicsXG4gICdzbmFjaycsXG4gICdhcHBldGl6ZXInLFxuICAnZGVzc2VydCcsXG4gICdiZXZlcmFnZSdcbl07XG5cbmNvbnN0IFNQSUNJTkVTU19MRVZFTFMgPSBbXG4gICdtaWxkJyxcbiAgJ21lZGl1bScsXG4gICdob3QnLFxuICAndmVyeS1ob3QnXG5dO1xuXG5jb25zdCBERUZBVUxUX0NVSVNJTkVTID0gW1xuICAnaXRhbGlhbicsXG4gICdjaGluZXNlJyxcbiAgJ2phcGFuZXNlJyxcbiAgJ2luZGlhbicsXG4gICd0aGFpJyxcbiAgJ21leGljYW4nLFxuICAnZnJlbmNoJyxcbiAgJ21lZGl0ZXJyYW5lYW4nLFxuICAnbWlkZGxlLWVhc3Rlcm4nLFxuICAna29yZWFuJyxcbiAgJ3ZpZXRuYW1lc2UnLFxuICAnZ3JlZWsnXG5dO1xuXG4vLyA9PT09PT09PT09IENPTVBPTkVOVCA9PT09PT09PT09XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkdmFuY2VkU2VhcmNoRmlsdGVycyh7XG4gIG9uRmlsdGVyc0NoYW5nZSxcbiAgb25TZWFyY2gsXG4gIGF2YWlsYWJsZUN1aXNpbmVzID0gREVGQVVMVF9DVUlTSU5FUyxcbiAgY2xhc3NOYW1lID0gJydcbn06IEFkdmFuY2VkU2VhcmNoRmlsdGVyc1Byb3BzKSB7XG4gIC8vID09PT09PT09PT0gU1RBVEUgPT09PT09PT09PVxuICBcbiAgY29uc3QgW2lzRXhwYW5kZWQsIHNldElzRXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2ZpbHRlcnMsIHNldEZpbHRlcnNdID0gdXNlU3RhdGU8U2VhcmNoRmlsdGVycz4oe1xuICAgIHF1ZXJ5OiAnJyxcbiAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiBbXSxcbiAgICBkaWZmaWN1bHR5TGV2ZWw6IFtdLFxuICAgIGNvb2tpbmdUaW1lOiB7IG1pbjogMCwgbWF4OiA0ODAgfSxcbiAgICBjdWlzaW5lVHlwZXM6IFtdLFxuICAgIG1lYWxUeXBlczogW10sXG4gICAgc3BpY2luZXNzOiBbXSxcbiAgICBpbmdyZWRpZW50czogW11cbiAgfSk7XG5cbiAgLy8gPT09PT09PT09PSBNRU1PSVpFRCBWQUxVRVMgPT09PT09PT09PVxuXG4gIGNvbnN0IGFjdGl2ZUZpbHRlcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjaGlwczogRmlsdGVyQ2hpcFtdID0gW107XG4gICAgXG4gICAgLy8gRGlldGFyeSByZXN0cmljdGlvbnNcbiAgICBmaWx0ZXJzLmRpZXRhcnlSZXN0cmljdGlvbnMuZm9yRWFjaChyZXN0cmljdGlvbiA9PiB7XG4gICAgICBjaGlwcy5wdXNoKHtcbiAgICAgICAgaWQ6IGBkaWV0YXJ5LSR7cmVzdHJpY3Rpb259YCxcbiAgICAgICAgbGFiZWw6IHJlc3RyaWN0aW9uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzdHJpY3Rpb24uc2xpY2UoMSksXG4gICAgICAgIGNhdGVnb3J5OiAnRGlldGFyeScsXG4gICAgICAgIHZhbHVlOiByZXN0cmljdGlvbixcbiAgICAgICAgcmVtb3ZhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIERpZmZpY3VsdHkgbGV2ZWxzXG4gICAgZmlsdGVycy5kaWZmaWN1bHR5TGV2ZWwuZm9yRWFjaChsZXZlbCA9PiB7XG4gICAgICBjaGlwcy5wdXNoKHtcbiAgICAgICAgaWQ6IGBkaWZmaWN1bHR5LSR7bGV2ZWx9YCxcbiAgICAgICAgbGFiZWw6IGxldmVsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbGV2ZWwuc2xpY2UoMSksXG4gICAgICAgIGNhdGVnb3J5OiAnRGlmZmljdWx0eScsXG4gICAgICAgIHZhbHVlOiBsZXZlbCxcbiAgICAgICAgcmVtb3ZhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIENvb2tpbmcgdGltZVxuICAgIGlmIChmaWx0ZXJzLmNvb2tpbmdUaW1lLm1pbiA+IDAgfHwgZmlsdGVycy5jb29raW5nVGltZS5tYXggPCA0ODApIHtcbiAgICAgIGNoaXBzLnB1c2goe1xuICAgICAgICBpZDogJ2Nvb2tpbmctdGltZScsXG4gICAgICAgIGxhYmVsOiBgJHtmaWx0ZXJzLmNvb2tpbmdUaW1lLm1pbn0tJHtmaWx0ZXJzLmNvb2tpbmdUaW1lLm1heH0gbWluYCxcbiAgICAgICAgY2F0ZWdvcnk6ICdUaW1lJyxcbiAgICAgICAgdmFsdWU6IGAke2ZpbHRlcnMuY29va2luZ1RpbWUubWlufS0ke2ZpbHRlcnMuY29va2luZ1RpbWUubWF4fWAsXG4gICAgICAgIHJlbW92YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ3Vpc2luZSB0eXBlc1xuICAgIGZpbHRlcnMuY3Vpc2luZVR5cGVzLmZvckVhY2goY3Vpc2luZSA9PiB7XG4gICAgICBjaGlwcy5wdXNoKHtcbiAgICAgICAgaWQ6IGBjdWlzaW5lLSR7Y3Vpc2luZX1gLFxuICAgICAgICBsYWJlbDogY3Vpc2luZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGN1aXNpbmUuc2xpY2UoMSksXG4gICAgICAgIGNhdGVnb3J5OiAnQ3Vpc2luZScsXG4gICAgICAgIHZhbHVlOiBjdWlzaW5lLFxuICAgICAgICByZW1vdmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gTWVhbCB0eXBlc1xuICAgIGZpbHRlcnMubWVhbFR5cGVzLmZvckVhY2gobWVhbCA9PiB7XG4gICAgICBjaGlwcy5wdXNoKHtcbiAgICAgICAgaWQ6IGBtZWFsLSR7bWVhbH1gLFxuICAgICAgICBsYWJlbDogbWVhbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG1lYWwuc2xpY2UoMSksXG4gICAgICAgIGNhdGVnb3J5OiAnTWVhbCcsXG4gICAgICAgIHZhbHVlOiBtZWFsLFxuICAgICAgICByZW1vdmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gU3BpY2luZXNzXG4gICAgZmlsdGVycy5zcGljaW5lc3MuZm9yRWFjaChzcGljZSA9PiB7XG4gICAgICBjaGlwcy5wdXNoKHtcbiAgICAgICAgaWQ6IGBzcGljZS0ke3NwaWNlfWAsXG4gICAgICAgIGxhYmVsOiBzcGljZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHNwaWNlLnNsaWNlKDEpLFxuICAgICAgICBjYXRlZ29yeTogJ1NwaWNlJyxcbiAgICAgICAgdmFsdWU6IHNwaWNlLFxuICAgICAgICByZW1vdmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNoaXBzO1xuICB9LCBbZmlsdGVyc10pO1xuXG4gIGNvbnN0IGhhc0FjdGl2ZUZpbHRlcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gYWN0aXZlRmlsdGVycy5sZW5ndGggPiAwIHx8IHNlYXJjaFF1ZXJ5LnRyaW0oKS5sZW5ndGggPiAwO1xuICB9LCBbYWN0aXZlRmlsdGVycywgc2VhcmNoUXVlcnldKTtcblxuICAvLyA9PT09PT09PT09IEVWRU5UIEhBTkRMRVJTID09PT09PT09PT1cblxuICBjb25zdCBoYW5kbGVTZWFyY2hDaGFuZ2UgPSB1c2VDYWxsYmFjaygodmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldFNlYXJjaFF1ZXJ5KHZhbHVlKTtcbiAgICBjb25zdCB1cGRhdGVkRmlsdGVycyA9IHsgLi4uZmlsdGVycywgcXVlcnk6IHZhbHVlIH07XG4gICAgc2V0RmlsdGVycyh1cGRhdGVkRmlsdGVycyk7XG4gICAgb25GaWx0ZXJzQ2hhbmdlKHVwZGF0ZWRGaWx0ZXJzKTtcbiAgfSwgW2ZpbHRlcnMsIG9uRmlsdGVyc0NoYW5nZV0pO1xuXG4gIGNvbnN0IGhhbmRsZVNlYXJjaFN1Ym1pdCA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgb25TZWFyY2goc2VhcmNoUXVlcnkpO1xuICB9LCBbc2VhcmNoUXVlcnksIG9uU2VhcmNoXSk7XG5cbiAgY29uc3QgaGFuZGxlRmlsdGVyVG9nZ2xlID0gdXNlQ2FsbGJhY2soKFxuICAgIGNhdGVnb3J5OiBrZXlvZiBTZWFyY2hGaWx0ZXJzLFxuICAgIHZhbHVlOiBzdHJpbmdcbiAgKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZEZpbHRlcnMgPSB7IC4uLmZpbHRlcnMgfTtcbiAgICBcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh1cGRhdGVkRmlsdGVyc1tjYXRlZ29yeV0pKSB7XG4gICAgICBjb25zdCBjdXJyZW50QXJyYXkgPSB1cGRhdGVkRmlsdGVyc1tjYXRlZ29yeV0gYXMgc3RyaW5nW107XG4gICAgICBjb25zdCBpbmRleCA9IGN1cnJlbnRBcnJheS5pbmRleE9mKHZhbHVlKTtcbiAgICAgIFxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgY3VycmVudEFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50QXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHNldEZpbHRlcnModXBkYXRlZEZpbHRlcnMpO1xuICAgIG9uRmlsdGVyc0NoYW5nZSh1cGRhdGVkRmlsdGVycyk7XG4gIH0sIFtmaWx0ZXJzLCBvbkZpbHRlcnNDaGFuZ2VdKTtcblxuICBjb25zdCBoYW5kbGVUaW1lUmFuZ2VDaGFuZ2UgPSB1c2VDYWxsYmFjaygobWluOiBudW1iZXIsIG1heDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZEZpbHRlcnMgPSB7XG4gICAgICAuLi5maWx0ZXJzLFxuICAgICAgY29va2luZ1RpbWU6IHsgbWluLCBtYXggfVxuICAgIH07XG4gICAgc2V0RmlsdGVycyh1cGRhdGVkRmlsdGVycyk7XG4gICAgb25GaWx0ZXJzQ2hhbmdlKHVwZGF0ZWRGaWx0ZXJzKTtcbiAgfSwgW2ZpbHRlcnMsIG9uRmlsdGVyc0NoYW5nZV0pO1xuXG4gIGNvbnN0IGhhbmRsZVJlbW92ZUZpbHRlciA9IHVzZUNhbGxiYWNrKChjaGlwSWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRGaWx0ZXJzID0geyAuLi5maWx0ZXJzIH07XG4gICAgXG4gICAgaWYgKGNoaXBJZC5zdGFydHNXaXRoKCdkaWV0YXJ5LScpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNoaXBJZC5yZXBsYWNlKCdkaWV0YXJ5LScsICcnKTtcbiAgICAgIHVwZGF0ZWRGaWx0ZXJzLmRpZXRhcnlSZXN0cmljdGlvbnMgPSB1cGRhdGVkRmlsdGVycy5kaWV0YXJ5UmVzdHJpY3Rpb25zLmZpbHRlcihyID0+IHIgIT09IHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGNoaXBJZC5zdGFydHNXaXRoKCdkaWZmaWN1bHR5LScpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNoaXBJZC5yZXBsYWNlKCdkaWZmaWN1bHR5LScsICcnKTtcbiAgICAgIHVwZGF0ZWRGaWx0ZXJzLmRpZmZpY3VsdHlMZXZlbCA9IHVwZGF0ZWRGaWx0ZXJzLmRpZmZpY3VsdHlMZXZlbC5maWx0ZXIoZCA9PiBkICE9PSB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChjaGlwSWQgPT09ICdjb29raW5nLXRpbWUnKSB7XG4gICAgICB1cGRhdGVkRmlsdGVycy5jb29raW5nVGltZSA9IHsgbWluOiAwLCBtYXg6IDQ4MCB9O1xuICAgIH0gZWxzZSBpZiAoY2hpcElkLnN0YXJ0c1dpdGgoJ2N1aXNpbmUtJykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gY2hpcElkLnJlcGxhY2UoJ2N1aXNpbmUtJywgJycpO1xuICAgICAgdXBkYXRlZEZpbHRlcnMuY3Vpc2luZVR5cGVzID0gdXBkYXRlZEZpbHRlcnMuY3Vpc2luZVR5cGVzLmZpbHRlcihjID0+IGMgIT09IHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGNoaXBJZC5zdGFydHNXaXRoKCdtZWFsLScpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNoaXBJZC5yZXBsYWNlKCdtZWFsLScsICcnKTtcbiAgICAgIHVwZGF0ZWRGaWx0ZXJzLm1lYWxUeXBlcyA9IHVwZGF0ZWRGaWx0ZXJzLm1lYWxUeXBlcy5maWx0ZXIobSA9PiBtICE9PSB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChjaGlwSWQuc3RhcnRzV2l0aCgnc3BpY2UtJykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gY2hpcElkLnJlcGxhY2UoJ3NwaWNlLScsICcnKTtcbiAgICAgIHVwZGF0ZWRGaWx0ZXJzLnNwaWNpbmVzcyA9IHVwZGF0ZWRGaWx0ZXJzLnNwaWNpbmVzcy5maWx0ZXIocyA9PiBzICE9PSB2YWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIHNldEZpbHRlcnModXBkYXRlZEZpbHRlcnMpO1xuICAgIG9uRmlsdGVyc0NoYW5nZSh1cGRhdGVkRmlsdGVycyk7XG4gIH0sIFtmaWx0ZXJzLCBvbkZpbHRlcnNDaGFuZ2VdKTtcblxuICBjb25zdCBoYW5kbGVDbGVhckFsbEZpbHRlcnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgY2xlYXJlZEZpbHRlcnM6IFNlYXJjaEZpbHRlcnMgPSB7XG4gICAgICBxdWVyeTogJycsXG4gICAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiBbXSxcbiAgICAgIGRpZmZpY3VsdHlMZXZlbDogW10sXG4gICAgICBjb29raW5nVGltZTogeyBtaW46IDAsIG1heDogNDgwIH0sXG4gICAgICBjdWlzaW5lVHlwZXM6IFtdLFxuICAgICAgbWVhbFR5cGVzOiBbXSxcbiAgICAgIHNwaWNpbmVzczogW10sXG4gICAgICBpbmdyZWRpZW50czogW11cbiAgICB9O1xuICAgIFxuICAgIHNldFNlYXJjaFF1ZXJ5KCcnKTtcbiAgICBzZXRGaWx0ZXJzKGNsZWFyZWRGaWx0ZXJzKTtcbiAgICBvbkZpbHRlcnNDaGFuZ2UoY2xlYXJlZEZpbHRlcnMpO1xuICB9LCBbb25GaWx0ZXJzQ2hhbmdlXSk7XG5cbiAgLy8gPT09PT09PT09PSBSRU5ERVIgSEVMUEVSUyA9PT09PT09PT09XG5cbiAgY29uc3QgcmVuZGVyRmlsdGVyU2VjdGlvbiA9IChcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIGljb246IFJlYWN0LlJlYWN0Tm9kZSxcbiAgICBvcHRpb25zOiBzdHJpbmdbXSxcbiAgICBzZWxlY3RlZFZhbHVlczogc3RyaW5nW10sXG4gICAgY2F0ZWdvcnk6IGtleW9mIFNlYXJjaEZpbHRlcnNcbiAgKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBtYi0yXCI+XG4gICAgICAgIHtpY29ufVxuICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+e3RpdGxlfTwvaDQ+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAge29wdGlvbnMubWFwKG9wdGlvbiA9PiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAga2V5PXtvcHRpb259XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVGaWx0ZXJUb2dnbGUoY2F0ZWdvcnksIG9wdGlvbil9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEgdGV4dC14cyByb3VuZGVkLWZ1bGwgYm9yZGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVzLmluY2x1ZGVzKG9wdGlvbilcbiAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTEwMCBib3JkZXItYmx1ZS0zMDAgdGV4dC1ibHVlLTcwMCdcbiAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTUwIGJvcmRlci1ncmF5LTIwMCB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge29wdGlvbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG9wdGlvbi5zbGljZSgxKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcblxuICBjb25zdCByZW5kZXJUaW1lUmFuZ2VTZWN0aW9uID0gKCkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgbWItMlwiPlxuICAgICAgICA8Q2xvY2sgc2l6ZT17MTZ9IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+Q29va2luZyBUaW1lPC9oND5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICB7Q09PS0lOR19USU1FX1JBTkdFUy5tYXAocmFuZ2UgPT4gKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGtleT17cmFuZ2UubGFiZWx9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUaW1lUmFuZ2VDaGFuZ2UocmFuZ2UubWluLCByYW5nZS5tYXgpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIHRleHQteHMgcm91bmRlZC1mdWxsIGJvcmRlciB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBmaWx0ZXJzLmNvb2tpbmdUaW1lLm1pbiA9PT0gcmFuZ2UubWluICYmIGZpbHRlcnMuY29va2luZ1RpbWUubWF4ID09PSByYW5nZS5tYXhcbiAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTEwMCBib3JkZXItYmx1ZS0zMDAgdGV4dC1ibHVlLTcwMCdcbiAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTUwIGJvcmRlci1ncmF5LTIwMCB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3JhbmdlLmxhYmVsfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xuXG4gIC8vID09PT09PT09PT0gUkVOREVSID09PT09PT09PT1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgYmctd2hpdGUgcm91bmRlZC1sZyBib3JkZXIgJHtjbGFzc05hbWV9YH0+XG4gICAgICB7LyogU2VhcmNoIEJhciAqL31cbiAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTZWFyY2hTdWJtaXR9IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgPFNlYXJjaCBzaXplPXsyMH0gY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17c2VhcmNoUXVlcnl9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVNlYXJjaENoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBjdWlzaW5lcywgcmVjaXBlcywgb3IgaW5ncmVkaWVudHMuLi5cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHBsLTEwIHByLTEyIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRXhwYW5kZWQoIWlzRXhwYW5kZWQpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgYWJzb2x1dGUgcmlnaHQtMyB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIHAtMSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgIGlzRXhwYW5kZWQgPyAndGV4dC1ibHVlLTYwMCBiZy1ibHVlLTUwJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJUb2dnbGUgZmlsdGVyc1wiXG4gICAgICAgICAgICB0aXRsZT1cIlRvZ2dsZSBmaWx0ZXJzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RmlsdGVyIHNpemU9ezE2fSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cblxuICAgICAgey8qIEFjdGl2ZSBGaWx0ZXIgQ2hpcHMgKi99XG4gICAgICB7aGFzQWN0aXZlRmlsdGVycyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJnLWdyYXktNTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5BY3RpdmUgRmlsdGVyczwvc3Bhbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xlYXJBbGxGaWx0ZXJzfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIENsZWFyIEFsbFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAge2FjdGl2ZUZpbHRlcnMubWFwKGNoaXAgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtjaGlwLmlkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBweC0yIHB5LTEgYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTcwMCB0ZXh0LXhzIHJvdW5kZWQtZnVsbFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwIHRleHQteHNcIj57Y2hpcC5jYXRlZ29yeX06PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPntjaGlwLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7Y2hpcC5yZW1vdmFibGUgJiYgKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZW1vdmVGaWx0ZXIoY2hpcC5pZCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1ibHVlLTUwMCBob3Zlcjp0ZXh0LWJsdWUtNzAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFggc2l6ZT17MTJ9IC8+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBFeHBhbmRlZCBGaWx0ZXJzICovfVxuICAgICAge2lzRXhwYW5kZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBzcGFjZS15LTRcIj5cbiAgICAgICAgICB7LyogRGlldGFyeSBSZXN0cmljdGlvbnMgKi99XG4gICAgICAgICAge3JlbmRlckZpbHRlclNlY3Rpb24oXG4gICAgICAgICAgICAnRGlldGFyeSBSZXN0cmljdGlvbnMnLFxuICAgICAgICAgICAgPFV0ZW5zaWxzIHNpemU9ezE2fSBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTUwMFwiIC8+LFxuICAgICAgICAgICAgRElFVEFSWV9SRVNUUklDVElPTlMsXG4gICAgICAgICAgICBmaWx0ZXJzLmRpZXRhcnlSZXN0cmljdGlvbnMsXG4gICAgICAgICAgICAnZGlldGFyeVJlc3RyaWN0aW9ucydcbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIERpZmZpY3VsdHkgTGV2ZWwgKi99XG4gICAgICAgICAge3JlbmRlckZpbHRlclNlY3Rpb24oXG4gICAgICAgICAgICAnRGlmZmljdWx0eSBMZXZlbCcsXG4gICAgICAgICAgICA8Q2hlZkhhdCBzaXplPXsxNn0gY2xhc3NOYW1lPVwidGV4dC1vcmFuZ2UtNTAwXCIgLz4sXG4gICAgICAgICAgICBESUZGSUNVTFRZX0xFVkVMUyxcbiAgICAgICAgICAgIGZpbHRlcnMuZGlmZmljdWx0eUxldmVsLFxuICAgICAgICAgICAgJ2RpZmZpY3VsdHlMZXZlbCdcbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIENvb2tpbmcgVGltZSAqL31cbiAgICAgICAgICB7cmVuZGVyVGltZVJhbmdlU2VjdGlvbigpfVxuXG4gICAgICAgICAgey8qIEN1aXNpbmUgVHlwZXMgKi99XG4gICAgICAgICAge3JlbmRlckZpbHRlclNlY3Rpb24oXG4gICAgICAgICAgICAnQ3Vpc2luZSBUeXBlcycsXG4gICAgICAgICAgICA8R2xvYmUgc2l6ZT17MTZ9IGNsYXNzTmFtZT1cInRleHQtcHVycGxlLTUwMFwiIC8+LFxuICAgICAgICAgICAgYXZhaWxhYmxlQ3Vpc2luZXMsXG4gICAgICAgICAgICBmaWx0ZXJzLmN1aXNpbmVUeXBlcyxcbiAgICAgICAgICAgICdjdWlzaW5lVHlwZXMnXG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBNZWFsIFR5cGVzICovfVxuICAgICAgICAgIHtyZW5kZXJGaWx0ZXJTZWN0aW9uKFxuICAgICAgICAgICAgJ01lYWwgVHlwZXMnLFxuICAgICAgICAgICAgPFV0ZW5zaWxzIHNpemU9ezE2fSBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwXCIgLz4sXG4gICAgICAgICAgICBNRUFMX1RZUEVTLFxuICAgICAgICAgICAgZmlsdGVycy5tZWFsVHlwZXMsXG4gICAgICAgICAgICAnbWVhbFR5cGVzJ1xuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogU3BpY2luZXNzICovfVxuICAgICAgICAgIHtyZW5kZXJGaWx0ZXJTZWN0aW9uKFxuICAgICAgICAgICAgJ1NwaWNpbmVzcyBMZXZlbCcsXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDBcIj7wn4y277iPPC9zcGFuPixcbiAgICAgICAgICAgIFNQSUNJTkVTU19MRVZFTFMsXG4gICAgICAgICAgICBmaWx0ZXJzLnNwaWNpbmVzcyxcbiAgICAgICAgICAgICdzcGljaW5lc3MnXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufSJdLCJ2ZXJzaW9uIjozfQ==