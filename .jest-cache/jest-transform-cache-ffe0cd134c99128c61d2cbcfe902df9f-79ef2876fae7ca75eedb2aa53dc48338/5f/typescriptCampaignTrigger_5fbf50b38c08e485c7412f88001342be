ca5f0173c76b446ff5c62eaac96fe01f
"use strict";
/**
 * TypeScript Campaign Trigger Utilities
 *
 * This module provides comprehensive TypeScript error monitoring and campaign
 * system integration for automated error reduction and code quality improvement.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkCampaignTriggerConditions = exports.getCurrentTypeScriptErrorCount = exports.analyzeTypeScriptErrors = exports.SafetyLevel = exports.ErrorSeverity = exports.ErrorCategory = exports.CampaignMode = void 0;
const child_process_1 = require("child_process");
const logger_1 = require("./logger");
var CampaignMode;
(function (CampaignMode) {
    CampaignMode["EMERGENCY"] = "EMERGENCY";
    CampaignMode["AGGRESSIVE"] = "AGGRESSIVE";
    CampaignMode["STANDARD"] = "STANDARD";
    CampaignMode["MONITORING"] = "MONITORING";
})(CampaignMode || (exports.CampaignMode = CampaignMode = {}));
var ErrorCategory;
(function (ErrorCategory) {
    ErrorCategory["TS2352"] = "TS2352";
    ErrorCategory["TS2304"] = "TS2304";
    ErrorCategory["TS2345"] = "TS2345";
    ErrorCategory["TS2698"] = "TS2698";
    ErrorCategory["TS2362"] = "TS2362";
    ErrorCategory["OTHER"] = "OTHER";
})(ErrorCategory || (exports.ErrorCategory = ErrorCategory = {}));
var ErrorSeverity;
(function (ErrorSeverity) {
    ErrorSeverity["HIGH"] = "HIGH";
    ErrorSeverity["MEDIUM"] = "MEDIUM";
    ErrorSeverity["LOW"] = "LOW";
})(ErrorSeverity || (exports.ErrorSeverity = ErrorSeverity = {}));
var SafetyLevel;
(function (SafetyLevel) {
    SafetyLevel["MAXIMUM"] = "MAXIMUM";
    SafetyLevel["HIGH"] = "HIGH";
    SafetyLevel["MEDIUM"] = "MEDIUM";
})(SafetyLevel || (exports.SafetyLevel = SafetyLevel = {}));
// Configuration constants
const ERROR_THRESHOLDS = {
    CRITICAL: 500,
    HIGH: 200,
    MEDIUM: 100,
    MONITORING: 50 // Proactive monitoring only
};
const CATEGORY_SUCCESS_RATES = {
    [ErrorCategory.TS2352]: 0.92,
    [ErrorCategory.TS2304]: 0.95,
    [ErrorCategory.TS2345]: 0.88,
    [ErrorCategory.TS2698]: 0.85,
    [ErrorCategory.TS2362]: 0.90,
    [ErrorCategory.OTHER]: 0.70
};
const CATEGORY_PRIORITY_WEIGHTS = {
    [ErrorCategory.TS2352]: 0.95,
    [ErrorCategory.TS2304]: 0.95,
    [ErrorCategory.TS2345]: 0.88,
    [ErrorCategory.TS2698]: 0.85,
    [ErrorCategory.TS2362]: 0.90,
    [ErrorCategory.OTHER]: 0.70
};
/**
 * Main function to analyze TypeScript errors and determine campaign trigger
 */
async function analyzeTypeScriptErrors() {
    const startTime = Date.now();
    try {
        logger_1.logger.info('Starting TypeScript error analysis for campaign trigger evaluation');
        // 1. Get current TypeScript error count and details
        const errorAnalysis = await getTypeScriptErrorAnalysis();
        // 2. Determine if campaign should be triggered
        const shouldTrigger = shouldTriggerCampaign(errorAnalysis.totalErrors);
        // 3. Determine campaign mode based on error count
        const campaignMode = determineCampaignMode(errorAnalysis.totalErrors);
        // 4. Generate fix recommendations
        const recommendations = generateFixRecommendations(errorAnalysis);
        // 5. Create batch processing schedule
        const batchSchedule = createBatchSchedule(recommendations, campaignMode);
        // 6. Calculate estimated duration
        const estimatedDuration = calculateTotalEstimatedDuration(batchSchedule);
        // 7. Determine safety level
        const safetyLevel = determineSafetyLevel(campaignMode);
        const duration = Date.now() - startTime;
        logger_1.logger.info(`TypeScript error analysis completed in ${duration}ms: ${errorAnalysis.totalErrors} errors found`);
        return {
            shouldTrigger,
            campaignMode,
            errorAnalysis,
            recommendations,
            batchSchedule,
            estimatedDuration,
            safetyLevel
        };
    }
    catch (error) {
        logger_1.logger.error('TypeScript error analysis failed:', error);
        // Return safe defaults
        return {
            shouldTrigger: false,
            campaignMode: CampaignMode.MONITORING,
            errorAnalysis: {
                totalErrors: -1,
                errorsByCategory: {},
                errorsByFile: {},
                highImpactFiles: [],
                priorityRanking: [],
                campaignRecommendations: []
            },
            recommendations: [],
            batchSchedule: { batches: [], totalEstimatedTime: 0, safetyProtocols: [] },
            estimatedDuration: 0,
            safetyLevel: SafetyLevel.MAXIMUM
        };
    }
}
exports.analyzeTypeScriptErrors = analyzeTypeScriptErrors;
/**
 * Get comprehensive TypeScript error analysis
 */
async function getTypeScriptErrorAnalysis() {
    try {
        // Get TypeScript errors using tsc command
        const errorOutput = await getTypeScriptErrors();
        // Parse errors into structured format
        const errors = parseTypeScriptErrors(errorOutput);
        // Categorize errors
        const errorsByCategory = categorizeErrors(errors);
        // Group errors by file
        const errorsByFile = groupErrorsByFile(errors);
        // Identify high-impact files
        const highImpactFiles = identifyHighImpactFiles(errorsByFile);
        // Create priority ranking
        const priorityRanking = createPriorityRanking(errors);
        // Generate campaign recommendations
        const campaignRecommendations = generateCampaignRecommendations(errors.length, errorsByCategory);
        return {
            totalErrors: errors.length,
            errorsByCategory,
            errorsByFile,
            highImpactFiles,
            priorityRanking,
            campaignRecommendations
        };
    }
    catch (error) {
        logger_1.logger.error('Error getting TypeScript error analysis:', error);
        throw error;
    }
}
/**
 * Get TypeScript errors from compilation
 */
async function getTypeScriptErrors() {
    try {
        // Run TypeScript compiler to get errors
        const output = (0, child_process_1.execSync)('yarn tsc --noEmit --skipLibCheck 2>&1', {
            encoding: 'utf8',
            stdio: 'pipe'
        });
        return output;
    }
    catch (error) {
        // tsc returns non-zero exit code when there are errors, which is expected
        if (error.stdout) {
            return error.stdout;
        }
        // If there's no stdout, this might be a real failure
        if (error.stderr || error.message) {
            throw new Error(`TypeScript compilation failed: ${error.stderr || error.message}`);
        }
        // If there's no stdout or stderr, assume no errors
        return '';
    }
}
/**
 * Parse TypeScript error output into structured format
 */
function parseTypeScriptErrors(errorOutput) {
    const errors = [];
    if (!errorOutput.trim()) {
        return errors;
    }
    const lines = errorOutput.split('\n');
    for (const line of lines) {
        // Match TypeScript error format: file(line,col): error TSxxxx: message
        const match = line.match(/^(.+?)\((\d+),(\d+)\):\s*error\s+(TS\d+):\s*(.+)$/);
        if (match) {
            const [, filePath, lineStr, colStr, code, message] = match;
            const lineNum = parseInt(lineStr, 10);
            const colNum = parseInt(colStr, 10);
            const category = categorizeErrorCode(code);
            const severity = determineSeverity(category);
            const priority = calculatePriority(category, severity);
            errors.push({
                filePath: filePath.trim(),
                line: lineNum,
                column: colNum,
                code,
                message: message.trim(),
                category,
                priority,
                severity
            });
        }
    }
    return errors;
}
/**
 * Categorize error by TypeScript error code
 */
function categorizeErrorCode(code) {
    switch (code) {
        case 'TS2352':
            return ErrorCategory.TS2352;
        case 'TS2304':
            return ErrorCategory.TS2304;
        case 'TS2345':
            return ErrorCategory.TS2345;
        case 'TS2698':
            return ErrorCategory.TS2698;
        case 'TS2362':
            return ErrorCategory.TS2362;
        default:
            return ErrorCategory.OTHER;
    }
}
/**
 * Determine error severity based on category
 */
function determineSeverity(category) {
    switch (category) {
        case ErrorCategory.TS2352:
        case ErrorCategory.TS2304:
            return ErrorSeverity.HIGH;
        case ErrorCategory.TS2345:
        case ErrorCategory.TS2698:
        case ErrorCategory.TS2362:
            return ErrorSeverity.MEDIUM;
        default:
            return ErrorSeverity.LOW;
    }
}
/**
 * Calculate priority score for error
 */
function calculatePriority(category, severity) {
    const categoryWeight = CATEGORY_PRIORITY_WEIGHTS[category] || 0.5;
    const severityWeight = severity === ErrorSeverity.HIGH ? 1.0 :
        severity === ErrorSeverity.MEDIUM ? 0.7 : 0.4;
    return categoryWeight * severityWeight;
}
/**
 * Categorize errors by type
 */
function categorizeErrors(errors) {
    const categorized = {};
    for (const error of errors) {
        const category = error.category;
        if (!categorized[category]) {
            categorized[category] = [];
        }
        categorized[category].push(error);
    }
    return categorized;
}
/**
 * Group errors by file path
 */
function groupErrorsByFile(errors) {
    const grouped = {};
    for (const error of errors) {
        const filePath = error.filePath;
        if (!grouped[filePath]) {
            grouped[filePath] = [];
        }
        grouped[filePath].push(error);
    }
    return grouped;
}
/**
 * Identify high-impact files with many errors
 */
function identifyHighImpactFiles(errorsByFile) {
    const highImpactFiles = [];
    for (const [filePath, errors] of Object.entries(errorsByFile)) {
        if (errors.length >= 5) { // Files with 5+ errors are high impact
            const categories = [...new Set(errors.map(e => e.category))];
            const averagePriority = errors.reduce((sum, e) => sum + e.priority, 0) / errors.length;
            highImpactFiles.push({
                filePath,
                errorCount: errors.length,
                categories,
                averagePriority
            });
        }
    }
    // Sort by error count descending
    return highImpactFiles.sort((a, b) => b.errorCount - a.errorCount);
}
/**
 * Create priority ranking of errors
 */
function createPriorityRanking(errors) {
    return [...errors].sort((a, b) => b.priority - a.priority);
}
/**
 * Generate campaign recommendations based on error analysis
 */
function generateCampaignRecommendations(totalErrors, errorsByCategory) {
    const recommendations = [];
    if (totalErrors >= ERROR_THRESHOLDS.CRITICAL) {
        recommendations.push({
            mode: CampaignMode.EMERGENCY,
            phases: ['typescript-error-elimination', 'build-stabilization', 'safety-validation'],
            estimatedDuration: Math.ceil(totalErrors * 0.5),
            safetyLevel: SafetyLevel.MAXIMUM,
            description: `Emergency campaign for ${totalErrors} critical errors`
        });
    }
    else if (totalErrors >= ERROR_THRESHOLDS.HIGH) {
        recommendations.push({
            mode: CampaignMode.AGGRESSIVE,
            phases: ['typescript-error-elimination', 'targeted-fixes'],
            estimatedDuration: Math.ceil(totalErrors * 0.3),
            safetyLevel: SafetyLevel.HIGH,
            description: `Aggressive campaign for ${totalErrors} high-priority errors`
        });
    }
    else if (totalErrors >= ERROR_THRESHOLDS.MEDIUM) {
        recommendations.push({
            mode: CampaignMode.STANDARD,
            phases: ['targeted-error-reduction'],
            estimatedDuration: Math.ceil(totalErrors * 0.2),
            safetyLevel: SafetyLevel.MEDIUM,
            description: `Standard campaign for ${totalErrors} errors`
        });
    }
    return recommendations;
}
/**
 * Determine if campaign should be triggered
 */
function shouldTriggerCampaign(errorCount) {
    return errorCount >= ERROR_THRESHOLDS.MEDIUM;
}
/**
 * Determine campaign mode based on error count
 */
function determineCampaignMode(errorCount) {
    if (errorCount >= ERROR_THRESHOLDS.CRITICAL) {
        return CampaignMode.EMERGENCY;
    }
    else if (errorCount >= ERROR_THRESHOLDS.HIGH) {
        return CampaignMode.AGGRESSIVE;
    }
    else if (errorCount >= ERROR_THRESHOLDS.MEDIUM) {
        return CampaignMode.STANDARD;
    }
    else {
        return CampaignMode.MONITORING;
    }
}
/**
 * Generate fix recommendations for each error category
 */
function generateFixRecommendations(analysis) {
    const recommendations = [];
    for (const [category, errors] of Object.entries(analysis.errorsByCategory)) {
        if (errors.length > 0) {
            const errorCategory = category;
            const successRate = CATEGORY_SUCCESS_RATES[errorCategory] || 0.7;
            const estimatedEffort = calculateEstimatedEffort(errors);
            const batchSize = determineBatchSize(errors.length, errorCategory);
            const priority = calculateCategoryPriority(errorCategory, errors.length);
            recommendations.push({
                category: errorCategory,
                errorCount: errors.length,
                fixStrategy: getFixStrategy(errorCategory),
                estimatedEffort,
                batchSize,
                priority,
                successRate
            });
        }
    }
    return recommendations.sort((a, b) => b.priority - a.priority);
}
/**
 * Calculate estimated effort for fixing errors
 */
function calculateEstimatedEffort(errors) {
    // Base time per error in minutes
    const baseTimePerError = 0.5; // 30 seconds
    // Adjust based on complexity
    let totalTime = 0;
    for (const error of errors) {
        let multiplier = 1.0;
        switch (error.category) {
            case ErrorCategory.TS2352:
            case ErrorCategory.TS2304:
                multiplier = 0.8; // Easier to fix
                break;
            case ErrorCategory.TS2345:
            case ErrorCategory.TS2698:
                multiplier = 1.2; // Moderate complexity
                break;
            case ErrorCategory.TS2362:
                multiplier = 1.0; // Standard complexity
                break;
            default:
                multiplier = 1.5; // More complex
                break;
        }
        totalTime += baseTimePerError * multiplier;
    }
    return Math.ceil(totalTime);
}
/**
 * Determine optimal batch size for error category
 */
function determineBatchSize(errorCount, category) {
    // Base batch sizes by category
    const baseBatchSizes = {
        [ErrorCategory.TS2352]: 25,
        [ErrorCategory.TS2304]: 20,
        [ErrorCategory.TS2345]: 15,
        [ErrorCategory.TS2698]: 15,
        [ErrorCategory.TS2362]: 20,
        [ErrorCategory.OTHER]: 10
    };
    const baseBatchSize = baseBatchSizes[category] || 10;
    // Adjust based on total error count
    if (errorCount < 10) {
        return Math.min(baseBatchSize, errorCount);
    }
    else if (errorCount > 100) {
        return Math.max(5, Math.floor(baseBatchSize * 0.5)); // Smaller batches for large counts
    }
    return baseBatchSize;
}
/**
 * Calculate priority for error category
 */
function calculateCategoryPriority(category, errorCount) {
    const categoryWeight = CATEGORY_PRIORITY_WEIGHTS[category] || 0.5;
    const countWeight = Math.min(1.0, errorCount / 50); // Normalize count impact
    return categoryWeight * 0.7 + countWeight * 0.3;
}
/**
 * Get fix strategy description for error category
 */
function getFixStrategy(category) {
    const strategies = {
        [ErrorCategory.TS2352]: 'Enhanced Error Fixer patterns for type conversion',
        [ErrorCategory.TS2304]: 'Import resolution and declaration fixes',
        [ErrorCategory.TS2345]: 'Parameter type alignment and interface updates',
        [ErrorCategory.TS2698]: 'Object and array spread syntax corrections',
        [ErrorCategory.TS2362]: 'Type assertion and arithmetic operation fixes',
        [ErrorCategory.OTHER]: 'Manual review and custom solution development'
    };
    return strategies[category] || 'Custom fix strategy required';
}
/**
 * Create batch processing schedule
 */
function createBatchSchedule(recommendations, mode) {
    const batches = [];
    const safetyProtocols = [];
    let totalEstimatedTime = 0;
    let currentTime = new Date();
    // Add safety protocols based on campaign mode
    safetyProtocols.push(...getSafetyProtocols(mode));
    for (const recommendation of recommendations) {
        const batch = {
            id: generateBatchId(),
            category: recommendation.category,
            files: [],
            batchSize: recommendation.batchSize,
            estimatedDuration: recommendation.estimatedEffort,
            safetyLevel: determineSafetyLevel(mode),
            scheduledTime: new Date(currentTime)
        };
        batches.push(batch);
        totalEstimatedTime += batch.estimatedDuration;
        // Schedule next batch with buffer time
        currentTime = new Date(currentTime.getTime() + (batch.estimatedDuration * 60 * 1000) + (2 * 60 * 1000)); // Add 2 minute buffer
    }
    return {
        batches,
        totalEstimatedTime,
        safetyProtocols
    };
}
/**
 * Get safety protocols for campaign mode
 */
function getSafetyProtocols(mode) {
    const protocols = [];
    switch (mode) {
        case CampaignMode.EMERGENCY:
            protocols.push({
                name: 'Emergency Safety Protocol',
                description: 'Maximum safety with validation after every file',
                triggers: ['BUILD_FAILURE', 'ERROR_INCREASE', 'CORRUPTION_DETECTED'],
                actions: ['IMMEDIATE_ROLLBACK', 'ALERT_TEAM', 'PAUSE_CAMPAIGN']
            });
            break;
        case CampaignMode.AGGRESSIVE:
            protocols.push({
                name: 'Aggressive Safety Protocol',
                description: 'High safety with frequent validation checkpoints',
                triggers: ['BUILD_FAILURE', 'MAJOR_ERROR_INCREASE'],
                actions: ['AUTOMATIC_ROLLBACK', 'REDUCE_BATCH_SIZE']
            });
            break;
        case CampaignMode.STANDARD:
            protocols.push({
                name: 'Standard Safety Protocol',
                description: 'Standard safety with build validation',
                triggers: ['BUILD_FAILURE'],
                actions: ['ROLLBACK_BATCH', 'NOTIFY_DEVELOPER']
            });
            break;
    }
    return protocols;
}
/**
 * Calculate total estimated duration
 */
function calculateTotalEstimatedDuration(schedule) {
    return schedule.totalEstimatedTime;
}
/**
 * Determine safety level based on campaign mode
 */
function determineSafetyLevel(mode) {
    switch (mode) {
        case CampaignMode.EMERGENCY:
            return SafetyLevel.MAXIMUM;
        case CampaignMode.AGGRESSIVE:
            return SafetyLevel.HIGH;
        default:
            return SafetyLevel.MEDIUM;
    }
}
/**
 * Generate unique batch ID
 */
function generateBatchId() {
    return `batch_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
}
/**
 * Get current TypeScript error count (simple version)
 */
async function getCurrentTypeScriptErrorCount() {
    try {
        const errorOutput = await getTypeScriptErrors();
        const errors = parseTypeScriptErrors(errorOutput);
        return errors.length;
    }
    catch (error) {
        logger_1.logger.error('Failed to get TypeScript error count:', error);
        return -1;
    }
}
exports.getCurrentTypeScriptErrorCount = getCurrentTypeScriptErrorCount;
/**
 * Check if campaign trigger conditions are met
 */
async function checkCampaignTriggerConditions() {
    try {
        const errorCount = await getCurrentTypeScriptErrorCount();
        return shouldTriggerCampaign(errorCount);
    }
    catch (error) {
        logger_1.logger.error('Failed to check campaign trigger conditions:', error);
        return false;
    }
}
exports.checkCampaignTriggerConditions = checkCampaignTriggerConditions;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy91dGlscy90eXBlc2NyaXB0Q2FtcGFpZ25UcmlnZ2VyLnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7R0FLRzs7O0FBRUgsaURBQXlDO0FBQ3pDLHFDQUFrQztBQWlGbEMsSUFBWSxZQUtYO0FBTEQsV0FBWSxZQUFZO0lBQ3RCLHVDQUF1QixDQUFBO0lBQ3ZCLHlDQUF5QixDQUFBO0lBQ3pCLHFDQUFxQixDQUFBO0lBQ3JCLHlDQUF5QixDQUFBO0FBQzNCLENBQUMsRUFMVyxZQUFZLDRCQUFaLFlBQVksUUFLdkI7QUFFRCxJQUFZLGFBT1g7QUFQRCxXQUFZLGFBQWE7SUFDdkIsa0NBQWlCLENBQUE7SUFDakIsa0NBQWlCLENBQUE7SUFDakIsa0NBQWlCLENBQUE7SUFDakIsa0NBQWlCLENBQUE7SUFDakIsa0NBQWlCLENBQUE7SUFDakIsZ0NBQWUsQ0FBQTtBQUNqQixDQUFDLEVBUFcsYUFBYSw2QkFBYixhQUFhLFFBT3hCO0FBRUQsSUFBWSxhQUlYO0FBSkQsV0FBWSxhQUFhO0lBQ3ZCLDhCQUFhLENBQUE7SUFDYixrQ0FBaUIsQ0FBQTtJQUNqQiw0QkFBVyxDQUFBO0FBQ2IsQ0FBQyxFQUpXLGFBQWEsNkJBQWIsYUFBYSxRQUl4QjtBQUVELElBQVksV0FJWDtBQUpELFdBQVksV0FBVztJQUNyQixrQ0FBbUIsQ0FBQTtJQUNuQiw0QkFBYSxDQUFBO0lBQ2IsZ0NBQWlCLENBQUE7QUFDbkIsQ0FBQyxFQUpXLFdBQVcsMkJBQVgsV0FBVyxRQUl0QjtBQUVELDBCQUEwQjtBQUMxQixNQUFNLGdCQUFnQixHQUFHO0lBQ3ZCLFFBQVEsRUFBRSxHQUFHO0lBQ2IsSUFBSSxFQUFFLEdBQUc7SUFDVCxNQUFNLEVBQUUsR0FBRztJQUNYLFVBQVUsRUFBRSxFQUFFLENBQUksNEJBQTRCO0NBQy9DLENBQUM7QUFFRixNQUFNLHNCQUFzQixHQUFHO0lBQzdCLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLElBQUk7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RUQ7O0dBRUc7QUFDSCxTQUFTLGVBQWU7SUFDdEIsT0FBTyxTQUFTLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUMxRSxDQUFDO0FBRUQ7O0dBRUc7QUFDSSxLQUFLLFVBQVUsOEJBQThCO0lBQ2xELElBQUk7UUFDRixNQUFNLFdBQVcsR0FBRyxNQUFNLG1CQUFtQixFQUFFLENBQUM7UUFDaEQsTUFBTSxNQUFNLEdBQUcscUJBQXFCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDbEQsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDO0tBQ3RCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxlQUFNLENBQUMsS0FBSyxDQUFDLHVDQUF1QyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzdELE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDWDtBQUNILENBQUM7QUFURCx3RUFTQztBQUVEOztHQUVHO0FBQ0ksS0FBSyxVQUFVLDhCQUE4QjtJQUNsRCxJQUFJO1FBQ0YsTUFBTSxVQUFVLEdBQUcsTUFBTSw4QkFBOEIsRUFBRSxDQUFDO1FBQzFELE9BQU8scUJBQXFCLENBQUMsVUFBVSxDQUFDLENBQUM7S0FDMUM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGVBQU0sQ0FBQyxLQUFLLENBQUMsOENBQThDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDcEUsT0FBTyxLQUFLLENBQUM7S0FDZDtBQUNILENBQUM7QUFSRCx3RUFRQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvc3JjL3V0aWxzL3R5cGVzY3JpcHRDYW1wYWlnblRyaWdnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUeXBlU2NyaXB0IENhbXBhaWduIFRyaWdnZXIgVXRpbGl0aWVzXG4gKiBcbiAqIFRoaXMgbW9kdWxlIHByb3ZpZGVzIGNvbXByZWhlbnNpdmUgVHlwZVNjcmlwdCBlcnJvciBtb25pdG9yaW5nIGFuZCBjYW1wYWlnblxuICogc3lzdGVtIGludGVncmF0aW9uIGZvciBhdXRvbWF0ZWQgZXJyb3IgcmVkdWN0aW9uIGFuZCBjb2RlIHF1YWxpdHkgaW1wcm92ZW1lbnQuXG4gKi9cblxuaW1wb3J0IHsgZXhlY1N5bmMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcblxuLy8gQ2FtcGFpZ24gdHJpZ2dlciBpbnRlcmZhY2VzXG5leHBvcnQgaW50ZXJmYWNlIENhbXBhaWduVHJpZ2dlclJlc3VsdCB7XG4gIHNob3VsZFRyaWdnZXI6IGJvb2xlYW47XG4gIGNhbXBhaWduTW9kZTogQ2FtcGFpZ25Nb2RlO1xuICBlcnJvckFuYWx5c2lzOiBFcnJvckFuYWx5c2lzUmVzdWx0O1xuICByZWNvbW1lbmRhdGlvbnM6IEZpeFJlY29tbWVuZGF0aW9uW107XG4gIGJhdGNoU2NoZWR1bGU6IEJhdGNoU2NoZWR1bGU7XG4gIGVzdGltYXRlZER1cmF0aW9uOiBudW1iZXI7XG4gIHNhZmV0eUxldmVsOiBTYWZldHlMZXZlbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFcnJvckFuYWx5c2lzUmVzdWx0IHtcbiAgdG90YWxFcnJvcnM6IG51bWJlcjtcbiAgZXJyb3JzQnlDYXRlZ29yeTogUmVjb3JkPHN0cmluZywgVHlwZVNjcmlwdEVycm9yW10+O1xuICBlcnJvcnNCeUZpbGU6IFJlY29yZDxzdHJpbmcsIFR5cGVTY3JpcHRFcnJvcltdPjtcbiAgaGlnaEltcGFjdEZpbGVzOiBIaWdoSW1wYWN0RmlsZVtdO1xuICBwcmlvcml0eVJhbmtpbmc6IFR5cGVTY3JpcHRFcnJvcltdO1xuICBjYW1wYWlnblJlY29tbWVuZGF0aW9uczogQ2FtcGFpZ25SZWNvbW1lbmRhdGlvbltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFR5cGVTY3JpcHRFcnJvciB7XG4gIGZpbGVQYXRoOiBzdHJpbmc7XG4gIGxpbmU6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG4gIGNvZGU6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBjYXRlZ29yeTogRXJyb3JDYXRlZ29yeTtcbiAgcHJpb3JpdHk6IG51bWJlcjtcbiAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlnaEltcGFjdEZpbGUge1xuICBmaWxlUGF0aDogc3RyaW5nO1xuICBlcnJvckNvdW50OiBudW1iZXI7XG4gIGNhdGVnb3JpZXM6IEVycm9yQ2F0ZWdvcnlbXTtcbiAgYXZlcmFnZVByaW9yaXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRml4UmVjb21tZW5kYXRpb24ge1xuICBjYXRlZ29yeTogRXJyb3JDYXRlZ29yeTtcbiAgZXJyb3JDb3VudDogbnVtYmVyO1xuICBmaXhTdHJhdGVneTogc3RyaW5nO1xuICBlc3RpbWF0ZWRFZmZvcnQ6IG51bWJlcjsgLy8gbWludXRlc1xuICBiYXRjaFNpemU6IG51bWJlcjtcbiAgcHJpb3JpdHk6IG51bWJlcjtcbiAgc3VjY2Vzc1JhdGU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW1wYWlnblJlY29tbWVuZGF0aW9uIHtcbiAgbW9kZTogQ2FtcGFpZ25Nb2RlO1xuICBwaGFzZXM6IHN0cmluZ1tdO1xuICBlc3RpbWF0ZWREdXJhdGlvbjogbnVtYmVyO1xuICBzYWZldHlMZXZlbDogU2FmZXR5TGV2ZWw7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmF0Y2hTY2hlZHVsZSB7XG4gIGJhdGNoZXM6IFByb2Nlc3NpbmdCYXRjaFtdO1xuICB0b3RhbEVzdGltYXRlZFRpbWU6IG51bWJlcjtcbiAgc2FmZXR5UHJvdG9jb2xzOiBTYWZldHlQcm90b2NvbFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb2Nlc3NpbmdCYXRjaCB7XG4gIGlkOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBFcnJvckNhdGVnb3J5O1xuICBmaWxlczogc3RyaW5nW107XG4gIGJhdGNoU2l6ZTogbnVtYmVyO1xuICBlc3RpbWF0ZWREdXJhdGlvbjogbnVtYmVyO1xuICBzYWZldHlMZXZlbDogU2FmZXR5TGV2ZWw7XG4gIHNjaGVkdWxlZFRpbWU6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2FmZXR5UHJvdG9jb2wge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHRyaWdnZXJzOiBzdHJpbmdbXTtcbiAgYWN0aW9uczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBlbnVtIENhbXBhaWduTW9kZSB7XG4gIEVNRVJHRU5DWSA9ICdFTUVSR0VOQ1knLFxuICBBR0dSRVNTSVZFID0gJ0FHR1JFU1NJVkUnLFxuICBTVEFOREFSRCA9ICdTVEFOREFSRCcsXG4gIE1PTklUT1JJTkcgPSAnTU9OSVRPUklORydcbn1cblxuZXhwb3J0IGVudW0gRXJyb3JDYXRlZ29yeSB7XG4gIFRTMjM1MiA9ICdUUzIzNTInLCAvLyBUeXBlIGNvbnZlcnNpb24gZXJyb3JzXG4gIFRTMjMwNCA9ICdUUzIzMDQnLCAvLyBDYW5ub3QgZmluZCBuYW1lIGVycm9yc1xuICBUUzIzNDUgPSAnVFMyMzQ1JywgLy8gQXJndW1lbnQgdHlwZSBtaXNtYXRjaFxuICBUUzI2OTggPSAnVFMyNjk4JywgLy8gU3ByZWFkIHN5bnRheCBlcnJvcnNcbiAgVFMyMzYyID0gJ1RTMjM2MicsIC8vIEFyaXRobWV0aWMgb3BlcmF0aW9uIGVycm9yc1xuICBPVEhFUiA9ICdPVEhFUidcbn1cblxuZXhwb3J0IGVudW0gRXJyb3JTZXZlcml0eSB7XG4gIEhJR0ggPSAnSElHSCcsXG4gIE1FRElVTSA9ICdNRURJVU0nLFxuICBMT1cgPSAnTE9XJ1xufVxuXG5leHBvcnQgZW51bSBTYWZldHlMZXZlbCB7XG4gIE1BWElNVU0gPSAnTUFYSU1VTScsXG4gIEhJR0ggPSAnSElHSCcsXG4gIE1FRElVTSA9ICdNRURJVU0nXG59XG5cbi8vIENvbmZpZ3VyYXRpb24gY29uc3RhbnRzXG5jb25zdCBFUlJPUl9USFJFU0hPTERTID0ge1xuICBDUklUSUNBTDogNTAwLCAgICAvLyBFbWVyZ2VuY3kgY2FtcGFpZ24gbW9kZVxuICBISUdIOiAyMDAsICAgICAgICAvLyBBZ2dyZXNzaXZlIGNhbXBhaWduIG1vZGVcbiAgTUVESVVNOiAxMDAsICAgICAgLy8gU3RhbmRhcmQgY2FtcGFpZ24gbW9kZVxuICBNT05JVE9SSU5HOiA1MCAgICAvLyBQcm9hY3RpdmUgbW9uaXRvcmluZyBvbmx5XG59O1xuXG5jb25zdCBDQVRFR09SWV9TVUNDRVNTX1JBVEVTID0ge1xuICBbRXJyb3JDYXRlZ29yeS5UUzIzNTJdOiAwLjkyLFxuICBbRXJyb3JDYXRlZ29yeS5UUzIzMDRdOiAwLjk1LFxuICBbRXJyb3JDYXRlZ29yeS5UUzIzNDVdOiAwLjg4LFxuICBbRXJyb3JDYXRlZ29yeS5UUzI2OThdOiAwLjg1LFxuICBbRXJyb3JDYXRlZ29yeS5UUzIzNjJdOiAwLjkwLFxuICBbRXJyb3JDYXRlZ29yeS5PVEhFUl06IDAuNzBcbn07XG5cbmNvbnN0IENBVEVHT1JZX1BSSU9SSVRZX1dFSUdIVFMgPSB7XG4gIFtFcnJvckNhdGVnb3J5LlRTMjM1Ml06IDAuOTUsXG4gIFtFcnJvckNhdGVnb3J5LlRTMjMwNF06IDAuOTUsXG4gIFtFcnJvckNhdGVnb3J5LlRTMjM0NV06IDAuODgsXG4gIFtFcnJvckNhdGVnb3J5LlRTMjY5OF06IDAuODUsXG4gIFtFcnJvckNhdGVnb3J5LlRTMjM2Ml06IDAuOTAsXG4gIFtFcnJvckNhdGVnb3J5Lk9USEVSXTogMC43MFxufTtcblxuLyoqXG4gKiBNYWluIGZ1bmN0aW9uIHRvIGFuYWx5emUgVHlwZVNjcmlwdCBlcnJvcnMgYW5kIGRldGVybWluZSBjYW1wYWlnbiB0cmlnZ2VyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbmFseXplVHlwZVNjcmlwdEVycm9ycygpOiBQcm9taXNlPENhbXBhaWduVHJpZ2dlclJlc3VsdD4ge1xuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICBcbiAgdHJ5IHtcbiAgICBsb2dnZXIuaW5mbygnU3RhcnRpbmcgVHlwZVNjcmlwdCBlcnJvciBhbmFseXNpcyBmb3IgY2FtcGFpZ24gdHJpZ2dlciBldmFsdWF0aW9uJyk7XG4gICAgXG4gICAgLy8gMS4gR2V0IGN1cnJlbnQgVHlwZVNjcmlwdCBlcnJvciBjb3VudCBhbmQgZGV0YWlsc1xuICAgIGNvbnN0IGVycm9yQW5hbHlzaXMgPSBhd2FpdCBnZXRUeXBlU2NyaXB0RXJyb3JBbmFseXNpcygpO1xuICAgIFxuICAgIC8vIDIuIERldGVybWluZSBpZiBjYW1wYWlnbiBzaG91bGQgYmUgdHJpZ2dlcmVkXG4gICAgY29uc3Qgc2hvdWxkVHJpZ2dlciA9IHNob3VsZFRyaWdnZXJDYW1wYWlnbihlcnJvckFuYWx5c2lzLnRvdGFsRXJyb3JzKTtcbiAgICBcbiAgICAvLyAzLiBEZXRlcm1pbmUgY2FtcGFpZ24gbW9kZSBiYXNlZCBvbiBlcnJvciBjb3VudFxuICAgIGNvbnN0IGNhbXBhaWduTW9kZSA9IGRldGVybWluZUNhbXBhaWduTW9kZShlcnJvckFuYWx5c2lzLnRvdGFsRXJyb3JzKTtcbiAgICBcbiAgICAvLyA0LiBHZW5lcmF0ZSBmaXggcmVjb21tZW5kYXRpb25zXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gZ2VuZXJhdGVGaXhSZWNvbW1lbmRhdGlvbnMoZXJyb3JBbmFseXNpcyk7XG4gICAgXG4gICAgLy8gNS4gQ3JlYXRlIGJhdGNoIHByb2Nlc3Npbmcgc2NoZWR1bGVcbiAgICBjb25zdCBiYXRjaFNjaGVkdWxlID0gY3JlYXRlQmF0Y2hTY2hlZHVsZShyZWNvbW1lbmRhdGlvbnMsIGNhbXBhaWduTW9kZSk7XG4gICAgXG4gICAgLy8gNi4gQ2FsY3VsYXRlIGVzdGltYXRlZCBkdXJhdGlvblxuICAgIGNvbnN0IGVzdGltYXRlZER1cmF0aW9uID0gY2FsY3VsYXRlVG90YWxFc3RpbWF0ZWREdXJhdGlvbihiYXRjaFNjaGVkdWxlKTtcbiAgICBcbiAgICAvLyA3LiBEZXRlcm1pbmUgc2FmZXR5IGxldmVsXG4gICAgY29uc3Qgc2FmZXR5TGV2ZWwgPSBkZXRlcm1pbmVTYWZldHlMZXZlbChjYW1wYWlnbk1vZGUpO1xuICAgIFxuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICBsb2dnZXIuaW5mbyhgVHlwZVNjcmlwdCBlcnJvciBhbmFseXNpcyBjb21wbGV0ZWQgaW4gJHtkdXJhdGlvbn1tczogJHtlcnJvckFuYWx5c2lzLnRvdGFsRXJyb3JzfSBlcnJvcnMgZm91bmRgKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc2hvdWxkVHJpZ2dlcixcbiAgICAgIGNhbXBhaWduTW9kZSxcbiAgICAgIGVycm9yQW5hbHlzaXMsXG4gICAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgICBiYXRjaFNjaGVkdWxlLFxuICAgICAgZXN0aW1hdGVkRHVyYXRpb24sXG4gICAgICBzYWZldHlMZXZlbFxuICAgIH07XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdUeXBlU2NyaXB0IGVycm9yIGFuYWx5c2lzIGZhaWxlZDonLCBlcnJvcik7XG4gICAgXG4gICAgLy8gUmV0dXJuIHNhZmUgZGVmYXVsdHNcbiAgICByZXR1cm4ge1xuICAgICAgc2hvdWxkVHJpZ2dlcjogZmFsc2UsXG4gICAgICBjYW1wYWlnbk1vZGU6IENhbXBhaWduTW9kZS5NT05JVE9SSU5HLFxuICAgICAgZXJyb3JBbmFseXNpczoge1xuICAgICAgICB0b3RhbEVycm9yczogLTEsXG4gICAgICAgIGVycm9yc0J5Q2F0ZWdvcnk6IHt9LFxuICAgICAgICBlcnJvcnNCeUZpbGU6IHt9LFxuICAgICAgICBoaWdoSW1wYWN0RmlsZXM6IFtdLFxuICAgICAgICBwcmlvcml0eVJhbmtpbmc6IFtdLFxuICAgICAgICBjYW1wYWlnblJlY29tbWVuZGF0aW9uczogW11cbiAgICAgIH0sXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtdLFxuICAgICAgYmF0Y2hTY2hlZHVsZTogeyBiYXRjaGVzOiBbXSwgdG90YWxFc3RpbWF0ZWRUaW1lOiAwLCBzYWZldHlQcm90b2NvbHM6IFtdIH0sXG4gICAgICBlc3RpbWF0ZWREdXJhdGlvbjogMCxcbiAgICAgIHNhZmV0eUxldmVsOiBTYWZldHlMZXZlbC5NQVhJTVVNXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBjb21wcmVoZW5zaXZlIFR5cGVTY3JpcHQgZXJyb3IgYW5hbHlzaXNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0VHlwZVNjcmlwdEVycm9yQW5hbHlzaXMoKTogUHJvbWlzZTxFcnJvckFuYWx5c2lzUmVzdWx0PiB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IFR5cGVTY3JpcHQgZXJyb3JzIHVzaW5nIHRzYyBjb21tYW5kXG4gICAgY29uc3QgZXJyb3JPdXRwdXQgPSBhd2FpdCBnZXRUeXBlU2NyaXB0RXJyb3JzKCk7XG4gICAgXG4gICAgLy8gUGFyc2UgZXJyb3JzIGludG8gc3RydWN0dXJlZCBmb3JtYXRcbiAgICBjb25zdCBlcnJvcnMgPSBwYXJzZVR5cGVTY3JpcHRFcnJvcnMoZXJyb3JPdXRwdXQpO1xuICAgIFxuICAgIC8vIENhdGVnb3JpemUgZXJyb3JzXG4gICAgY29uc3QgZXJyb3JzQnlDYXRlZ29yeSA9IGNhdGVnb3JpemVFcnJvcnMoZXJyb3JzKTtcbiAgICBcbiAgICAvLyBHcm91cCBlcnJvcnMgYnkgZmlsZVxuICAgIGNvbnN0IGVycm9yc0J5RmlsZSA9IGdyb3VwRXJyb3JzQnlGaWxlKGVycm9ycyk7XG4gICAgXG4gICAgLy8gSWRlbnRpZnkgaGlnaC1pbXBhY3QgZmlsZXNcbiAgICBjb25zdCBoaWdoSW1wYWN0RmlsZXMgPSBpZGVudGlmeUhpZ2hJbXBhY3RGaWxlcyhlcnJvcnNCeUZpbGUpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBwcmlvcml0eSByYW5raW5nXG4gICAgY29uc3QgcHJpb3JpdHlSYW5raW5nID0gY3JlYXRlUHJpb3JpdHlSYW5raW5nKGVycm9ycyk7XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgY2FtcGFpZ24gcmVjb21tZW5kYXRpb25zXG4gICAgY29uc3QgY2FtcGFpZ25SZWNvbW1lbmRhdGlvbnMgPSBnZW5lcmF0ZUNhbXBhaWduUmVjb21tZW5kYXRpb25zKGVycm9ycy5sZW5ndGgsIGVycm9yc0J5Q2F0ZWdvcnkpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEVycm9yczogZXJyb3JzLmxlbmd0aCxcbiAgICAgIGVycm9yc0J5Q2F0ZWdvcnksXG4gICAgICBlcnJvcnNCeUZpbGUsXG4gICAgICBoaWdoSW1wYWN0RmlsZXMsXG4gICAgICBwcmlvcml0eVJhbmtpbmcsXG4gICAgICBjYW1wYWlnblJlY29tbWVuZGF0aW9uc1xuICAgIH07XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZXR0aW5nIFR5cGVTY3JpcHQgZXJyb3IgYW5hbHlzaXM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogR2V0IFR5cGVTY3JpcHQgZXJyb3JzIGZyb20gY29tcGlsYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0VHlwZVNjcmlwdEVycm9ycygpOiBQcm9taXNlPHN0cmluZz4ge1xuICB0cnkge1xuICAgIC8vIFJ1biBUeXBlU2NyaXB0IGNvbXBpbGVyIHRvIGdldCBlcnJvcnNcbiAgICBjb25zdCBvdXRwdXQgPSBleGVjU3luYygneWFybiB0c2MgLS1ub0VtaXQgLS1za2lwTGliQ2hlY2sgMj4mMScsIHtcbiAgICAgIGVuY29kaW5nOiAndXRmOCcsXG4gICAgICBzdGRpbzogJ3BpcGUnXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIG91dHB1dDtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIC8vIHRzYyByZXR1cm5zIG5vbi16ZXJvIGV4aXQgY29kZSB3aGVuIHRoZXJlIGFyZSBlcnJvcnMsIHdoaWNoIGlzIGV4cGVjdGVkXG4gICAgaWYgKGVycm9yLnN0ZG91dCkge1xuICAgICAgcmV0dXJuIGVycm9yLnN0ZG91dDtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgdGhlcmUncyBubyBzdGRvdXQsIHRoaXMgbWlnaHQgYmUgYSByZWFsIGZhaWx1cmVcbiAgICBpZiAoZXJyb3Iuc3RkZXJyIHx8IGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZVNjcmlwdCBjb21waWxhdGlvbiBmYWlsZWQ6ICR7ZXJyb3Iuc3RkZXJyIHx8IGVycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIHRoZXJlJ3Mgbm8gc3Rkb3V0IG9yIHN0ZGVyciwgYXNzdW1lIG5vIGVycm9yc1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIFR5cGVTY3JpcHQgZXJyb3Igb3V0cHV0IGludG8gc3RydWN0dXJlZCBmb3JtYXRcbiAqL1xuZnVuY3Rpb24gcGFyc2VUeXBlU2NyaXB0RXJyb3JzKGVycm9yT3V0cHV0OiBzdHJpbmcpOiBUeXBlU2NyaXB0RXJyb3JbXSB7XG4gIGNvbnN0IGVycm9yczogVHlwZVNjcmlwdEVycm9yW10gPSBbXTtcbiAgXG4gIGlmICghZXJyb3JPdXRwdXQudHJpbSgpKSB7XG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxuICBcbiAgY29uc3QgbGluZXMgPSBlcnJvck91dHB1dC5zcGxpdCgnXFxuJyk7XG4gIFxuICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAvLyBNYXRjaCBUeXBlU2NyaXB0IGVycm9yIGZvcm1hdDogZmlsZShsaW5lLGNvbCk6IGVycm9yIFRTeHh4eDogbWVzc2FnZVxuICAgIGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCgvXiguKz8pXFwoKFxcZCspLChcXGQrKVxcKTpcXHMqZXJyb3JcXHMrKFRTXFxkKyk6XFxzKiguKykkLyk7XG4gICAgXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBjb25zdCBbLCBmaWxlUGF0aCwgbGluZVN0ciwgY29sU3RyLCBjb2RlLCBtZXNzYWdlXSA9IG1hdGNoO1xuICAgICAgY29uc3QgbGluZU51bSA9IHBhcnNlSW50KGxpbmVTdHIsIDEwKTtcbiAgICAgIGNvbnN0IGNvbE51bSA9IHBhcnNlSW50KGNvbFN0ciwgMTApO1xuICAgICAgXG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3JpemVFcnJvckNvZGUoY29kZSk7XG4gICAgICBjb25zdCBzZXZlcml0eSA9IGRldGVybWluZVNldmVyaXR5KGNhdGVnb3J5KTtcbiAgICAgIGNvbnN0IHByaW9yaXR5ID0gY2FsY3VsYXRlUHJpb3JpdHkoY2F0ZWdvcnksIHNldmVyaXR5KTtcbiAgICAgIFxuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBmaWxlUGF0aDogZmlsZVBhdGgudHJpbSgpLFxuICAgICAgICBsaW5lOiBsaW5lTnVtLFxuICAgICAgICBjb2x1bW46IGNvbE51bSxcbiAgICAgICAgY29kZSxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZS50cmltKCksXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgc2V2ZXJpdHlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGVycm9ycztcbn1cblxuLyoqXG4gKiBDYXRlZ29yaXplIGVycm9yIGJ5IFR5cGVTY3JpcHQgZXJyb3IgY29kZVxuICovXG5mdW5jdGlvbiBjYXRlZ29yaXplRXJyb3JDb2RlKGNvZGU6IHN0cmluZyk6IEVycm9yQ2F0ZWdvcnkge1xuICBzd2l0Y2ggKGNvZGUpIHtcbiAgICBjYXNlICdUUzIzNTInOlxuICAgICAgcmV0dXJuIEVycm9yQ2F0ZWdvcnkuVFMyMzUyO1xuICAgIGNhc2UgJ1RTMjMwNCc6XG4gICAgICByZXR1cm4gRXJyb3JDYXRlZ29yeS5UUzIzMDQ7XG4gICAgY2FzZSAnVFMyMzQ1JzpcbiAgICAgIHJldHVybiBFcnJvckNhdGVnb3J5LlRTMjM0NTtcbiAgICBjYXNlICdUUzI2OTgnOlxuICAgICAgcmV0dXJuIEVycm9yQ2F0ZWdvcnkuVFMyNjk4O1xuICAgIGNhc2UgJ1RTMjM2Mic6XG4gICAgICByZXR1cm4gRXJyb3JDYXRlZ29yeS5UUzIzNjI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBFcnJvckNhdGVnb3J5Lk9USEVSO1xuICB9XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGVycm9yIHNldmVyaXR5IGJhc2VkIG9uIGNhdGVnb3J5XG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZVNldmVyaXR5KGNhdGVnb3J5OiBFcnJvckNhdGVnb3J5KTogRXJyb3JTZXZlcml0eSB7XG4gIHN3aXRjaCAoY2F0ZWdvcnkpIHtcbiAgICBjYXNlIEVycm9yQ2F0ZWdvcnkuVFMyMzUyOlxuICAgIGNhc2UgRXJyb3JDYXRlZ29yeS5UUzIzMDQ6XG4gICAgICByZXR1cm4gRXJyb3JTZXZlcml0eS5ISUdIO1xuICAgIGNhc2UgRXJyb3JDYXRlZ29yeS5UUzIzNDU6XG4gICAgY2FzZSBFcnJvckNhdGVnb3J5LlRTMjY5ODpcbiAgICBjYXNlIEVycm9yQ2F0ZWdvcnkuVFMyMzYyOlxuICAgICAgcmV0dXJuIEVycm9yU2V2ZXJpdHkuTUVESVVNO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gRXJyb3JTZXZlcml0eS5MT1c7XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgcHJpb3JpdHkgc2NvcmUgZm9yIGVycm9yXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVByaW9yaXR5KGNhdGVnb3J5OiBFcnJvckNhdGVnb3J5LCBzZXZlcml0eTogRXJyb3JTZXZlcml0eSk6IG51bWJlciB7XG4gIGNvbnN0IGNhdGVnb3J5V2VpZ2h0ID0gQ0FURUdPUllfUFJJT1JJVFlfV0VJR0hUU1tjYXRlZ29yeV0gfHwgMC41O1xuICBjb25zdCBzZXZlcml0eVdlaWdodCA9IHNldmVyaXR5ID09PSBFcnJvclNldmVyaXR5LkhJR0ggPyAxLjAgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldmVyaXR5ID09PSBFcnJvclNldmVyaXR5Lk1FRElVTSA/IDAuNyA6IDAuNDtcbiAgXG4gIHJldHVybiBjYXRlZ29yeVdlaWdodCAqIHNldmVyaXR5V2VpZ2h0O1xufVxuXG4vKipcbiAqIENhdGVnb3JpemUgZXJyb3JzIGJ5IHR5cGVcbiAqL1xuZnVuY3Rpb24gY2F0ZWdvcml6ZUVycm9ycyhlcnJvcnM6IFR5cGVTY3JpcHRFcnJvcltdKTogUmVjb3JkPHN0cmluZywgVHlwZVNjcmlwdEVycm9yW10+IHtcbiAgY29uc3QgY2F0ZWdvcml6ZWQ6IFJlY29yZDxzdHJpbmcsIFR5cGVTY3JpcHRFcnJvcltdPiA9IHt9O1xuICBcbiAgZm9yIChjb25zdCBlcnJvciBvZiBlcnJvcnMpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGVycm9yLmNhdGVnb3J5O1xuICAgIGlmICghY2F0ZWdvcml6ZWRbY2F0ZWdvcnldKSB7XG4gICAgICBjYXRlZ29yaXplZFtjYXRlZ29yeV0gPSBbXTtcbiAgICB9XG4gICAgY2F0ZWdvcml6ZWRbY2F0ZWdvcnldLnB1c2goZXJyb3IpO1xuICB9XG4gIFxuICByZXR1cm4gY2F0ZWdvcml6ZWQ7XG59XG5cbi8qKlxuICogR3JvdXAgZXJyb3JzIGJ5IGZpbGUgcGF0aFxuICovXG5mdW5jdGlvbiBncm91cEVycm9yc0J5RmlsZShlcnJvcnM6IFR5cGVTY3JpcHRFcnJvcltdKTogUmVjb3JkPHN0cmluZywgVHlwZVNjcmlwdEVycm9yW10+IHtcbiAgY29uc3QgZ3JvdXBlZDogUmVjb3JkPHN0cmluZywgVHlwZVNjcmlwdEVycm9yW10+ID0ge307XG4gIFxuICBmb3IgKGNvbnN0IGVycm9yIG9mIGVycm9ycykge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gZXJyb3IuZmlsZVBhdGg7XG4gICAgaWYgKCFncm91cGVkW2ZpbGVQYXRoXSkge1xuICAgICAgZ3JvdXBlZFtmaWxlUGF0aF0gPSBbXTtcbiAgICB9XG4gICAgZ3JvdXBlZFtmaWxlUGF0aF0ucHVzaChlcnJvcik7XG4gIH1cbiAgXG4gIHJldHVybiBncm91cGVkO1xufVxuXG4vKipcbiAqIElkZW50aWZ5IGhpZ2gtaW1wYWN0IGZpbGVzIHdpdGggbWFueSBlcnJvcnNcbiAqL1xuZnVuY3Rpb24gaWRlbnRpZnlIaWdoSW1wYWN0RmlsZXMoZXJyb3JzQnlGaWxlOiBSZWNvcmQ8c3RyaW5nLCBUeXBlU2NyaXB0RXJyb3JbXT4pOiBIaWdoSW1wYWN0RmlsZVtdIHtcbiAgY29uc3QgaGlnaEltcGFjdEZpbGVzOiBIaWdoSW1wYWN0RmlsZVtdID0gW107XG4gIFxuICBmb3IgKGNvbnN0IFtmaWxlUGF0aCwgZXJyb3JzXSBvZiBPYmplY3QuZW50cmllcyhlcnJvcnNCeUZpbGUpKSB7XG4gICAgaWYgKGVycm9ycy5sZW5ndGggPj0gNSkgeyAvLyBGaWxlcyB3aXRoIDUrIGVycm9ycyBhcmUgaGlnaCBpbXBhY3RcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBbLi4ubmV3IFNldChlcnJvcnMubWFwKGUgPT4gZS5jYXRlZ29yeSkpXTtcbiAgICAgIGNvbnN0IGF2ZXJhZ2VQcmlvcml0eSA9IGVycm9ycy5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgZS5wcmlvcml0eSwgMCkgLyBlcnJvcnMubGVuZ3RoO1xuICAgICAgXG4gICAgICBoaWdoSW1wYWN0RmlsZXMucHVzaCh7XG4gICAgICAgIGZpbGVQYXRoLFxuICAgICAgICBlcnJvckNvdW50OiBlcnJvcnMubGVuZ3RoLFxuICAgICAgICBjYXRlZ29yaWVzLFxuICAgICAgICBhdmVyYWdlUHJpb3JpdHlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gU29ydCBieSBlcnJvciBjb3VudCBkZXNjZW5kaW5nXG4gIHJldHVybiBoaWdoSW1wYWN0RmlsZXMuc29ydCgoYSwgYikgPT4gYi5lcnJvckNvdW50IC0gYS5lcnJvckNvdW50KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgcHJpb3JpdHkgcmFua2luZyBvZiBlcnJvcnNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJpb3JpdHlSYW5raW5nKGVycm9yczogVHlwZVNjcmlwdEVycm9yW10pOiBUeXBlU2NyaXB0RXJyb3JbXSB7XG4gIHJldHVybiBbLi4uZXJyb3JzXS5zb3J0KChhLCBiKSA9PiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgY2FtcGFpZ24gcmVjb21tZW5kYXRpb25zIGJhc2VkIG9uIGVycm9yIGFuYWx5c2lzXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlQ2FtcGFpZ25SZWNvbW1lbmRhdGlvbnMoXG4gIHRvdGFsRXJyb3JzOiBudW1iZXIsIFxuICBlcnJvcnNCeUNhdGVnb3J5OiBSZWNvcmQ8c3RyaW5nLCBUeXBlU2NyaXB0RXJyb3JbXT5cbik6IENhbXBhaWduUmVjb21tZW5kYXRpb25bXSB7XG4gIGNvbnN0IHJlY29tbWVuZGF0aW9uczogQ2FtcGFpZ25SZWNvbW1lbmRhdGlvbltdID0gW107XG4gIFxuICBpZiAodG90YWxFcnJvcnMgPj0gRVJST1JfVEhSRVNIT0xEUy5DUklUSUNBTCkge1xuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKHtcbiAgICAgIG1vZGU6IENhbXBhaWduTW9kZS5FTUVSR0VOQ1ksXG4gICAgICBwaGFzZXM6IFsndHlwZXNjcmlwdC1lcnJvci1lbGltaW5hdGlvbicsICdidWlsZC1zdGFiaWxpemF0aW9uJywgJ3NhZmV0eS12YWxpZGF0aW9uJ10sXG4gICAgICBlc3RpbWF0ZWREdXJhdGlvbjogTWF0aC5jZWlsKHRvdGFsRXJyb3JzICogMC41KSwgLy8gMzAgc2Vjb25kcyBwZXIgZXJyb3JcbiAgICAgIHNhZmV0eUxldmVsOiBTYWZldHlMZXZlbC5NQVhJTVVNLFxuICAgICAgZGVzY3JpcHRpb246IGBFbWVyZ2VuY3kgY2FtcGFpZ24gZm9yICR7dG90YWxFcnJvcnN9IGNyaXRpY2FsIGVycm9yc2BcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0b3RhbEVycm9ycyA+PSBFUlJPUl9USFJFU0hPTERTLkhJR0gpIHtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICBtb2RlOiBDYW1wYWlnbk1vZGUuQUdHUkVTU0lWRSxcbiAgICAgIHBoYXNlczogWyd0eXBlc2NyaXB0LWVycm9yLWVsaW1pbmF0aW9uJywgJ3RhcmdldGVkLWZpeGVzJ10sXG4gICAgICBlc3RpbWF0ZWREdXJhdGlvbjogTWF0aC5jZWlsKHRvdGFsRXJyb3JzICogMC4zKSwgLy8gMTggc2Vjb25kcyBwZXIgZXJyb3JcbiAgICAgIHNhZmV0eUxldmVsOiBTYWZldHlMZXZlbC5ISUdILFxuICAgICAgZGVzY3JpcHRpb246IGBBZ2dyZXNzaXZlIGNhbXBhaWduIGZvciAke3RvdGFsRXJyb3JzfSBoaWdoLXByaW9yaXR5IGVycm9yc2BcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0b3RhbEVycm9ycyA+PSBFUlJPUl9USFJFU0hPTERTLk1FRElVTSkge1xuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKHtcbiAgICAgIG1vZGU6IENhbXBhaWduTW9kZS5TVEFOREFSRCxcbiAgICAgIHBoYXNlczogWyd0YXJnZXRlZC1lcnJvci1yZWR1Y3Rpb24nXSxcbiAgICAgIGVzdGltYXRlZER1cmF0aW9uOiBNYXRoLmNlaWwodG90YWxFcnJvcnMgKiAwLjIpLCAvLyAxMiBzZWNvbmRzIHBlciBlcnJvclxuICAgICAgc2FmZXR5TGV2ZWw6IFNhZmV0eUxldmVsLk1FRElVTSxcbiAgICAgIGRlc2NyaXB0aW9uOiBgU3RhbmRhcmQgY2FtcGFpZ24gZm9yICR7dG90YWxFcnJvcnN9IGVycm9yc2BcbiAgICB9KTtcbiAgfVxuICBcbiAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgY2FtcGFpZ24gc2hvdWxkIGJlIHRyaWdnZXJlZFxuICovXG5mdW5jdGlvbiBzaG91bGRUcmlnZ2VyQ2FtcGFpZ24oZXJyb3JDb3VudDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIHJldHVybiBlcnJvckNvdW50ID49IEVSUk9SX1RIUkVTSE9MRFMuTUVESVVNO1xufVxuXG4vKipcbiAqIERldGVybWluZSBjYW1wYWlnbiBtb2RlIGJhc2VkIG9uIGVycm9yIGNvdW50XG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNhbXBhaWduTW9kZShlcnJvckNvdW50OiBudW1iZXIpOiBDYW1wYWlnbk1vZGUge1xuICBpZiAoZXJyb3JDb3VudCA+PSBFUlJPUl9USFJFU0hPTERTLkNSSVRJQ0FMKSB7XG4gICAgcmV0dXJuIENhbXBhaWduTW9kZS5FTUVSR0VOQ1k7XG4gIH0gZWxzZSBpZiAoZXJyb3JDb3VudCA+PSBFUlJPUl9USFJFU0hPTERTLkhJR0gpIHtcbiAgICByZXR1cm4gQ2FtcGFpZ25Nb2RlLkFHR1JFU1NJVkU7XG4gIH0gZWxzZSBpZiAoZXJyb3JDb3VudCA+PSBFUlJPUl9USFJFU0hPTERTLk1FRElVTSkge1xuICAgIHJldHVybiBDYW1wYWlnbk1vZGUuU1RBTkRBUkQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIENhbXBhaWduTW9kZS5NT05JVE9SSU5HO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgZml4IHJlY29tbWVuZGF0aW9ucyBmb3IgZWFjaCBlcnJvciBjYXRlZ29yeVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZpeFJlY29tbWVuZGF0aW9ucyhhbmFseXNpczogRXJyb3JBbmFseXNpc1Jlc3VsdCk6IEZpeFJlY29tbWVuZGF0aW9uW10ge1xuICBjb25zdCByZWNvbW1lbmRhdGlvbnM6IEZpeFJlY29tbWVuZGF0aW9uW10gPSBbXTtcbiAgXG4gIGZvciAoY29uc3QgW2NhdGVnb3J5LCBlcnJvcnNdIG9mIE9iamVjdC5lbnRyaWVzKGFuYWx5c2lzLmVycm9yc0J5Q2F0ZWdvcnkpKSB7XG4gICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBlcnJvckNhdGVnb3J5ID0gY2F0ZWdvcnkgYXMgRXJyb3JDYXRlZ29yeTtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gQ0FURUdPUllfU1VDQ0VTU19SQVRFU1tlcnJvckNhdGVnb3J5XSB8fCAwLjc7XG4gICAgICBjb25zdCBlc3RpbWF0ZWRFZmZvcnQgPSBjYWxjdWxhdGVFc3RpbWF0ZWRFZmZvcnQoZXJyb3JzKTtcbiAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IGRldGVybWluZUJhdGNoU2l6ZShlcnJvcnMubGVuZ3RoLCBlcnJvckNhdGVnb3J5KTtcbiAgICAgIGNvbnN0IHByaW9yaXR5ID0gY2FsY3VsYXRlQ2F0ZWdvcnlQcmlvcml0eShlcnJvckNhdGVnb3J5LCBlcnJvcnMubGVuZ3RoKTtcbiAgICAgIFxuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgICAgICBjYXRlZ29yeTogZXJyb3JDYXRlZ29yeSxcbiAgICAgICAgZXJyb3JDb3VudDogZXJyb3JzLmxlbmd0aCxcbiAgICAgICAgZml4U3RyYXRlZ3k6IGdldEZpeFN0cmF0ZWd5KGVycm9yQ2F0ZWdvcnkpLFxuICAgICAgICBlc3RpbWF0ZWRFZmZvcnQsXG4gICAgICAgIGJhdGNoU2l6ZSxcbiAgICAgICAgcHJpb3JpdHksXG4gICAgICAgIHN1Y2Nlc3NSYXRlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiByZWNvbW1lbmRhdGlvbnMuc29ydCgoYSwgYikgPT4gYi5wcmlvcml0eSAtIGEucHJpb3JpdHkpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBlc3RpbWF0ZWQgZWZmb3J0IGZvciBmaXhpbmcgZXJyb3JzXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUVzdGltYXRlZEVmZm9ydChlcnJvcnM6IFR5cGVTY3JpcHRFcnJvcltdKTogbnVtYmVyIHtcbiAgLy8gQmFzZSB0aW1lIHBlciBlcnJvciBpbiBtaW51dGVzXG4gIGNvbnN0IGJhc2VUaW1lUGVyRXJyb3IgPSAwLjU7IC8vIDMwIHNlY29uZHNcbiAgXG4gIC8vIEFkanVzdCBiYXNlZCBvbiBjb21wbGV4aXR5XG4gIGxldCB0b3RhbFRpbWUgPSAwO1xuICBmb3IgKGNvbnN0IGVycm9yIG9mIGVycm9ycykge1xuICAgIGxldCBtdWx0aXBsaWVyID0gMS4wO1xuICAgIFxuICAgIHN3aXRjaCAoZXJyb3IuY2F0ZWdvcnkpIHtcbiAgICAgIGNhc2UgRXJyb3JDYXRlZ29yeS5UUzIzNTI6XG4gICAgICBjYXNlIEVycm9yQ2F0ZWdvcnkuVFMyMzA0OlxuICAgICAgICBtdWx0aXBsaWVyID0gMC44OyAvLyBFYXNpZXIgdG8gZml4XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFcnJvckNhdGVnb3J5LlRTMjM0NTpcbiAgICAgIGNhc2UgRXJyb3JDYXRlZ29yeS5UUzI2OTg6XG4gICAgICAgIG11bHRpcGxpZXIgPSAxLjI7IC8vIE1vZGVyYXRlIGNvbXBsZXhpdHlcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVycm9yQ2F0ZWdvcnkuVFMyMzYyOlxuICAgICAgICBtdWx0aXBsaWVyID0gMS4wOyAvLyBTdGFuZGFyZCBjb21wbGV4aXR5XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbXVsdGlwbGllciA9IDEuNTsgLy8gTW9yZSBjb21wbGV4XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBcbiAgICB0b3RhbFRpbWUgKz0gYmFzZVRpbWVQZXJFcnJvciAqIG11bHRpcGxpZXI7XG4gIH1cbiAgXG4gIHJldHVybiBNYXRoLmNlaWwodG90YWxUaW1lKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgb3B0aW1hbCBiYXRjaCBzaXplIGZvciBlcnJvciBjYXRlZ29yeVxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVCYXRjaFNpemUoZXJyb3JDb3VudDogbnVtYmVyLCBjYXRlZ29yeTogRXJyb3JDYXRlZ29yeSk6IG51bWJlciB7XG4gIC8vIEJhc2UgYmF0Y2ggc2l6ZXMgYnkgY2F0ZWdvcnlcbiAgY29uc3QgYmFzZUJhdGNoU2l6ZXMgPSB7XG4gICAgW0Vycm9yQ2F0ZWdvcnkuVFMyMzUyXTogMjUsXG4gICAgW0Vycm9yQ2F0ZWdvcnkuVFMyMzA0XTogMjAsXG4gICAgW0Vycm9yQ2F0ZWdvcnkuVFMyMzQ1XTogMTUsXG4gICAgW0Vycm9yQ2F0ZWdvcnkuVFMyNjk4XTogMTUsXG4gICAgW0Vycm9yQ2F0ZWdvcnkuVFMyMzYyXTogMjAsXG4gICAgW0Vycm9yQ2F0ZWdvcnkuT1RIRVJdOiAxMFxuICB9O1xuICBcbiAgY29uc3QgYmFzZUJhdGNoU2l6ZSA9IGJhc2VCYXRjaFNpemVzW2NhdGVnb3J5XSB8fCAxMDtcbiAgXG4gIC8vIEFkanVzdCBiYXNlZCBvbiB0b3RhbCBlcnJvciBjb3VudFxuICBpZiAoZXJyb3JDb3VudCA8IDEwKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKGJhc2VCYXRjaFNpemUsIGVycm9yQ291bnQpO1xuICB9IGVsc2UgaWYgKGVycm9yQ291bnQgPiAxMDApIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoNSwgTWF0aC5mbG9vcihiYXNlQmF0Y2hTaXplICogMC41KSk7IC8vIFNtYWxsZXIgYmF0Y2hlcyBmb3IgbGFyZ2UgY291bnRzXG4gIH1cbiAgXG4gIHJldHVybiBiYXNlQmF0Y2hTaXplO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBwcmlvcml0eSBmb3IgZXJyb3IgY2F0ZWdvcnlcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlQ2F0ZWdvcnlQcmlvcml0eShjYXRlZ29yeTogRXJyb3JDYXRlZ29yeSwgZXJyb3JDb3VudDogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgY2F0ZWdvcnlXZWlnaHQgPSBDQVRFR09SWV9QUklPUklUWV9XRUlHSFRTW2NhdGVnb3J5XSB8fCAwLjU7XG4gIGNvbnN0IGNvdW50V2VpZ2h0ID0gTWF0aC5taW4oMS4wLCBlcnJvckNvdW50IC8gNTApOyAvLyBOb3JtYWxpemUgY291bnQgaW1wYWN0XG4gIFxuICByZXR1cm4gY2F0ZWdvcnlXZWlnaHQgKiAwLjcgKyBjb3VudFdlaWdodCAqIDAuMztcbn1cblxuLyoqXG4gKiBHZXQgZml4IHN0cmF0ZWd5IGRlc2NyaXB0aW9uIGZvciBlcnJvciBjYXRlZ29yeVxuICovXG5mdW5jdGlvbiBnZXRGaXhTdHJhdGVneShjYXRlZ29yeTogRXJyb3JDYXRlZ29yeSk6IHN0cmluZyB7XG4gIGNvbnN0IHN0cmF0ZWdpZXMgPSB7XG4gICAgW0Vycm9yQ2F0ZWdvcnkuVFMyMzUyXTogJ0VuaGFuY2VkIEVycm9yIEZpeGVyIHBhdHRlcm5zIGZvciB0eXBlIGNvbnZlcnNpb24nLFxuICAgIFtFcnJvckNhdGVnb3J5LlRTMjMwNF06ICdJbXBvcnQgcmVzb2x1dGlvbiBhbmQgZGVjbGFyYXRpb24gZml4ZXMnLFxuICAgIFtFcnJvckNhdGVnb3J5LlRTMjM0NV06ICdQYXJhbWV0ZXIgdHlwZSBhbGlnbm1lbnQgYW5kIGludGVyZmFjZSB1cGRhdGVzJyxcbiAgICBbRXJyb3JDYXRlZ29yeS5UUzI2OThdOiAnT2JqZWN0IGFuZCBhcnJheSBzcHJlYWQgc3ludGF4IGNvcnJlY3Rpb25zJyxcbiAgICBbRXJyb3JDYXRlZ29yeS5UUzIzNjJdOiAnVHlwZSBhc3NlcnRpb24gYW5kIGFyaXRobWV0aWMgb3BlcmF0aW9uIGZpeGVzJyxcbiAgICBbRXJyb3JDYXRlZ29yeS5PVEhFUl06ICdNYW51YWwgcmV2aWV3IGFuZCBjdXN0b20gc29sdXRpb24gZGV2ZWxvcG1lbnQnXG4gIH07XG4gIFxuICByZXR1cm4gc3RyYXRlZ2llc1tjYXRlZ29yeV0gfHwgJ0N1c3RvbSBmaXggc3RyYXRlZ3kgcmVxdWlyZWQnO1xufVxuXG4vKipcbiAqIENyZWF0ZSBiYXRjaCBwcm9jZXNzaW5nIHNjaGVkdWxlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhdGNoU2NoZWR1bGUocmVjb21tZW5kYXRpb25zOiBGaXhSZWNvbW1lbmRhdGlvbltdLCBtb2RlOiBDYW1wYWlnbk1vZGUpOiBCYXRjaFNjaGVkdWxlIHtcbiAgY29uc3QgYmF0Y2hlczogUHJvY2Vzc2luZ0JhdGNoW10gPSBbXTtcbiAgY29uc3Qgc2FmZXR5UHJvdG9jb2xzOiBTYWZldHlQcm90b2NvbFtdID0gW107XG4gIGxldCB0b3RhbEVzdGltYXRlZFRpbWUgPSAwO1xuICBsZXQgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xuICBcbiAgLy8gQWRkIHNhZmV0eSBwcm90b2NvbHMgYmFzZWQgb24gY2FtcGFpZ24gbW9kZVxuICBzYWZldHlQcm90b2NvbHMucHVzaCguLi5nZXRTYWZldHlQcm90b2NvbHMobW9kZSkpO1xuICBcbiAgZm9yIChjb25zdCByZWNvbW1lbmRhdGlvbiBvZiByZWNvbW1lbmRhdGlvbnMpIHtcbiAgICBjb25zdCBiYXRjaDogUHJvY2Vzc2luZ0JhdGNoID0ge1xuICAgICAgaWQ6IGdlbmVyYXRlQmF0Y2hJZCgpLFxuICAgICAgY2F0ZWdvcnk6IHJlY29tbWVuZGF0aW9uLmNhdGVnb3J5LFxuICAgICAgZmlsZXM6IFtdLCAvLyBXb3VsZCBiZSBwb3B1bGF0ZWQgd2l0aCBhY3R1YWwgZmlsZSBwYXRoc1xuICAgICAgYmF0Y2hTaXplOiByZWNvbW1lbmRhdGlvbi5iYXRjaFNpemUsXG4gICAgICBlc3RpbWF0ZWREdXJhdGlvbjogcmVjb21tZW5kYXRpb24uZXN0aW1hdGVkRWZmb3J0LFxuICAgICAgc2FmZXR5TGV2ZWw6IGRldGVybWluZVNhZmV0eUxldmVsKG1vZGUpLFxuICAgICAgc2NoZWR1bGVkVGltZTogbmV3IERhdGUoY3VycmVudFRpbWUpXG4gICAgfTtcbiAgICBcbiAgICBiYXRjaGVzLnB1c2goYmF0Y2gpO1xuICAgIHRvdGFsRXN0aW1hdGVkVGltZSArPSBiYXRjaC5lc3RpbWF0ZWREdXJhdGlvbjtcbiAgICBcbiAgICAvLyBTY2hlZHVsZSBuZXh0IGJhdGNoIHdpdGggYnVmZmVyIHRpbWVcbiAgICBjdXJyZW50VGltZSA9IG5ldyBEYXRlKGN1cnJlbnRUaW1lLmdldFRpbWUoKSArIChiYXRjaC5lc3RpbWF0ZWREdXJhdGlvbiAqIDYwICogMTAwMCkgKyAoMiAqIDYwICogMTAwMCkpOyAvLyBBZGQgMiBtaW51dGUgYnVmZmVyXG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgYmF0Y2hlcyxcbiAgICB0b3RhbEVzdGltYXRlZFRpbWUsXG4gICAgc2FmZXR5UHJvdG9jb2xzXG4gIH07XG59XG5cbi8qKlxuICogR2V0IHNhZmV0eSBwcm90b2NvbHMgZm9yIGNhbXBhaWduIG1vZGVcbiAqL1xuZnVuY3Rpb24gZ2V0U2FmZXR5UHJvdG9jb2xzKG1vZGU6IENhbXBhaWduTW9kZSk6IFNhZmV0eVByb3RvY29sW10ge1xuICBjb25zdCBwcm90b2NvbHM6IFNhZmV0eVByb3RvY29sW10gPSBbXTtcbiAgXG4gIHN3aXRjaCAobW9kZSkge1xuICAgIGNhc2UgQ2FtcGFpZ25Nb2RlLkVNRVJHRU5DWTpcbiAgICAgIHByb3RvY29scy5wdXNoKHtcbiAgICAgICAgbmFtZTogJ0VtZXJnZW5jeSBTYWZldHkgUHJvdG9jb2wnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ01heGltdW0gc2FmZXR5IHdpdGggdmFsaWRhdGlvbiBhZnRlciBldmVyeSBmaWxlJyxcbiAgICAgICAgdHJpZ2dlcnM6IFsnQlVJTERfRkFJTFVSRScsICdFUlJPUl9JTkNSRUFTRScsICdDT1JSVVBUSU9OX0RFVEVDVEVEJ10sXG4gICAgICAgIGFjdGlvbnM6IFsnSU1NRURJQVRFX1JPTExCQUNLJywgJ0FMRVJUX1RFQU0nLCAnUEFVU0VfQ0FNUEFJR04nXVxuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgICAgIFxuICAgIGNhc2UgQ2FtcGFpZ25Nb2RlLkFHR1JFU1NJVkU6XG4gICAgICBwcm90b2NvbHMucHVzaCh7XG4gICAgICAgIG5hbWU6ICdBZ2dyZXNzaXZlIFNhZmV0eSBQcm90b2NvbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaCBzYWZldHkgd2l0aCBmcmVxdWVudCB2YWxpZGF0aW9uIGNoZWNrcG9pbnRzJyxcbiAgICAgICAgdHJpZ2dlcnM6IFsnQlVJTERfRkFJTFVSRScsICdNQUpPUl9FUlJPUl9JTkNSRUFTRSddLFxuICAgICAgICBhY3Rpb25zOiBbJ0FVVE9NQVRJQ19ST0xMQkFDSycsICdSRURVQ0VfQkFUQ0hfU0laRSddXG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgY2FzZSBDYW1wYWlnbk1vZGUuU1RBTkRBUkQ6XG4gICAgICBwcm90b2NvbHMucHVzaCh7XG4gICAgICAgIG5hbWU6ICdTdGFuZGFyZCBTYWZldHkgUHJvdG9jb2wnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1N0YW5kYXJkIHNhZmV0eSB3aXRoIGJ1aWxkIHZhbGlkYXRpb24nLFxuICAgICAgICB0cmlnZ2VyczogWydCVUlMRF9GQUlMVVJFJ10sXG4gICAgICAgIGFjdGlvbnM6IFsnUk9MTEJBQ0tfQkFUQ0gnLCAnTk9USUZZX0RFVkVMT1BFUiddXG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIFxuICByZXR1cm4gcHJvdG9jb2xzO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0b3RhbCBlc3RpbWF0ZWQgZHVyYXRpb25cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlVG90YWxFc3RpbWF0ZWREdXJhdGlvbihzY2hlZHVsZTogQmF0Y2hTY2hlZHVsZSk6IG51bWJlciB7XG4gIHJldHVybiBzY2hlZHVsZS50b3RhbEVzdGltYXRlZFRpbWU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHNhZmV0eSBsZXZlbCBiYXNlZCBvbiBjYW1wYWlnbiBtb2RlXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZVNhZmV0eUxldmVsKG1vZGU6IENhbXBhaWduTW9kZSk6IFNhZmV0eUxldmVsIHtcbiAgc3dpdGNoIChtb2RlKSB7XG4gICAgY2FzZSBDYW1wYWlnbk1vZGUuRU1FUkdFTkNZOlxuICAgICAgcmV0dXJuIFNhZmV0eUxldmVsLk1BWElNVU07XG4gICAgY2FzZSBDYW1wYWlnbk1vZGUuQUdHUkVTU0lWRTpcbiAgICAgIHJldHVybiBTYWZldHlMZXZlbC5ISUdIO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gU2FmZXR5TGV2ZWwuTUVESVVNO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgdW5pcXVlIGJhdGNoIElEXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlQmF0Y2hJZCgpOiBzdHJpbmcge1xuICByZXR1cm4gYGJhdGNoXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbn1cblxuLyoqXG4gKiBHZXQgY3VycmVudCBUeXBlU2NyaXB0IGVycm9yIGNvdW50IChzaW1wbGUgdmVyc2lvbilcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRUeXBlU2NyaXB0RXJyb3JDb3VudCgpOiBQcm9taXNlPG51bWJlcj4ge1xuICB0cnkge1xuICAgIGNvbnN0IGVycm9yT3V0cHV0ID0gYXdhaXQgZ2V0VHlwZVNjcmlwdEVycm9ycygpO1xuICAgIGNvbnN0IGVycm9ycyA9IHBhcnNlVHlwZVNjcmlwdEVycm9ycyhlcnJvck91dHB1dCk7XG4gICAgcmV0dXJuIGVycm9ycy5sZW5ndGg7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZ2V0IFR5cGVTY3JpcHQgZXJyb3IgY291bnQ6JywgZXJyb3IpO1xuICAgIHJldHVybiAtMTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGNhbXBhaWduIHRyaWdnZXIgY29uZGl0aW9ucyBhcmUgbWV0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0NhbXBhaWduVHJpZ2dlckNvbmRpdGlvbnMoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXJyb3JDb3VudCA9IGF3YWl0IGdldEN1cnJlbnRUeXBlU2NyaXB0RXJyb3JDb3VudCgpO1xuICAgIHJldHVybiBzaG91bGRUcmlnZ2VyQ2FtcGFpZ24oZXJyb3JDb3VudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gY2hlY2sgY2FtcGFpZ24gdHJpZ2dlciBjb25kaXRpb25zOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0iXSwidmVyc2lvbiI6M30=