3f11879ffdd89d39195facf09a7254a0
"use strict";
/**
 * Campaign System Integration Layer
 * Extends existing CampaignController to support unintentional any elimination
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.UnintentionalAnyIntegrationHelper = exports.createUnintentionalAnyCampaignController = exports.UnintentionalAnyCampaignController = void 0;
const campaign_1 = require("../../../types/campaign");
const CampaignController_1 = require("../CampaignController");
const UnintentionalAnyEliminationCampaign_1 = require("./UnintentionalAnyEliminationCampaign");
/**
 * Extended Campaign Controller with Unintentional Any Elimination support
 */
class UnintentionalAnyCampaignController extends CampaignController_1.CampaignController {
    unintentionalAnyCampaign;
    unintentionalAnyConfig;
    constructor(config, unintentionalAnyConfig) {
        super(config);
        // Default configuration for unintentional any elimination
        this.unintentionalAnyConfig = {
            maxFilesPerBatch: 15,
            targetReductionPercentage: 15,
            confidenceThreshold: 0.8,
            enableDomainAnalysis: true,
            enableDocumentation: true,
            safetyLevel: 'CONSERVATIVE',
            validationFrequency: 5,
            ...unintentionalAnyConfig
        };
        this.unintentionalAnyCampaign = new UnintentionalAnyEliminationCampaign_1.UnintentionalAnyEliminationCampaign(this.unintentionalAnyConfig);
    }
    /**
     * Execute unintentional any elimination phase with full campaign integration
     */
    async executeUnintentionalAnyPhase(phase) {
        console.log(`üéØ Executing Unintentional Any Elimination Phase: ${phase.name}`);
        const startTime = Date.now();
        // Create safety checkpoint before phase execution
        const checkpointId = await this.createSafetyCheckpoint(`Pre-phase checkpoint: ${phase.name}`);
        try {
            // Get initial metrics for comparison
            const initialMetrics = await this.getCurrentMetrics();
            const initialUnintentionalAnyMetrics = await this.getUnintentionalAnyMetrics();
            // Execute the phase using the unintentional any campaign
            const campaignResult = await this.unintentionalAnyCampaign.executePhase(phase);
            // Get final metrics and calculate improvement
            const finalMetrics = await this.getCurrentMetrics();
            const finalUnintentionalAnyMetrics = await this.getUnintentionalAnyMetrics();
            const metricsImprovement = this.calculateUnintentionalAnyImprovement(initialUnintentionalAnyMetrics, finalUnintentionalAnyMetrics);
            // Validate phase completion
            const validation = await this.validateUnintentionalAnyPhaseCompletion(phase, finalUnintentionalAnyMetrics);
            if (!validation.success && this.config.safetySettings.automaticRollbackEnabled) {
                console.warn(`‚ö†Ô∏è Phase validation failed, rolling back to checkpoint: ${checkpointId}`);
                await this.rollbackToCheckpoint(checkpointId);
                throw new Error(`Phase validation failed: ${validation.errors.join(', ')}`);
            }
            const executionTime = Date.now() - startTime;
            const result = {
                phaseId: phase.id,
                success: campaignResult.success,
                metricsImprovement: {
                    typeScriptErrorsReduced: metricsImprovement.explicitAnyWarningsReduced,
                    lintingWarningsReduced: metricsImprovement.explicitAnyWarningsReduced,
                    buildTimeImproved: 0,
                    enterpriseSystemsAdded: 0
                },
                filesProcessed: campaignResult.filesProcessed,
                errorsFixed: campaignResult.errorsFixed,
                warningsFixed: campaignResult.warningsFixed,
                executionTime,
                safetyEvents: campaignResult.safetyEvents
            };
            console.log(`‚úÖ Unintentional Any Elimination Phase completed successfully`);
            console.log(`   Files processed: ${result.filesProcessed}`);
            console.log(`   Warnings fixed: ${result.warningsFixed}`);
            console.log(`   Execution time: ${(result.executionTime / 1000).toFixed(2)}s`);
            return result;
        }
        catch (error) {
            console.error(`‚ùå Unintentional Any Elimination Phase failed:`, error);
            const executionTime = Date.now() - startTime;
            return {
                phaseId: phase.id,
                success: false,
                metricsImprovement: {
                    typeScriptErrorsReduced: 0,
                    lintingWarningsReduced: 0,
                    buildTimeImproved: 0,
                    enterpriseSystemsAdded: 0
                },
                filesProcessed: 0,
                errorsFixed: 0,
                warningsFixed: 0,
                executionTime,
                safetyEvents: [
                    {
                        type: campaign_1.SafetyEventType.EMERGENCY_RECOVERY,
                        timestamp: new Date(),
                        description: `Unintentional Any Elimination Phase failed: ${error instanceof Error ? error.message : String(error)}`,
                        severity: campaign_1.SafetyEventSeverity.ERROR,
                        action: 'PHASE_FAILURE'
                    }
                ]
            };
        }
    }
    /**
     * Create campaign configuration that includes unintentional any elimination phases
     */
    static createUnintentionalAnyEliminationConfig(baseConfig, unintentionalAnyConfig) {
        const unintentionalAnyCampaign = new UnintentionalAnyEliminationCampaign_1.UnintentionalAnyEliminationCampaign(unintentionalAnyConfig);
        const unintentionalAnyPhases = unintentionalAnyCampaign.createCampaignPhases();
        const defaultConfig = {
            phases: [
                // Include existing phases if provided
                ...(baseConfig?.phases || []),
                // Add unintentional any elimination phases
                ...unintentionalAnyPhases
            ],
            safetySettings: {
                maxFilesPerBatch: unintentionalAnyConfig?.maxFilesPerBatch || 15,
                buildValidationFrequency: unintentionalAnyConfig?.validationFrequency || 5,
                testValidationFrequency: 10,
                corruptionDetectionEnabled: true,
                automaticRollbackEnabled: true,
                stashRetentionDays: 7,
                ...baseConfig?.safetySettings
            },
            progressTargets: {
                typeScriptErrors: 0,
                lintingWarnings: 0,
                buildTime: 10,
                enterpriseSystems: 200,
                ...baseConfig?.progressTargets
            },
            toolConfiguration: {
                enhancedErrorFixer: 'scripts/typescript-fixes/fix-typescript-errors-enhanced-v3.js',
                explicitAnyFixer: 'src/services/campaign/unintentional-any-elimination/ProgressiveImprovementEngine.ts',
                unusedVariablesFixer: 'scripts/typescript-fixes/fix-unused-variables-enhanced.js',
                consoleStatementFixer: 'scripts/lint-fixes/fix-console-statements-only.js',
                ...baseConfig?.toolConfiguration
            }
        };
        return defaultConfig;
    }
    /**
     * Get unintentional any specific metrics
     */
    async getUnintentionalAnyMetrics() {
        try {
            // Get current explicit-any warning count
            const lintingOutput = await this.getLintingOutput();
            const explicitAnyWarnings = this.countExplicitAnyWarnings(lintingOutput);
            // Get documentation coverage
            const documentationReport = await this.unintentionalAnyCampaign.getDocumentationReport();
            return {
                totalAnyTypes: explicitAnyWarnings,
                intentionalAnyTypes: documentationReport.totalIntentionalAnyTypes,
                unintentionalAnyTypes: explicitAnyWarnings - documentationReport.totalIntentionalAnyTypes,
                documentedAnyTypes: Math.round(documentationReport.totalIntentionalAnyTypes * documentationReport.documentationCoverage / 100),
                documentationCoverage: documentationReport.documentationCoverage,
                reductionFromBaseline: 0,
                targetReduction: this.unintentionalAnyConfig.targetReductionPercentage
            };
        }
        catch (error) {
            console.warn(`Warning: Could not get unintentional any metrics: ${error instanceof Error ? error.message : String(error)}`);
            return {
                totalAnyTypes: 0,
                intentionalAnyTypes: 0,
                unintentionalAnyTypes: 0,
                documentedAnyTypes: 0,
                documentationCoverage: 0,
                reductionFromBaseline: 0,
                targetReduction: this.unintentionalAnyConfig.targetReductionPercentage
            };
        }
    }
    /**
     * Get enhanced progress metrics that include unintentional any metrics
     */
    async getUnintentionalAnyProgressMetrics() {
        const baseMetrics = await this.getCurrentMetrics();
        const unintentionalAnyMetrics = await this.getUnintentionalAnyMetrics();
        return {
            ...baseMetrics,
            unintentionalAnyMetrics
        };
    }
    /**
     * Validate unintentional any phase completion
     */
    async validateUnintentionalAnyPhaseCompletion(phase, metrics) {
        const errors = [];
        const warnings = [];
        try {
            // Validate based on phase type
            switch (phase.id) {
                case 'unintentional-any-analysis':
                    // Analysis phase should complete without increasing any types
                    if (metrics.totalAnyTypes < 0) {
                        errors.push('Analysis phase failed to count any types');
                    }
                    break;
                case 'unintentional-any-replacement':
                    // Replacement phase should reduce unintentional any types
                    if (metrics.reductionFromBaseline < this.unintentionalAnyConfig.targetReductionPercentage * 0.5) {
                        warnings.push(`Reduction ${metrics.reductionFromBaseline}% is below target ${this.unintentionalAnyConfig.targetReductionPercentage}%`);
                    }
                    break;
                case 'intentional-any-documentation':
                    // Documentation phase should improve documentation coverage
                    if (metrics.documentationCoverage < 80) {
                        warnings.push(`Documentation coverage ${metrics.documentationCoverage}% is below 80%`);
                    }
                    break;
            }
            // Validate build still works
            const buildValidation = await this.validateBuild();
            if (!buildValidation.success) {
                errors.push('Build validation failed after unintentional any elimination');
                errors.push(...buildValidation.errors);
            }
            return {
                success: errors.length === 0,
                errors,
                warnings,
                metrics: await this.getCurrentMetrics()
            };
        }
        catch (error) {
            return {
                success: false,
                errors: [`Validation error: ${error instanceof Error ? error.message : String(error)}`],
                warnings: []
            };
        }
    }
    /**
     * Calculate metrics improvement for unintentional any elimination
     */
    calculateUnintentionalAnyImprovement(initial, final) {
        return {
            explicitAnyWarningsReduced: initial.unintentionalAnyTypes - final.unintentionalAnyTypes,
            documentationImproved: final.documentationCoverage - initial.documentationCoverage
        };
    }
    /**
     * Get linting output for analysis
     */
    async getLintingOutput() {
        try {
            const { execSync } = require('child_process');
            return execSync('yarn lint 2>&1', { encoding: 'utf8', stdio: 'pipe' });
        }
        catch (error) {
            // ESLint returns non-zero exit code when warnings/errors are found
            return error.stdout || error.message || '';
        }
    }
    /**
     * Count explicit-any warnings in linting output
     */
    countExplicitAnyWarnings(lintingOutput) {
        const explicitAnyMatches = lintingOutput.match(/@typescript-eslint\/no-explicit-any/g);
        return explicitAnyMatches ? explicitAnyMatches.length : 0;
    }
    /**
     * Validate build after changes
     */
    async validateBuild() {
        try {
            const { execSync } = require('child_process');
            execSync('yarn build', { encoding: 'utf8', stdio: 'pipe' });
            return { success: true, errors: [] };
        }
        catch (error) {
            return {
                success: false,
                errors: [error.message || 'Build failed']
            };
        }
    }
    /**
     * Get the unintentional any campaign instance
     */
    getUnintentionalAnyCampaign() {
        return this.unintentionalAnyCampaign;
    }
    /**
     * Update unintentional any configuration
     */
    updateUnintentionalAnyConfig(newConfig) {
        this.unintentionalAnyConfig = { ...this.unintentionalAnyConfig, ...newConfig };
        this.unintentionalAnyCampaign.updateConfig(newConfig);
    }
    /**
     * Get current unintentional any configuration
     */
    getUnintentionalAnyConfig() {
        return { ...this.unintentionalAnyConfig };
    }
}
exports.UnintentionalAnyCampaignController = UnintentionalAnyCampaignController;
/**
 * Factory function to create a campaign controller with unintentional any elimination support
 */
function createUnintentionalAnyCampaignController(baseConfig, unintentionalAnyConfig) {
    const config = UnintentionalAnyCampaignController.createUnintentionalAnyEliminationConfig(baseConfig, unintentionalAnyConfig);
    return new UnintentionalAnyCampaignController(config, unintentionalAnyConfig);
}
exports.createUnintentionalAnyCampaignController = createUnintentionalAnyCampaignController;
/**
 * Integration helper to add unintentional any elimination to existing campaigns
 */
class UnintentionalAnyIntegrationHelper {
    /**
     * Add unintentional any elimination phases to existing campaign configuration
     */
    static addUnintentionalAnyPhases(existingConfig, unintentionalAnyConfig) {
        const unintentionalAnyCampaign = new UnintentionalAnyEliminationCampaign_1.UnintentionalAnyEliminationCampaign(unintentionalAnyConfig);
        const unintentionalAnyPhases = unintentionalAnyCampaign.createCampaignPhases();
        return {
            ...existingConfig,
            phases: [
                ...existingConfig.phases,
                ...unintentionalAnyPhases
            ]
        };
    }
    /**
     * Create compatibility layer with existing automation scripts
     */
    static createAutomationScriptCompatibility() {
        return {
            explicitAnyFixer: 'src/services/campaign/unintentional-any-elimination/ProgressiveImprovementEngine.ts',
            unintentionalAnyAnalyzer: 'src/services/campaign/unintentional-any-elimination/AnyTypeClassifier.ts',
            documentationGenerator: 'src/services/campaign/unintentional-any-elimination/AutoDocumentationGenerator.ts'
        };
    }
    /**
     * Resolve conflicts with other campaign priorities
     */
    static resolveCampaignPriorityConflicts(campaigns, priorityOrder) {
        // Sort campaigns by priority order
        const sortedCampaigns = campaigns.sort((a, b) => {
            const aIndex = priorityOrder.findIndex(p => a.phases.some(phase => phase.id.includes(p)));
            const bIndex = priorityOrder.findIndex(p => b.phases.some(phase => phase.id.includes(p)));
            return aIndex - bIndex;
        });
        // Merge campaigns with priority-based phase ordering
        const mergedPhases = [];
        const mergedSafetySettings = {
            maxFilesPerBatch: Math.min(...campaigns.map(c => c.safetySettings.maxFilesPerBatch)),
            buildValidationFrequency: Math.min(...campaigns.map(c => c.safetySettings.buildValidationFrequency)),
            testValidationFrequency: Math.min(...campaigns.map(c => c.safetySettings.testValidationFrequency)),
            corruptionDetectionEnabled: campaigns.every(c => c.safetySettings.corruptionDetectionEnabled),
            automaticRollbackEnabled: campaigns.every(c => c.safetySettings.automaticRollbackEnabled),
            stashRetentionDays: Math.max(...campaigns.map(c => c.safetySettings.stashRetentionDays))
        };
        // Add phases in priority order
        for (const priority of priorityOrder) {
            for (const campaign of sortedCampaigns) {
                const priorityPhases = campaign.phases.filter(phase => phase.id.includes(priority));
                mergedPhases.push(...priorityPhases);
            }
        }
        return {
            phases: mergedPhases,
            safetySettings: mergedSafetySettings,
            progressTargets: sortedCampaigns[0].progressTargets,
            toolConfiguration: {
                ...sortedCampaigns[0].toolConfiguration,
                ...UnintentionalAnyIntegrationHelper.createAutomationScriptCompatibility()
            }
        };
    }
}
exports.UnintentionalAnyIntegrationHelper = UnintentionalAnyIntegrationHelper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L2JhY2t1cHMvZmlyc3Qtd2F2ZS0yMDI1LTA4LTExVDA1LTE5LTI2LTgxM1ovc3JjL3NlcnZpY2VzL2NhbXBhaWduL3VuaW50ZW50aW9uYWwtYW55LWVsaW1pbmF0aW9uL0NhbXBhaWduSW50ZWdyYXRpb24udHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRzs7O0FBRUgsc0RBUWlDO0FBRWpDLDhEQUEyRDtBQUMzRCwrRkFBNEY7QUFPNUY7O0dBRUc7QUFDSCxNQUFhLGtDQUFtQyxTQUFRLHVDQUFrQjtJQUNoRSx3QkFBd0IsQ0FBc0M7SUFDOUQsc0JBQXNCLENBQXlCO0lBRXZELFlBQVksTUFBc0IsRUFBRSxzQkFBd0Q7UUFDMUYsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRWQsMERBQTBEO1FBQzFELElBQUksQ0FBQyxzQkFBc0IsR0FBRztZQUM1QixnQkFBZ0IsRUFBRSxFQUFFO1lBQ3BCLHlCQUF5QixFQUFFLEVBQUU7WUFDN0IsbUJBQW1CLEVBQUUsR0FBRztZQUN4QixvQkFBb0IsRUFBRSxJQUFJO1lBQzFCLG1CQUFtQixFQUFFLElBQUk7WUFDekIsV0FBVyxFQUFFLGNBQWM7WUFDM0IsbUJBQW1CLEVBQUUsQ0FBQztZQUN0QixHQUFHLHNCQUFzQjtTQUMxQixDQUFDO1FBRUYsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUkseUVBQW1DLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDdkcsQ0FBQztJQUVEOztPQUVHO0lBQ0gsS0FBSyxDQUFDLDRCQUE0QixDQUFDLEtBQW9CO1FBQ3JELE9BQU8sQ0FBQyxHQUFHLENBQUMscURBQXFELEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBRS9FLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUU3QixrREFBa0Q7UUFDbEQsTUFBTSxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMsc0JBQXNCLENBQUMseUJBQXlCLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBRTlGLElBQUk7WUFDRixxQ0FBcUM7WUFDckMsTUFBTSxjQUFjLEdBQUcsTUFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN0RCxNQUFNLDhCQUE4QixHQUFHLE1BQU0sSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUM7WUFFL0UseURBQXlEO1lBQ3pELE1BQU0sY0FBYyxHQUFHLE1BQU0sSUFBSSxDQUFDLHdCQUF3QixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUUvRSw4Q0FBOEM7WUFDOUMsTUFBTSxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUNwRCxNQUFNLDRCQUE0QixHQUFHLE1BQU0sSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUM7WUFFN0UsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsb0NBQW9DLENBQ2xFLDhCQUE4QixFQUM5Qiw0QkFBNEIsQ0FDN0IsQ0FBQztZQUVGLDRCQUE0QjtZQUM1QixNQUFNLFVBQVUsR0FBRyxNQUFNLElBQUksQ0FBQyx1Q0FBdUMsQ0FBQyxLQUFLLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztZQUUzRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsRUFBRTtnQkFDOUUsT0FBTyxDQUFDLElBQUksQ0FBQywyREFBMkQsWUFBWSxFQUFFLENBQUMsQ0FBQztnQkFDeEYsTUFBTSxJQUFJLENBQUMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzlDLE1BQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUM3RTtZQUVELE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxTQUFTLENBQUM7WUFFN0MsTUFBTSxNQUFNLEdBQWdCO2dCQUMxQixPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUU7Z0JBQ2pCLE9BQU8sRUFBRSxjQUFjLENBQUMsT0FBTztnQkFDL0Isa0JBQWtCLEVBQUU7b0JBQ2xCLHVCQUF1QixFQUFFLGtCQUFrQixDQUFDLDBCQUEwQjtvQkFDdEUsc0JBQXNCLEVBQUUsa0JBQWtCLENBQUMsMEJBQTBCO29CQUNyRSxpQkFBaUIsRUFBRSxDQUFDO29CQUNwQixzQkFBc0IsRUFBRSxDQUFDO2lCQUMxQjtnQkFDRCxjQUFjLEVBQUUsY0FBYyxDQUFDLGNBQWM7Z0JBQzdDLFdBQVcsRUFBRSxjQUFjLENBQUMsV0FBVztnQkFDdkMsYUFBYSxFQUFFLGNBQWMsQ0FBQyxhQUFhO2dCQUMzQyxhQUFhO2dCQUNiLFlBQVksRUFBRSxjQUFjLENBQUMsWUFBWTthQUMxQyxDQUFDO1lBRUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyw4REFBOEQsQ0FBQyxDQUFDO1lBQzVFLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO1lBQzVELE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDO1lBQzFELE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLENBQUMsTUFBTSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRS9FLE9BQU8sTUFBTSxDQUFDO1NBRWY7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUMsK0NBQStDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFFdEUsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLFNBQVMsQ0FBQztZQUU3QyxPQUFPO2dCQUNMLE9BQU8sRUFBRSxLQUFLLENBQUMsRUFBRTtnQkFDakIsT0FBTyxFQUFFLEtBQUs7Z0JBQ2Qsa0JBQWtCLEVBQUU7b0JBQ2xCLHVCQUF1QixFQUFFLENBQUM7b0JBQzFCLHNCQUFzQixFQUFFLENBQUM7b0JBQ3pCLGlCQUFpQixFQUFFLENBQUM7b0JBQ3BCLHNCQUFzQixFQUFFLENBQUM7aUJBQzFCO2dCQUNELGNBQWMsRUFBRSxDQUFDO2dCQUNqQixXQUFXLEVBQUUsQ0FBQztnQkFDZCxhQUFhLEVBQUUsQ0FBQztnQkFDaEIsYUFBYTtnQkFDYixZQUFZLEVBQUU7b0JBQ1o7d0JBQ0UsSUFBSSxFQUFFLDBCQUFlLENBQUMsa0JBQWtCO3dCQUN4QyxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7d0JBQ3JCLFdBQVcsRUFBRSwrQ0FBK0MsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO3dCQUNwSCxRQUFRLEVBQUUsOEJBQW1CLENBQUMsS0FBSzt3QkFDbkMsTUFBTSxFQUFFLGVBQWU7cUJBQ3hCO2lCQUNGO2FBQ0YsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0gsTUFBTSxDQUFDLHVDQUF1QyxDQUM1QyxVQUFvQyxFQUNwQyxzQkFBd0Q7UUFFeEQsTUFBTSx3QkFBd0IsR0FBRyxJQUFJLHlFQUFtQyxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDakcsTUFBTSxzQkFBc0IsR0FBRyx3QkFBd0IsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBRS9FLE1BQU0sYUFBYSxHQUFtQjtZQUNwQyxNQUFNLEVBQUU7Z0JBQ04sc0NBQXNDO2dCQUN0QyxHQUFHLENBQUMsVUFBVSxFQUFFLE1BQU0sSUFBSSxFQUFFLENBQUM7Z0JBQzdCLDJDQUEyQztnQkFDM0MsR0FBRyxzQkFBc0I7YUFDMUI7WUFDRCxjQUFjLEVBQUU7Z0JBQ2QsZ0JBQWdCLEVBQUUsc0JBQXNCLEVBQUUsZ0JBQWdCLElBQUksRUFBRTtnQkFDaEUsd0JBQXdCLEVBQUUsc0JBQXNCLEVBQUUsbUJBQW1CLElBQUksQ0FBQztnQkFDMUUsdUJBQXVCLEVBQUUsRUFBRTtnQkFDM0IsMEJBQTBCLEVBQUUsSUFBSTtnQkFDaEMsd0JBQXdCLEVBQUUsSUFBSTtnQkFDOUIsa0JBQWtCLEVBQUUsQ0FBQztnQkFDckIsR0FBRyxVQUFVLEVBQUUsY0FBYzthQUM5QjtZQUNELGVBQWUsRUFBRTtnQkFDZixnQkFBZ0IsRUFBRSxDQUFDO2dCQUNuQixlQUFlLEVBQUUsQ0FBQztnQkFDbEIsU0FBUyxFQUFFLEVBQUU7Z0JBQ2IsaUJBQWlCLEVBQUUsR0FBRztnQkFDdEIsR0FBRyxVQUFVLEVBQUUsZUFBZTthQUMvQjtZQUNELGlCQUFpQixFQUFFO2dCQUNqQixrQkFBa0IsRUFBRSwrREFBK0Q7Z0JBQ25GLGdCQUFnQixFQUFFLHFGQUFxRjtnQkFDdkcsb0JBQW9CLEVBQUUsMkRBQTJEO2dCQUNqRixxQkFBcUIsRUFBRSxtREFBbUQ7Z0JBQzFFLEdBQUcsVUFBVSxFQUFFLGlCQUFpQjthQUNqQztTQUNGLENBQUM7UUFFRixPQUFPLGFBQWEsQ0FBQztJQUN2QixDQUFDO0lBRUQ7O09BRUc7SUFDSCxLQUFLLENBQUMsMEJBQTBCO1FBQzlCLElBQUk7WUFDRix5Q0FBeUM7WUFDekMsTUFBTSxhQUFhLEdBQUcsTUFBTSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUNwRCxNQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUV6RSw2QkFBNkI7WUFDN0IsTUFBTSxtQkFBbUIsR0FBRyxNQUFNLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1lBRXpGLE9BQU87Z0JBQ0wsYUFBYSxFQUFFLG1CQUFtQjtnQkFDbEMsbUJBQW1CLEVBQUUsbUJBQW1CLENBQUMsd0JBQXdCO2dCQUNqRSxxQkFBcUIsRUFBRSxtQkFBbUIsR0FBRyxtQkFBbUIsQ0FBQyx3QkFBd0I7Z0JBQ3pGLGtCQUFrQixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsd0JBQXdCLEdBQUcsbUJBQW1CLENBQUMscUJBQXFCLEdBQUcsR0FBRyxDQUFDO2dCQUM5SCxxQkFBcUIsRUFBRSxtQkFBbUIsQ0FBQyxxQkFBcUI7Z0JBQ2hFLHFCQUFxQixFQUFFLENBQUM7Z0JBQ3hCLGVBQWUsRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMseUJBQXlCO2FBQ3ZFLENBQUM7U0FDSDtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsT0FBTyxDQUFDLElBQUksQ0FBQyxxREFBcUQsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUU1SCxPQUFPO2dCQUNMLGFBQWEsRUFBRSxDQUFDO2dCQUNoQixtQkFBbUIsRUFBRSxDQUFDO2dCQUN0QixxQkFBcUIsRUFBRSxDQUFDO2dCQUN4QixrQkFBa0IsRUFBRSxDQUFDO2dCQUNyQixxQkFBcUIsRUFBRSxDQUFDO2dCQUN4QixxQkFBcUIsRUFBRSxDQUFDO2dCQUN4QixlQUFlLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLHlCQUF5QjthQUN2RSxDQUFDO1NBQ0g7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxLQUFLLENBQUMsa0NBQWtDO1FBQ3RDLE1BQU0sV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDbkQsTUFBTSx1QkFBdUIsR0FBRyxNQUFNLElBQUksQ0FBQywwQkFBMEIsRUFBRSxDQUFDO1FBRXhFLE9BQU87WUFDTCxHQUFHLFdBQVc7WUFDZCx1QkFBdUI7U0FDeEIsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNILEtBQUssQ0FBQyx1Q0FBdUMsQ0FDM0MsS0FBb0IsRUFDcEIsT0FBZ0M7UUFFaEMsTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1FBQzVCLE1BQU0sUUFBUSxHQUFhLEVBQUUsQ0FBQztRQUU5QixJQUFJO1lBQ0YsK0JBQStCO1lBQy9CLFFBQVEsS0FBSyxDQUFDLEVBQUUsRUFBRTtnQkFDaEIsS0FBSyw0QkFBNEI7b0JBQy9CLDhEQUE4RDtvQkFDOUQsSUFBSSxPQUFPLENBQUMsYUFBYSxHQUFHLENBQUMsRUFBRTt3QkFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO3FCQUN6RDtvQkFDRCxNQUFNO2dCQUVSLEtBQUssK0JBQStCO29CQUNsQywwREFBMEQ7b0JBQzFELElBQUksT0FBTyxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyx5QkFBeUIsR0FBRyxHQUFHLEVBQUU7d0JBQy9GLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxPQUFPLENBQUMscUJBQXFCLHFCQUFxQixJQUFJLENBQUMsc0JBQXNCLENBQUMseUJBQXlCLEdBQUcsQ0FBQyxDQUFDO3FCQUN4STtvQkFDRCxNQUFNO2dCQUVSLEtBQUssK0JBQStCO29CQUNsQyw0REFBNEQ7b0JBQzVELElBQUksT0FBTyxDQUFDLHFCQUFxQixHQUFHLEVBQUUsRUFBRTt3QkFDdEMsUUFBUSxDQUFDLElBQUksQ0FBQywwQkFBMEIsT0FBTyxDQUFDLHFCQUFxQixnQkFBZ0IsQ0FBQyxDQUFDO3FCQUN4RjtvQkFDRCxNQUFNO2FBQ1Q7WUFFRCw2QkFBNkI7WUFDN0IsTUFBTSxlQUFlLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDbkQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUU7Z0JBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUMsNkRBQTZELENBQUMsQ0FBQztnQkFDM0UsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUN4QztZQUVELE9BQU87Z0JBQ0wsT0FBTyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBQztnQkFDNUIsTUFBTTtnQkFDTixRQUFRO2dCQUNSLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQyxpQkFBaUIsRUFBRTthQUN4QyxDQUFDO1NBRUg7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLE9BQU87Z0JBQ0wsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsTUFBTSxFQUFFLENBQUMscUJBQXFCLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUN2RixRQUFRLEVBQUUsRUFBRTthQUNiLENBQUM7U0FDSDtJQUNILENBQUM7SUFFRDs7T0FFRztJQUNLLG9DQUFvQyxDQUMxQyxPQUFnQyxFQUNoQyxLQUE4QjtRQUU5QixPQUFPO1lBQ0wsMEJBQTBCLEVBQUUsT0FBTyxDQUFDLHFCQUFxQixHQUFHLEtBQUssQ0FBQyxxQkFBcUI7WUFDdkYscUJBQXFCLEVBQUUsS0FBSyxDQUFDLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxxQkFBcUI7U0FDbkYsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNLLEtBQUssQ0FBQyxnQkFBZ0I7UUFDNUIsSUFBSTtZQUNGLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDOUMsT0FBTyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO1NBQ3hFO1FBQUMsT0FBTyxLQUFVLEVBQUU7WUFDbkIsbUVBQW1FO1lBQ25FLE9BQU8sS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQztTQUM1QztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNLLHdCQUF3QixDQUFDLGFBQXFCO1FBQ3BELE1BQU0sa0JBQWtCLEdBQUcsYUFBYSxDQUFDLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO1FBQ3ZGLE9BQU8sa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRDs7T0FFRztJQUNLLEtBQUssQ0FBQyxhQUFhO1FBQ3pCLElBQUk7WUFDRixNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQzlDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO1lBQzVELE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQztTQUN0QztRQUFDLE9BQU8sS0FBVSxFQUFFO1lBQ25CLE9BQU87Z0JBQ0wsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sSUFBSSxjQUFjLENBQUM7YUFDMUMsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0gsMkJBQTJCO1FBQ3pCLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDO0lBQ3ZDLENBQUM7SUFFRDs7T0FFRztJQUNILDRCQUE0QixDQUFDLFNBQTBDO1FBQ3JFLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixFQUFFLEdBQUcsU0FBUyxFQUFFLENBQUM7UUFDL0UsSUFBSSxDQUFDLHdCQUF3QixDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQ7O09BRUc7SUFDSCx5QkFBeUI7UUFDdkIsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7SUFDNUMsQ0FBQztDQUNGO0FBbFZELGdGQWtWQztBQUVEOztHQUVHO0FBQ0gsU0FBZ0Isd0NBQXdDLENBQ3RELFVBQW9DLEVBQ3BDLHNCQUF3RDtJQUV4RCxNQUFNLE1BQU0sR0FBRyxrQ0FBa0MsQ0FBQyx1Q0FBdUMsQ0FDdkYsVUFBVSxFQUNWLHNCQUFzQixDQUN2QixDQUFDO0lBRUYsT0FBTyxJQUFJLGtDQUFrQyxDQUFDLE1BQU0sRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO0FBQ2hGLENBQUM7QUFWRCw0RkFVQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxpQ0FBaUM7SUFDNUM7O09BRUc7SUFDSCxNQUFNLENBQUMseUJBQXlCLENBQzlCLGNBQThCLEVBQzlCLHNCQUF3RDtRQUV4RCxNQUFNLHdCQUF3QixHQUFHLElBQUkseUVBQW1DLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUNqRyxNQUFNLHNCQUFzQixHQUFHLHdCQUF3QixDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFFL0UsT0FBTztZQUNMLEdBQUcsY0FBYztZQUNqQixNQUFNLEVBQUU7Z0JBQ04sR0FBRyxjQUFjLENBQUMsTUFBTTtnQkFDeEIsR0FBRyxzQkFBc0I7YUFDMUI7U0FDRixDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0gsTUFBTSxDQUFDLG1DQUFtQztRQUt4QyxPQUFPO1lBQ0wsZ0JBQWdCLEVBQUUscUZBQXFGO1lBQ3ZHLHdCQUF3QixFQUFFLDBFQUEwRTtZQUNwRyxzQkFBc0IsRUFBRSxtRkFBbUY7U0FDNUcsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNILE1BQU0sQ0FBQyxnQ0FBZ0MsQ0FDckMsU0FBMkIsRUFDM0IsYUFBdUI7UUFFdkIsbUNBQW1DO1FBQ25DLE1BQU0sZUFBZSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDOUMsTUFBTSxNQUFNLEdBQUcsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFGLE1BQU0sTUFBTSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxRixPQUFPLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDekIsQ0FBQyxDQUFDLENBQUM7UUFFSCxxREFBcUQ7UUFDckQsTUFBTSxZQUFZLEdBQW9CLEVBQUUsQ0FBQztRQUN6QyxNQUFNLG9CQUFvQixHQUFtQjtZQUMzQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRix3QkFBd0IsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsd0JBQXdCLENBQUMsQ0FBQztZQUNwRyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUNsRywwQkFBMEIsRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQywwQkFBMEIsQ0FBQztZQUM3Rix3QkFBd0IsRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQztZQUN6RixrQkFBa0IsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQztTQUN6RixDQUFDO1FBRUYsK0JBQStCO1FBQy9CLEtBQUssTUFBTSxRQUFRLElBQUksYUFBYSxFQUFFO1lBQ3BDLEtBQUssTUFBTSxRQUFRLElBQUksZUFBZSxFQUFFO2dCQUN0QyxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BGLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxjQUFjLENBQUMsQ0FBQzthQUN0QztTQUNGO1FBRUQsT0FBTztZQUNMLE1BQU0sRUFBRSxZQUFZO1lBQ3BCLGNBQWMsRUFBRSxvQkFBb0I7WUFDcEMsZUFBZSxFQUFFLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFlO1lBQ25ELGlCQUFpQixFQUFFO2dCQUNqQixHQUFHLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxpQkFBaUI7Z0JBQ3ZDLEdBQUcsaUNBQWlDLENBQUMsbUNBQW1DLEVBQUU7YUFDM0U7U0FDRixDQUFDO0lBQ0osQ0FBQztDQUNGO0FBOUVELDhFQThFQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvYmFja3Vwcy9maXJzdC13YXZlLTIwMjUtMDgtMTFUMDUtMTktMjYtODEzWi9zcmMvc2VydmljZXMvY2FtcGFpZ24vdW5pbnRlbnRpb25hbC1hbnktZWxpbWluYXRpb24vQ2FtcGFpZ25JbnRlZ3JhdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENhbXBhaWduIFN5c3RlbSBJbnRlZ3JhdGlvbiBMYXllclxuICogRXh0ZW5kcyBleGlzdGluZyBDYW1wYWlnbkNvbnRyb2xsZXIgdG8gc3VwcG9ydCB1bmludGVudGlvbmFsIGFueSBlbGltaW5hdGlvblxuICovXG5cbmltcG9ydCB7XG4gICAgQ2FtcGFpZ25Db25maWcsXG4gICAgQ2FtcGFpZ25QaGFzZSxcbiAgICBQaGFzZVJlc3VsdCxcbiAgICBTYWZldHlFdmVudFNldmVyaXR5LFxuICAgIFNhZmV0eUV2ZW50VHlwZSxcbiAgICBTYWZldHlTZXR0aW5ncyxcbiAgICBWYWxpZGF0aW9uUmVzdWx0XG59IGZyb20gJy4uLy4uLy4uL3R5cGVzL2NhbXBhaWduJztcblxuaW1wb3J0IHsgQ2FtcGFpZ25Db250cm9sbGVyIH0gZnJvbSAnLi4vQ2FtcGFpZ25Db250cm9sbGVyJztcbmltcG9ydCB7IFVuaW50ZW50aW9uYWxBbnlFbGltaW5hdGlvbkNhbXBhaWduIH0gZnJvbSAnLi9VbmludGVudGlvbmFsQW55RWxpbWluYXRpb25DYW1wYWlnbic7XG5pbXBvcnQge1xuICAgIFVuaW50ZW50aW9uYWxBbnlDb25maWcsXG4gICAgVW5pbnRlbnRpb25hbEFueU1ldHJpY3MsXG4gICAgVW5pbnRlbnRpb25hbEFueVByb2dyZXNzTWV0cmljc1xufSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBFeHRlbmRlZCBDYW1wYWlnbiBDb250cm9sbGVyIHdpdGggVW5pbnRlbnRpb25hbCBBbnkgRWxpbWluYXRpb24gc3VwcG9ydFxuICovXG5leHBvcnQgY2xhc3MgVW5pbnRlbnRpb25hbEFueUNhbXBhaWduQ29udHJvbGxlciBleHRlbmRzIENhbXBhaWduQ29udHJvbGxlciB7XG4gIHByaXZhdGUgdW5pbnRlbnRpb25hbEFueUNhbXBhaWduOiBVbmludGVudGlvbmFsQW55RWxpbWluYXRpb25DYW1wYWlnbjtcbiAgcHJpdmF0ZSB1bmludGVudGlvbmFsQW55Q29uZmlnOiBVbmludGVudGlvbmFsQW55Q29uZmlnO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ2FtcGFpZ25Db25maWcsIHVuaW50ZW50aW9uYWxBbnlDb25maWc/OiBQYXJ0aWFsPFVuaW50ZW50aW9uYWxBbnlDb25maWc+KSB7XG4gICAgc3VwZXIoY29uZmlnKTtcblxuICAgIC8vIERlZmF1bHQgY29uZmlndXJhdGlvbiBmb3IgdW5pbnRlbnRpb25hbCBhbnkgZWxpbWluYXRpb25cbiAgICB0aGlzLnVuaW50ZW50aW9uYWxBbnlDb25maWcgPSB7XG4gICAgICBtYXhGaWxlc1BlckJhdGNoOiAxNSxcbiAgICAgIHRhcmdldFJlZHVjdGlvblBlcmNlbnRhZ2U6IDE1LFxuICAgICAgY29uZmlkZW5jZVRocmVzaG9sZDogMC44LFxuICAgICAgZW5hYmxlRG9tYWluQW5hbHlzaXM6IHRydWUsXG4gICAgICBlbmFibGVEb2N1bWVudGF0aW9uOiB0cnVlLFxuICAgICAgc2FmZXR5TGV2ZWw6ICdDT05TRVJWQVRJVkUnLFxuICAgICAgdmFsaWRhdGlvbkZyZXF1ZW5jeTogNSxcbiAgICAgIC4uLnVuaW50ZW50aW9uYWxBbnlDb25maWdcbiAgICB9O1xuXG4gICAgdGhpcy51bmludGVudGlvbmFsQW55Q2FtcGFpZ24gPSBuZXcgVW5pbnRlbnRpb25hbEFueUVsaW1pbmF0aW9uQ2FtcGFpZ24odGhpcy51bmludGVudGlvbmFsQW55Q29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIHVuaW50ZW50aW9uYWwgYW55IGVsaW1pbmF0aW9uIHBoYXNlIHdpdGggZnVsbCBjYW1wYWlnbiBpbnRlZ3JhdGlvblxuICAgKi9cbiAgYXN5bmMgZXhlY3V0ZVVuaW50ZW50aW9uYWxBbnlQaGFzZShwaGFzZTogQ2FtcGFpZ25QaGFzZSk6IFByb21pc2U8UGhhc2VSZXN1bHQ+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+OryBFeGVjdXRpbmcgVW5pbnRlbnRpb25hbCBBbnkgRWxpbWluYXRpb24gUGhhc2U6ICR7cGhhc2UubmFtZX1gKTtcblxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cbiAgICAvLyBDcmVhdGUgc2FmZXR5IGNoZWNrcG9pbnQgYmVmb3JlIHBoYXNlIGV4ZWN1dGlvblxuICAgIGNvbnN0IGNoZWNrcG9pbnRJZCA9IGF3YWl0IHRoaXMuY3JlYXRlU2FmZXR5Q2hlY2twb2ludChgUHJlLXBoYXNlIGNoZWNrcG9pbnQ6ICR7cGhhc2UubmFtZX1gKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgaW5pdGlhbCBtZXRyaWNzIGZvciBjb21wYXJpc29uXG4gICAgICBjb25zdCBpbml0aWFsTWV0cmljcyA9IGF3YWl0IHRoaXMuZ2V0Q3VycmVudE1ldHJpY3MoKTtcbiAgICAgIGNvbnN0IGluaXRpYWxVbmludGVudGlvbmFsQW55TWV0cmljcyA9IGF3YWl0IHRoaXMuZ2V0VW5pbnRlbnRpb25hbEFueU1ldHJpY3MoKTtcblxuICAgICAgLy8gRXhlY3V0ZSB0aGUgcGhhc2UgdXNpbmcgdGhlIHVuaW50ZW50aW9uYWwgYW55IGNhbXBhaWduXG4gICAgICBjb25zdCBjYW1wYWlnblJlc3VsdCA9IGF3YWl0IHRoaXMudW5pbnRlbnRpb25hbEFueUNhbXBhaWduLmV4ZWN1dGVQaGFzZShwaGFzZSk7XG5cbiAgICAgIC8vIEdldCBmaW5hbCBtZXRyaWNzIGFuZCBjYWxjdWxhdGUgaW1wcm92ZW1lbnRcbiAgICAgIGNvbnN0IGZpbmFsTWV0cmljcyA9IGF3YWl0IHRoaXMuZ2V0Q3VycmVudE1ldHJpY3MoKTtcbiAgICAgIGNvbnN0IGZpbmFsVW5pbnRlbnRpb25hbEFueU1ldHJpY3MgPSBhd2FpdCB0aGlzLmdldFVuaW50ZW50aW9uYWxBbnlNZXRyaWNzKCk7XG5cbiAgICAgIGNvbnN0IG1ldHJpY3NJbXByb3ZlbWVudCA9IHRoaXMuY2FsY3VsYXRlVW5pbnRlbnRpb25hbEFueUltcHJvdmVtZW50KFxuICAgICAgICBpbml0aWFsVW5pbnRlbnRpb25hbEFueU1ldHJpY3MsXG4gICAgICAgIGZpbmFsVW5pbnRlbnRpb25hbEFueU1ldHJpY3NcbiAgICAgICk7XG5cbiAgICAgIC8vIFZhbGlkYXRlIHBoYXNlIGNvbXBsZXRpb25cbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlVW5pbnRlbnRpb25hbEFueVBoYXNlQ29tcGxldGlvbihwaGFzZSwgZmluYWxVbmludGVudGlvbmFsQW55TWV0cmljcyk7XG5cbiAgICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzICYmIHRoaXMuY29uZmlnLnNhZmV0eVNldHRpbmdzLmF1dG9tYXRpY1JvbGxiYWNrRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBQaGFzZSB2YWxpZGF0aW9uIGZhaWxlZCwgcm9sbGluZyBiYWNrIHRvIGNoZWNrcG9pbnQ6ICR7Y2hlY2twb2ludElkfWApO1xuICAgICAgICBhd2FpdCB0aGlzLnJvbGxiYWNrVG9DaGVja3BvaW50KGNoZWNrcG9pbnRJZCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUGhhc2UgdmFsaWRhdGlvbiBmYWlsZWQ6ICR7dmFsaWRhdGlvbi5lcnJvcnMuam9pbignLCAnKX1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXhlY3V0aW9uVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDogUGhhc2VSZXN1bHQgPSB7XG4gICAgICAgIHBoYXNlSWQ6IHBoYXNlLmlkLFxuICAgICAgICBzdWNjZXNzOiBjYW1wYWlnblJlc3VsdC5zdWNjZXNzLFxuICAgICAgICBtZXRyaWNzSW1wcm92ZW1lbnQ6IHtcbiAgICAgICAgICB0eXBlU2NyaXB0RXJyb3JzUmVkdWNlZDogbWV0cmljc0ltcHJvdmVtZW50LmV4cGxpY2l0QW55V2FybmluZ3NSZWR1Y2VkLFxuICAgICAgICAgIGxpbnRpbmdXYXJuaW5nc1JlZHVjZWQ6IG1ldHJpY3NJbXByb3ZlbWVudC5leHBsaWNpdEFueVdhcm5pbmdzUmVkdWNlZCxcbiAgICAgICAgICBidWlsZFRpbWVJbXByb3ZlZDogMCwgLy8gTm90IGRpcmVjdGx5IGltcGFjdGVkIGJ5IGFueSBlbGltaW5hdGlvblxuICAgICAgICAgIGVudGVycHJpc2VTeXN0ZW1zQWRkZWQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZXNQcm9jZXNzZWQ6IGNhbXBhaWduUmVzdWx0LmZpbGVzUHJvY2Vzc2VkLFxuICAgICAgICBlcnJvcnNGaXhlZDogY2FtcGFpZ25SZXN1bHQuZXJyb3JzRml4ZWQsXG4gICAgICAgIHdhcm5pbmdzRml4ZWQ6IGNhbXBhaWduUmVzdWx0Lndhcm5pbmdzRml4ZWQsXG4gICAgICAgIGV4ZWN1dGlvblRpbWUsXG4gICAgICAgIHNhZmV0eUV2ZW50czogY2FtcGFpZ25SZXN1bHQuc2FmZXR5RXZlbnRzXG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFVuaW50ZW50aW9uYWwgQW55IEVsaW1pbmF0aW9uIFBoYXNlIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgKTtcbiAgICAgIGNvbnNvbGUubG9nKGAgICBGaWxlcyBwcm9jZXNzZWQ6ICR7cmVzdWx0LmZpbGVzUHJvY2Vzc2VkfWApO1xuICAgICAgY29uc29sZS5sb2coYCAgIFdhcm5pbmdzIGZpeGVkOiAke3Jlc3VsdC53YXJuaW5nc0ZpeGVkfWApO1xuICAgICAgY29uc29sZS5sb2coYCAgIEV4ZWN1dGlvbiB0aW1lOiAkeyhyZXN1bHQuZXhlY3V0aW9uVGltZSAvIDEwMDApLnRvRml4ZWQoMil9c2ApO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBVbmludGVudGlvbmFsIEFueSBFbGltaW5hdGlvbiBQaGFzZSBmYWlsZWQ6YCwgZXJyb3IpO1xuXG4gICAgICBjb25zdCBleGVjdXRpb25UaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGhhc2VJZDogcGhhc2UuaWQsXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXRyaWNzSW1wcm92ZW1lbnQ6IHtcbiAgICAgICAgICB0eXBlU2NyaXB0RXJyb3JzUmVkdWNlZDogMCxcbiAgICAgICAgICBsaW50aW5nV2FybmluZ3NSZWR1Y2VkOiAwLFxuICAgICAgICAgIGJ1aWxkVGltZUltcHJvdmVkOiAwLFxuICAgICAgICAgIGVudGVycHJpc2VTeXN0ZW1zQWRkZWQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZXNQcm9jZXNzZWQ6IDAsXG4gICAgICAgIGVycm9yc0ZpeGVkOiAwLFxuICAgICAgICB3YXJuaW5nc0ZpeGVkOiAwLFxuICAgICAgICBleGVjdXRpb25UaW1lLFxuICAgICAgICBzYWZldHlFdmVudHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBTYWZldHlFdmVudFR5cGUuRU1FUkdFTkNZX1JFQ09WRVJZLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBVbmludGVudGlvbmFsIEFueSBFbGltaW5hdGlvbiBQaGFzZSBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWAsXG4gICAgICAgICAgICBzZXZlcml0eTogU2FmZXR5RXZlbnRTZXZlcml0eS5FUlJPUixcbiAgICAgICAgICAgIGFjdGlvbjogJ1BIQVNFX0ZBSUxVUkUnXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgY2FtcGFpZ24gY29uZmlndXJhdGlvbiB0aGF0IGluY2x1ZGVzIHVuaW50ZW50aW9uYWwgYW55IGVsaW1pbmF0aW9uIHBoYXNlc1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVVuaW50ZW50aW9uYWxBbnlFbGltaW5hdGlvbkNvbmZpZyhcbiAgICBiYXNlQ29uZmlnPzogUGFydGlhbDxDYW1wYWlnbkNvbmZpZz4sXG4gICAgdW5pbnRlbnRpb25hbEFueUNvbmZpZz86IFBhcnRpYWw8VW5pbnRlbnRpb25hbEFueUNvbmZpZz5cbiAgKTogQ2FtcGFpZ25Db25maWcge1xuICAgIGNvbnN0IHVuaW50ZW50aW9uYWxBbnlDYW1wYWlnbiA9IG5ldyBVbmludGVudGlvbmFsQW55RWxpbWluYXRpb25DYW1wYWlnbih1bmludGVudGlvbmFsQW55Q29uZmlnKTtcbiAgICBjb25zdCB1bmludGVudGlvbmFsQW55UGhhc2VzID0gdW5pbnRlbnRpb25hbEFueUNhbXBhaWduLmNyZWF0ZUNhbXBhaWduUGhhc2VzKCk7XG5cbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnOiBDYW1wYWlnbkNvbmZpZyA9IHtcbiAgICAgIHBoYXNlczogW1xuICAgICAgICAvLyBJbmNsdWRlIGV4aXN0aW5nIHBoYXNlcyBpZiBwcm92aWRlZFxuICAgICAgICAuLi4oYmFzZUNvbmZpZz8ucGhhc2VzIHx8IFtdKSxcbiAgICAgICAgLy8gQWRkIHVuaW50ZW50aW9uYWwgYW55IGVsaW1pbmF0aW9uIHBoYXNlc1xuICAgICAgICAuLi51bmludGVudGlvbmFsQW55UGhhc2VzXG4gICAgICBdLFxuICAgICAgc2FmZXR5U2V0dGluZ3M6IHtcbiAgICAgICAgbWF4RmlsZXNQZXJCYXRjaDogdW5pbnRlbnRpb25hbEFueUNvbmZpZz8ubWF4RmlsZXNQZXJCYXRjaCB8fCAxNSxcbiAgICAgICAgYnVpbGRWYWxpZGF0aW9uRnJlcXVlbmN5OiB1bmludGVudGlvbmFsQW55Q29uZmlnPy52YWxpZGF0aW9uRnJlcXVlbmN5IHx8IDUsXG4gICAgICAgIHRlc3RWYWxpZGF0aW9uRnJlcXVlbmN5OiAxMCxcbiAgICAgICAgY29ycnVwdGlvbkRldGVjdGlvbkVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGF1dG9tYXRpY1JvbGxiYWNrRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgc3Rhc2hSZXRlbnRpb25EYXlzOiA3LFxuICAgICAgICAuLi5iYXNlQ29uZmlnPy5zYWZldHlTZXR0aW5nc1xuICAgICAgfSxcbiAgICAgIHByb2dyZXNzVGFyZ2V0czoge1xuICAgICAgICB0eXBlU2NyaXB0RXJyb3JzOiAwLFxuICAgICAgICBsaW50aW5nV2FybmluZ3M6IDAsXG4gICAgICAgIGJ1aWxkVGltZTogMTAsXG4gICAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiAyMDAsXG4gICAgICAgIC4uLmJhc2VDb25maWc/LnByb2dyZXNzVGFyZ2V0c1xuICAgICAgfSxcbiAgICAgIHRvb2xDb25maWd1cmF0aW9uOiB7XG4gICAgICAgIGVuaGFuY2VkRXJyb3JGaXhlcjogJ3NjcmlwdHMvdHlwZXNjcmlwdC1maXhlcy9maXgtdHlwZXNjcmlwdC1lcnJvcnMtZW5oYW5jZWQtdjMuanMnLFxuICAgICAgICBleHBsaWNpdEFueUZpeGVyOiAnc3JjL3NlcnZpY2VzL2NhbXBhaWduL3VuaW50ZW50aW9uYWwtYW55LWVsaW1pbmF0aW9uL1Byb2dyZXNzaXZlSW1wcm92ZW1lbnRFbmdpbmUudHMnLFxuICAgICAgICB1bnVzZWRWYXJpYWJsZXNGaXhlcjogJ3NjcmlwdHMvdHlwZXNjcmlwdC1maXhlcy9maXgtdW51c2VkLXZhcmlhYmxlcy1lbmhhbmNlZC5qcycsXG4gICAgICAgIGNvbnNvbGVTdGF0ZW1lbnRGaXhlcjogJ3NjcmlwdHMvbGludC1maXhlcy9maXgtY29uc29sZS1zdGF0ZW1lbnRzLW9ubHkuanMnLFxuICAgICAgICAuLi5iYXNlQ29uZmlnPy50b29sQ29uZmlndXJhdGlvblxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZGVmYXVsdENvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdW5pbnRlbnRpb25hbCBhbnkgc3BlY2lmaWMgbWV0cmljc1xuICAgKi9cbiAgYXN5bmMgZ2V0VW5pbnRlbnRpb25hbEFueU1ldHJpY3MoKTogUHJvbWlzZTxVbmludGVudGlvbmFsQW55TWV0cmljcz4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY3VycmVudCBleHBsaWNpdC1hbnkgd2FybmluZyBjb3VudFxuICAgICAgY29uc3QgbGludGluZ091dHB1dCA9IGF3YWl0IHRoaXMuZ2V0TGludGluZ091dHB1dCgpO1xuICAgICAgY29uc3QgZXhwbGljaXRBbnlXYXJuaW5ncyA9IHRoaXMuY291bnRFeHBsaWNpdEFueVdhcm5pbmdzKGxpbnRpbmdPdXRwdXQpO1xuXG4gICAgICAvLyBHZXQgZG9jdW1lbnRhdGlvbiBjb3ZlcmFnZVxuICAgICAgY29uc3QgZG9jdW1lbnRhdGlvblJlcG9ydCA9IGF3YWl0IHRoaXMudW5pbnRlbnRpb25hbEFueUNhbXBhaWduLmdldERvY3VtZW50YXRpb25SZXBvcnQoKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWxBbnlUeXBlczogZXhwbGljaXRBbnlXYXJuaW5ncyxcbiAgICAgICAgaW50ZW50aW9uYWxBbnlUeXBlczogZG9jdW1lbnRhdGlvblJlcG9ydC50b3RhbEludGVudGlvbmFsQW55VHlwZXMsXG4gICAgICAgIHVuaW50ZW50aW9uYWxBbnlUeXBlczogZXhwbGljaXRBbnlXYXJuaW5ncyAtIGRvY3VtZW50YXRpb25SZXBvcnQudG90YWxJbnRlbnRpb25hbEFueVR5cGVzLFxuICAgICAgICBkb2N1bWVudGVkQW55VHlwZXM6IE1hdGgucm91bmQoZG9jdW1lbnRhdGlvblJlcG9ydC50b3RhbEludGVudGlvbmFsQW55VHlwZXMgKiBkb2N1bWVudGF0aW9uUmVwb3J0LmRvY3VtZW50YXRpb25Db3ZlcmFnZSAvIDEwMCksXG4gICAgICAgIGRvY3VtZW50YXRpb25Db3ZlcmFnZTogZG9jdW1lbnRhdGlvblJlcG9ydC5kb2N1bWVudGF0aW9uQ292ZXJhZ2UsXG4gICAgICAgIHJlZHVjdGlvbkZyb21CYXNlbGluZTogMCwgLy8gV291bGQgYmUgY2FsY3VsYXRlZCBmcm9tIGluaXRpYWwgYmFzZWxpbmVcbiAgICAgICAgdGFyZ2V0UmVkdWN0aW9uOiB0aGlzLnVuaW50ZW50aW9uYWxBbnlDb25maWcudGFyZ2V0UmVkdWN0aW9uUGVyY2VudGFnZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKGBXYXJuaW5nOiBDb3VsZCBub3QgZ2V0IHVuaW50ZW50aW9uYWwgYW55IG1ldHJpY3M6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbEFueVR5cGVzOiAwLFxuICAgICAgICBpbnRlbnRpb25hbEFueVR5cGVzOiAwLFxuICAgICAgICB1bmludGVudGlvbmFsQW55VHlwZXM6IDAsXG4gICAgICAgIGRvY3VtZW50ZWRBbnlUeXBlczogMCxcbiAgICAgICAgZG9jdW1lbnRhdGlvbkNvdmVyYWdlOiAwLFxuICAgICAgICByZWR1Y3Rpb25Gcm9tQmFzZWxpbmU6IDAsXG4gICAgICAgIHRhcmdldFJlZHVjdGlvbjogdGhpcy51bmludGVudGlvbmFsQW55Q29uZmlnLnRhcmdldFJlZHVjdGlvblBlcmNlbnRhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBlbmhhbmNlZCBwcm9ncmVzcyBtZXRyaWNzIHRoYXQgaW5jbHVkZSB1bmludGVudGlvbmFsIGFueSBtZXRyaWNzXG4gICAqL1xuICBhc3luYyBnZXRVbmludGVudGlvbmFsQW55UHJvZ3Jlc3NNZXRyaWNzKCk6IFByb21pc2U8VW5pbnRlbnRpb25hbEFueVByb2dyZXNzTWV0cmljcz4ge1xuICAgIGNvbnN0IGJhc2VNZXRyaWNzID0gYXdhaXQgdGhpcy5nZXRDdXJyZW50TWV0cmljcygpO1xuICAgIGNvbnN0IHVuaW50ZW50aW9uYWxBbnlNZXRyaWNzID0gYXdhaXQgdGhpcy5nZXRVbmludGVudGlvbmFsQW55TWV0cmljcygpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmJhc2VNZXRyaWNzLFxuICAgICAgdW5pbnRlbnRpb25hbEFueU1ldHJpY3NcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIHVuaW50ZW50aW9uYWwgYW55IHBoYXNlIGNvbXBsZXRpb25cbiAgICovXG4gIGFzeW5jIHZhbGlkYXRlVW5pbnRlbnRpb25hbEFueVBoYXNlQ29tcGxldGlvbihcbiAgICBwaGFzZTogQ2FtcGFpZ25QaGFzZSxcbiAgICBtZXRyaWNzOiBVbmludGVudGlvbmFsQW55TWV0cmljc1xuICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ+IHtcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgICB0cnkge1xuICAgICAgLy8gVmFsaWRhdGUgYmFzZWQgb24gcGhhc2UgdHlwZVxuICAgICAgc3dpdGNoIChwaGFzZS5pZCkge1xuICAgICAgICBjYXNlICd1bmludGVudGlvbmFsLWFueS1hbmFseXNpcyc6XG4gICAgICAgICAgLy8gQW5hbHlzaXMgcGhhc2Ugc2hvdWxkIGNvbXBsZXRlIHdpdGhvdXQgaW5jcmVhc2luZyBhbnkgdHlwZXNcbiAgICAgICAgICBpZiAobWV0cmljcy50b3RhbEFueVR5cGVzIDwgMCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ0FuYWx5c2lzIHBoYXNlIGZhaWxlZCB0byBjb3VudCBhbnkgdHlwZXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndW5pbnRlbnRpb25hbC1hbnktcmVwbGFjZW1lbnQnOlxuICAgICAgICAgIC8vIFJlcGxhY2VtZW50IHBoYXNlIHNob3VsZCByZWR1Y2UgdW5pbnRlbnRpb25hbCBhbnkgdHlwZXNcbiAgICAgICAgICBpZiAobWV0cmljcy5yZWR1Y3Rpb25Gcm9tQmFzZWxpbmUgPCB0aGlzLnVuaW50ZW50aW9uYWxBbnlDb25maWcudGFyZ2V0UmVkdWN0aW9uUGVyY2VudGFnZSAqIDAuNSkge1xuICAgICAgICAgICAgd2FybmluZ3MucHVzaChgUmVkdWN0aW9uICR7bWV0cmljcy5yZWR1Y3Rpb25Gcm9tQmFzZWxpbmV9JSBpcyBiZWxvdyB0YXJnZXQgJHt0aGlzLnVuaW50ZW50aW9uYWxBbnlDb25maWcudGFyZ2V0UmVkdWN0aW9uUGVyY2VudGFnZX0lYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ludGVudGlvbmFsLWFueS1kb2N1bWVudGF0aW9uJzpcbiAgICAgICAgICAvLyBEb2N1bWVudGF0aW9uIHBoYXNlIHNob3VsZCBpbXByb3ZlIGRvY3VtZW50YXRpb24gY292ZXJhZ2VcbiAgICAgICAgICBpZiAobWV0cmljcy5kb2N1bWVudGF0aW9uQ292ZXJhZ2UgPCA4MCkge1xuICAgICAgICAgICAgd2FybmluZ3MucHVzaChgRG9jdW1lbnRhdGlvbiBjb3ZlcmFnZSAke21ldHJpY3MuZG9jdW1lbnRhdGlvbkNvdmVyYWdlfSUgaXMgYmVsb3cgODAlYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGF0ZSBidWlsZCBzdGlsbCB3b3Jrc1xuICAgICAgY29uc3QgYnVpbGRWYWxpZGF0aW9uID0gYXdhaXQgdGhpcy52YWxpZGF0ZUJ1aWxkKCk7XG4gICAgICBpZiAoIWJ1aWxkVmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKCdCdWlsZCB2YWxpZGF0aW9uIGZhaWxlZCBhZnRlciB1bmludGVudGlvbmFsIGFueSBlbGltaW5hdGlvbicpO1xuICAgICAgICBlcnJvcnMucHVzaCguLi5idWlsZFZhbGlkYXRpb24uZXJyb3JzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICB3YXJuaW5ncyxcbiAgICAgICAgbWV0cmljczogYXdhaXQgdGhpcy5nZXRDdXJyZW50TWV0cmljcygpXG4gICAgICB9O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcnM6IFtgVmFsaWRhdGlvbiBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YF0sXG4gICAgICAgIHdhcm5pbmdzOiBbXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIG1ldHJpY3MgaW1wcm92ZW1lbnQgZm9yIHVuaW50ZW50aW9uYWwgYW55IGVsaW1pbmF0aW9uXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVVuaW50ZW50aW9uYWxBbnlJbXByb3ZlbWVudChcbiAgICBpbml0aWFsOiBVbmludGVudGlvbmFsQW55TWV0cmljcyxcbiAgICBmaW5hbDogVW5pbnRlbnRpb25hbEFueU1ldHJpY3NcbiAgKTogeyBleHBsaWNpdEFueVdhcm5pbmdzUmVkdWNlZDogbnVtYmVyOyBkb2N1bWVudGF0aW9uSW1wcm92ZWQ6IG51bWJlciB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwbGljaXRBbnlXYXJuaW5nc1JlZHVjZWQ6IGluaXRpYWwudW5pbnRlbnRpb25hbEFueVR5cGVzIC0gZmluYWwudW5pbnRlbnRpb25hbEFueVR5cGVzLFxuICAgICAgZG9jdW1lbnRhdGlvbkltcHJvdmVkOiBmaW5hbC5kb2N1bWVudGF0aW9uQ292ZXJhZ2UgLSBpbml0aWFsLmRvY3VtZW50YXRpb25Db3ZlcmFnZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGxpbnRpbmcgb3V0cHV0IGZvciBhbmFseXNpc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBnZXRMaW50aW5nT3V0cHV0KCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXhlY1N5bmMgfSA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcbiAgICAgIHJldHVybiBleGVjU3luYygneWFybiBsaW50IDI+JjEnLCB7IGVuY29kaW5nOiAndXRmOCcsIHN0ZGlvOiAncGlwZScgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgLy8gRVNMaW50IHJldHVybnMgbm9uLXplcm8gZXhpdCBjb2RlIHdoZW4gd2FybmluZ3MvZXJyb3JzIGFyZSBmb3VuZFxuICAgICAgcmV0dXJuIGVycm9yLnN0ZG91dCB8fCBlcnJvci5tZXNzYWdlIHx8ICcnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb3VudCBleHBsaWNpdC1hbnkgd2FybmluZ3MgaW4gbGludGluZyBvdXRwdXRcbiAgICovXG4gIHByaXZhdGUgY291bnRFeHBsaWNpdEFueVdhcm5pbmdzKGxpbnRpbmdPdXRwdXQ6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgZXhwbGljaXRBbnlNYXRjaGVzID0gbGludGluZ091dHB1dC5tYXRjaCgvQHR5cGVzY3JpcHQtZXNsaW50XFwvbm8tZXhwbGljaXQtYW55L2cpO1xuICAgIHJldHVybiBleHBsaWNpdEFueU1hdGNoZXMgPyBleHBsaWNpdEFueU1hdGNoZXMubGVuZ3RoIDogMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBidWlsZCBhZnRlciBjaGFuZ2VzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHZhbGlkYXRlQnVpbGQoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yczogc3RyaW5nW10gfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGV4ZWNTeW5jIH0gPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJyk7XG4gICAgICBleGVjU3luYygneWFybiBidWlsZCcsIHsgZW5jb2Rpbmc6ICd1dGY4Jywgc3RkaW86ICdwaXBlJyB9KTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGVycm9yczogW10gfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3JzOiBbZXJyb3IubWVzc2FnZSB8fCAnQnVpbGQgZmFpbGVkJ11cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdW5pbnRlbnRpb25hbCBhbnkgY2FtcGFpZ24gaW5zdGFuY2VcbiAgICovXG4gIGdldFVuaW50ZW50aW9uYWxBbnlDYW1wYWlnbigpOiBVbmludGVudGlvbmFsQW55RWxpbWluYXRpb25DYW1wYWlnbiB7XG4gICAgcmV0dXJuIHRoaXMudW5pbnRlbnRpb25hbEFueUNhbXBhaWduO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB1bmludGVudGlvbmFsIGFueSBjb25maWd1cmF0aW9uXG4gICAqL1xuICB1cGRhdGVVbmludGVudGlvbmFsQW55Q29uZmlnKG5ld0NvbmZpZzogUGFydGlhbDxVbmludGVudGlvbmFsQW55Q29uZmlnPik6IHZvaWQge1xuICAgIHRoaXMudW5pbnRlbnRpb25hbEFueUNvbmZpZyA9IHsgLi4udGhpcy51bmludGVudGlvbmFsQW55Q29uZmlnLCAuLi5uZXdDb25maWcgfTtcbiAgICB0aGlzLnVuaW50ZW50aW9uYWxBbnlDYW1wYWlnbi51cGRhdGVDb25maWcobmV3Q29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCB1bmludGVudGlvbmFsIGFueSBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXRVbmludGVudGlvbmFsQW55Q29uZmlnKCk6IFVuaW50ZW50aW9uYWxBbnlDb25maWcge1xuICAgIHJldHVybiB7IC4uLnRoaXMudW5pbnRlbnRpb25hbEFueUNvbmZpZyB9O1xuICB9XG59XG5cbi8qKlxuICogRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgYSBjYW1wYWlnbiBjb250cm9sbGVyIHdpdGggdW5pbnRlbnRpb25hbCBhbnkgZWxpbWluYXRpb24gc3VwcG9ydFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5pbnRlbnRpb25hbEFueUNhbXBhaWduQ29udHJvbGxlcihcbiAgYmFzZUNvbmZpZz86IFBhcnRpYWw8Q2FtcGFpZ25Db25maWc+LFxuICB1bmludGVudGlvbmFsQW55Q29uZmlnPzogUGFydGlhbDxVbmludGVudGlvbmFsQW55Q29uZmlnPlxuKTogVW5pbnRlbnRpb25hbEFueUNhbXBhaWduQ29udHJvbGxlciB7XG4gIGNvbnN0IGNvbmZpZyA9IFVuaW50ZW50aW9uYWxBbnlDYW1wYWlnbkNvbnRyb2xsZXIuY3JlYXRlVW5pbnRlbnRpb25hbEFueUVsaW1pbmF0aW9uQ29uZmlnKFxuICAgIGJhc2VDb25maWcsXG4gICAgdW5pbnRlbnRpb25hbEFueUNvbmZpZ1xuICApO1xuXG4gIHJldHVybiBuZXcgVW5pbnRlbnRpb25hbEFueUNhbXBhaWduQ29udHJvbGxlcihjb25maWcsIHVuaW50ZW50aW9uYWxBbnlDb25maWcpO1xufVxuXG4vKipcbiAqIEludGVncmF0aW9uIGhlbHBlciB0byBhZGQgdW5pbnRlbnRpb25hbCBhbnkgZWxpbWluYXRpb24gdG8gZXhpc3RpbmcgY2FtcGFpZ25zXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmludGVudGlvbmFsQW55SW50ZWdyYXRpb25IZWxwZXIge1xuICAvKipcbiAgICogQWRkIHVuaW50ZW50aW9uYWwgYW55IGVsaW1pbmF0aW9uIHBoYXNlcyB0byBleGlzdGluZyBjYW1wYWlnbiBjb25maWd1cmF0aW9uXG4gICAqL1xuICBzdGF0aWMgYWRkVW5pbnRlbnRpb25hbEFueVBoYXNlcyhcbiAgICBleGlzdGluZ0NvbmZpZzogQ2FtcGFpZ25Db25maWcsXG4gICAgdW5pbnRlbnRpb25hbEFueUNvbmZpZz86IFBhcnRpYWw8VW5pbnRlbnRpb25hbEFueUNvbmZpZz5cbiAgKTogQ2FtcGFpZ25Db25maWcge1xuICAgIGNvbnN0IHVuaW50ZW50aW9uYWxBbnlDYW1wYWlnbiA9IG5ldyBVbmludGVudGlvbmFsQW55RWxpbWluYXRpb25DYW1wYWlnbih1bmludGVudGlvbmFsQW55Q29uZmlnKTtcbiAgICBjb25zdCB1bmludGVudGlvbmFsQW55UGhhc2VzID0gdW5pbnRlbnRpb25hbEFueUNhbXBhaWduLmNyZWF0ZUNhbXBhaWduUGhhc2VzKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uZXhpc3RpbmdDb25maWcsXG4gICAgICBwaGFzZXM6IFtcbiAgICAgICAgLi4uZXhpc3RpbmdDb25maWcucGhhc2VzLFxuICAgICAgICAuLi51bmludGVudGlvbmFsQW55UGhhc2VzXG4gICAgICBdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgY29tcGF0aWJpbGl0eSBsYXllciB3aXRoIGV4aXN0aW5nIGF1dG9tYXRpb24gc2NyaXB0c1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUF1dG9tYXRpb25TY3JpcHRDb21wYXRpYmlsaXR5KCk6IHtcbiAgICBleHBsaWNpdEFueUZpeGVyOiBzdHJpbmc7XG4gICAgdW5pbnRlbnRpb25hbEFueUFuYWx5emVyOiBzdHJpbmc7XG4gICAgZG9jdW1lbnRhdGlvbkdlbmVyYXRvcjogc3RyaW5nO1xuICB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwbGljaXRBbnlGaXhlcjogJ3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi91bmludGVudGlvbmFsLWFueS1lbGltaW5hdGlvbi9Qcm9ncmVzc2l2ZUltcHJvdmVtZW50RW5naW5lLnRzJyxcbiAgICAgIHVuaW50ZW50aW9uYWxBbnlBbmFseXplcjogJ3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi91bmludGVudGlvbmFsLWFueS1lbGltaW5hdGlvbi9BbnlUeXBlQ2xhc3NpZmllci50cycsXG4gICAgICBkb2N1bWVudGF0aW9uR2VuZXJhdG9yOiAnc3JjL3NlcnZpY2VzL2NhbXBhaWduL3VuaW50ZW50aW9uYWwtYW55LWVsaW1pbmF0aW9uL0F1dG9Eb2N1bWVudGF0aW9uR2VuZXJhdG9yLnRzJ1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSBjb25mbGljdHMgd2l0aCBvdGhlciBjYW1wYWlnbiBwcmlvcml0aWVzXG4gICAqL1xuICBzdGF0aWMgcmVzb2x2ZUNhbXBhaWduUHJpb3JpdHlDb25mbGljdHMoXG4gICAgY2FtcGFpZ25zOiBDYW1wYWlnbkNvbmZpZ1tdLFxuICAgIHByaW9yaXR5T3JkZXI6IHN0cmluZ1tdXG4gICk6IENhbXBhaWduQ29uZmlnIHtcbiAgICAvLyBTb3J0IGNhbXBhaWducyBieSBwcmlvcml0eSBvcmRlclxuICAgIGNvbnN0IHNvcnRlZENhbXBhaWducyA9IGNhbXBhaWducy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBhSW5kZXggPSBwcmlvcml0eU9yZGVyLmZpbmRJbmRleChwID0+IGEucGhhc2VzLnNvbWUocGhhc2UgPT4gcGhhc2UuaWQuaW5jbHVkZXMocCkpKTtcbiAgICAgIGNvbnN0IGJJbmRleCA9IHByaW9yaXR5T3JkZXIuZmluZEluZGV4KHAgPT4gYi5waGFzZXMuc29tZShwaGFzZSA9PiBwaGFzZS5pZC5pbmNsdWRlcyhwKSkpO1xuICAgICAgcmV0dXJuIGFJbmRleCAtIGJJbmRleDtcbiAgICB9KTtcblxuICAgIC8vIE1lcmdlIGNhbXBhaWducyB3aXRoIHByaW9yaXR5LWJhc2VkIHBoYXNlIG9yZGVyaW5nXG4gICAgY29uc3QgbWVyZ2VkUGhhc2VzOiBDYW1wYWlnblBoYXNlW10gPSBbXTtcbiAgICBjb25zdCBtZXJnZWRTYWZldHlTZXR0aW5nczogU2FmZXR5U2V0dGluZ3MgPSB7XG4gICAgICBtYXhGaWxlc1BlckJhdGNoOiBNYXRoLm1pbiguLi5jYW1wYWlnbnMubWFwKGMgPT4gYy5zYWZldHlTZXR0aW5ncy5tYXhGaWxlc1BlckJhdGNoKSksXG4gICAgICBidWlsZFZhbGlkYXRpb25GcmVxdWVuY3k6IE1hdGgubWluKC4uLmNhbXBhaWducy5tYXAoYyA9PiBjLnNhZmV0eVNldHRpbmdzLmJ1aWxkVmFsaWRhdGlvbkZyZXF1ZW5jeSkpLFxuICAgICAgdGVzdFZhbGlkYXRpb25GcmVxdWVuY3k6IE1hdGgubWluKC4uLmNhbXBhaWducy5tYXAoYyA9PiBjLnNhZmV0eVNldHRpbmdzLnRlc3RWYWxpZGF0aW9uRnJlcXVlbmN5KSksXG4gICAgICBjb3JydXB0aW9uRGV0ZWN0aW9uRW5hYmxlZDogY2FtcGFpZ25zLmV2ZXJ5KGMgPT4gYy5zYWZldHlTZXR0aW5ncy5jb3JydXB0aW9uRGV0ZWN0aW9uRW5hYmxlZCksXG4gICAgICBhdXRvbWF0aWNSb2xsYmFja0VuYWJsZWQ6IGNhbXBhaWducy5ldmVyeShjID0+IGMuc2FmZXR5U2V0dGluZ3MuYXV0b21hdGljUm9sbGJhY2tFbmFibGVkKSxcbiAgICAgIHN0YXNoUmV0ZW50aW9uRGF5czogTWF0aC5tYXgoLi4uY2FtcGFpZ25zLm1hcChjID0+IGMuc2FmZXR5U2V0dGluZ3Muc3Rhc2hSZXRlbnRpb25EYXlzKSlcbiAgICB9O1xuXG4gICAgLy8gQWRkIHBoYXNlcyBpbiBwcmlvcml0eSBvcmRlclxuICAgIGZvciAoY29uc3QgcHJpb3JpdHkgb2YgcHJpb3JpdHlPcmRlcikge1xuICAgICAgZm9yIChjb25zdCBjYW1wYWlnbiBvZiBzb3J0ZWRDYW1wYWlnbnMpIHtcbiAgICAgICAgY29uc3QgcHJpb3JpdHlQaGFzZXMgPSBjYW1wYWlnbi5waGFzZXMuZmlsdGVyKHBoYXNlID0+IHBoYXNlLmlkLmluY2x1ZGVzKHByaW9yaXR5KSk7XG4gICAgICAgIG1lcmdlZFBoYXNlcy5wdXNoKC4uLnByaW9yaXR5UGhhc2VzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGhhc2VzOiBtZXJnZWRQaGFzZXMsXG4gICAgICBzYWZldHlTZXR0aW5nczogbWVyZ2VkU2FmZXR5U2V0dGluZ3MsXG4gICAgICBwcm9ncmVzc1RhcmdldHM6IHNvcnRlZENhbXBhaWduc1swXS5wcm9ncmVzc1RhcmdldHMsXG4gICAgICB0b29sQ29uZmlndXJhdGlvbjoge1xuICAgICAgICAuLi5zb3J0ZWRDYW1wYWlnbnNbMF0udG9vbENvbmZpZ3VyYXRpb24sXG4gICAgICAgIC4uLlVuaW50ZW50aW9uYWxBbnlJbnRlZ3JhdGlvbkhlbHBlci5jcmVhdGVBdXRvbWF0aW9uU2NyaXB0Q29tcGF0aWJpbGl0eSgpXG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9