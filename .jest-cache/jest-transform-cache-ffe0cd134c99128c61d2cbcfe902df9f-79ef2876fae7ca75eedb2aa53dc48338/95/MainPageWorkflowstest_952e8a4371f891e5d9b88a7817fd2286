1194b53b457ab809b5fde70c5f566f3c
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// Mock all external dependencies for E2E simulation
jest.mock('next/navigation', () => ({
    useRouter: () => ({
        push: jest.fn(),
        back: jest.fn(),
        forward: jest.fn(),
        refresh: jest.fn(),
        replace: jest.fn()
    })
}));
jest.mock('@/contexts/AlchemicalContext/hooks');
jest.mock('@/hooks/useStatePreservation');
jest.mock('@/utils/logger', () => ({
    logger: {
        debug: jest.fn(),
        info: jest.fn(),
        warn: jest.fn(),
        error: jest.fn()
    }
}));
// Mock realistic component behaviors for E2E testing
jest.mock('@/components/CuisineRecommender', () => {
    return function MockCuisineRecommender() {
        const [selectedCuisine, setSelectedCuisine] = react_2.default.useState(null);
        const [showRecipes, setShowRecipes] = react_2.default.useState(false);
        const cuisines = [
            { name: 'Italian', score: 95, recipes: ['Pasta Marinara', 'Risotto', 'Pizza Margherita'] },
            { name: 'Chinese', score: 88, recipes: ['Fried Rice', 'Sweet and Sour Pork', 'Kung Pao Chicken'] },
            { name: 'Mexican', score: 82, recipes: ['Tacos', 'Enchiladas', 'Guacamole'] },
            { name: 'Indian', score: 79, recipes: ['Curry', 'Biryani', 'Naan'] }
        ];
        const handleCuisineSelect = (cuisine) => {
            setSelectedCuisine(cuisine.name);
            setShowRecipes(true);
        };
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": "cuisine-recommender", children: [(0, jsx_runtime_1.jsx)("h3", { children: "Cuisine Recommendations" }), (0, jsx_runtime_1.jsx)("div", { className: "cuisine-grid", children: cuisines.map(cuisine => ((0, jsx_runtime_1.jsx)("div", { className: "cuisine-card", "data-testid": `cuisine-card-${cuisine.name.toLowerCase()}`, children: (0, jsx_runtime_1.jsxs)("button", { onClick: () => handleCuisineSelect(cuisine), className: selectedCuisine === cuisine.name ? 'selected' : '', "data-testid": `cuisine-${cuisine.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("h4", { children: cuisine.name }), (0, jsx_runtime_1.jsxs)("div", { className: "score", children: ["Match: ", cuisine.score, "%"] })] }) }, cuisine.name))) }), showRecipes && selectedCuisine && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": "recipe-recommendations", className: "recipe-section", children: [(0, jsx_runtime_1.jsxs)("h4", { children: ["Recommended ", selectedCuisine, " Recipes"] }), (0, jsx_runtime_1.jsx)("div", { className: "recipe-list", children: cuisines.find(c => c.name === selectedCuisine)?.recipes.map(recipe => ((0, jsx_runtime_1.jsx)("button", { "data-testid": `recipe-${recipe.toLowerCase().replace(/\s+/g, '-')}`, className: "recipe-button", children: recipe }, recipe))) })] }))] }));
    };
});
jest.mock('@/components/IngredientRecommender', () => {
    return function MockIngredientRecommender({ maxDisplayed = 8 }) {
        const [selectedIngredients, setSelectedIngredients] = react_2.default.useState([]);
        const [expandedIngredient, setExpandedIngredient] = react_2.default.useState(null);
        const ingredients = [
            { name: 'Tomatoes', category: 'Vegetables', properties: ['Umami', 'Acidic', 'Fresh'] },
            { name: 'Onions', category: 'Vegetables', properties: ['Sweet', 'Pungent', 'Aromatic'] },
            { name: 'Garlic', category: 'Aromatics', properties: ['Pungent', 'Savory', 'Aromatic'] },
            { name: 'Basil', category: 'Herbs', properties: ['Fresh', 'Aromatic', 'Sweet'] },
            { name: 'Olive Oil', category: 'Oils', properties: ['Rich', 'Fruity', 'Smooth'] },
            { name: 'Cheese', category: 'Dairy', properties: ['Creamy', 'Salty', 'Rich'] },
            { name: 'Pasta', category: 'Grains', properties: ['Neutral', 'Filling', 'Versatile'] },
            { name: 'Chicken', category: 'Proteins', properties: ['Lean', 'Mild', 'Versatile'] }
        ];
        const displayedIngredients = ingredients.slice(0, maxDisplayed);
        const toggleIngredient = (ingredient) => {
            setSelectedIngredients(prev => prev.includes(ingredient)
                ? prev.filter(i => i !== ingredient)
                : [...prev, ingredient]);
        };
        const toggleExpanded = (ingredient) => {
            setExpandedIngredient(prev => prev === ingredient ? null : ingredient);
        };
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": "ingredient-recommender", children: [(0, jsx_runtime_1.jsx)("h3", { children: "Ingredient Recommendations" }), (0, jsx_runtime_1.jsx)("div", { className: "ingredient-grid", children: displayedIngredients.map(ingredient => ((0, jsx_runtime_1.jsxs)("div", { className: "ingredient-card", "data-testid": `ingredient-card-${ingredient.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("button", { onClick: () => toggleIngredient(ingredient.name), className: selectedIngredients.includes(ingredient.name) ? 'selected' : '', "data-testid": `ingredient-${ingredient.name.toLowerCase()}`, children: ingredient.name }), (0, jsx_runtime_1.jsx)("button", { onClick: () => toggleExpanded(ingredient.name), "data-testid": `expand-${ingredient.name.toLowerCase()}`, className: "expand-button", children: expandedIngredient === ingredient.name ? '▼' : '▶' }), expandedIngredient === ingredient.name && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": `details-${ingredient.name.toLowerCase()}`, className: "ingredient-details", children: [(0, jsx_runtime_1.jsxs)("div", { children: ["Category: ", ingredient.category] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Properties: ", ingredient.properties.join(', ')] })] }))] }, ingredient.name))) }), selectedIngredients.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { "data-testid": "selected-ingredients-summary", className: "selection-summary", children: [(0, jsx_runtime_1.jsxs)("h4", { children: ["Selected Ingredients (", selectedIngredients.length, ")"] }), (0, jsx_runtime_1.jsx)("div", { children: selectedIngredients.join(', ') })] }))] }));
    };
});
jest.mock('@/components/CookingMethodsSection', () => {
    return function MockCookingMethodsSection({ maxDisplayed = 6, onViewMore }) {
        const [selectedMethod, setSelectedMethod] = react_2.default.useState(null);
        const methods = [
            { name: 'Sauté', time: '5-10 min', difficulty: 'Easy', description: 'Quick cooking in a pan with oil' },
            { name: 'Roast', time: '30-60 min', difficulty: 'Medium', description: 'Cooking in the oven with dry heat' },
            { name: 'Grill', time: '10-20 min', difficulty: 'Medium', description: 'Cooking over direct heat' },
            { name: 'Steam', time: '10-15 min', difficulty: 'Easy', description: 'Cooking with steam heat' },
            { name: 'Braise', time: '60-120 min', difficulty: 'Hard', description: 'Slow cooking with liquid' },
            { name: 'Stir-fry', time: '5-8 min', difficulty: 'Medium', description: 'Quick cooking while stirring' }
        ];
        const displayedMethods = methods.slice(0, maxDisplayed);
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": "cooking-methods", children: [(0, jsx_runtime_1.jsx)("h3", { children: "Cooking Methods" }), (0, jsx_runtime_1.jsx)("div", { className: "methods-grid", children: displayedMethods.map(method => ((0, jsx_runtime_1.jsxs)("div", { className: "method-card", "data-testid": `method-card-${method.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsxs)("button", { onClick: () => setSelectedMethod(method.name), className: selectedMethod === method.name ? 'selected' : '', "data-testid": `method-${method.name.toLowerCase()}`, children: [(0, jsx_runtime_1.jsx)("h4", { children: method.name }), (0, jsx_runtime_1.jsxs)("div", { className: "method-info", children: [(0, jsx_runtime_1.jsxs)("div", { children: ["Time: ", method.time] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Difficulty: ", method.difficulty] })] })] }), selectedMethod === method.name && ((0, jsx_runtime_1.jsx)("div", { "data-testid": `method-details-${method.name.toLowerCase()}`, className: "method-details", children: (0, jsx_runtime_1.jsx)("p", { children: method.description }) }))] }, method.name))) }), (0, jsx_runtime_1.jsx)("button", { onClick: onViewMore, "data-testid": "view-more-methods", className: "view-more-button", children: "View All Cooking Methods" })] }));
    };
});
jest.mock('@/components/recipes/RecipeBuilderSimple', () => {
    return function MockRecipeBuilderSimple() {
        const [recipeName, setRecipeName] = react_2.default.useState('');
        const [ingredients, setIngredients] = react_2.default.useState([]);
        const [steps, setSteps] = react_2.default.useState([]);
        const [servings, setServings] = react_2.default.useState(4);
        const [prepTime, setPrepTime] = react_2.default.useState(15);
        const [cookTime, setCookTime] = react_2.default.useState(30);
        const addIngredient = () => {
            setIngredients(prev => [...prev, { name: '', quantity: '' }]);
        };
        const updateIngredient = (index, field, value) => {
            setIngredients(prev => prev.map((ing, i) => i === index ? { ...ing, [field]: value } : ing));
        };
        const removeIngredient = (index) => {
            setIngredients(prev => prev.filter((_, i) => i !== index));
        };
        const addStep = () => {
            setSteps(prev => [...prev, { instruction: '', timing: '' }]);
        };
        const updateStep = (index, field, value) => {
            setSteps(prev => prev.map((step, i) => i === index ? { ...step, [field]: value } : step));
        };
        const removeStep = (index) => {
            setSteps(prev => prev.filter((_, i) => i !== index));
        };
        const canSave = recipeName.trim() &&
            ingredients.some(ing => ing.name.trim()) &&
            steps.some(step => step.instruction.trim());
        const totalTime = prepTime + cookTime;
        return ((0, jsx_runtime_1.jsxs)("div", { "data-testid": "recipe-builder", children: [(0, jsx_runtime_1.jsx)("h3", { children: "Recipe Builder" }), (0, jsx_runtime_1.jsxs)("div", { className: "recipe-form", children: [(0, jsx_runtime_1.jsxs)("div", { className: "recipe-header", children: [(0, jsx_runtime_1.jsx)("input", { type: "text", placeholder: "Recipe Name", value: recipeName, onChange: (e) => setRecipeName(e.target.value), "data-testid": "recipe-name-input" }), (0, jsx_runtime_1.jsxs)("div", { className: "recipe-meta", children: [(0, jsx_runtime_1.jsx)("input", { type: "number", value: servings, onChange: (e) => setServings(parseInt(e.target.value) || 1), "data-testid": "servings-input", min: "1" }), (0, jsx_runtime_1.jsx)("input", { type: "number", value: prepTime, onChange: (e) => setPrepTime(parseInt(e.target.value) || 0), "data-testid": "prep-time-input", min: "0" }), (0, jsx_runtime_1.jsx)("input", { type: "number", value: cookTime, onChange: (e) => setCookTime(parseInt(e.target.value) || 0), "data-testid": "cook-time-input", min: "0" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "ingredients-section", children: [(0, jsx_runtime_1.jsx)("h4", { children: "Ingredients" }), (0, jsx_runtime_1.jsx)("button", { onClick: addIngredient, "data-testid": "add-ingredient", children: "Add Ingredient" }), ingredients.map((ingredient, index) => ((0, jsx_runtime_1.jsxs)("div", { className: "ingredient-row", "data-testid": `ingredient-row-${index}`, children: [(0, jsx_runtime_1.jsx)("input", { type: "text", placeholder: "Quantity", value: ingredient.quantity, onChange: (e) => updateIngredient(index, 'quantity', e.target.value), "data-testid": `ingredient-quantity-${index}` }), (0, jsx_runtime_1.jsx)("input", { type: "text", placeholder: "Ingredient name", value: ingredient.name, onChange: (e) => updateIngredient(index, 'name', e.target.value), "data-testid": `ingredient-name-${index}` }), (0, jsx_runtime_1.jsx)("button", { onClick: () => removeIngredient(index), "data-testid": `remove-ingredient-${index}`, children: "Remove" })] }, index))), (0, jsx_runtime_1.jsxs)("div", { "data-testid": "ingredients-count", children: [", Ingredients: ", ingredients.length] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "steps-section", children: [(0, jsx_runtime_1.jsx)("h4", { children: "Instructions" }), (0, jsx_runtime_1.jsx)("button", { onClick: addStep, "data-testid": "add-step", children: "Add Step" }), steps.map((step, index) => ((0, jsx_runtime_1.jsxs)("div", { className: "step-row", "data-testid": `step-row-${index}`, children: [(0, jsx_runtime_1.jsx)("span", { className: "step-number", children: index + 1 }), (0, jsx_runtime_1.jsx)("textarea", { placeholder: "Describe this step...", value: step.instruction, onChange: (e) => updateStep(index, 'instruction', e.target.value), "data-testid": `step-instruction-${index}` }), (0, jsx_runtime_1.jsx)("input", { type: "text", placeholder: "Timing", value: step.timing, onChange: (e) => updateStep(index, 'timing', e.target.value), "data-testid": `step-timing-${index}` }), (0, jsx_runtime_1.jsx)("button", { onClick: () => removeStep(index), "data-testid": `remove-step-${index}`, children: "Remove" })] }, index))), (0, jsx_runtime_1.jsxs)("div", { "data-testid": "steps-count", children: [", Steps: ", steps.length] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "recipe-summary", "data-testid": "recipe-summary", children: [(0, jsx_runtime_1.jsx)("h4", { children: "Recipe Summary" }), (0, jsx_runtime_1.jsxs)("div", { children: ["Name: ", recipeName || 'Untitled Recipe'] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Servings: ", servings] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Total Time: ", totalTime, " minutes"] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Ingredients: ", ingredients.length] }), (0, jsx_runtime_1.jsxs)("div", { children: ["Steps: ", steps.length] })] }), (0, jsx_runtime_1.jsx)("button", { disabled: !canSave, "data-testid": "save-recipe", className: canSave ? 'enabled' : 'disabled', children: "Save Recipe" })] })] }));
    };
});
/**
 * End-to-End Tests for Main Page Workflows
 *
 * These tests simulate complete user workflows on the main page,
 * testing the integration between all components and user interactions.
 *
 * Note: These tests use jsdom and testing-library to simulate E2E scenarios
 * without requiring a full browser environment.
 */
const react_1 = require("@testing-library/react");
const user_event_1 = __importDefault(require("@testing-library/user-event"));
const react_2 = __importDefault(require("react"));
const MainPageLayout_1 = __importDefault(require("@/components/layout/MainPageLayout"));
const hooks_1 = require("@/contexts/AlchemicalContext/hooks");
const useStatePreservation_1 = require("@/hooks/useStatePreservation");
describe('Main Page E2E Workflows', () => {
    const mockAlchemicalContext = {
        state: {
            astrologicalState: { sunSign: 'aries' },
            elementalState: { Fire: 0.3, Water: 0.2, Earth: 0.3, Air: 0.2 }
        },
        planetaryPositions: { sun: { sign: 'aries' } },
        isDaytime: true
    };
    const mockNavigationState = {
        saveState: jest.fn(),
        getState: jest.fn(() => ({}))
    };
    const mockScrollPreservation = {
        restoreScrollPosition: jest.fn()
    };
    beforeEach(() => {
        jest.clearAllMocks();
        hooks_1.useAlchemical.mockReturnValue(mockAlchemicalContext);
        useStatePreservation_1.useNavigationState.mockReturnValue(mockNavigationState);
        useStatePreservation_1.useScrollPreservation.mockReturnValue(mockScrollPreservation);
        useStatePreservation_1.useAutoStateCleanup.mockReturnValue(undefined);
        // Mock DOM methods
        Object.defineProperty(window, 'scrollY', { value: 0, writable: true });
        jest.spyOn(document, 'getElementById').mockImplementation(() => ({
            scrollIntoView: jest.fn(),
            style: {},
            classList: { add: jest.fn(), remove: jest.fn() }
        }));
    });
    afterEach(() => {
        jest.restoreAllMocks();
    });
    it('completes full meal planning workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        // Wait for all components to load
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cuisine-recommender')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('ingredient-recommender')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('cooking-methods')).toBeInTheDocument();
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Step 1: Select a cuisine
        const italianCuisine = react_1.screen.getByTestId('italian-cuisine');
        user.click(italianCuisine);
        // Verify cuisine selection and recipe recommendations appear
        expect(react_1.screen.getByTestId('recipe-recommendations')).toBeInTheDocument();
        expect(react_1.screen.getByText('Recommended Italian Recipes')).toBeInTheDocument();
        // Step 2: Select ingredients
        const tomatoes = react_1.screen.getByTestId('ingredient-tomatoes');
        const basil = react_1.screen.getByTestId('ingredient-basil');
        const oliveOil = react_1.screen.getByTestId('ingredient-olive oil');
        user.click(tomatoes);
        user.click(basil);
        user.click(oliveOil);
        // Verify ingredient selection
        expect(react_1.screen.getByTestId('selected-ingredients-summary')).toBeInTheDocument();
        expect(react_1.screen.getByText('Selected Ingredients (3)')).toBeInTheDocument();
        // Step 3: Select cooking method
        const sauteMethod = react_1.screen.getByTestId('method-sauté');
        user.click(sauteMethod);
        // Verify method selection and details
        expect(react_1.screen.getByTestId('method-details-sauté')).toBeInTheDocument();
        // Step 4: Build a recipe
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        user.type(recipeNameInput, 'Italian Tomato Basil Sauté');
        // Add ingredients to recipe
        const addIngredientButton = react_1.screen.getByTestId('add-ingredient');
        user.click(addIngredientButton);
        user.click(addIngredientButton);
        user.click(addIngredientButton);
        // Fill in ingredient details
        user.type(react_1.screen.getByTestId('ingredient-quantity-0'), '2 cups');
        user.type(react_1.screen.getByTestId('ingredient-name-0'), 'Fresh Tomatoes');
        user.type(react_1.screen.getByTestId('ingredient-quantity-1'), '1/4 cup');
        user.type(react_1.screen.getByTestId('ingredient-name-1'), 'Fresh Basil');
        user.type(react_1.screen.getByTestId('ingredient-quantity-2'), '2 tbsp');
        user.type(react_1.screen.getByTestId('ingredient-name-2'), 'Olive Oil');
        // Add cooking steps
        const addStepButton = react_1.screen.getByTestId('add-step');
        user.click(addStepButton);
        user.click(addStepButton);
        user.type(react_1.screen.getByTestId('step-instruction-0'), 'Heat olive oil in a large pan over medium heat');
        user.type(react_1.screen.getByTestId('step-timing-0'), '2 min');
        user.type(react_1.screen.getByTestId('step-instruction-1'), 'Add tomatoes and basil, sauté until tender');
        user.type(react_1.screen.getByTestId('step-timing-1'), '8 min');
        // Verify recipe can be saved
        const saveButton = react_1.screen.getByTestId('save-recipe');
        expect(saveButton).toBeEnabled();
        // Save the recipe
        user.click(saveButton);
        // Verify the complete workflow
        expect(react_1.screen.getByDisplayValue('Italian Tomato Basil Sauté')).toBeInTheDocument();
        expect(react_1.screen.getByText('Ingredients: 3')).toBeInTheDocument();
        expect(react_1.screen.getByText('Steps: 2')).toBeInTheDocument();
    });
    it('handles ingredient exploration workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('ingredient-recommender')).toBeInTheDocument();
        });
        // Expand ingredient details
        const expandTomatoes = react_1.screen.getByTestId('expand-tomatoes');
        user.click(expandTomatoes);
        // Verify details are shown
        expect(react_1.screen.getByTestId('details-tomatoes')).toBeInTheDocument();
        expect(react_1.screen.getByText('Category: Vegetables')).toBeInTheDocument();
        expect(react_1.screen.getByText('Properties: Umami, Acidic, Fresh')).toBeInTheDocument();
        // Expand another ingredient
        const expandGarlic = react_1.screen.getByTestId('expand-garlic');
        user.click(expandGarlic);
        expect(react_1.screen.getByTestId('details-garlic')).toBeInTheDocument();
        expect(react_1.screen.getByText('Category: Aromatics')).toBeInTheDocument();
        // Collapse first ingredient
        user.click(expandTomatoes);
        expect(react_1.screen.queryByTestId('details-tomatoes')).not.toBeInTheDocument();
        // Select multiple ingredients
        user.click(react_1.screen.getByTestId('ingredient-tomatoes'));
        user.click(react_1.screen.getByTestId('ingredient-garlic'));
        user.click(react_1.screen.getByTestId('ingredient-basil'));
        // Verify selection summary
        expect(react_1.screen.getByText('Selected Ingredients (3)')).toBeInTheDocument();
        expect(react_1.screen.getByText('Tomatoes, Garlic, Basil')).toBeInTheDocument();
    });
    it('handles cooking method exploration workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cooking-methods')).toBeInTheDocument();
        });
        // Select different cooking methods and view details
        const roastMethod = react_1.screen.getByTestId('method-roast');
        user.click(roastMethod);
        expect(react_1.screen.getByTestId('method-details-roast')).toBeInTheDocument();
        expect(react_1.screen.getByText('Cooking in the oven with dry heat')).toBeInTheDocument();
        // Switch to another method
        const grillMethod = react_1.screen.getByTestId('method-grill');
        user.click(grillMethod);
        expect(react_1.screen.getByTestId('method-details-grill')).toBeInTheDocument();
        expect(react_1.screen.getByText('Cooking over direct heat')).toBeInTheDocument();
        // Previous method details should be hidden
        expect(react_1.screen.queryByTestId('method-details-roast')).not.toBeInTheDocument();
        // Test view more functionality
        const viewMoreButton = react_1.screen.getByTestId('view-more-methods');
        expect(viewMoreButton).toBeInTheDocument();
    });
    it('handles complete recipe creation workflow', async () => {
        const user = user_event_1.default.setup();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Create a complete recipe from scratch
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        user.type(recipeNameInput, 'Mediterranean Chicken');
        // Update recipe metadata
        const servingsInput = react_1.screen.getByTestId('servings-input');
        const prepTimeInput = react_1.screen.getByTestId('prep-time-input');
        const cookTimeInput = react_1.screen.getByTestId('cook-time-input');
        user.clear(servingsInput);
        user.type(servingsInput, '6');
        user.clear(prepTimeInput);
        user.type(prepTimeInput, '20');
        user.clear(cookTimeInput);
        user.type(cookTimeInput, '45');
        // Add multiple ingredients
        for (let i = 0; i < 4; i++) {
            user.click(react_1.screen.getByTestId('add-ingredient'));
        }
        const ingredients = [
            { quantity: '2 lbs', name: 'Chicken Breast' },
            { quantity: '1 cup', name: 'Cherry Tomatoes' },
            { quantity: '1/2 cup', name: 'Kalamata Olives' },
            { quantity: '1/4 cup', name: 'Olive Oil' }
        ];
        for (let i = 0; i < ingredients.length; i++) {
            user.type(react_1.screen.getByTestId(`ingredient-quantity-${i}`), ingredients[i].quantity);
            user.type(react_1.screen.getByTestId(`ingredient-name-${i}`), ingredients[i].name);
        }
        // Add cooking steps
        for (let i = 0; i < 3; i++) {
            user.click(react_1.screen.getByTestId('add-step'));
        }
        const steps = [
            { instruction: 'Preheat oven to 375°F and prepare chicken', timing: '5 min' },
            { instruction: 'Sear chicken in olive oil until golden', timing: '10 min' },
            { instruction: 'Add tomatoes and olives, bake until done', timing: '30 min' }
        ];
        for (let i = 0; i < steps.length; i++) {
            user.type(react_1.screen.getByTestId(`step-instruction-${i}`), steps[i].instruction);
            user.type(react_1.screen.getByTestId(`step-timing-${i}`), steps[i].timing);
        }
        // Verify recipe summary
        const summary = react_1.screen.getByTestId('recipe-summary');
        expect(summary).toHaveTextContent('Name: Mediterranean Chicken');
        expect(summary).toHaveTextContent('Servings: 6');
        expect(summary).toHaveTextContent('Total Time: 65 minutes');
        expect(summary).toHaveTextContent('Ingredients: 4');
        expect(summary).toHaveTextContent('Steps: 3');
        // Verify save button is enabled
        const saveButton = react_1.screen.getByTestId('save-recipe');
        expect(saveButton).toBeEnabled();
        expect(saveButton).toHaveClass('enabled');
        // Test ingredient removal
        user.click(react_1.screen.getByTestId('remove-ingredient-3'));
        expect(react_1.screen.getByText('Ingredients: 3')).toBeInTheDocument();
        // Test step removal
        user.click(react_1.screen.getByTestId('remove-step-0'));
        expect(react_1.screen.getByText('Steps: 2')).toBeInTheDocument();
        // Verify step renumbering
        expect(react_1.screen.getByDisplayValue('Sear chicken in olive oil until golden')).toBeInTheDocument();
    });
    it('handles navigation and state preservation workflow', async () => {
        const user = user_event_1.default.setup();
        const mockOnSectionNavigate = jest.fn();
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, { onSectionNavigate: mockOnSectionNavigate }));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('cuisine-recommender')).toBeInTheDocument();
        });
        // Make selections across different components
        user.click(react_1.screen.getByTestId('cuisine-italian'));
        user.click(react_1.screen.getByTestId('ingredient-tomatoes'));
        user.click(react_1.screen.getByTestId('method-sauté'));
        // Navigate between sections
        const cuisineNavButton = react_1.screen.getByText('Cuisine Recommendations');
        user.click(cuisineNavButton);
        expect(mockOnSectionNavigate).toHaveBeenCalledWith('cuisine');
        const ingredientsNavButton = react_1.screen.getByText('Ingredient Recommendations');
        user.click(ingredientsNavButton);
        expect(mockOnSectionNavigate).toHaveBeenCalledWith('ingredients');
        // Verify state preservation was called
        await (0, react_1.waitFor)(() => {
            expect(mockNavigationState.saveState).toHaveBeenCalled();
        });
        // Verify selections are maintained after navigation
        expect(react_1.screen.getByTestId('recipe-recommendations')).toBeInTheDocument();
        expect(react_1.screen.getByText('Selected Ingredients (1)')).toBeInTheDocument();
        expect(react_1.screen.getByTestId('method-details-sauté')).toBeInTheDocument();
    });
    it('handles error recovery workflow', async () => {
        const user = user_event_1.default.setup();
        // Mock console.error to avoid noise
        const consoleSpy = jest.spyOn(console, 'error').mockImplementation(() => { });
        (0, react_1.act)(async () => {
            (0, react_1.render)((0, jsx_runtime_1.jsx)(MainPageLayout_1.default, {}));
        });
        await (0, react_1.waitFor)(() => {
            expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        });
        // Simulate user creating a recipe and encountering an error
        const recipeNameInput = react_1.screen.getByTestId('recipe-name-input');
        user.type(recipeNameInput, 'Test Recipe');
        // Add ingredient
        user.click(react_1.screen.getByTestId('add-ingredient'));
        user.type(react_1.screen.getByTestId('ingredient-name-0'), 'Test Ingredient');
        // Add step
        user.click(react_1.screen.getByTestId('add-step'));
        user.type(react_1.screen.getByTestId('step-instruction-0'), 'Test step');
        // Verify recipe is valid
        expect(react_1.screen.getByTestId('save-recipe')).toBeEnabled();
        // The main page should continue to function despite any errors
        expect(react_1.screen.getByText('What to Eat Next')).toBeInTheDocument();
        expect(react_1.screen.getByTestId('recipe-builder')).toBeInTheDocument();
        consoleSpy.mockRestore();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9fX3Rlc3RzX18vZTJlL01haW5QYWdlV29ya2Zsb3dzLnRlc3QudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQWtCQSxvREFBb0Q7QUFDcEQsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLFNBQVMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ2hCLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2YsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDZixPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNsQixPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNsQixPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtLQUNuQixDQUFDO0NBQ0gsQ0FBQyxDQUFDLENBQUM7QUFFSixJQUFJLENBQUMsSUFBSSxDQUFDLG9DQUFvQyxDQUFDLENBQUM7QUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO0FBQzFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNqQyxNQUFNLEVBQUU7UUFDTixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNoQixJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNmLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2YsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7S0FDakI7Q0FDRixDQUFDLENBQUMsQ0FBQztBQUVKLHFEQUFxRDtBQUNyRCxJQUFJLENBQUMsSUFBSSxDQUFDLGlDQUFpQyxFQUFFLEdBQUcsRUFBRTtJQUNoRCxPQUFPLFNBQVMsc0JBQXNCO1FBQ3BDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxlQUFLLENBQUMsUUFBUSxDQUFn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Q0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRWpFLHlCQUF5QjtRQUN6QixNQUFNLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRXhELCtEQUErRDtRQUMvRCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUNqRSxNQUFNLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUVqRSxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDM0IsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvc3JjL19fdGVzdHNfXy9lMmUvTWFpblBhZ2VXb3JrZmxvd3MudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFbmQtdG8tRW5kIFRlc3RzIGZvciBNYWluIFBhZ2UgV29ya2Zsb3dzXG4gKiBcbiAqIFRoZXNlIHRlc3RzIHNpbXVsYXRlIGNvbXBsZXRlIHVzZXIgd29ya2Zsb3dzIG9uIHRoZSBtYWluIHBhZ2UsXG4gKiB0ZXN0aW5nIHRoZSBpbnRlZ3JhdGlvbiBiZXR3ZWVuIGFsbCBjb21wb25lbnRzIGFuZCB1c2VyIGludGVyYWN0aW9ucy5cbiAqIFxuICogTm90ZTogVGhlc2UgdGVzdHMgdXNlIGpzZG9tIGFuZCB0ZXN0aW5nLWxpYnJhcnkgdG8gc2ltdWxhdGUgRTJFIHNjZW5hcmlvc1xuICogd2l0aG91dCByZXF1aXJpbmcgYSBmdWxsIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gKi9cblxuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIHdhaXRGb3IsIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IE1haW5QYWdlTGF5b3V0IGZyb20gJ0AvY29tcG9uZW50cy9sYXlvdXQvTWFpblBhZ2VMYXlvdXQnO1xuaW1wb3J0IHsgdXNlQWxjaGVtaWNhbCB9IGZyb20gJ0AvY29udGV4dHMvQWxjaGVtaWNhbENvbnRleHQvaG9va3MnO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGlvblN0YXRlLCB1c2VTY3JvbGxQcmVzZXJ2YXRpb24sIHVzZUF1dG9TdGF0ZUNsZWFudXAgfSBmcm9tICdAL2hvb2tzL3VzZVN0YXRlUHJlc2VydmF0aW9uJztcblxuLy8gTW9jayBhbGwgZXh0ZXJuYWwgZGVwZW5kZW5jaWVzIGZvciBFMkUgc2ltdWxhdGlvblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6ICgpID0+ICh7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIGJhY2s6IGplc3QuZm4oKSxcbiAgICBmb3J3YXJkOiBqZXN0LmZuKCksXG4gICAgcmVmcmVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKVxuICB9KVxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvY29udGV4dHMvQWxjaGVtaWNhbENvbnRleHQvaG9va3MnKTtcbmplc3QubW9jaygnQC9ob29rcy91c2VTdGF0ZVByZXNlcnZhdGlvbicpO1xuamVzdC5tb2NrKCdAL3V0aWxzL2xvZ2dlcicsICgpID0+ICh7XG4gIGxvZ2dlcjoge1xuICAgIGRlYnVnOiBqZXN0LmZuKCksXG4gICAgaW5mbzogamVzdC5mbigpLFxuICAgIHdhcm46IGplc3QuZm4oKSxcbiAgICBlcnJvcjogamVzdC5mbigpXG4gIH1cbn0pKTtcblxuLy8gTW9jayByZWFsaXN0aWMgY29tcG9uZW50IGJlaGF2aW9ycyBmb3IgRTJFIHRlc3Rpbmdcbmplc3QubW9jaygnQC9jb21wb25lbnRzL0N1aXNpbmVSZWNvbW1lbmRlcicsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tDdWlzaW5lUmVjb21tZW5kZXIoKSB7XG4gICAgY29uc3QgW3NlbGVjdGVkQ3Vpc2luZSwgc2V0U2VsZWN0ZWRDdWlzaW5lXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtzaG93UmVjaXBlcywgc2V0U2hvd1JlY2lwZXNdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIFxuICAgIGNvbnN0IGN1aXNpbmVzID0gW1xuICAgICAgeyBuYW1lOiAnSXRhbGlhbicsIHNjb3JlOiA5NSwgcmVjaXBlczogWydQYXN0YSBNYXJpbmFyYScsICdSaXNvdHRvJywgJ1BpenphIE1hcmdoZXJpdGEnXSB9LFxuICAgICAgeyBuYW1lOiAnQ2hpbmVzZScsIHNjb3JlOiA4OCwgcmVjaXBlczogWydGcmllZCBSaWNlJywgJ1N3ZWV0IGFuZCBTb3VyIFBvcmsnLCAnS3VuZyBQYW8gQ2hpY2tlbiddIH0sXG4gICAgICB7IG5hbWU6ICdNZXhpY2FuJywgc2NvcmU6IDgyLCByZWNpcGVzOiBbJ1RhY29zJywgJ0VuY2hpbGFkYXMnLCAnR3VhY2Ftb2xlJ10gfSxcbiAgICAgIHsgbmFtZTogJ0luZGlhbicsIHNjb3JlOiA3OSwgcmVjaXBlczogWydDdXJyeScsICdCaXJ5YW5pJywgJ05hYW4nXSB9XG4gICAgXTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVDdWlzaW5lU2VsZWN0ID0gKGN1aXNpbmU6IGFueSkgPT4ge1xuICAgICAgc2V0U2VsZWN0ZWRDdWlzaW5lKGN1aXNpbmUubmFtZSk7XG4gICAgICBzZXRTaG93UmVjaXBlcyh0cnVlKTtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiY3Vpc2luZS1yZWNvbW1lbmRlclwiPlxuICAgICAgICA8aDM+Q3Vpc2luZSBSZWNvbW1lbmRhdGlvbnM8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1aXNpbmUtZ3JpZFwiPlxuICAgICAgICAgIHtjdWlzaW5lcy5tYXAoY3Vpc2luZSA9PiAoXG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBrZXk9e2N1aXNpbmUubmFtZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3Vpc2luZS1jYXJkXCJcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BjdWlzaW5lLWNhcmQtJHtjdWlzaW5lLm5hbWUudG9Mb3dlckNhc2UoKX1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ3Vpc2luZVNlbGVjdChjdWlzaW5lKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3NlbGVjdGVkQ3Vpc2luZSA9PT0gY3Vpc2luZS5uYW1lID8gJ3NlbGVjdGVkJyA6ICcnfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgY3Vpc2luZS0ke2N1aXNpbmUubmFtZS50b0xvd2VyQ2FzZSgpfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDQ+e2N1aXNpbmUubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NvcmVcIj5NYXRjaDoge2N1aXNpbmUuc2NvcmV9JTwvZGl2PlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHtzaG93UmVjaXBlcyAmJiBzZWxlY3RlZEN1aXNpbmUgJiYgKFxuICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJyZWNpcGUtcmVjb21tZW5kYXRpb25zXCIgY2xhc3NOYW1lPVwicmVjaXBlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoND5SZWNvbW1lbmRlZCB7c2VsZWN0ZWRDdWlzaW5lfSBSZWNpcGVzPC9oND5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjaXBlLWxpc3RcIj5cbiAgICAgICAgICAgICAge2N1aXNpbmVzLmZpbmQoYyA9PiBjLm5hbWUgPT09IHNlbGVjdGVkQ3Vpc2luZSk/LnJlY2lwZXMubWFwKHJlY2lwZSA9PiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAga2V5PXtyZWNpcGV9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YHJlY2lwZS0ke3JlY2lwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX1gfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVjaXBlLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3JlY2lwZX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG59KTtcblxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvSW5ncmVkaWVudFJlY29tbWVuZGVyJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0luZ3JlZGllbnRSZWNvbW1lbmRlcih7IG1heERpc3BsYXllZCA9IDggfTogeyBtYXhEaXNwbGF5ZWQ/OiBudW1iZXIgfSkge1xuICAgIGNvbnN0IFtzZWxlY3RlZEluZ3JlZGllbnRzLCBzZXRTZWxlY3RlZEluZ3JlZGllbnRzXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gICAgY29uc3QgW2V4cGFuZGVkSW5ncmVkaWVudCwgc2V0RXhwYW5kZWRJbmdyZWRpZW50XSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICAgIFxuICAgIGNvbnN0IGluZ3JlZGllbnRzID0gW1xuICAgICAgeyBuYW1lOiAnVG9tYXRvZXMnLCBjYXRlZ29yeTogJ1ZlZ2V0YWJsZXMnLCBwcm9wZXJ0aWVzOiBbJ1VtYW1pJywgJ0FjaWRpYycsICdGcmVzaCddIH0sXG4gICAgICB7IG5hbWU6ICdPbmlvbnMnLCBjYXRlZ29yeTogJ1ZlZ2V0YWJsZXMnLCBwcm9wZXJ0aWVzOiBbJ1N3ZWV0JywgJ1B1bmdlbnQnLCAnQXJvbWF0aWMnXSB9LFxuICAgICAgeyBuYW1lOiAnR2FybGljJywgY2F0ZWdvcnk6ICdBcm9tYXRpY3MnLCBwcm9wZXJ0aWVzOiBbJ1B1bmdlbnQnLCAnU2F2b3J5JywgJ0Fyb21hdGljJ10gfSxcbiAgICAgIHsgbmFtZTogJ0Jhc2lsJywgY2F0ZWdvcnk6ICdIZXJicycsIHByb3BlcnRpZXM6IFsnRnJlc2gnLCAnQXJvbWF0aWMnLCAnU3dlZXQnXSB9LFxuICAgICAgeyBuYW1lOiAnT2xpdmUgT2lsJywgY2F0ZWdvcnk6ICdPaWxzJywgcHJvcGVydGllczogWydSaWNoJywgJ0ZydWl0eScsICdTbW9vdGgnXSB9LFxuICAgICAgeyBuYW1lOiAnQ2hlZXNlJywgY2F0ZWdvcnk6ICdEYWlyeScsIHByb3BlcnRpZXM6IFsnQ3JlYW15JywgJ1NhbHR5JywgJ1JpY2gnXSB9LFxuICAgICAgeyBuYW1lOiAnUGFzdGEnLCBjYXRlZ29yeTogJ0dyYWlucycsIHByb3BlcnRpZXM6IFsnTmV1dHJhbCcsICdGaWxsaW5nJywgJ1ZlcnNhdGlsZSddIH0sXG4gICAgICB7IG5hbWU6ICdDaGlja2VuJywgY2F0ZWdvcnk6ICdQcm90ZWlucycsIHByb3BlcnRpZXM6IFsnTGVhbicsICdNaWxkJywgJ1ZlcnNhdGlsZSddIH1cbiAgICBdO1xuICAgIFxuICAgIGNvbnN0IGRpc3BsYXllZEluZ3JlZGllbnRzID0gaW5ncmVkaWVudHMuc2xpY2UoMCwgbWF4RGlzcGxheWVkKTtcbiAgICBcbiAgICBjb25zdCB0b2dnbGVJbmdyZWRpZW50ID0gKGluZ3JlZGllbnQ6IHN0cmluZykgPT4ge1xuICAgICAgc2V0U2VsZWN0ZWRJbmdyZWRpZW50cyhwcmV2ID0+IFxuICAgICAgICBwcmV2LmluY2x1ZGVzKGluZ3JlZGllbnQpIFxuICAgICAgICAgID8gcHJldi5maWx0ZXIoaSA9PiBpICE9PSBpbmdyZWRpZW50KVxuICAgICAgICAgIDogWy4uLnByZXYsIGluZ3JlZGllbnRdXG4gICAgICApO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlRXhwYW5kZWQgPSAoaW5ncmVkaWVudDogc3RyaW5nKSA9PiB7XG4gICAgICBzZXRFeHBhbmRlZEluZ3JlZGllbnQocHJldiA9PiBwcmV2ID09PSBpbmdyZWRpZW50ID8gbnVsbCA6IGluZ3JlZGllbnQpO1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJpbmdyZWRpZW50LXJlY29tbWVuZGVyXCI+XG4gICAgICAgIDxoMz5JbmdyZWRpZW50IFJlY29tbWVuZGF0aW9uczwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5ncmVkaWVudC1ncmlkXCI+XG4gICAgICAgICAge2Rpc3BsYXllZEluZ3JlZGllbnRzLm1hcChpbmdyZWRpZW50ID0+IChcbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgIGtleT17aW5ncmVkaWVudC5uYW1lfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmdyZWRpZW50LWNhcmRcIlxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGluZ3JlZGllbnQtY2FyZC0ke2luZ3JlZGllbnQubmFtZS50b0xvd2VyQ2FzZSgpfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVJbmdyZWRpZW50KGluZ3JlZGllbnQubmFtZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzZWxlY3RlZEluZ3JlZGllbnRzLmluY2x1ZGVzKGluZ3JlZGllbnQubmFtZSkgPyAnc2VsZWN0ZWQnIDogJyd9XG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BpbmdyZWRpZW50LSR7aW5ncmVkaWVudC5uYW1lLnRvTG93ZXJDYXNlKCl9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtpbmdyZWRpZW50Lm5hbWV9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlRXhwYW5kZWQoaW5ncmVkaWVudC5uYW1lKX1cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGV4cGFuZC0ke2luZ3JlZGllbnQubmFtZS50b0xvd2VyQ2FzZSgpfWB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZXhwYW5kLWJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7ZXhwYW5kZWRJbmdyZWRpZW50ID09PSBpbmdyZWRpZW50Lm5hbWUgPyAn4pa8JyA6ICfilrYnfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHtleHBhbmRlZEluZ3JlZGllbnQgPT09IGluZ3JlZGllbnQubmFtZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD17YGRldGFpbHMtJHtpbmdyZWRpZW50Lm5hbWUudG9Mb3dlckNhc2UoKX1gfSBjbGFzc05hbWU9XCJpbmdyZWRpZW50LWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+Q2F0ZWdvcnk6IHtpbmdyZWRpZW50LmNhdGVnb3J5fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5Qcm9wZXJ0aWVzOiB7aW5ncmVkaWVudC5wcm9wZXJ0aWVzLmpvaW4oJywgJyl9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7c2VsZWN0ZWRJbmdyZWRpZW50cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwic2VsZWN0ZWQtaW5ncmVkaWVudHMtc3VtbWFyeVwiIGNsYXNzTmFtZT1cInNlbGVjdGlvbi1zdW1tYXJ5XCI+XG4gICAgICAgICAgICA8aDQ+U2VsZWN0ZWQgSW5ncmVkaWVudHMgKHtzZWxlY3RlZEluZ3JlZGllbnRzLmxlbmd0aH0pPC9oND5cbiAgICAgICAgICAgIDxkaXY+e3NlbGVjdGVkSW5ncmVkaWVudHMuam9pbignLCAnKX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG59KTtcblxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvQ29va2luZ01ldGhvZHNTZWN0aW9uJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0Nvb2tpbmdNZXRob2RzU2VjdGlvbih7IFxuICAgIG1heERpc3BsYXllZCA9IDYsIFxuICAgIG9uVmlld01vcmUgXG4gIH06IHsgXG4gICAgbWF4RGlzcGxheWVkPzogbnVtYmVyO1xuICAgIG9uVmlld01vcmU/OiAoKSA9PiB2b2lkO1xuICB9KSB7XG4gICAgY29uc3QgW3NlbGVjdGVkTWV0aG9kLCBzZXRTZWxlY3RlZE1ldGhvZF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBcbiAgICBjb25zdCBtZXRob2RzID0gW1xuICAgICAgeyBuYW1lOiAnU2F1dMOpJywgdGltZTogJzUtMTAgbWluJywgZGlmZmljdWx0eTogJ0Vhc3knLCBkZXNjcmlwdGlvbjogJ1F1aWNrIGNvb2tpbmcgaW4gYSBwYW4gd2l0aCBvaWwnIH0sXG4gICAgICB7IG5hbWU6ICdSb2FzdCcsIHRpbWU6ICczMC02MCBtaW4nLCBkaWZmaWN1bHR5OiAnTWVkaXVtJywgZGVzY3JpcHRpb246ICdDb29raW5nIGluIHRoZSBvdmVuIHdpdGggZHJ5IGhlYXQnIH0sXG4gICAgICB7IG5hbWU6ICdHcmlsbCcsIHRpbWU6ICcxMC0yMCBtaW4nLCBkaWZmaWN1bHR5OiAnTWVkaXVtJywgZGVzY3JpcHRpb246ICdDb29raW5nIG92ZXIgZGlyZWN0IGhlYXQnIH0sXG4gICAgICB7IG5hbWU6ICdTdGVhbScsIHRpbWU6ICcxMC0xNSBtaW4nLCBkaWZmaWN1bHR5OiAnRWFzeScsIGRlc2NyaXB0aW9uOiAnQ29va2luZyB3aXRoIHN0ZWFtIGhlYXQnIH0sXG4gICAgICB7IG5hbWU6ICdCcmFpc2UnLCB0aW1lOiAnNjAtMTIwIG1pbicsIGRpZmZpY3VsdHk6ICdIYXJkJywgZGVzY3JpcHRpb246ICdTbG93IGNvb2tpbmcgd2l0aCBsaXF1aWQnIH0sXG4gICAgICB7IG5hbWU6ICdTdGlyLWZyeScsIHRpbWU6ICc1LTggbWluJywgZGlmZmljdWx0eTogJ01lZGl1bScsIGRlc2NyaXB0aW9uOiAnUXVpY2sgY29va2luZyB3aGlsZSBzdGlycmluZycgfVxuICAgIF07XG4gICAgXG4gICAgY29uc3QgZGlzcGxheWVkTWV0aG9kcyA9IG1ldGhvZHMuc2xpY2UoMCwgbWF4RGlzcGxheWVkKTtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImNvb2tpbmctbWV0aG9kc1wiPlxuICAgICAgICA8aDM+Q29va2luZyBNZXRob2RzPC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXRob2RzLWdyaWRcIj5cbiAgICAgICAgICB7ZGlzcGxheWVkTWV0aG9kcy5tYXAobWV0aG9kID0+IChcbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgIGtleT17bWV0aG9kLm5hbWV9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1ldGhvZC1jYXJkXCJcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BtZXRob2QtY2FyZC0ke21ldGhvZC5uYW1lLnRvTG93ZXJDYXNlKCl9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkTWV0aG9kKG1ldGhvZC5uYW1lKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3NlbGVjdGVkTWV0aG9kID09PSBtZXRob2QubmFtZSA/ICdzZWxlY3RlZCcgOiAnJ31cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YG1ldGhvZC0ke21ldGhvZC5uYW1lLnRvTG93ZXJDYXNlKCl9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoND57bWV0aG9kLm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGhvZC1pbmZvXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlRpbWU6IHttZXRob2QudGltZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+RGlmZmljdWx0eToge21ldGhvZC5kaWZmaWN1bHR5fTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHtzZWxlY3RlZE1ldGhvZCA9PT0gbWV0aG9kLm5hbWUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9e2BtZXRob2QtZGV0YWlscy0ke21ldGhvZC5uYW1lLnRvTG93ZXJDYXNlKCl9YH0gY2xhc3NOYW1lPVwibWV0aG9kLWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICAgIDxwPnttZXRob2QuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICBvbkNsaWNrPXtvblZpZXdNb3JlfSBcbiAgICAgICAgICBkYXRhLXRlc3RpZD1cInZpZXctbW9yZS1tZXRob2RzXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ2aWV3LW1vcmUtYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIFZpZXcgQWxsIENvb2tpbmcgTWV0aG9kc1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG59KTtcblxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvcmVjaXBlcy9SZWNpcGVCdWlsZGVyU2ltcGxlJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja1JlY2lwZUJ1aWxkZXJTaW1wbGUoKSB7XG4gICAgY29uc3QgW3JlY2lwZU5hbWUsIHNldFJlY2lwZU5hbWVdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtpbmdyZWRpZW50cywgc2V0SW5ncmVkaWVudHNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8e25hbWU6IHN0cmluZywgcXVhbnRpdHk6IHN0cmluZ30+PihbXSk7XG4gICAgY29uc3QgW3N0ZXBzLCBzZXRTdGVwc10gPSBSZWFjdC51c2VTdGF0ZTxBcnJheTx7aW5zdHJ1Y3Rpb246IHN0cmluZywgdGltaW5nOiBzdHJpbmd9Pj4oW10pO1xuICAgIGNvbnN0IFtzZXJ2aW5ncywgc2V0U2VydmluZ3NdID0gUmVhY3QudXNlU3RhdGUoNCk7XG4gICAgY29uc3QgW3ByZXBUaW1lLCBzZXRQcmVwVGltZV0gPSBSZWFjdC51c2VTdGF0ZSgxNSk7XG4gICAgY29uc3QgW2Nvb2tUaW1lLCBzZXRDb29rVGltZV0gPSBSZWFjdC51c2VTdGF0ZSgzMCk7XG4gICAgXG4gICAgY29uc3QgYWRkSW5ncmVkaWVudCA9ICgpID0+IHtcbiAgICAgIHNldEluZ3JlZGllbnRzKHByZXYgPT4gWy4uLnByZXYsIHsgbmFtZTogJycsIHF1YW50aXR5OiAnJyB9XSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVJbmdyZWRpZW50ID0gKGluZGV4OiBudW1iZXIsIGZpZWxkOiAnbmFtZScgfCAncXVhbnRpdHknLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICBzZXRJbmdyZWRpZW50cyhwcmV2ID0+IHByZXYubWFwKChpbmcsIGkpID0+IFxuICAgICAgICBpID09PSBpbmRleCA/IHsgLi4uaW5nLCBbZmllbGRdOiB2YWx1ZSB9IDogaW5nXG4gICAgICApKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJlbW92ZUluZ3JlZGllbnQgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgc2V0SW5ncmVkaWVudHMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGFkZFN0ZXAgPSAoKSA9PiB7XG4gICAgICBzZXRTdGVwcyhwcmV2ID0+IFsuLi5wcmV2LCB7IGluc3RydWN0aW9uOiAnJywgdGltaW5nOiAnJyB9XSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVTdGVwID0gKGluZGV4OiBudW1iZXIsIGZpZWxkOiAnaW5zdHJ1Y3Rpb24nIHwgJ3RpbWluZycsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIHNldFN0ZXBzKHByZXYgPT4gcHJldi5tYXAoKHN0ZXAsIGkpID0+IFxuICAgICAgICBpID09PSBpbmRleCA/IHsgLi4uc3RlcCwgW2ZpZWxkXTogdmFsdWUgfSA6IHN0ZXBcbiAgICAgICkpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcmVtb3ZlU3RlcCA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBzZXRTdGVwcyhwcmV2ID0+IHByZXYuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCkpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY2FuU2F2ZSA9IHJlY2lwZU5hbWUudHJpbSgpICYmIFxuICAgICAgICAgICAgICAgICAgIGluZ3JlZGllbnRzLnNvbWUoaW5nID0+IGluZy5uYW1lLnRyaW0oKSkgJiYgXG4gICAgICAgICAgICAgICAgICAgc3RlcHMuc29tZShzdGVwID0+IHN0ZXAuaW5zdHJ1Y3Rpb24udHJpbSgpKTtcbiAgICBcbiAgICBjb25zdCB0b3RhbFRpbWUgPSBwcmVwVGltZSArIGNvb2tUaW1lO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwicmVjaXBlLWJ1aWxkZXJcIj5cbiAgICAgICAgPGgzPlJlY2lwZSBCdWlsZGVyPC9oMz5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjaXBlLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlY2lwZS1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUmVjaXBlIE5hbWVcIlxuICAgICAgICAgICAgICB2YWx1ZT17cmVjaXBlTmFtZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZWNpcGVOYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJyZWNpcGUtbmFtZS1pbnB1dFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlY2lwZS1tZXRhXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZXJ2aW5nc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlcnZpbmdzKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAxKX1cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cInNlcnZpbmdzLWlucHV0XCJcbiAgICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3ByZXBUaW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJlcFRpbWUocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDApfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwicHJlcC10aW1lLWlucHV0XCJcbiAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Nvb2tUaW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q29va1RpbWUocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDApfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiY29vay10aW1lLWlucHV0XCJcbiAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5ncmVkaWVudHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGg0PkluZ3JlZGllbnRzPC9oND5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17YWRkSW5ncmVkaWVudH0gZGF0YS10ZXN0aWQ9XCJhZGQtaW5ncmVkaWVudFwiPlxuICAgICAgICAgICAgICBBZGQgSW5ncmVkaWVudFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtpbmdyZWRpZW50cy5tYXAoKGluZ3JlZGllbnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiaW5ncmVkaWVudC1yb3dcIiBkYXRhLXRlc3RpZD17YGluZ3JlZGllbnQtcm93LSR7aW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlF1YW50aXR5XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbmdyZWRpZW50LnF1YW50aXR5fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVJbmdyZWRpZW50KGluZGV4LCAncXVhbnRpdHknLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGluZ3JlZGllbnQtcXVhbnRpdHktJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkluZ3JlZGllbnQgbmFtZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17aW5ncmVkaWVudC5uYW1lfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVJbmdyZWRpZW50KGluZGV4LCAnbmFtZScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgaW5ncmVkaWVudC1uYW1lLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJlbW92ZUluZ3JlZGllbnQoaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2ByZW1vdmUtaW5ncmVkaWVudC0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgUmVtb3ZlXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJpbmdyZWRpZW50cy1jb3VudFwiPixcbiAgSW5ncmVkaWVudHM6IHtpbmdyZWRpZW50cy5sZW5ndGh9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0ZXBzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoND5JbnN0cnVjdGlvbnM8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXthZGRTdGVwfSBkYXRhLXRlc3RpZD1cImFkZC1zdGVwXCI+XG4gICAgICAgICAgICAgIEFkZCBTdGVwXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge3N0ZXBzLm1hcCgoc3RlcCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJzdGVwLXJvd1wiIGRhdGEtdGVzdGlkPXtgc3RlcC1yb3ctJHtpbmRleH1gfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGVwLW51bWJlclwiPntpbmRleCArIDF9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEZXNjcmliZSB0aGlzIHN0ZXAuLi5cIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3N0ZXAuaW5zdHJ1Y3Rpb259XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZVN0ZXAoaW5kZXgsICdpbnN0cnVjdGlvbicsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgc3RlcC1pbnN0cnVjdGlvbi0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVGltaW5nXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdGVwLnRpbWluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlU3RlcChpbmRleCwgJ3RpbWluZycsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgc3RlcC10aW1pbmctJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlU3RlcChpbmRleCl9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YHJlbW92ZS1zdGVwLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBSZW1vdmVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cInN0ZXBzLWNvdW50XCI+LFxuICBTdGVwczoge3N0ZXBzLmxlbmd0aH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjaXBlLXN1bW1hcnlcIiBkYXRhLXRlc3RpZD1cInJlY2lwZS1zdW1tYXJ5XCI+XG4gICAgICAgICAgICA8aDQ+UmVjaXBlIFN1bW1hcnk8L2g0PlxuICAgICAgICAgICAgPGRpdj5OYW1lOiB7cmVjaXBlTmFtZSB8fCAnVW50aXRsZWQgUmVjaXBlJ308L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+U2VydmluZ3M6IHtzZXJ2aW5nc308L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+VG90YWwgVGltZToge3RvdGFsVGltZX0gbWludXRlczwvZGl2PlxuICAgICAgICAgICAgPGRpdj5JbmdyZWRpZW50czoge2luZ3JlZGllbnRzLmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+U3RlcHM6IHtzdGVwcy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGRpc2FibGVkPXshY2FuU2F2ZX1cbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwic2F2ZS1yZWNpcGVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjYW5TYXZlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICBTYXZlIFJlY2lwZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ01haW4gUGFnZSBFMkUgV29ya2Zsb3dzJywgKCkgPT4ge1xuICBjb25zdCBtb2NrQWxjaGVtaWNhbENvbnRleHQgPSB7XG4gICAgc3RhdGU6IHtcbiAgYXN0cm9sb2dpY2FsU3RhdGU6IHsgc3VuU2lnbjogJ2FyaWVzJyB9LFxuICAgICAgZWxlbWVudGFsU3RhdGU6IHsgRmlyZTogMC4zLCBXYXRlcjogMC4yLCBFYXJ0aDogMC4zLCBBaXI6IDAuMiB9XG4gICAgfSxcbiAgICBwbGFuZXRhcnlQb3NpdGlvbnM6IHsgc3VuOiB7IHNpZ246ICdhcmllcycgfSB9LFxuICAgIGlzRGF5dGltZTogdHJ1ZVxuICB9O1xuXG4gIGNvbnN0IG1vY2tOYXZpZ2F0aW9uU3RhdGUgPSB7XG4gIHNhdmVTdGF0ZTogamVzdC5mbigpLFxuICAgIGdldFN0YXRlOiBqZXN0LmZuKCgpID0+ICh7fSkpXG4gIH07XG5cbiAgY29uc3QgbW9ja1Njcm9sbFByZXNlcnZhdGlvbiA9IHtcbiAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBqZXN0LmZuKClcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAodXNlQWxjaGVtaWNhbCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShtb2NrQWxjaGVtaWNhbENvbnRleHQpO1xuICAgICh1c2VOYXZpZ2F0aW9uU3RhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja05hdmlnYXRpb25TdGF0ZSk7XG4gICAgKHVzZVNjcm9sbFByZXNlcnZhdGlvbiBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShtb2NrU2Nyb2xsUHJlc2VydmF0aW9uKTtcbiAgICAodXNlQXV0b1N0YXRlQ2xlYW51cCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh1bmRlZmluZWQpO1xuXG4gICAgLy8gTW9jayBET00gbWV0aG9kc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdzY3JvbGxZJywgeyB2YWx1ZTogMCwgd3JpdGFibGU6IHRydWUgfSk7XG4gICAgamVzdC5zcHlPbihkb2N1bWVudCwgJ2dldEVsZW1lbnRCeUlkJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gIHNjcm9sbEludG9WaWV3OiBqZXN0LmZuKCksXG4gICAgICBzdHlsZToge30sXG4gICAgICBjbGFzc0xpc3Q6IHsgYWRkOiBqZXN0LmZuKCksIHJlbW92ZTogamVzdC5mbigpIH1cbiAgICB9IGFzIGFueSkpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGl0KCdjb21wbGV0ZXMgZnVsbCBtZWFsIHBsYW5uaW5nIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICBcbiAgICBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxNYWluUGFnZUxheW91dCAvPik7XG4gICAgfSk7XG5cbiAgICAvLyBXYWl0IGZvciBhbGwgY29tcG9uZW50cyB0byBsb2FkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjdWlzaW5lLXJlY29tbWVuZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXJlY29tbWVuZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb29raW5nLW1ldGhvZHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1idWlsZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTdGVwIDE6IFNlbGVjdCBhIGN1aXNpbmVcbiAgICBjb25zdCBpdGFsaWFuQ3Vpc2luZSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnaXRhbGlhbi1jdWlzaW5lJyk7XG4gICAgdXNlci5jbGljayhpdGFsaWFuQ3Vpc2luZSk7XG5cbiAgICAvLyBWZXJpZnkgY3Vpc2luZSBzZWxlY3Rpb24gYW5kIHJlY2lwZSByZWNvbW1lbmRhdGlvbnMgYXBwZWFyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLXJlY29tbWVuZGF0aW9ucycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSZWNvbW1lbmRlZCBJdGFsaWFuIFJlY2lwZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFN0ZXAgMjogU2VsZWN0IGluZ3JlZGllbnRzXG4gICAgY29uc3QgdG9tYXRvZXMgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtdG9tYXRvZXMnKTtcbiAgICBjb25zdCBiYXNpbCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1iYXNpbCcpO1xuICAgIGNvbnN0IG9saXZlT2lsID0gc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LW9saXZlIG9pbCcpO1xuXG4gICAgdXNlci5jbGljayh0b21hdG9lcyk7XG4gICAgdXNlci5jbGljayhiYXNpbCk7XG4gICAgdXNlci5jbGljayhvbGl2ZU9pbCk7XG5cbiAgICAvLyBWZXJpZnkgaW5ncmVkaWVudCBzZWxlY3Rpb25cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzZWxlY3RlZC1pbmdyZWRpZW50cy1zdW1tYXJ5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdGVkIEluZ3JlZGllbnRzICgzKScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gU3RlcCAzOiBTZWxlY3QgY29va2luZyBtZXRob2RcbiAgICBjb25zdCBzYXV0ZU1ldGhvZCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbWV0aG9kLXNhdXTDqScpO1xuICAgIHVzZXIuY2xpY2soc2F1dGVNZXRob2QpO1xuXG4gICAgLy8gVmVyaWZ5IG1ldGhvZCBzZWxlY3Rpb24gYW5kIGRldGFpbHNcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtZXRob2QtZGV0YWlscy1zYXV0w6knKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFN0ZXAgNDogQnVpbGQgYSByZWNpcGVcbiAgICBjb25zdCByZWNpcGVOYW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2lwZS1uYW1lLWlucHV0Jyk7XG4gICAgdXNlci50eXBlKHJlY2lwZU5hbWVJbnB1dCwgJ0l0YWxpYW4gVG9tYXRvIEJhc2lsIFNhdXTDqScpO1xuXG4gICAgLy8gQWRkIGluZ3JlZGllbnRzIHRvIHJlY2lwZVxuICAgIGNvbnN0IGFkZEluZ3JlZGllbnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkZC1pbmdyZWRpZW50Jyk7XG4gICAgdXNlci5jbGljayhhZGRJbmdyZWRpZW50QnV0dG9uKTtcbiAgICB1c2VyLmNsaWNrKGFkZEluZ3JlZGllbnRCdXR0b24pO1xuICAgIHVzZXIuY2xpY2soYWRkSW5ncmVkaWVudEJ1dHRvbik7XG5cbiAgICAvLyBGaWxsIGluIGluZ3JlZGllbnQgZGV0YWlsc1xuICAgIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtcXVhbnRpdHktMCcpLCAnMiBjdXBzJyk7XG4gICAgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1uYW1lLTAnKSwgJ0ZyZXNoIFRvbWF0b2VzJyk7XG5cbiAgICB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXF1YW50aXR5LTEnKSwgJzEvNCBjdXAnKTtcbiAgICB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LW5hbWUtMScpLCAnRnJlc2ggQmFzaWwnKTtcblxuICAgIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtcXVhbnRpdHktMicpLCAnMiB0YnNwJyk7XG4gICAgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1uYW1lLTInKSwgJ09saXZlIE9pbCcpO1xuXG4gICAgLy8gQWRkIGNvb2tpbmcgc3RlcHNcbiAgICBjb25zdCBhZGRTdGVwQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdhZGQtc3RlcCcpO1xuICAgIHVzZXIuY2xpY2soYWRkU3RlcEJ1dHRvbik7XG4gICAgdXNlci5jbGljayhhZGRTdGVwQnV0dG9uKTtcblxuICAgIHVzZXIudHlwZShcbiAgICAgIHNjcmVlbi5nZXRCeVRlc3RJZCgnc3RlcC1pbnN0cnVjdGlvbi0wJyksXG4gICAgICAnSGVhdCBvbGl2ZSBvaWwgaW4gYSBsYXJnZSBwYW4gb3ZlciBtZWRpdW0gaGVhdCdcbiAgICApO1xuICAgIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ3N0ZXAtdGltaW5nLTAnKSwgJzIgbWluJyk7XG5cbiAgICB1c2VyLnR5cGUoXG4gICAgICBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3N0ZXAtaW5zdHJ1Y3Rpb24tMScpLFxuICAgICAgJ0FkZCB0b21hdG9lcyBhbmQgYmFzaWwsIHNhdXTDqSB1bnRpbCB0ZW5kZXInXG4gICAgKTtcbiAgICB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKCdzdGVwLXRpbWluZy0xJyksICc4IG1pbicpO1xuXG4gICAgLy8gVmVyaWZ5IHJlY2lwZSBjYW4gYmUgc2F2ZWRcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzYXZlLXJlY2lwZScpO1xuICAgIGV4cGVjdChzYXZlQnV0dG9uKS50b0JlRW5hYmxlZCgpO1xuXG4gICAgLy8gU2F2ZSB0aGUgcmVjaXBlXG4gICAgdXNlci5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgIC8vIFZlcmlmeSB0aGUgY29tcGxldGUgd29ya2Zsb3dcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5RGlzcGxheVZhbHVlKCdJdGFsaWFuIFRvbWF0byBCYXNpbCBTYXV0w6knKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSW5ncmVkaWVudHM6IDMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3RlcHM6IDInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgaW5ncmVkaWVudCBleHBsb3JhdGlvbiB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgXG4gICAgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8TWFpblBhZ2VMYXlvdXQgLz4pO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdpbmdyZWRpZW50LXJlY29tbWVuZGVyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBFeHBhbmQgaW5ncmVkaWVudCBkZXRhaWxzXG4gICAgY29uc3QgZXhwYW5kVG9tYXRvZXMgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2V4cGFuZC10b21hdG9lcycpO1xuICAgIHVzZXIuY2xpY2soZXhwYW5kVG9tYXRvZXMpO1xuXG4gICAgLy8gVmVyaWZ5IGRldGFpbHMgYXJlIHNob3duXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnZGV0YWlscy10b21hdG9lcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYXRlZ29yeTogVmVnZXRhYmxlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9wZXJ0aWVzOiBVbWFtaSwgQWNpZGljLCBGcmVzaCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gRXhwYW5kIGFub3RoZXIgaW5ncmVkaWVudFxuICAgIGNvbnN0IGV4cGFuZEdhcmxpYyA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnZXhwYW5kLWdhcmxpYycpO1xuICAgIHVzZXIuY2xpY2soZXhwYW5kR2FybGljKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2RldGFpbHMtZ2FybGljJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhdGVnb3J5OiBBcm9tYXRpY3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIENvbGxhcHNlIGZpcnN0IGluZ3JlZGllbnRcbiAgICB1c2VyLmNsaWNrKGV4cGFuZFRvbWF0b2VzKTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ2RldGFpbHMtdG9tYXRvZXMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBTZWxlY3QgbXVsdGlwbGUgaW5ncmVkaWVudHNcbiAgICB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC10b21hdG9lcycpKTtcbiAgICB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgnaW5ncmVkaWVudC1nYXJsaWMnKSk7XG4gICAgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtYmFzaWwnKSk7XG5cbiAgICAvLyBWZXJpZnkgc2VsZWN0aW9uIHN1bW1hcnlcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0ZWQgSW5ncmVkaWVudHMgKDMpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RvbWF0b2VzLCBHYXJsaWMsIEJhc2lsJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGNvb2tpbmcgbWV0aG9kIGV4cGxvcmF0aW9uIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICBcbiAgICBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxNYWluUGFnZUxheW91dCAvPik7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Nvb2tpbmctbWV0aG9kcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gU2VsZWN0IGRpZmZlcmVudCBjb29raW5nIG1ldGhvZHMgYW5kIHZpZXcgZGV0YWlsc1xuICAgIGNvbnN0IHJvYXN0TWV0aG9kID0gc2NyZWVuLmdldEJ5VGVzdElkKCdtZXRob2Qtcm9hc3QnKTtcbiAgICB1c2VyLmNsaWNrKHJvYXN0TWV0aG9kKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ21ldGhvZC1kZXRhaWxzLXJvYXN0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nvb2tpbmcgaW4gdGhlIG92ZW4gd2l0aCBkcnkgaGVhdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gU3dpdGNoIHRvIGFub3RoZXIgbWV0aG9kXG4gICAgY29uc3QgZ3JpbGxNZXRob2QgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ21ldGhvZC1ncmlsbCcpO1xuICAgIHVzZXIuY2xpY2soZ3JpbGxNZXRob2QpO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbWV0aG9kLWRldGFpbHMtZ3JpbGwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29va2luZyBvdmVyIGRpcmVjdCBoZWF0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBQcmV2aW91cyBtZXRob2QgZGV0YWlscyBzaG91bGQgYmUgaGlkZGVuXG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdtZXRob2QtZGV0YWlscy1yb2FzdCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFRlc3QgdmlldyBtb3JlIGZ1bmN0aW9uYWxpdHlcbiAgICBjb25zdCB2aWV3TW9yZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgndmlldy1tb3JlLW1ldGhvZHMnKTtcbiAgICBleHBlY3Qodmlld01vcmVCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGNvbXBsZXRlIHJlY2lwZSBjcmVhdGlvbiB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgXG4gICAgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8TWFpblBhZ2VMYXlvdXQgLz4pO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNpcGUtYnVpbGRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGEgY29tcGxldGUgcmVjaXBlIGZyb20gc2NyYXRjaFxuICAgIGNvbnN0IHJlY2lwZU5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLW5hbWUtaW5wdXQnKTtcbiAgICB1c2VyLnR5cGUocmVjaXBlTmFtZUlucHV0LCAnTWVkaXRlcnJhbmVhbiBDaGlja2VuJyk7XG5cbiAgICAvLyBVcGRhdGUgcmVjaXBlIG1ldGFkYXRhXG4gICAgY29uc3Qgc2VydmluZ3NJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VydmluZ3MtaW5wdXQnKTtcbiAgICBjb25zdCBwcmVwVGltZUlucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdwcmVwLXRpbWUtaW5wdXQnKTtcbiAgICBjb25zdCBjb29rVGltZUlucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdjb29rLXRpbWUtaW5wdXQnKTtcblxuICAgIHVzZXIuY2xlYXIoc2VydmluZ3NJbnB1dCk7XG4gICAgdXNlci50eXBlKHNlcnZpbmdzSW5wdXQsICc2Jyk7XG5cbiAgICB1c2VyLmNsZWFyKHByZXBUaW1lSW5wdXQpO1xuICAgIHVzZXIudHlwZShwcmVwVGltZUlucHV0LCAnMjAnKTtcblxuICAgIHVzZXIuY2xlYXIoY29va1RpbWVJbnB1dCk7XG4gICAgdXNlci50eXBlKGNvb2tUaW1lSW5wdXQsICc0NScpO1xuXG4gICAgLy8gQWRkIG11bHRpcGxlIGluZ3JlZGllbnRzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdhZGQtaW5ncmVkaWVudCcpKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmdyZWRpZW50cyA9IFtcbiAgICAgIHsgcXVhbnRpdHk6ICcyIGxicycsIG5hbWU6ICdDaGlja2VuIEJyZWFzdCcgfSxcbiAgICAgIHsgcXVhbnRpdHk6ICcxIGN1cCcsIG5hbWU6ICdDaGVycnkgVG9tYXRvZXMnIH0sXG4gICAgICB7IHF1YW50aXR5OiAnMS8yIGN1cCcsIG5hbWU6ICdLYWxhbWF0YSBPbGl2ZXMnIH0sXG4gICAgICB7IHF1YW50aXR5OiAnMS80IGN1cCcsIG5hbWU6ICdPbGl2ZSBPaWwnIH1cbiAgICBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmdyZWRpZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdXNlci50eXBlKHNjcmVlbi5nZXRCeVRlc3RJZChgaW5ncmVkaWVudC1xdWFudGl0eS0ke2l9YCksIGluZ3JlZGllbnRzW2ldLnF1YW50aXR5KTtcbiAgICAgIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoYGluZ3JlZGllbnQtbmFtZS0ke2l9YCksIGluZ3JlZGllbnRzW2ldLm5hbWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBjb29raW5nIHN0ZXBzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdhZGQtc3RlcCcpKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGVwcyA9IFtcbiAgICAgIHsgaW5zdHJ1Y3Rpb246ICdQcmVoZWF0IG92ZW4gdG8gMzc1wrBGIGFuZCBwcmVwYXJlIGNoaWNrZW4nLCB0aW1pbmc6ICc1IG1pbicgfSxcbiAgICAgIHsgaW5zdHJ1Y3Rpb246ICdTZWFyIGNoaWNrZW4gaW4gb2xpdmUgb2lsIHVudGlsIGdvbGRlbicsIHRpbWluZzogJzEwIG1pbicgfSxcbiAgICAgIHsgaW5zdHJ1Y3Rpb246ICdBZGQgdG9tYXRvZXMgYW5kIG9saXZlcywgYmFrZSB1bnRpbCBkb25lJywgdGltaW5nOiAnMzAgbWluJyB9XG4gICAgXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoYHN0ZXAtaW5zdHJ1Y3Rpb24tJHtpfWApLCBzdGVwc1tpXS5pbnN0cnVjdGlvbik7XG4gICAgICB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5VGVzdElkKGBzdGVwLXRpbWluZy0ke2l9YCksIHN0ZXBzW2ldLnRpbWluZyk7XG4gICAgfVxuXG4gICAgLy8gVmVyaWZ5IHJlY2lwZSBzdW1tYXJ5XG4gICAgY29uc3Qgc3VtbWFyeSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLXN1bW1hcnknKTtcbiAgICBleHBlY3Qoc3VtbWFyeSkudG9IYXZlVGV4dENvbnRlbnQoJ05hbWU6IE1lZGl0ZXJyYW5lYW4gQ2hpY2tlbicpO1xuICAgIGV4cGVjdChzdW1tYXJ5KS50b0hhdmVUZXh0Q29udGVudCgnU2VydmluZ3M6IDYnKTtcbiAgICBleHBlY3Qoc3VtbWFyeSkudG9IYXZlVGV4dENvbnRlbnQoJ1RvdGFsIFRpbWU6IDY1IG1pbnV0ZXMnKTtcbiAgICBleHBlY3Qoc3VtbWFyeSkudG9IYXZlVGV4dENvbnRlbnQoJ0luZ3JlZGllbnRzOiA0Jyk7XG4gICAgZXhwZWN0KHN1bW1hcnkpLnRvSGF2ZVRleHRDb250ZW50KCdTdGVwczogMycpO1xuXG4gICAgLy8gVmVyaWZ5IHNhdmUgYnV0dG9uIGlzIGVuYWJsZWRcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzYXZlLXJlY2lwZScpO1xuICAgIGV4cGVjdChzYXZlQnV0dG9uKS50b0JlRW5hYmxlZCgpO1xuICAgIGV4cGVjdChzYXZlQnV0dG9uKS50b0hhdmVDbGFzcygnZW5hYmxlZCcpO1xuXG4gICAgLy8gVGVzdCBpbmdyZWRpZW50IHJlbW92YWxcbiAgICB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgncmVtb3ZlLWluZ3JlZGllbnQtMycpKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSW5ncmVkaWVudHM6IDMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFRlc3Qgc3RlcCByZW1vdmFsXG4gICAgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlbW92ZS1zdGVwLTAnKSk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1N0ZXBzOiAyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBWZXJpZnkgc3RlcCByZW51bWJlcmluZ1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ1NlYXIgY2hpY2tlbiBpbiBvbGl2ZSBvaWwgdW50aWwgZ29sZGVuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIG5hdmlnYXRpb24gYW5kIHN0YXRlIHByZXNlcnZhdGlvbiB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgY29uc3QgbW9ja09uU2VjdGlvbk5hdmlnYXRlID0gamVzdC5mbigpO1xuICAgIFxuICAgIGFjdChhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPE1haW5QYWdlTGF5b3V0IG9uU2VjdGlvbk5hdmlnYXRlPXttb2NrT25TZWN0aW9uTmF2aWdhdGV9IC8+KTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY3Vpc2luZS1yZWNvbW1lbmRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gTWFrZSBzZWxlY3Rpb25zIGFjcm9zcyBkaWZmZXJlbnQgY29tcG9uZW50c1xuICAgIHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKCdjdWlzaW5lLWl0YWxpYW4nKSk7XG4gICAgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtdG9tYXRvZXMnKSk7XG4gICAgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ21ldGhvZC1zYXV0w6knKSk7XG5cbiAgICAvLyBOYXZpZ2F0ZSBiZXR3ZWVuIHNlY3Rpb25zXG4gICAgY29uc3QgY3Vpc2luZU5hdkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0N1aXNpbmUgUmVjb21tZW5kYXRpb25zJyk7XG4gICAgdXNlci5jbGljayhjdWlzaW5lTmF2QnV0dG9uKTtcbiAgICBleHBlY3QobW9ja09uU2VjdGlvbk5hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnY3Vpc2luZScpO1xuXG4gICAgY29uc3QgaW5ncmVkaWVudHNOYXZCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdJbmdyZWRpZW50IFJlY29tbWVuZGF0aW9ucycpO1xuICAgIHVzZXIuY2xpY2soaW5ncmVkaWVudHNOYXZCdXR0b24pO1xuICAgIGV4cGVjdChtb2NrT25TZWN0aW9uTmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdpbmdyZWRpZW50cycpO1xuXG4gICAgLy8gVmVyaWZ5IHN0YXRlIHByZXNlcnZhdGlvbiB3YXMgY2FsbGVkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja05hdmlnYXRpb25TdGF0ZS5zYXZlU3RhdGUpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIC8vIFZlcmlmeSBzZWxlY3Rpb25zIGFyZSBtYWludGFpbmVkIGFmdGVyIG5hdmlnYXRpb25cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNpcGUtcmVjb21tZW5kYXRpb25zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdGVkIEluZ3JlZGllbnRzICgxKScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ21ldGhvZC1kZXRhaWxzLXNhdXTDqScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBlcnJvciByZWNvdmVyeSB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgXG4gICAgLy8gTW9jayBjb25zb2xlLmVycm9yIHRvIGF2b2lkIG5vaXNlXG4gICAgY29uc3QgY29uc29sZVNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcblxuICAgIGFjdChhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPE1haW5QYWdlTGF5b3V0IC8+KTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLWJ1aWxkZXInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIFNpbXVsYXRlIHVzZXIgY3JlYXRpbmcgYSByZWNpcGUgYW5kIGVuY291bnRlcmluZyBhbiBlcnJvclxuICAgIGNvbnN0IHJlY2lwZU5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLW5hbWUtaW5wdXQnKTtcbiAgICB1c2VyLnR5cGUocmVjaXBlTmFtZUlucHV0LCAnVGVzdCBSZWNpcGUnKTtcblxuICAgIC8vIEFkZCBpbmdyZWRpZW50XG4gICAgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkZC1pbmdyZWRpZW50JykpO1xuICAgIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ2luZ3JlZGllbnQtbmFtZS0wJyksICdUZXN0IEluZ3JlZGllbnQnKTtcblxuICAgIC8vIEFkZCBzdGVwXG4gICAgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkZC1zdGVwJykpO1xuICAgIHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ3N0ZXAtaW5zdHJ1Y3Rpb24tMCcpLCAnVGVzdCBzdGVwJyk7XG5cbiAgICAvLyBWZXJpZnkgcmVjaXBlIGlzIHZhbGlkXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2F2ZS1yZWNpcGUnKSkudG9CZUVuYWJsZWQoKTtcblxuICAgIC8vIFRoZSBtYWluIHBhZ2Ugc2hvdWxkIGNvbnRpbnVlIHRvIGZ1bmN0aW9uIGRlc3BpdGUgYW55IGVycm9yc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdXaGF0IHRvIEVhdCBOZXh0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjaXBlLWJ1aWxkZXInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=