5be29899759140668147ff66f7044445
"use strict";
/**
 * Progress Reporting System
 * Perfect Codebase Campaign - Comprehensive Progress Reports
 * Requirements: 6.4, 6.8
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProgressReportingSystem = exports.RecommendationPriority = exports.IssueSeverity = exports.AchievementImpact = exports.CampaignStatus = void 0;
const fs = __importStar(require("fs"));
const campaign_1 = require("../../types/campaign");
const MetricsCollectionSystem_1 = require("./MetricsCollectionSystem");
const MilestoneValidationSystem_1 = require("./MilestoneValidationSystem");
var CampaignStatus;
(function (CampaignStatus) {
    CampaignStatus["NOT_STARTED"] = "NOT_STARTED";
    CampaignStatus["IN_PROGRESS"] = "IN_PROGRESS";
    CampaignStatus["COMPLETED"] = "COMPLETED";
    CampaignStatus["BLOCKED"] = "BLOCKED";
    CampaignStatus["FAILED"] = "FAILED";
})(CampaignStatus || (exports.CampaignStatus = CampaignStatus = {}));
var AchievementImpact;
(function (AchievementImpact) {
    AchievementImpact["LOW"] = "LOW";
    AchievementImpact["MEDIUM"] = "MEDIUM";
    AchievementImpact["HIGH"] = "HIGH";
    AchievementImpact["CRITICAL"] = "CRITICAL";
})(AchievementImpact || (exports.AchievementImpact = AchievementImpact = {}));
var IssueSeverity;
(function (IssueSeverity) {
    IssueSeverity["LOW"] = "LOW";
    IssueSeverity["MEDIUM"] = "MEDIUM";
    IssueSeverity["HIGH"] = "HIGH";
    IssueSeverity["CRITICAL"] = "CRITICAL";
    IssueSeverity["BLOCKER"] = "BLOCKER";
})(IssueSeverity || (exports.IssueSeverity = IssueSeverity = {}));
var RecommendationPriority;
(function (RecommendationPriority) {
    RecommendationPriority["LOW"] = "LOW";
    RecommendationPriority["MEDIUM"] = "MEDIUM";
    RecommendationPriority["HIGH"] = "HIGH";
    RecommendationPriority["URGENT"] = "URGENT";
})(RecommendationPriority || (exports.RecommendationPriority = RecommendationPriority = {}));
class ProgressReportingSystem {
    metricsCollector;
    validationSystem;
    reportHistory = [];
    constructor() {
        this.metricsCollector = new MetricsCollectionSystem_1.MetricsCollectionSystem();
        this.validationSystem = new MilestoneValidationSystem_1.MilestoneValidationSystem();
    }
    /**
     * Generate comprehensive campaign summary report
     */
    async generateCampaignSummaryReport() {
        console.log('ðŸ“Š Generating comprehensive campaign summary report...');
        const [currentMetrics, phaseValidations] = await Promise.all([
            this.metricsCollector.collectDetailedMetrics(),
            this.validationSystem.validateAllPhases(),
        ]);
        const overallStatus = this.determineOverallStatus(phaseValidations);
        const overallProgress = this.calculateOverallProgress(phaseValidations);
        const phases = this.generatePhaseProgressSummaries(phaseValidations);
        const keyAchievements = this.identifyKeyAchievements(currentMetrics, phaseValidations);
        const criticalIssues = this.identifyCriticalIssues(phaseValidations);
        const performanceMetrics = this.createPerformanceSnapshot(currentMetrics);
        const recommendations = this.generateRecommendations(phaseValidations, currentMetrics);
        const estimatedCompletion = this.estimateCompletionDate(overallProgress, currentMetrics);
        const executiveSummary = this.generateExecutiveSummary(overallStatus, overallProgress, keyAchievements, criticalIssues);
        const report = {
            campaignId: 'perfect-codebase-campaign',
            generatedAt: new Date(),
            overallStatus,
            overallProgress,
            phases,
            keyAchievements,
            criticalIssues,
            performanceMetrics,
            recommendations,
            estimatedCompletion,
            executiveSummary,
        };
        this.reportHistory.push(report);
        console.log(`âœ… Campaign summary report generated: ${overallProgress}% complete`);
        return report;
    }
    /**
     * Generate detailed phase completion report
     */
    async generatePhaseCompletionReport(phaseId) {
        console.log(`ðŸ“Š Generating phase completion report for ${phaseId}...`);
        const currentMetrics = await this.metricsCollector.collectDetailedMetrics();
        let phaseValidation;
        switch (phaseId) {
            case 'phase1':
                phaseValidation = await this.validationSystem.validatePhase1();
                break;
            case 'phase2':
                phaseValidation = await this.validationSystem.validatePhase2();
                break;
            case 'phase3':
                phaseValidation = await this.validationSystem.validatePhase3();
                break;
            case 'phase4':
                phaseValidation = await this.validationSystem.validatePhase4();
                break;
            default:
                throw new Error(`Unknown phase: ${phaseId}`);
        }
        const achievements = this.generatePhaseAchievements(phaseValidation, currentMetrics);
        const issues = this.generatePhaseIssues(phaseValidation);
        const recommendations = this.generatePhaseRecommendations(phaseValidation);
        const report = {
            phaseId: phaseValidation.phaseId,
            phaseName: phaseValidation.phaseName,
            startTime: new Date(),
            endTime: phaseValidation.overallSuccess ? new Date() : undefined,
            status: phaseValidation.overallSuccess ? campaign_1.PhaseStatus.COMPLETED : campaign_1.PhaseStatus.IN_PROGRESS,
            metrics: currentMetrics,
            achievements,
            issues,
            recommendations,
        };
        console.log(`âœ… Phase ${phaseId} report generated: ${phaseValidation.overallSuccess ? 'COMPLETED' : 'IN PROGRESS'}`);
        return report;
    }
    /**
     * Generate visualization data for charts and graphs
     */
    async generateVisualizationData() {
        console.log('ðŸ“Š Generating visualization data...');
        const snapshots = this.metricsCollector.getSnapshots();
        const phaseValidations = await this.validationSystem.validateAllPhases();
        const currentMetrics = await this.metricsCollector.collectDetailedMetrics();
        const timeSeriesData = this.generateTimeSeriesData(snapshots);
        const phaseProgressChart = this.generatePhaseProgressChart(phaseValidations);
        const errorDistributionChart = this.generateErrorDistributionChart(currentMetrics);
        const performanceTrendChart = this.generatePerformanceTrendChart(snapshots);
        return {
            timeSeriesData,
            phaseProgressChart,
            errorDistributionChart,
            performanceTrendChart,
        };
    }
    /**
     * Export comprehensive report to multiple formats
     */
    async exportReport(report, formats = ['json']) {
        const exportedFiles = [];
        const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
        const baseFileName = `campaign-report-${timestamp}`;
        for (const format of formats) {
            let filePath;
            let content;
            switch (format) {
                case 'json':
                    filePath = `${baseFileName}.json`;
                    content = JSON.stringify(report, null, 2);
                    break;
                case 'html':
                    filePath = `${baseFileName}.html`;
                    content = this.generateHTMLReport(report);
                    break;
                case 'markdown':
                    filePath = `${baseFileName}.md`;
                    content = this.generateMarkdownReport(report);
                    break;
                case 'csv':
                    filePath = `${baseFileName}.csv`;
                    content = this.generateCSVReport(report);
                    break;
                default:
                    continue;
            }
            fs.writeFileSync(filePath, content);
            exportedFiles.push(filePath);
            console.log(`ðŸ“„ Report exported to: ${filePath}`);
        }
        return exportedFiles;
    }
    /**
     * Generate real-time dashboard data
     */
    async generateDashboardData() {
        const [summary, visualization] = await Promise.all([
            this.generateCampaignSummaryReport(),
            this.generateVisualizationData(),
        ]);
        const recentActivity = this.generateRecentActivity();
        return {
            summary,
            visualization,
            recentActivity,
        };
    }
    /**
     * Private helper methods
     */
    determineOverallStatus(phaseValidations) {
        const completedPhases = phaseValidations.filter(p => p.overallSuccess).length;
        const totalPhases = phaseValidations.length;
        const hasBlockers = phaseValidations.some(p => p.criticalFailures.length > 0);
        if (completedPhases === totalPhases) {
            return CampaignStatus.COMPLETED;
        }
        else if (hasBlockers) {
            return CampaignStatus.BLOCKED;
        }
        else if (completedPhases > 0) {
            return CampaignStatus.IN_PROGRESS;
        }
        else {
            return CampaignStatus.NOT_STARTED;
        }
    }
    calculateOverallProgress(phaseValidations) {
        if (phaseValidations.length === 0)
            return 0;
        const totalProgress = phaseValidations.reduce((sum, phase) => sum + phase.completionPercentage, 0);
        return Math.round(totalProgress / phaseValidations.length);
    }
    generatePhaseProgressSummaries(phaseValidations) {
        return phaseValidations.map(validation => ({
            phaseId: validation.phaseId,
            phaseName: validation.phaseName,
            status: validation.overallSuccess ? campaign_1.PhaseStatus.COMPLETED : campaign_1.PhaseStatus.IN_PROGRESS,
            progress: validation.completionPercentage,
            keyMetrics: this.extractKeyMetrics(validation),
            milestones: validation.milestones.map(m => ({
                name: m.milestone,
                completed: m.success,
                completionDate: m.success ? m.timestamp : undefined,
                criticalPath: true, // All milestones are critical in this campaign
            })),
            blockers: validation.criticalFailures,
        }));
    }
    identifyKeyAchievements(metrics, phaseValidations) {
        const achievements = [];
        // TypeScript error achievements
        if (metrics.typeScriptErrors.current === 0) {
            achievements.push({
                title: 'Zero TypeScript Errors Achieved',
                description: 'Successfully eliminated all 86 TypeScript compilation errors',
                phase: 'phase1',
                achievedAt: new Date(),
                impact: AchievementImpact.CRITICAL,
                metrics: {
                    errorsEliminated: 86,
                    reductionPercentage: 100,
                },
            });
        }
        // Linting warning achievements
        if (metrics.lintingWarnings.current === 0) {
            achievements.push({
                title: 'Zero Linting Warnings Achieved',
                description: 'Successfully eliminated all 4,506 linting warnings',
                phase: 'phase2',
                achievedAt: new Date(),
                impact: AchievementImpact.CRITICAL,
                metrics: {
                    warningsEliminated: 4506,
                    reductionPercentage: 100,
                },
            });
        }
        // Enterprise system achievements
        if (metrics.enterpriseSystems.current >= 200) {
            achievements.push({
                title: 'Enterprise Intelligence Target Achieved',
                description: `Successfully created ${metrics.enterpriseSystems.current} enterprise intelligence systems`,
                phase: 'phase3',
                achievedAt: new Date(),
                impact: AchievementImpact.HIGH,
                metrics: {
                    systemsCreated: metrics.enterpriseSystems.current,
                    targetAchievement: (metrics.enterpriseSystems.current / 200) * 100,
                },
            });
        }
        // Performance achievements
        if (metrics.buildPerformance.currentTime <= 10) {
            achievements.push({
                title: 'Build Performance Target Achieved',
                description: `Build time optimized to ${metrics.buildPerformance.currentTime}s (target: 10s)`,
                phase: 'phase4',
                achievedAt: new Date(),
                impact: AchievementImpact.HIGH,
                metrics: {
                    buildTime: metrics.buildPerformance.currentTime,
                    targetTime: 10,
                    improvement: 10 - metrics.buildPerformance.currentTime,
                },
            });
        }
        return achievements;
    }
    identifyCriticalIssues(phaseValidations) {
        const issues = [];
        phaseValidations.forEach(phase => {
            phase.criticalFailures.forEach(failure => {
                issues.push({
                    title: `${phase.phaseName} Critical Failure`,
                    description: failure,
                    phase: phase.phaseId,
                    severity: IssueSeverity.CRITICAL,
                    detectedAt: new Date(),
                    estimatedResolutionTime: this.estimateResolutionTime(failure),
                });
            });
        });
        return issues;
    }
    createPerformanceSnapshot(metrics) {
        return {
            typeScriptErrors: {
                initial: 86,
                current: metrics.typeScriptErrors.current,
                reduction: metrics.typeScriptErrors.reduction,
                reductionRate: metrics.trendData.errorReductionRate,
            },
            lintingWarnings: {
                initial: 4506,
                current: metrics.lintingWarnings.current,
                reduction: metrics.lintingWarnings.reduction,
                reductionRate: metrics.trendData.warningReductionRate,
            },
            buildPerformance: {
                currentTime: metrics.buildPerformance.currentTime,
                targetTime: 10,
                improvement: metrics.trendData.buildTimeImprovement,
                cacheEfficiency: metrics.buildPerformance.cacheHitRate,
            },
            enterpriseSystems: {
                initial: 0,
                current: metrics.enterpriseSystems.current,
                target: 200,
                growthRate: metrics.trendData.systemGrowthRate,
            },
        };
    }
    generateRecommendations(phaseValidations, metrics) {
        const recommendations = [];
        phaseValidations.forEach(phase => {
            if (!phase.overallSuccess) {
                phase.nextSteps.forEach(step => {
                    recommendations.push({
                        title: `${phase.phaseName} Improvement`,
                        description: step,
                        priority: this.determinePriority(step),
                        phase: phase.phaseId,
                        estimatedImpact: this.estimateImpact(step),
                        actionItems: this.generateActionItems(step),
                    });
                });
            }
        });
        return recommendations;
    }
    estimateCompletionDate(overallProgress, metrics) {
        const completionDate = new Date();
        if (overallProgress >= 100) {
            return completionDate; // Already complete
        }
        // Estimate based on current progress rate
        const remainingProgress = 100 - overallProgress;
        const averageRate = (metrics.trendData.errorReductionRate +
            metrics.trendData.warningReductionRate +
            metrics.trendData.systemGrowthRate) /
            3;
        const estimatedHours = averageRate > 0 ? remainingProgress / averageRate : 168; // Default to 1 week
        completionDate.setHours(completionDate.getHours() + estimatedHours);
        return completionDate;
    }
    generateExecutiveSummary(status, progress, achievements, issues) {
        const statusText = status === CampaignStatus.COMPLETED
            ? 'completed successfully'
            : status === CampaignStatus.IN_PROGRESS
                ? 'in progress'
                : status === CampaignStatus.BLOCKED
                    ? 'currently blocked'
                    : 'not started';
        const achievementText = achievements.length > 0
            ? `Key achievements include: ${achievements.map(a => a.title).join(', ')}.`
            : '';
        const issueText = issues.length > 0
            ? `Critical issues requiring attention: ${issues.length} items identified.`
            : 'No critical issues identified.';
        return `The Perfect Codebase Campaign is ${statusText} with ${progress}% overall completion. ${achievementText} ${issueText}`;
    }
    generateTimeSeriesData(snapshots) {
        return snapshots.map(snapshot => ({
            timestamp: snapshot.timestamp,
            typeScriptErrors: snapshot.metrics.typeScriptErrors.current,
            lintingWarnings: snapshot.metrics.lintingWarnings.current,
            buildTime: snapshot.metrics.buildPerformance.currentTime,
            enterpriseSystems: snapshot.metrics.enterpriseSystems.current,
        }));
    }
    generatePhaseProgressChart(phaseValidations) {
        return phaseValidations.map(phase => ({
            phase: phase.phaseName,
            progress: phase.completionPercentage,
            target: 100,
            status: phase.overallSuccess ? campaign_1.PhaseStatus.COMPLETED : campaign_1.PhaseStatus.IN_PROGRESS,
        }));
    }
    generateErrorDistributionChart(metrics) {
        const errorBreakdown = metrics.errorBreakdown || {};
        const totalErrors = Object.values(errorBreakdown).reduce((sum, count) => sum + count, 0);
        return Object.entries(errorBreakdown).map(([errorType, count]) => ({
            errorType,
            count,
            percentage: totalErrors > 0 ? Math.round((count / totalErrors) * 100) : 0,
        }));
    }
    generatePerformanceTrendChart(snapshots) {
        return snapshots.map(snapshot => ({
            timestamp: snapshot.timestamp,
            buildTime: snapshot.metrics.buildPerformance.currentTime,
            memoryUsage: snapshot.metrics.buildPerformance.memoryUsage,
            cacheHitRate: snapshot.metrics.buildPerformance.cacheHitRate,
        }));
    }
    generateHTMLReport(report) {
        return `
<!DOCTYPE html>
<html>
<head>
    <title>Perfect Codebase Campaign Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .header { background: #f5f5f5; padding: 20px; border-radius: 8px; }
        .status-${report.overallStatus.toLowerCase()} { color: ${this.getStatusColor(report.overallStatus)}; }
        .progress-bar { background: #e0e0e0; height: 20px; border-radius: 10px; overflow: hidden; }
        .progress-fill { background: #4caf50; height: 100%; transition: width 0.3s; }
        .phase { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .achievement { background: #e8f5e8; padding: 10px; margin: 5px 0; border-radius: 5px; }
        .issue { background: #ffe8e8; padding: 10px; margin: 5px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Perfect Codebase Campaign Report</h1>
        <p>Generated: ${report.generatedAt.toLocaleString()}</p>
        <p class="status-${report.overallStatus.toLowerCase()}">Status: ${report.overallStatus}</p>
        <div class="progress-bar">
            <div class="progress-fill" style="width: ${report.overallProgress}%"></div>
        </div>
        <p>Progress: ${report.overallProgress}%</p>
    </div>

    <h2>Executive Summary</h2>
    <p>${report.executiveSummary}</p>

    <h2>Phase Progress</h2>
    ${report.phases
            .map(phase => `
        <div class="phase">
            <h3>${phase.phaseName}</h3>
            <p>Status: ${phase.status}</p>
            <p>Progress: ${phase.progress}%</p>
            <p>Blockers: ${phase.blockers.length > 0 ? phase.blockers.join(', ') : 'None'}</p>
        </div>
    `)
            .join('')}

    <h2>Key Achievements</h2>
    ${report.keyAchievements
            .map(achievement => `
        <div class="achievement">
            <h4>${achievement.title}</h4>
            <p>${achievement.description}</p>
            <p>Impact: ${achievement.impact}</p>
        </div>
    `)
            .join('')}

    <h2>Critical Issues</h2>
    ${report.criticalIssues
            .map(issue => `
        <div class="issue">
            <h4>${issue.title}</h4>
            <p>${issue.description}</p>
            <p>Severity: ${issue.severity}</p>
        </div>
    `)
            .join('')}
</body>
</html>`;
    }
    generateMarkdownReport(report) {
        return `# Perfect Codebase Campaign Report

**Generated:** ${report.generatedAt.toISOString()}
**Status:** ${report.overallStatus}
**Progress:** ${report.overallProgress}%

## Executive Summary

${report.executiveSummary}

## Phase Progress

${report.phases
            .map(phase => `
### ${phase.phaseName}
- **Status:** ${phase.status}
- **Progress:** ${phase.progress}%
- **Blockers:** ${phase.blockers.length > 0 ? phase.blockers.join(', ') : 'None'}
`)
            .join('')}

## Key Achievements

${report.keyAchievements
            .map(achievement => `
### ${achievement.title}
${achievement.description}
- **Impact:** ${achievement.impact}
- **Phase:** ${achievement.phase}
`)
            .join('')}

## Critical Issues

${report.criticalIssues
            .map(issue => `
### ${issue.title}
${issue.description}
- **Severity:** ${issue.severity}
- **Phase:** ${issue.phase}
`)
            .join('')}

## Performance Metrics

- **TypeScript Errors:** ${report.performanceMetrics.typeScriptErrors.current} (${report.performanceMetrics.typeScriptErrors.reduction} reduced)
- **Linting Warnings:** ${report.performanceMetrics.lintingWarnings.current} (${report.performanceMetrics.lintingWarnings.reduction} reduced)
- **Build Time:** ${report.performanceMetrics.buildPerformance.currentTime}s (target: ${report.performanceMetrics.buildPerformance.targetTime}s)
- **Enterprise Systems:** ${report.performanceMetrics.enterpriseSystems.current} (target: ${report.performanceMetrics.enterpriseSystems.target})
`;
    }
    generateCSVReport(report) {
        const headers = ['Phase', 'Status', 'Progress', 'Blockers'];
        const rows = report.phases.map(phase => [
            phase.phaseName,
            phase.status,
            phase.progress.toString(),
            phase.blockers.join('; '),
        ]);
        return [headers, ...rows].map(row => row.join(',')).join('\n');
    }
    generateRecentActivity() {
        // This would be implemented with actual activity tracking
        return [
            {
                timestamp: new Date(),
                type: 'milestone',
                description: 'Phase validation completed',
                phase: 'phase1',
            },
        ];
    }
    // Helper methods
    extractKeyMetrics(validation) {
        return {
            completionPercentage: validation.completionPercentage,
            milestonesCompleted: validation.milestones.filter(m => m.success).length,
            totalMilestones: validation.milestones.length,
            criticalFailures: validation.criticalFailures.length,
        };
    }
    generatePhaseAchievements(validation, metrics) {
        return validation.milestones
            .filter(m => m.success)
            .map(m => `${m.milestone} completed successfully`);
    }
    generatePhaseIssues(validation) {
        return validation.criticalFailures;
    }
    generatePhaseRecommendations(validation) {
        return validation.nextSteps;
    }
    estimateResolutionTime(failure) {
        // Simple heuristic based on failure type
        if (failure.includes('TypeScript'))
            return 4;
        if (failure.includes('linting'))
            return 2;
        if (failure.includes('build'))
            return 6;
        return 3;
    }
    determinePriority(step) {
        if (step.includes('critical') || step.includes('blocker'))
            return RecommendationPriority.URGENT;
        if (step.includes('error') || step.includes('failure'))
            return RecommendationPriority.HIGH;
        return RecommendationPriority.MEDIUM;
    }
    estimateImpact(step) {
        if (step.includes('zero') || step.includes('complete'))
            return 'High - Milestone completion';
        if (step.includes('reduce') || step.includes('improve'))
            return 'Medium - Incremental improvement';
        return 'Low - Maintenance task';
    }
    generateActionItems(step) {
        // Generate specific action items based on the step
        return [`Execute: ${step}`, 'Validate results', 'Update progress tracking'];
    }
    getStatusColor(status) {
        switch (status) {
            case CampaignStatus.COMPLETED:
                return '#4caf50';
            case CampaignStatus.IN_PROGRESS:
                return '#2196f3';
            case CampaignStatus.BLOCKED:
                return '#ff9800';
            case CampaignStatus.FAILED:
                return '#f44336';
            default:
                return '#757575';
        }
    }
    /**
     * Get report history
     */
    getReportHistory() {
        return [...this.reportHistory];
    }
    /**
     * Clear report history
     */
    clearReportHistory() {
        this.reportHistory = [];
        console.log('ðŸ“Š Report history cleared');
    }
}
exports.ProgressReportingSystem = ProgressReportingSystem;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0Ly5jb25zb2xpZGF0aW9uLWJhY2t1cHMtMjAyNS0wOC0yM1QxNy01NC0xMC0wOTJaL3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9Qcm9ncmVzc1JlcG9ydGluZ1N5c3RlbS50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7R0FJRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFSCx1Q0FBeUI7QUFHekIsbURBQWlHO0FBRWpHLHVFQUltQztBQUNuQywyRUFBK0Y7QUE4SC9GLElBQVksY0FNWDtBQU5ELFdBQVksY0FBYztJQUN4Qiw2Q0FBMkIsQ0FBQTtJQUMzQiw2Q0FBMkIsQ0FBQTtJQUMzQix5Q0FBdUIsQ0FBQTtJQUN2QixxQ0FBbUIsQ0FBQTtJQUNuQixtQ0FBaUIsQ0FBQTtBQUNuQixDQUFDLEVBTlcsY0FBYyw4QkFBZCxjQUFjLFFBTXpCO0FBRUQsSUFBWSxpQkFLWDtBQUxELFdBQVksaUJBQWlCO0lBQzNCLGdDQUFXLENBQUE7SUFDWCxzQ0FBaUIsQ0FBQTtJQUNqQixrQ0FBYSxDQUFBO0lBQ2IsMENBQXFCLENBQUE7QUFDdkIsQ0FBQyxFQUxXLGlCQUFpQixpQ0FBakIsaUJBQWlCLFFBSzVCO0FBRUQsSUFBWSxhQU1YO0FBTkQsV0FBWSxhQUFhO0lBQ3ZCLDRCQUFXLENBQUE7SUFDWCxrQ0FBaUIsQ0FBQTtJQUNqQiw4QkFBYSxDQUFBO0lBQ2Isc0NBQXFCLENBQUE7SUFDckIsb0NBQW1CLENBQUE7QUFDckIsQ0FBQyxFQU5XLGFBQWEsNkJBQWIsYUFBYSxRQU14QjtBQUVELElBQVksc0JBS1g7QUFMRCxXQUFZLHNCQUFzQjtJQUNoQyxxQ0FBVyxDQUFBO0lBQ1gsMkNBQWlCLENBQUE7SUFDakIsdUNBQWEsQ0FBQTtJQUNiLDJDQUFpQixDQUFBO0FBQ25CLENBQUMsRUFMVyxzQkFBc0Isc0NBQXRCLHNCQUFzQixRQUtqQztBQUVELE1BQWEsdUJBQXVCO0lBQzFCLGdCQUFnQixDQUEwQjtJQUMxQyxnQkFBZ0Is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UztnQkFDM0IsT0FBTyxTQUFTLENBQUM7WUFDbkIsS0FBSyxjQUFjLENBQUMsV0FBVztnQkFDN0IsT0FBTyxTQUFTLENBQUM7WUFDbkIsS0FBSyxjQUFjLENBQUMsT0FBTztnQkFDekIsT0FBTyxTQUFTLENBQUM7WUFDbkIsS0FBSyxjQUFjLENBQUMsTUFBTTtnQkFDeEIsT0FBTyxTQUFTLENBQUM7WUFDbkI7Z0JBQ0UsT0FBTyxTQUFTLENBQUM7U0FDcEI7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxnQkFBZ0I7UUFDZCxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsa0JBQWtCO1FBQ2hCLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUMzQyxDQUFDO0NBQ0Y7QUE1c0JELDBEQTRzQkMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0Ly5jb25zb2xpZGF0aW9uLWJhY2t1cHMtMjAyNS0wOC0yM1QxNy01NC0xMC0wOTJaL3NyYy9zZXJ2aWNlcy9jYW1wYWlnbi9Qcm9ncmVzc1JlcG9ydGluZ1N5c3RlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFByb2dyZXNzIFJlcG9ydGluZyBTeXN0ZW1cbiAqIFBlcmZlY3QgQ29kZWJhc2UgQ2FtcGFpZ24gLSBDb21wcmVoZW5zaXZlIFByb2dyZXNzIFJlcG9ydHNcbiAqIFJlcXVpcmVtZW50czogNi40LCA2LjhcbiAqL1xuXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgeyBQcm9ncmVzc01ldHJpY3MsIFBoYXNlUmVwb3J0LCBQcm9ncmVzc1JlcG9ydCwgUGhhc2VTdGF0dXMgfSBmcm9tICcuLi8uLi90eXBlcy9jYW1wYWlnbic7XG5cbmltcG9ydCB7XG4gIE1ldHJpY3NDb2xsZWN0aW9uU3lzdGVtLFxuICBEZXRhaWxlZE1ldHJpY3MsXG4gIE1ldHJpY3NTbmFwc2hvdCxcbn0gZnJvbSAnLi9NZXRyaWNzQ29sbGVjdGlvblN5c3RlbSc7XG5pbXBvcnQgeyBNaWxlc3RvbmVWYWxpZGF0aW9uU3lzdGVtLCBQaGFzZVZhbGlkYXRpb25SZXN1bHQgfSBmcm9tICcuL01pbGVzdG9uZVZhbGlkYXRpb25TeXN0ZW0nO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhbXBhaWduU3VtbWFyeVJlcG9ydCB7XG4gIGNhbXBhaWduSWQ6IHN0cmluZztcbiAgZ2VuZXJhdGVkQXQ6IERhdGU7XG4gIG92ZXJhbGxTdGF0dXM6IENhbXBhaWduU3RhdHVzO1xuICBvdmVyYWxsUHJvZ3Jlc3M6IG51bWJlcjtcbiAgcGhhc2VzOiBQaGFzZVByb2dyZXNzU3VtbWFyeVtdO1xuICBrZXlBY2hpZXZlbWVudHM6IEFjaGlldmVtZW50W107XG4gIGNyaXRpY2FsSXNzdWVzOiBJc3N1ZVtdO1xuICBwZXJmb3JtYW5jZU1ldHJpY3M6IFBlcmZvcm1hbmNlU25hcHNob3Q7XG4gIHJlY29tbWVuZGF0aW9uczogUmVjb21tZW5kYXRpb25bXTtcbiAgZXN0aW1hdGVkQ29tcGxldGlvbjogRGF0ZTtcbiAgZXhlY3V0aXZlU3VtbWFyeTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBoYXNlUHJvZ3Jlc3NTdW1tYXJ5IHtcbiAgcGhhc2VJZDogc3RyaW5nO1xuICBwaGFzZU5hbWU6IHN0cmluZztcbiAgc3RhdHVzOiBQaGFzZVN0YXR1cztcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgc3RhcnREYXRlPzogRGF0ZTtcbiAgY29tcGxldGlvbkRhdGU/OiBEYXRlO1xuICBkdXJhdGlvbj86IG51bWJlcjsgLy8gaW4gaG91cnNcbiAga2V5TWV0cmljczogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgbWlsZXN0b25lczogTWlsZXN0b25lU3VtbWFyeVtdO1xuICBibG9ja2Vyczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWlsZXN0b25lU3VtbWFyeSB7XG4gIG5hbWU6IHN0cmluZztcbiAgY29tcGxldGVkOiBib29sZWFuO1xuICBjb21wbGV0aW9uRGF0ZT86IERhdGU7XG4gIGNyaXRpY2FsUGF0aDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY2hpZXZlbWVudCB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHBoYXNlOiBzdHJpbmc7XG4gIGFjaGlldmVkQXQ6IERhdGU7XG4gIGltcGFjdDogQWNoaWV2ZW1lbnRJbXBhY3Q7XG4gIG1ldHJpY3M6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSXNzdWUge1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBwaGFzZTogc3RyaW5nO1xuICBzZXZlcml0eTogSXNzdWVTZXZlcml0eTtcbiAgZGV0ZWN0ZWRBdDogRGF0ZTtcbiAgcmVzb2x1dGlvbj86IHN0cmluZztcbiAgZXN0aW1hdGVkUmVzb2x1dGlvblRpbWU/OiBudW1iZXI7IC8vIGluIGhvdXJzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VTbmFwc2hvdCB7XG4gIHR5cGVTY3JpcHRFcnJvcnM6IHtcbiAgICBpbml0aWFsOiBudW1iZXI7XG4gICAgY3VycmVudDogbnVtYmVyO1xuICAgIHJlZHVjdGlvbjogbnVtYmVyO1xuICAgIHJlZHVjdGlvblJhdGU6IG51bWJlcjsgLy8gcGVyIGhvdXJcbiAgfTtcbiAgbGludGluZ1dhcm5pbmdzOiB7XG4gICAgaW5pdGlhbDogbnVtYmVyO1xuICAgIGN1cnJlbnQ6IG51bWJlcjtcbiAgICByZWR1Y3Rpb246IG51bWJlcjtcbiAgICByZWR1Y3Rpb25SYXRlOiBudW1iZXI7IC8vIHBlciBob3VyXG4gIH07XG4gIGJ1aWxkUGVyZm9ybWFuY2U6IHtcbiAgICBjdXJyZW50VGltZTogbnVtYmVyO1xuICAgIHRhcmdldFRpbWU6IG51bWJlcjtcbiAgICBpbXByb3ZlbWVudDogbnVtYmVyO1xuICAgIGNhY2hlRWZmaWNpZW5jeTogbnVtYmVyO1xuICB9O1xuICBlbnRlcnByaXNlU3lzdGVtczoge1xuICAgIGluaXRpYWw6IG51bWJlcjtcbiAgICBjdXJyZW50OiBudW1iZXI7XG4gICAgdGFyZ2V0OiBudW1iZXI7XG4gICAgZ3Jvd3RoUmF0ZTogbnVtYmVyOyAvLyBwZXIgaG91clxuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlY29tbWVuZGF0aW9uIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcHJpb3JpdHk6IFJlY29tbWVuZGF0aW9uUHJpb3JpdHk7XG4gIHBoYXNlOiBzdHJpbmc7XG4gIGVzdGltYXRlZEltcGFjdDogc3RyaW5nO1xuICBhY3Rpb25JdGVtczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzdWFsaXphdGlvbkRhdGEge1xuICB0aW1lU2VyaWVzRGF0YTogVGltZVNlcmllc1BvaW50W107XG4gIHBoYXNlUHJvZ3Jlc3NDaGFydDogUGhhc2VQcm9ncmVzc1BvaW50W107XG4gIGVycm9yRGlzdHJpYnV0aW9uQ2hhcnQ6IEVycm9yRGlzdHJpYnV0aW9uUG9pbnRbXTtcbiAgcGVyZm9ybWFuY2VUcmVuZENoYXJ0OiBQZXJmb3JtYW5jZVRyZW5kUG9pbnRbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaW1lU2VyaWVzUG9pbnQge1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIHR5cGVTY3JpcHRFcnJvcnM6IG51bWJlcjtcbiAgbGludGluZ1dhcm5pbmdzOiBudW1iZXI7XG4gIGJ1aWxkVGltZTogbnVtYmVyO1xuICBlbnRlcnByaXNlU3lzdGVtczogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBoYXNlUHJvZ3Jlc3NQb2ludCB7XG4gIHBoYXNlOiBzdHJpbmc7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIHRhcmdldDogbnVtYmVyO1xuICBzdGF0dXM6IFBoYXNlU3RhdHVzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yRGlzdHJpYnV0aW9uUG9pbnQge1xuICBlcnJvclR5cGU6IHN0cmluZztcbiAgY291bnQ6IG51bWJlcjtcbiAgcGVyY2VudGFnZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlVHJlbmRQb2ludCB7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgYnVpbGRUaW1lOiBudW1iZXI7XG4gIG1lbW9yeVVzYWdlOiBudW1iZXI7XG4gIGNhY2hlSGl0UmF0ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBDYW1wYWlnblN0YXR1cyB7XG4gIE5PVF9TVEFSVEVEID0gJ05PVF9TVEFSVEVEJyxcbiAgSU5fUFJPR1JFU1MgPSAnSU5fUFJPR1JFU1MnLFxuICBDT01QTEVURUQgPSAnQ09NUExFVEVEJyxcbiAgQkxPQ0tFRCA9ICdCTE9DS0VEJyxcbiAgRkFJTEVEID0gJ0ZBSUxFRCcsXG59XG5cbmV4cG9ydCBlbnVtIEFjaGlldmVtZW50SW1wYWN0IHtcbiAgTE9XID0gJ0xPVycsXG4gIE1FRElVTSA9ICdNRURJVU0nLFxuICBISUdIID0gJ0hJR0gnLFxuICBDUklUSUNBTCA9ICdDUklUSUNBTCcsXG59XG5cbmV4cG9ydCBlbnVtIElzc3VlU2V2ZXJpdHkge1xuICBMT1cgPSAnTE9XJyxcbiAgTUVESVVNID0gJ01FRElVTScsXG4gIEhJR0ggPSAnSElHSCcsXG4gIENSSVRJQ0FMID0gJ0NSSVRJQ0FMJyxcbiAgQkxPQ0tFUiA9ICdCTE9DS0VSJyxcbn1cblxuZXhwb3J0IGVudW0gUmVjb21tZW5kYXRpb25Qcmlvcml0eSB7XG4gIExPVyA9ICdMT1cnLFxuICBNRURJVU0gPSAnTUVESVVNJyxcbiAgSElHSCA9ICdISUdIJyxcbiAgVVJHRU5UID0gJ1VSR0VOVCcsXG59XG5cbmV4cG9ydCBjbGFzcyBQcm9ncmVzc1JlcG9ydGluZ1N5c3RlbSB7XG4gIHByaXZhdGUgbWV0cmljc0NvbGxlY3RvcjogTWV0cmljc0NvbGxlY3Rpb25TeXN0ZW07XG4gIHByaXZhdGUgdmFsaWRhdGlvblN5c3RlbTogTWlsZXN0b25lVmFsaWRhdGlvblN5c3RlbTtcbiAgcHJpdmF0ZSByZXBvcnRIaXN0b3J5OiBDYW1wYWlnblN1bW1hcnlSZXBvcnRbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWV0cmljc0NvbGxlY3RvciA9IG5ldyBNZXRyaWNzQ29sbGVjdGlvblN5c3RlbSgpO1xuICAgIHRoaXMudmFsaWRhdGlvblN5c3RlbSA9IG5ldyBNaWxlc3RvbmVWYWxpZGF0aW9uU3lzdGVtKCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBjYW1wYWlnbiBzdW1tYXJ5IHJlcG9ydFxuICAgKi9cbiAgYXN5bmMgZ2VuZXJhdGVDYW1wYWlnblN1bW1hcnlSZXBvcnQoKTogUHJvbWlzZTxDYW1wYWlnblN1bW1hcnlSZXBvcnQ+IHtcbiAgICBjb25zb2xlLmxvZygn8J+TiiBHZW5lcmF0aW5nIGNvbXByZWhlbnNpdmUgY2FtcGFpZ24gc3VtbWFyeSByZXBvcnQuLi4nKTtcblxuICAgIGNvbnN0IFtjdXJyZW50TWV0cmljcywgcGhhc2VWYWxpZGF0aW9uc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLm1ldHJpY3NDb2xsZWN0b3IuY29sbGVjdERldGFpbGVkTWV0cmljcygpLFxuICAgICAgdGhpcy52YWxpZGF0aW9uU3lzdGVtLnZhbGlkYXRlQWxsUGhhc2VzKCksXG4gICAgXSk7XG5cbiAgICBjb25zdCBvdmVyYWxsU3RhdHVzID0gdGhpcy5kZXRlcm1pbmVPdmVyYWxsU3RhdHVzKHBoYXNlVmFsaWRhdGlvbnMpO1xuICAgIGNvbnN0IG92ZXJhbGxQcm9ncmVzcyA9IHRoaXMuY2FsY3VsYXRlT3ZlcmFsbFByb2dyZXNzKHBoYXNlVmFsaWRhdGlvbnMpO1xuICAgIGNvbnN0IHBoYXNlcyA9IHRoaXMuZ2VuZXJhdGVQaGFzZVByb2dyZXNzU3VtbWFyaWVzKHBoYXNlVmFsaWRhdGlvbnMpO1xuICAgIGNvbnN0IGtleUFjaGlldmVtZW50cyA9IHRoaXMuaWRlbnRpZnlLZXlBY2hpZXZlbWVudHMoY3VycmVudE1ldHJpY3MsIHBoYXNlVmFsaWRhdGlvbnMpO1xuICAgIGNvbnN0IGNyaXRpY2FsSXNzdWVzID0gdGhpcy5pZGVudGlmeUNyaXRpY2FsSXNzdWVzKHBoYXNlVmFsaWRhdGlvbnMpO1xuICAgIGNvbnN0IHBlcmZvcm1hbmNlTWV0cmljcyA9IHRoaXMuY3JlYXRlUGVyZm9ybWFuY2VTbmFwc2hvdChjdXJyZW50TWV0cmljcyk7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gdGhpcy5nZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyhwaGFzZVZhbGlkYXRpb25zLCBjdXJyZW50TWV0cmljcyk7XG4gICAgY29uc3QgZXN0aW1hdGVkQ29tcGxldGlvbiA9IHRoaXMuZXN0aW1hdGVDb21wbGV0aW9uRGF0ZShvdmVyYWxsUHJvZ3Jlc3MsIGN1cnJlbnRNZXRyaWNzKTtcbiAgICBjb25zdCBleGVjdXRpdmVTdW1tYXJ5ID0gdGhpcy5nZW5lcmF0ZUV4ZWN1dGl2ZVN1bW1hcnkoXG4gICAgICBvdmVyYWxsU3RhdHVzLFxuICAgICAgb3ZlcmFsbFByb2dyZXNzLFxuICAgICAga2V5QWNoaWV2ZW1lbnRzLFxuICAgICAgY3JpdGljYWxJc3N1ZXMsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlcG9ydDogQ2FtcGFpZ25TdW1tYXJ5UmVwb3J0ID0ge1xuICAgICAgY2FtcGFpZ25JZDogJ3BlcmZlY3QtY29kZWJhc2UtY2FtcGFpZ24nLFxuICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBvdmVyYWxsU3RhdHVzLFxuICAgICAgb3ZlcmFsbFByb2dyZXNzLFxuICAgICAgcGhhc2VzLFxuICAgICAga2V5QWNoaWV2ZW1lbnRzLFxuICAgICAgY3JpdGljYWxJc3N1ZXMsXG4gICAgICBwZXJmb3JtYW5jZU1ldHJpY3MsXG4gICAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgICBlc3RpbWF0ZWRDb21wbGV0aW9uLFxuICAgICAgZXhlY3V0aXZlU3VtbWFyeSxcbiAgICB9O1xuXG4gICAgdGhpcy5yZXBvcnRIaXN0b3J5LnB1c2gocmVwb3J0KTtcbiAgICBjb25zb2xlLmxvZyhg4pyFIENhbXBhaWduIHN1bW1hcnkgcmVwb3J0IGdlbmVyYXRlZDogJHtvdmVyYWxsUHJvZ3Jlc3N9JSBjb21wbGV0ZWApO1xuXG4gICAgcmV0dXJuIHJlcG9ydDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBkZXRhaWxlZCBwaGFzZSBjb21wbGV0aW9uIHJlcG9ydFxuICAgKi9cbiAgYXN5bmMgZ2VuZXJhdGVQaGFzZUNvbXBsZXRpb25SZXBvcnQocGhhc2VJZDogc3RyaW5nKTogUHJvbWlzZTxQaGFzZVJlcG9ydD4ge1xuICAgIGNvbnNvbGUubG9nKGDwn5OKIEdlbmVyYXRpbmcgcGhhc2UgY29tcGxldGlvbiByZXBvcnQgZm9yICR7cGhhc2VJZH0uLi5gKTtcblxuICAgIGNvbnN0IGN1cnJlbnRNZXRyaWNzID0gYXdhaXQgdGhpcy5tZXRyaWNzQ29sbGVjdG9yLmNvbGxlY3REZXRhaWxlZE1ldHJpY3MoKTtcbiAgICBsZXQgcGhhc2VWYWxpZGF0aW9uOiBQaGFzZVZhbGlkYXRpb25SZXN1bHQ7XG5cbiAgICBzd2l0Y2ggKHBoYXNlSWQpIHtcbiAgICAgIGNhc2UgJ3BoYXNlMSc6XG4gICAgICAgIHBoYXNlVmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMudmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZVBoYXNlMSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BoYXNlMic6XG4gICAgICAgIHBoYXNlVmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMudmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZVBoYXNlMigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BoYXNlMyc6XG4gICAgICAgIHBoYXNlVmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMudmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZVBoYXNlMygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BoYXNlNCc6XG4gICAgICAgIHBoYXNlVmFsaWRhdGlvbiA9IGF3YWl0IHRoaXMudmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZVBoYXNlNCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwaGFzZTogJHtwaGFzZUlkfWApO1xuICAgIH1cblxuICAgIGNvbnN0IGFjaGlldmVtZW50cyA9IHRoaXMuZ2VuZXJhdGVQaGFzZUFjaGlldmVtZW50cyhwaGFzZVZhbGlkYXRpb24sIGN1cnJlbnRNZXRyaWNzKTtcbiAgICBjb25zdCBpc3N1ZXMgPSB0aGlzLmdlbmVyYXRlUGhhc2VJc3N1ZXMocGhhc2VWYWxpZGF0aW9uKTtcbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSB0aGlzLmdlbmVyYXRlUGhhc2VSZWNvbW1lbmRhdGlvbnMocGhhc2VWYWxpZGF0aW9uKTtcblxuICAgIGNvbnN0IHJlcG9ydDogUGhhc2VSZXBvcnQgPSB7XG4gICAgICBwaGFzZUlkOiBwaGFzZVZhbGlkYXRpb24ucGhhc2VJZCxcbiAgICAgIHBoYXNlTmFtZTogcGhhc2VWYWxpZGF0aW9uLnBoYXNlTmFtZSxcbiAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoKSwgLy8gVGhpcyBzaG91bGQgYmUgdHJhY2tlZCBwcm9wZXJseSBpbiBhIHJlYWwgaW1wbGVtZW50YXRpb25cbiAgICAgIGVuZFRpbWU6IHBoYXNlVmFsaWRhdGlvbi5vdmVyYWxsU3VjY2VzcyA/IG5ldyBEYXRlKCkgOiB1bmRlZmluZWQsXG4gICAgICBzdGF0dXM6IHBoYXNlVmFsaWRhdGlvbi5vdmVyYWxsU3VjY2VzcyA/IFBoYXNlU3RhdHVzLkNPTVBMRVRFRCA6IFBoYXNlU3RhdHVzLklOX1BST0dSRVNTLFxuICAgICAgbWV0cmljczogY3VycmVudE1ldHJpY3MsXG4gICAgICBhY2hpZXZlbWVudHMsXG4gICAgICBpc3N1ZXMsXG4gICAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYOKchSBQaGFzZSAke3BoYXNlSWR9IHJlcG9ydCBnZW5lcmF0ZWQ6ICR7cGhhc2VWYWxpZGF0aW9uLm92ZXJhbGxTdWNjZXNzID8gJ0NPTVBMRVRFRCcgOiAnSU4gUFJPR1JFU1MnfWAsXG4gICAgKTtcbiAgICByZXR1cm4gcmVwb3J0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHZpc3VhbGl6YXRpb24gZGF0YSBmb3IgY2hhcnRzIGFuZCBncmFwaHNcbiAgICovXG4gIGFzeW5jIGdlbmVyYXRlVmlzdWFsaXphdGlvbkRhdGEoKTogUHJvbWlzZTxWaXN1YWxpemF0aW9uRGF0YT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIEdlbmVyYXRpbmcgdmlzdWFsaXphdGlvbiBkYXRhLi4uJyk7XG5cbiAgICBjb25zdCBzbmFwc2hvdHMgPSB0aGlzLm1ldHJpY3NDb2xsZWN0b3IuZ2V0U25hcHNob3RzKCk7XG4gICAgY29uc3QgcGhhc2VWYWxpZGF0aW9ucyA9IGF3YWl0IHRoaXMudmFsaWRhdGlvblN5c3RlbS52YWxpZGF0ZUFsbFBoYXNlcygpO1xuICAgIGNvbnN0IGN1cnJlbnRNZXRyaWNzID0gYXdhaXQgdGhpcy5tZXRyaWNzQ29sbGVjdG9yLmNvbGxlY3REZXRhaWxlZE1ldHJpY3MoKTtcblxuICAgIGNvbnN0IHRpbWVTZXJpZXNEYXRhID0gdGhpcy5nZW5lcmF0ZVRpbWVTZXJpZXNEYXRhKHNuYXBzaG90cyk7XG4gICAgY29uc3QgcGhhc2VQcm9ncmVzc0NoYXJ0ID0gdGhpcy5nZW5lcmF0ZVBoYXNlUHJvZ3Jlc3NDaGFydChwaGFzZVZhbGlkYXRpb25zKTtcbiAgICBjb25zdCBlcnJvckRpc3RyaWJ1dGlvbkNoYXJ0ID0gdGhpcy5nZW5lcmF0ZUVycm9yRGlzdHJpYnV0aW9uQ2hhcnQoY3VycmVudE1ldHJpY3MpO1xuICAgIGNvbnN0IHBlcmZvcm1hbmNlVHJlbmRDaGFydCA9IHRoaXMuZ2VuZXJhdGVQZXJmb3JtYW5jZVRyZW5kQ2hhcnQoc25hcHNob3RzKTtcblxuICAgIHJldHVybiB7XG4gICAgICB0aW1lU2VyaWVzRGF0YSxcbiAgICAgIHBoYXNlUHJvZ3Jlc3NDaGFydCxcbiAgICAgIGVycm9yRGlzdHJpYnV0aW9uQ2hhcnQsXG4gICAgICBwZXJmb3JtYW5jZVRyZW5kQ2hhcnQsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvcnQgY29tcHJlaGVuc2l2ZSByZXBvcnQgdG8gbXVsdGlwbGUgZm9ybWF0c1xuICAgKi9cbiAgYXN5bmMgZXhwb3J0UmVwb3J0KFxuICAgIHJlcG9ydDogQ2FtcGFpZ25TdW1tYXJ5UmVwb3J0LFxuICAgIGZvcm1hdHM6ICgnanNvbicgfCAnaHRtbCcgfCAnbWFya2Rvd24nIHwgJ2NzdicpW10gPSBbJ2pzb24nXSxcbiAgKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGNvbnN0IGV4cG9ydGVkRmlsZXM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgJy0nKTtcbiAgICBjb25zdCBiYXNlRmlsZU5hbWUgPSBgY2FtcGFpZ24tcmVwb3J0LSR7dGltZXN0YW1wfWA7XG5cbiAgICBmb3IgKGNvbnN0IGZvcm1hdCBvZiBmb3JtYXRzKSB7XG4gICAgICBsZXQgZmlsZVBhdGg6IHN0cmluZztcbiAgICAgIGxldCBjb250ZW50OiBzdHJpbmc7XG5cbiAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICAgIGZpbGVQYXRoID0gYCR7YmFzZUZpbGVOYW1lfS5qc29uYDtcbiAgICAgICAgICBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkocmVwb3J0LCBudWxsLCAyKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICBmaWxlUGF0aCA9IGAke2Jhc2VGaWxlTmFtZX0uaHRtbGA7XG4gICAgICAgICAgY29udGVudCA9IHRoaXMuZ2VuZXJhdGVIVE1MUmVwb3J0KHJlcG9ydCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWFya2Rvd24nOlxuICAgICAgICAgIGZpbGVQYXRoID0gYCR7YmFzZUZpbGVOYW1lfS5tZGA7XG4gICAgICAgICAgY29udGVudCA9IHRoaXMuZ2VuZXJhdGVNYXJrZG93blJlcG9ydChyZXBvcnQpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Nzdic6XG4gICAgICAgICAgZmlsZVBhdGggPSBgJHtiYXNlRmlsZU5hbWV9LmNzdmA7XG4gICAgICAgICAgY29udGVudCA9IHRoaXMuZ2VuZXJhdGVDU1ZSZXBvcnQocmVwb3J0KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBjb250ZW50KTtcbiAgICAgIGV4cG9ydGVkRmlsZXMucHVzaChmaWxlUGF0aCk7XG4gICAgICBjb25zb2xlLmxvZyhg8J+ThCBSZXBvcnQgZXhwb3J0ZWQgdG86ICR7ZmlsZVBhdGh9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cG9ydGVkRmlsZXM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgcmVhbC10aW1lIGRhc2hib2FyZCBkYXRhXG4gICAqL1xuICBhc3luYyBnZW5lcmF0ZURhc2hib2FyZERhdGEoKTogUHJvbWlzZTx7XG4gICAgc3VtbWFyeTogQ2FtcGFpZ25TdW1tYXJ5UmVwb3J0O1xuICAgIHZpc3VhbGl6YXRpb246IFZpc3VhbGl6YXRpb25EYXRhO1xuICAgIHJlY2VudEFjdGl2aXR5OiBBY3Rpdml0eUl0ZW1bXTtcbiAgfT4ge1xuICAgIGNvbnN0IFtzdW1tYXJ5LCB2aXN1YWxpemF0aW9uXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuZ2VuZXJhdGVDYW1wYWlnblN1bW1hcnlSZXBvcnQoKSxcbiAgICAgIHRoaXMuZ2VuZXJhdGVWaXN1YWxpemF0aW9uRGF0YSgpLFxuICAgIF0pO1xuXG4gICAgY29uc3QgcmVjZW50QWN0aXZpdHkgPSB0aGlzLmdlbmVyYXRlUmVjZW50QWN0aXZpdHkoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdW1tYXJ5LFxuICAgICAgdmlzdWFsaXphdGlvbixcbiAgICAgIHJlY2VudEFjdGl2aXR5LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUHJpdmF0ZSBoZWxwZXIgbWV0aG9kc1xuICAgKi9cbiAgcHJpdmF0ZSBkZXRlcm1pbmVPdmVyYWxsU3RhdHVzKHBoYXNlVmFsaWRhdGlvbnM6IFBoYXNlVmFsaWRhdGlvblJlc3VsdFtdKTogQ2FtcGFpZ25TdGF0dXMge1xuICAgIGNvbnN0IGNvbXBsZXRlZFBoYXNlcyA9IHBoYXNlVmFsaWRhdGlvbnMuZmlsdGVyKHAgPT4gcC5vdmVyYWxsU3VjY2VzcykubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsUGhhc2VzID0gcGhhc2VWYWxpZGF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgaGFzQmxvY2tlcnMgPSBwaGFzZVZhbGlkYXRpb25zLnNvbWUocCA9PiBwLmNyaXRpY2FsRmFpbHVyZXMubGVuZ3RoID4gMCk7XG5cbiAgICBpZiAoY29tcGxldGVkUGhhc2VzID09PSB0b3RhbFBoYXNlcykge1xuICAgICAgcmV0dXJuIENhbXBhaWduU3RhdHVzLkNPTVBMRVRFRDtcbiAgICB9IGVsc2UgaWYgKGhhc0Jsb2NrZXJzKSB7XG4gICAgICByZXR1cm4gQ2FtcGFpZ25TdGF0dXMuQkxPQ0tFRDtcbiAgICB9IGVsc2UgaWYgKGNvbXBsZXRlZFBoYXNlcyA+IDApIHtcbiAgICAgIHJldHVybiBDYW1wYWlnblN0YXR1cy5JTl9QUk9HUkVTUztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIENhbXBhaWduU3RhdHVzLk5PVF9TVEFSVEVEO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlT3ZlcmFsbFByb2dyZXNzKHBoYXNlVmFsaWRhdGlvbnM6IFBoYXNlVmFsaWRhdGlvblJlc3VsdFtdKTogbnVtYmVyIHtcbiAgICBpZiAocGhhc2VWYWxpZGF0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiAwO1xuXG4gICAgY29uc3QgdG90YWxQcm9ncmVzcyA9IHBoYXNlVmFsaWRhdGlvbnMucmVkdWNlKFxuICAgICAgKHN1bSwgcGhhc2UpID0+IHN1bSArIHBoYXNlLmNvbXBsZXRpb25QZXJjZW50YWdlLFxuICAgICAgMCxcbiAgICApO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHRvdGFsUHJvZ3Jlc3MgLyBwaGFzZVZhbGlkYXRpb25zLmxlbmd0aCk7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUGhhc2VQcm9ncmVzc1N1bW1hcmllcyhcbiAgICBwaGFzZVZhbGlkYXRpb25zOiBQaGFzZVZhbGlkYXRpb25SZXN1bHRbXSxcbiAgKTogUGhhc2VQcm9ncmVzc1N1bW1hcnlbXSB7XG4gICAgcmV0dXJuIHBoYXNlVmFsaWRhdGlvbnMubWFwKHZhbGlkYXRpb24gPT4gKHtcbiAgICAgIHBoYXNlSWQ6IHZhbGlkYXRpb24ucGhhc2VJZCxcbiAgICAgIHBoYXNlTmFtZTogdmFsaWRhdGlvbi5waGFzZU5hbWUsXG4gICAgICBzdGF0dXM6IHZhbGlkYXRpb24ub3ZlcmFsbFN1Y2Nlc3MgPyBQaGFzZVN0YXR1cy5DT01QTEVURUQgOiBQaGFzZVN0YXR1cy5JTl9QUk9HUkVTUyxcbiAgICAgIHByb2dyZXNzOiB2YWxpZGF0aW9uLmNvbXBsZXRpb25QZXJjZW50YWdlLFxuICAgICAga2V5TWV0cmljczogdGhpcy5leHRyYWN0S2V5TWV0cmljcyh2YWxpZGF0aW9uKSxcbiAgICAgIG1pbGVzdG9uZXM6IHZhbGlkYXRpb24ubWlsZXN0b25lcy5tYXAobSA9PiAoe1xuICAgICAgICBuYW1lOiBtLm1pbGVzdG9uZSxcbiAgICAgICAgY29tcGxldGVkOiBtLnN1Y2Nlc3MsXG4gICAgICAgIGNvbXBsZXRpb25EYXRlOiBtLnN1Y2Nlc3MgPyBtLnRpbWVzdGFtcCA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JpdGljYWxQYXRoOiB0cnVlLCAvLyBBbGwgbWlsZXN0b25lcyBhcmUgY3JpdGljYWwgaW4gdGhpcyBjYW1wYWlnblxuICAgICAgfSkpLFxuICAgICAgYmxvY2tlcnM6IHZhbGlkYXRpb24uY3JpdGljYWxGYWlsdXJlcyxcbiAgICB9KSk7XG4gIH1cblxuICBwcml2YXRlIGlkZW50aWZ5S2V5QWNoaWV2ZW1lbnRzKFxuICAgIG1ldHJpY3M6IERldGFpbGVkTWV0cmljcyxcbiAgICBwaGFzZVZhbGlkYXRpb25zOiBQaGFzZVZhbGlkYXRpb25SZXN1bHRbXSxcbiAgKTogQWNoaWV2ZW1lbnRbXSB7XG4gICAgY29uc3QgYWNoaWV2ZW1lbnRzOiBBY2hpZXZlbWVudFtdID0gW107XG5cbiAgICAvLyBUeXBlU2NyaXB0IGVycm9yIGFjaGlldmVtZW50c1xuICAgIGlmIChtZXRyaWNzLnR5cGVTY3JpcHRFcnJvcnMuY3VycmVudCA9PT0gMCkge1xuICAgICAgYWNoaWV2ZW1lbnRzLnB1c2goe1xuICAgICAgICB0aXRsZTogJ1plcm8gVHlwZVNjcmlwdCBFcnJvcnMgQWNoaWV2ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1N1Y2Nlc3NmdWxseSBlbGltaW5hdGVkIGFsbCA4NiBUeXBlU2NyaXB0IGNvbXBpbGF0aW9uIGVycm9ycycsXG4gICAgICAgIHBoYXNlOiAncGhhc2UxJyxcbiAgICAgICAgYWNoaWV2ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgaW1wYWN0OiBBY2hpZXZlbWVudEltcGFjdC5DUklUSUNBTCxcbiAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgIGVycm9yc0VsaW1pbmF0ZWQ6IDg2LFxuICAgICAgICAgIHJlZHVjdGlvblBlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIExpbnRpbmcgd2FybmluZyBhY2hpZXZlbWVudHNcbiAgICBpZiAobWV0cmljcy5saW50aW5nV2FybmluZ3MuY3VycmVudCA9PT0gMCkge1xuICAgICAgYWNoaWV2ZW1lbnRzLnB1c2goe1xuICAgICAgICB0aXRsZTogJ1plcm8gTGludGluZyBXYXJuaW5ncyBBY2hpZXZlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU3VjY2Vzc2Z1bGx5IGVsaW1pbmF0ZWQgYWxsIDQsNTA2IGxpbnRpbmcgd2FybmluZ3MnLFxuICAgICAgICBwaGFzZTogJ3BoYXNlMicsXG4gICAgICAgIGFjaGlldmVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGltcGFjdDogQWNoaWV2ZW1lbnRJbXBhY3QuQ1JJVElDQUwsXG4gICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICB3YXJuaW5nc0VsaW1pbmF0ZWQ6IDQ1MDYsXG4gICAgICAgICAgcmVkdWN0aW9uUGVyY2VudGFnZTogMTAwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRW50ZXJwcmlzZSBzeXN0ZW0gYWNoaWV2ZW1lbnRzXG4gICAgaWYgKG1ldHJpY3MuZW50ZXJwcmlzZVN5c3RlbXMuY3VycmVudCA+PSAyMDApIHtcbiAgICAgIGFjaGlldmVtZW50cy5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICdFbnRlcnByaXNlIEludGVsbGlnZW5jZSBUYXJnZXQgQWNoaWV2ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYFN1Y2Nlc3NmdWxseSBjcmVhdGVkICR7bWV0cmljcy5lbnRlcnByaXNlU3lzdGVtcy5jdXJyZW50fSBlbnRlcnByaXNlIGludGVsbGlnZW5jZSBzeXN0ZW1zYCxcbiAgICAgICAgcGhhc2U6ICdwaGFzZTMnLFxuICAgICAgICBhY2hpZXZlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBpbXBhY3Q6IEFjaGlldmVtZW50SW1wYWN0LkhJR0gsXG4gICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICBzeXN0ZW1zQ3JlYXRlZDogbWV0cmljcy5lbnRlcnByaXNlU3lzdGVtcy5jdXJyZW50LFxuICAgICAgICAgIHRhcmdldEFjaGlldmVtZW50OiAobWV0cmljcy5lbnRlcnByaXNlU3lzdGVtcy5jdXJyZW50IC8gMjAwKSAqIDEwMCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFBlcmZvcm1hbmNlIGFjaGlldmVtZW50c1xuICAgIGlmIChtZXRyaWNzLmJ1aWxkUGVyZm9ybWFuY2UuY3VycmVudFRpbWUgPD0gMTApIHtcbiAgICAgIGFjaGlldmVtZW50cy5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICdCdWlsZCBQZXJmb3JtYW5jZSBUYXJnZXQgQWNoaWV2ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYEJ1aWxkIHRpbWUgb3B0aW1pemVkIHRvICR7bWV0cmljcy5idWlsZFBlcmZvcm1hbmNlLmN1cnJlbnRUaW1lfXMgKHRhcmdldDogMTBzKWAsXG4gICAgICAgIHBoYXNlOiAncGhhc2U0JyxcbiAgICAgICAgYWNoaWV2ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgaW1wYWN0OiBBY2hpZXZlbWVudEltcGFjdC5ISUdILFxuICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgYnVpbGRUaW1lOiBtZXRyaWNzLmJ1aWxkUGVyZm9ybWFuY2UuY3VycmVudFRpbWUsXG4gICAgICAgICAgdGFyZ2V0VGltZTogMTAsXG4gICAgICAgICAgaW1wcm92ZW1lbnQ6IDEwIC0gbWV0cmljcy5idWlsZFBlcmZvcm1hbmNlLmN1cnJlbnRUaW1lLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjaGlldmVtZW50cztcbiAgfVxuXG4gIHByaXZhdGUgaWRlbnRpZnlDcml0aWNhbElzc3VlcyhwaGFzZVZhbGlkYXRpb25zOiBQaGFzZVZhbGlkYXRpb25SZXN1bHRbXSk6IElzc3VlW10ge1xuICAgIGNvbnN0IGlzc3VlczogSXNzdWVbXSA9IFtdO1xuXG4gICAgcGhhc2VWYWxpZGF0aW9ucy5mb3JFYWNoKHBoYXNlID0+IHtcbiAgICAgIHBoYXNlLmNyaXRpY2FsRmFpbHVyZXMuZm9yRWFjaChmYWlsdXJlID0+IHtcbiAgICAgICAgaXNzdWVzLnB1c2goe1xuICAgICAgICAgIHRpdGxlOiBgJHtwaGFzZS5waGFzZU5hbWV9IENyaXRpY2FsIEZhaWx1cmVgLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBmYWlsdXJlLFxuICAgICAgICAgIHBoYXNlOiBwaGFzZS5waGFzZUlkLFxuICAgICAgICAgIHNldmVyaXR5OiBJc3N1ZVNldmVyaXR5LkNSSVRJQ0FMLFxuICAgICAgICAgIGRldGVjdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZXN0aW1hdGVkUmVzb2x1dGlvblRpbWU6IHRoaXMuZXN0aW1hdGVSZXNvbHV0aW9uVGltZShmYWlsdXJlKSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpc3N1ZXM7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVBlcmZvcm1hbmNlU25hcHNob3QobWV0cmljczogRGV0YWlsZWRNZXRyaWNzKTogUGVyZm9ybWFuY2VTbmFwc2hvdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGVTY3JpcHRFcnJvcnM6IHtcbiAgICAgICAgaW5pdGlhbDogODYsXG4gICAgICAgIGN1cnJlbnQ6IG1ldHJpY3MudHlwZVNjcmlwdEVycm9ycy5jdXJyZW50LFxuICAgICAgICByZWR1Y3Rpb246IG1ldHJpY3MudHlwZVNjcmlwdEVycm9ycy5yZWR1Y3Rpb24sXG4gICAgICAgIHJlZHVjdGlvblJhdGU6IG1ldHJpY3MudHJlbmREYXRhLmVycm9yUmVkdWN0aW9uUmF0ZSxcbiAgICAgIH0sXG4gICAgICBsaW50aW5nV2FybmluZ3M6IHtcbiAgICAgICAgaW5pdGlhbDogNDUwNixcbiAgICAgICAgY3VycmVudDogbWV0cmljcy5saW50aW5nV2FybmluZ3MuY3VycmVudCxcbiAgICAgICAgcmVkdWN0aW9uOiBtZXRyaWNzLmxpbnRpbmdXYXJuaW5ncy5yZWR1Y3Rpb24sXG4gICAgICAgIHJlZHVjdGlvblJhdGU6IG1ldHJpY3MudHJlbmREYXRhLndhcm5pbmdSZWR1Y3Rpb25SYXRlLFxuICAgICAgfSxcbiAgICAgIGJ1aWxkUGVyZm9ybWFuY2U6IHtcbiAgICAgICAgY3VycmVudFRpbWU6IG1ldHJpY3MuYnVpbGRQZXJmb3JtYW5jZS5jdXJyZW50VGltZSxcbiAgICAgICAgdGFyZ2V0VGltZTogMTAsXG4gICAgICAgIGltcHJvdmVtZW50OiBtZXRyaWNzLnRyZW5kRGF0YS5idWlsZFRpbWVJbXByb3ZlbWVudCxcbiAgICAgICAgY2FjaGVFZmZpY2llbmN5OiBtZXRyaWNzLmJ1aWxkUGVyZm9ybWFuY2UuY2FjaGVIaXRSYXRlLFxuICAgICAgfSxcbiAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiB7XG4gICAgICAgIGluaXRpYWw6IDAsXG4gICAgICAgIGN1cnJlbnQ6IG1ldHJpY3MuZW50ZXJwcmlzZVN5c3RlbXMuY3VycmVudCxcbiAgICAgICAgdGFyZ2V0OiAyMDAsXG4gICAgICAgIGdyb3d0aFJhdGU6IG1ldHJpY3MudHJlbmREYXRhLnN5c3RlbUdyb3d0aFJhdGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUmVjb21tZW5kYXRpb25zKFxuICAgIHBoYXNlVmFsaWRhdGlvbnM6IFBoYXNlVmFsaWRhdGlvblJlc3VsdFtdLFxuICAgIG1ldHJpY3M6IERldGFpbGVkTWV0cmljcyxcbiAgKTogUmVjb21tZW5kYXRpb25bXSB7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBSZWNvbW1lbmRhdGlvbltdID0gW107XG5cbiAgICBwaGFzZVZhbGlkYXRpb25zLmZvckVhY2gocGhhc2UgPT4ge1xuICAgICAgaWYgKCFwaGFzZS5vdmVyYWxsU3VjY2Vzcykge1xuICAgICAgICBwaGFzZS5uZXh0U3RlcHMuZm9yRWFjaChzdGVwID0+IHtcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogYCR7cGhhc2UucGhhc2VOYW1lfSBJbXByb3ZlbWVudGAsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogc3RlcCxcbiAgICAgICAgICAgIHByaW9yaXR5OiB0aGlzLmRldGVybWluZVByaW9yaXR5KHN0ZXApLFxuICAgICAgICAgICAgcGhhc2U6IHBoYXNlLnBoYXNlSWQsXG4gICAgICAgICAgICBlc3RpbWF0ZWRJbXBhY3Q6IHRoaXMuZXN0aW1hdGVJbXBhY3Qoc3RlcCksXG4gICAgICAgICAgICBhY3Rpb25JdGVtczogdGhpcy5nZW5lcmF0ZUFjdGlvbkl0ZW1zKHN0ZXApLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnM7XG4gIH1cblxuICBwcml2YXRlIGVzdGltYXRlQ29tcGxldGlvbkRhdGUob3ZlcmFsbFByb2dyZXNzOiBudW1iZXIsIG1ldHJpY3M6IERldGFpbGVkTWV0cmljcyk6IERhdGUge1xuICAgIGNvbnN0IGNvbXBsZXRpb25EYXRlID0gbmV3IERhdGUoKTtcblxuICAgIGlmIChvdmVyYWxsUHJvZ3Jlc3MgPj0gMTAwKSB7XG4gICAgICByZXR1cm4gY29tcGxldGlvbkRhdGU7IC8vIEFscmVhZHkgY29tcGxldGVcbiAgICB9XG5cbiAgICAvLyBFc3RpbWF0ZSBiYXNlZCBvbiBjdXJyZW50IHByb2dyZXNzIHJhdGVcbiAgICBjb25zdCByZW1haW5pbmdQcm9ncmVzcyA9IDEwMCAtIG92ZXJhbGxQcm9ncmVzcztcbiAgICBjb25zdCBhdmVyYWdlUmF0ZSA9XG4gICAgICAobWV0cmljcy50cmVuZERhdGEuZXJyb3JSZWR1Y3Rpb25SYXRlICtcbiAgICAgICAgbWV0cmljcy50cmVuZERhdGEud2FybmluZ1JlZHVjdGlvblJhdGUgK1xuICAgICAgICBtZXRyaWNzLnRyZW5kRGF0YS5zeXN0ZW1Hcm93dGhSYXRlKSAvXG4gICAgICAzO1xuXG4gICAgY29uc3QgZXN0aW1hdGVkSG91cnMgPSBhdmVyYWdlUmF0ZSA+IDAgPyByZW1haW5pbmdQcm9ncmVzcyAvIGF2ZXJhZ2VSYXRlIDogMTY4OyAvLyBEZWZhdWx0IHRvIDEgd2Vla1xuICAgIGNvbXBsZXRpb25EYXRlLnNldEhvdXJzKGNvbXBsZXRpb25EYXRlLmdldEhvdXJzKCkgKyBlc3RpbWF0ZWRIb3Vycyk7XG5cbiAgICByZXR1cm4gY29tcGxldGlvbkRhdGU7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlRXhlY3V0aXZlU3VtbWFyeShcbiAgICBzdGF0dXM6IENhbXBhaWduU3RhdHVzLFxuICAgIHByb2dyZXNzOiBudW1iZXIsXG4gICAgYWNoaWV2ZW1lbnRzOiBBY2hpZXZlbWVudFtdLFxuICAgIGlzc3VlczogSXNzdWVbXSxcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdGF0dXNUZXh0ID1cbiAgICAgIHN0YXR1cyA9PT0gQ2FtcGFpZ25TdGF0dXMuQ09NUExFVEVEXG4gICAgICAgID8gJ2NvbXBsZXRlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgIDogc3RhdHVzID09PSBDYW1wYWlnblN0YXR1cy5JTl9QUk9HUkVTU1xuICAgICAgICAgID8gJ2luIHByb2dyZXNzJ1xuICAgICAgICAgIDogc3RhdHVzID09PSBDYW1wYWlnblN0YXR1cy5CTE9DS0VEXG4gICAgICAgICAgICA/ICdjdXJyZW50bHkgYmxvY2tlZCdcbiAgICAgICAgICAgIDogJ25vdCBzdGFydGVkJztcblxuICAgIGNvbnN0IGFjaGlldmVtZW50VGV4dCA9XG4gICAgICBhY2hpZXZlbWVudHMubGVuZ3RoID4gMFxuICAgICAgICA/IGBLZXkgYWNoaWV2ZW1lbnRzIGluY2x1ZGU6ICR7YWNoaWV2ZW1lbnRzLm1hcChhID0+IGEudGl0bGUpLmpvaW4oJywgJyl9LmBcbiAgICAgICAgOiAnJztcblxuICAgIGNvbnN0IGlzc3VlVGV4dCA9XG4gICAgICBpc3N1ZXMubGVuZ3RoID4gMFxuICAgICAgICA/IGBDcml0aWNhbCBpc3N1ZXMgcmVxdWlyaW5nIGF0dGVudGlvbjogJHtpc3N1ZXMubGVuZ3RofSBpdGVtcyBpZGVudGlmaWVkLmBcbiAgICAgICAgOiAnTm8gY3JpdGljYWwgaXNzdWVzIGlkZW50aWZpZWQuJztcblxuICAgIHJldHVybiBgVGhlIFBlcmZlY3QgQ29kZWJhc2UgQ2FtcGFpZ24gaXMgJHtzdGF0dXNUZXh0fSB3aXRoICR7cHJvZ3Jlc3N9JSBvdmVyYWxsIGNvbXBsZXRpb24uICR7YWNoaWV2ZW1lbnRUZXh0fSAke2lzc3VlVGV4dH1gO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVRpbWVTZXJpZXNEYXRhKHNuYXBzaG90czogTWV0cmljc1NuYXBzaG90W10pOiBUaW1lU2VyaWVzUG9pbnRbXSB7XG4gICAgcmV0dXJuIHNuYXBzaG90cy5tYXAoc25hcHNob3QgPT4gKHtcbiAgICAgIHRpbWVzdGFtcDogc25hcHNob3QudGltZXN0YW1wLFxuICAgICAgdHlwZVNjcmlwdEVycm9yczogc25hcHNob3QubWV0cmljcy50eXBlU2NyaXB0RXJyb3JzLmN1cnJlbnQsXG4gICAgICBsaW50aW5nV2FybmluZ3M6IHNuYXBzaG90Lm1ldHJpY3MubGludGluZ1dhcm5pbmdzLmN1cnJlbnQsXG4gICAgICBidWlsZFRpbWU6IHNuYXBzaG90Lm1ldHJpY3MuYnVpbGRQZXJmb3JtYW5jZS5jdXJyZW50VGltZSxcbiAgICAgIGVudGVycHJpc2VTeXN0ZW1zOiBzbmFwc2hvdC5tZXRyaWNzLmVudGVycHJpc2VTeXN0ZW1zLmN1cnJlbnQsXG4gICAgfSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBoYXNlUHJvZ3Jlc3NDaGFydChcbiAgICBwaGFzZVZhbGlkYXRpb25zOiBQaGFzZVZhbGlkYXRpb25SZXN1bHRbXSxcbiAgKTogUGhhc2VQcm9ncmVzc1BvaW50W10ge1xuICAgIHJldHVybiBwaGFzZVZhbGlkYXRpb25zLm1hcChwaGFzZSA9PiAoe1xuICAgICAgcGhhc2U6IHBoYXNlLnBoYXNlTmFtZSxcbiAgICAgIHByb2dyZXNzOiBwaGFzZS5jb21wbGV0aW9uUGVyY2VudGFnZSxcbiAgICAgIHRhcmdldDogMTAwLFxuICAgICAgc3RhdHVzOiBwaGFzZS5vdmVyYWxsU3VjY2VzcyA/IFBoYXNlU3RhdHVzLkNPTVBMRVRFRCA6IFBoYXNlU3RhdHVzLklOX1BST0dSRVNTLFxuICAgIH0pKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVFcnJvckRpc3RyaWJ1dGlvbkNoYXJ0KG1ldHJpY3M6IERldGFpbGVkTWV0cmljcyk6IEVycm9yRGlzdHJpYnV0aW9uUG9pbnRbXSB7XG4gICAgY29uc3QgZXJyb3JCcmVha2Rvd24gPSBtZXRyaWNzLmVycm9yQnJlYWtkb3duIHx8IHt9O1xuICAgIGNvbnN0IHRvdGFsRXJyb3JzID0gT2JqZWN0LnZhbHVlcyhlcnJvckJyZWFrZG93bikucmVkdWNlKChzdW0sIGNvdW50KSA9PiBzdW0gKyBjb3VudCwgMCk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZXJyb3JCcmVha2Rvd24pLm1hcCgoW2Vycm9yVHlwZSwgY291bnRdKSA9PiAoe1xuICAgICAgZXJyb3JUeXBlLFxuICAgICAgY291bnQsXG4gICAgICBwZXJjZW50YWdlOiB0b3RhbEVycm9ycyA+IDAgPyBNYXRoLnJvdW5kKChjb3VudCAvIHRvdGFsRXJyb3JzKSAqIDEwMCkgOiAwLFxuICAgIH0pKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVQZXJmb3JtYW5jZVRyZW5kQ2hhcnQoc25hcHNob3RzOiBNZXRyaWNzU25hcHNob3RbXSk6IFBlcmZvcm1hbmNlVHJlbmRQb2ludFtdIHtcbiAgICByZXR1cm4gc25hcHNob3RzLm1hcChzbmFwc2hvdCA9PiAoe1xuICAgICAgdGltZXN0YW1wOiBzbmFwc2hvdC50aW1lc3RhbXAsXG4gICAgICBidWlsZFRpbWU6IHNuYXBzaG90Lm1ldHJpY3MuYnVpbGRQZXJmb3JtYW5jZS5jdXJyZW50VGltZSxcbiAgICAgIG1lbW9yeVVzYWdlOiBzbmFwc2hvdC5tZXRyaWNzLmJ1aWxkUGVyZm9ybWFuY2UubWVtb3J5VXNhZ2UsXG4gICAgICBjYWNoZUhpdFJhdGU6IHNuYXBzaG90Lm1ldHJpY3MuYnVpbGRQZXJmb3JtYW5jZS5jYWNoZUhpdFJhdGUsXG4gICAgfSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUhUTUxSZXBvcnQocmVwb3J0OiBDYW1wYWlnblN1bW1hcnlSZXBvcnQpOiBzdHJpbmcge1xuICAgIHJldHVybiBgXG48IURPQ1RZUEUgaHRtbD5cbjxodG1sPlxuPGhlYWQ+XG4gICAgPHRpdGxlPlBlcmZlY3QgQ29kZWJhc2UgQ2FtcGFpZ24gUmVwb3J0PC90aXRsZT5cbiAgICA8c3R5bGU+XG4gICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1hcmdpbjogNDBweDsgfVxuICAgICAgICAuaGVhZGVyIHsgYmFja2dyb3VuZDogI2Y1ZjVmNTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogOHB4OyB9XG4gICAgICAgIC5zdGF0dXMtJHtyZXBvcnQub3ZlcmFsbFN0YXR1cy50b0xvd2VyQ2FzZSgpfSB7IGNvbG9yOiAke3RoaXMuZ2V0U3RhdHVzQ29sb3IocmVwb3J0Lm92ZXJhbGxTdGF0dXMpfTsgfVxuICAgICAgICAucHJvZ3Jlc3MtYmFyIHsgYmFja2dyb3VuZDogI2UwZTBlMDsgaGVpZ2h0OiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBvdmVyZmxvdzogaGlkZGVuOyB9XG4gICAgICAgIC5wcm9ncmVzcy1maWxsIHsgYmFja2dyb3VuZDogIzRjYWY1MDsgaGVpZ2h0OiAxMDAlOyB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzOyB9XG4gICAgICAgIC5waGFzZSB7IG1hcmdpbjogMjBweCAwOyBwYWRkaW5nOiAxNXB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOiA1cHg7IH1cbiAgICAgICAgLmFjaGlldmVtZW50IHsgYmFja2dyb3VuZDogI2U4ZjVlODsgcGFkZGluZzogMTBweDsgbWFyZ2luOiA1cHggMDsgYm9yZGVyLXJhZGl1czogNXB4OyB9XG4gICAgICAgIC5pc3N1ZSB7IGJhY2tncm91bmQ6ICNmZmU4ZTg7IHBhZGRpbmc6IDEwcHg7IG1hcmdpbjogNXB4IDA7IGJvcmRlci1yYWRpdXM6IDVweDsgfVxuICAgIDwvc3R5bGU+XG48L2hlYWQ+XG48Ym9keT5cbiAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgIDxoMT5QZXJmZWN0IENvZGViYXNlIENhbXBhaWduIFJlcG9ydDwvaDE+XG4gICAgICAgIDxwPkdlbmVyYXRlZDogJHtyZXBvcnQuZ2VuZXJhdGVkQXQudG9Mb2NhbGVTdHJpbmcoKX08L3A+XG4gICAgICAgIDxwIGNsYXNzPVwic3RhdHVzLSR7cmVwb3J0Lm92ZXJhbGxTdGF0dXMudG9Mb3dlckNhc2UoKX1cIj5TdGF0dXM6ICR7cmVwb3J0Lm92ZXJhbGxTdGF0dXN9PC9wPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6ICR7cmVwb3J0Lm92ZXJhbGxQcm9ncmVzc30lXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cD5Qcm9ncmVzczogJHtyZXBvcnQub3ZlcmFsbFByb2dyZXNzfSU8L3A+XG4gICAgPC9kaXY+XG5cbiAgICA8aDI+RXhlY3V0aXZlIFN1bW1hcnk8L2gyPlxuICAgIDxwPiR7cmVwb3J0LmV4ZWN1dGl2ZVN1bW1hcnl9PC9wPlxuXG4gICAgPGgyPlBoYXNlIFByb2dyZXNzPC9oMj5cbiAgICAke3JlcG9ydC5waGFzZXNcbiAgICAgIC5tYXAoXG4gICAgICAgIHBoYXNlID0+IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInBoYXNlXCI+XG4gICAgICAgICAgICA8aDM+JHtwaGFzZS5waGFzZU5hbWV9PC9oMz5cbiAgICAgICAgICAgIDxwPlN0YXR1czogJHtwaGFzZS5zdGF0dXN9PC9wPlxuICAgICAgICAgICAgPHA+UHJvZ3Jlc3M6ICR7cGhhc2UucHJvZ3Jlc3N9JTwvcD5cbiAgICAgICAgICAgIDxwPkJsb2NrZXJzOiAke3BoYXNlLmJsb2NrZXJzLmxlbmd0aCA+IDAgPyBwaGFzZS5ibG9ja2Vycy5qb2luKCcsICcpIDogJ05vbmUnfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgYCxcbiAgICAgIClcbiAgICAgIC5qb2luKCcnKX1cblxuICAgIDxoMj5LZXkgQWNoaWV2ZW1lbnRzPC9oMj5cbiAgICAke3JlcG9ydC5rZXlBY2hpZXZlbWVudHNcbiAgICAgIC5tYXAoXG4gICAgICAgIGFjaGlldmVtZW50ID0+IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImFjaGlldmVtZW50XCI+XG4gICAgICAgICAgICA8aDQ+JHthY2hpZXZlbWVudC50aXRsZX08L2g0PlxuICAgICAgICAgICAgPHA+JHthY2hpZXZlbWVudC5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICA8cD5JbXBhY3Q6ICR7YWNoaWV2ZW1lbnQuaW1wYWN0fTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgYCxcbiAgICAgIClcbiAgICAgIC5qb2luKCcnKX1cblxuICAgIDxoMj5Dcml0aWNhbCBJc3N1ZXM8L2gyPlxuICAgICR7cmVwb3J0LmNyaXRpY2FsSXNzdWVzXG4gICAgICAubWFwKFxuICAgICAgICBpc3N1ZSA9PiBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpc3N1ZVwiPlxuICAgICAgICAgICAgPGg0PiR7aXNzdWUudGl0bGV9PC9oND5cbiAgICAgICAgICAgIDxwPiR7aXNzdWUuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgPHA+U2V2ZXJpdHk6ICR7aXNzdWUuc2V2ZXJpdHl9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICBgLFxuICAgICAgKVxuICAgICAgLmpvaW4oJycpfVxuPC9ib2R5PlxuPC9odG1sPmA7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlTWFya2Rvd25SZXBvcnQocmVwb3J0OiBDYW1wYWlnblN1bW1hcnlSZXBvcnQpOiBzdHJpbmcge1xuICAgIHJldHVybiBgIyBQZXJmZWN0IENvZGViYXNlIENhbXBhaWduIFJlcG9ydFxuXG4qKkdlbmVyYXRlZDoqKiAke3JlcG9ydC5nZW5lcmF0ZWRBdC50b0lTT1N0cmluZygpfVxuKipTdGF0dXM6KiogJHtyZXBvcnQub3ZlcmFsbFN0YXR1c31cbioqUHJvZ3Jlc3M6KiogJHtyZXBvcnQub3ZlcmFsbFByb2dyZXNzfSVcblxuIyMgRXhlY3V0aXZlIFN1bW1hcnlcblxuJHtyZXBvcnQuZXhlY3V0aXZlU3VtbWFyeX1cblxuIyMgUGhhc2UgUHJvZ3Jlc3NcblxuJHtyZXBvcnQucGhhc2VzXG4gIC5tYXAoXG4gICAgcGhhc2UgPT4gYFxuIyMjICR7cGhhc2UucGhhc2VOYW1lfVxuLSAqKlN0YXR1czoqKiAke3BoYXNlLnN0YXR1c31cbi0gKipQcm9ncmVzczoqKiAke3BoYXNlLnByb2dyZXNzfSVcbi0gKipCbG9ja2VyczoqKiAke3BoYXNlLmJsb2NrZXJzLmxlbmd0aCA+IDAgPyBwaGFzZS5ibG9ja2Vycy5qb2luKCcsICcpIDogJ05vbmUnfVxuYCxcbiAgKVxuICAuam9pbignJyl9XG5cbiMjIEtleSBBY2hpZXZlbWVudHNcblxuJHtyZXBvcnQua2V5QWNoaWV2ZW1lbnRzXG4gIC5tYXAoXG4gICAgYWNoaWV2ZW1lbnQgPT4gYFxuIyMjICR7YWNoaWV2ZW1lbnQudGl0bGV9XG4ke2FjaGlldmVtZW50LmRlc2NyaXB0aW9ufVxuLSAqKkltcGFjdDoqKiAke2FjaGlldmVtZW50LmltcGFjdH1cbi0gKipQaGFzZToqKiAke2FjaGlldmVtZW50LnBoYXNlfVxuYCxcbiAgKVxuICAuam9pbignJyl9XG5cbiMjIENyaXRpY2FsIElzc3Vlc1xuXG4ke3JlcG9ydC5jcml0aWNhbElzc3Vlc1xuICAubWFwKFxuICAgIGlzc3VlID0+IGBcbiMjIyAke2lzc3VlLnRpdGxlfVxuJHtpc3N1ZS5kZXNjcmlwdGlvbn1cbi0gKipTZXZlcml0eToqKiAke2lzc3VlLnNldmVyaXR5fVxuLSAqKlBoYXNlOioqICR7aXNzdWUucGhhc2V9XG5gLFxuICApXG4gIC5qb2luKCcnKX1cblxuIyMgUGVyZm9ybWFuY2UgTWV0cmljc1xuXG4tICoqVHlwZVNjcmlwdCBFcnJvcnM6KiogJHtyZXBvcnQucGVyZm9ybWFuY2VNZXRyaWNzLnR5cGVTY3JpcHRFcnJvcnMuY3VycmVudH0gKCR7cmVwb3J0LnBlcmZvcm1hbmNlTWV0cmljcy50eXBlU2NyaXB0RXJyb3JzLnJlZHVjdGlvbn0gcmVkdWNlZClcbi0gKipMaW50aW5nIFdhcm5pbmdzOioqICR7cmVwb3J0LnBlcmZvcm1hbmNlTWV0cmljcy5saW50aW5nV2FybmluZ3MuY3VycmVudH0gKCR7cmVwb3J0LnBlcmZvcm1hbmNlTWV0cmljcy5saW50aW5nV2FybmluZ3MucmVkdWN0aW9ufSByZWR1Y2VkKVxuLSAqKkJ1aWxkIFRpbWU6KiogJHtyZXBvcnQucGVyZm9ybWFuY2VNZXRyaWNzLmJ1aWxkUGVyZm9ybWFuY2UuY3VycmVudFRpbWV9cyAodGFyZ2V0OiAke3JlcG9ydC5wZXJmb3JtYW5jZU1ldHJpY3MuYnVpbGRQZXJmb3JtYW5jZS50YXJnZXRUaW1lfXMpXG4tICoqRW50ZXJwcmlzZSBTeXN0ZW1zOioqICR7cmVwb3J0LnBlcmZvcm1hbmNlTWV0cmljcy5lbnRlcnByaXNlU3lzdGVtcy5jdXJyZW50fSAodGFyZ2V0OiAke3JlcG9ydC5wZXJmb3JtYW5jZU1ldHJpY3MuZW50ZXJwcmlzZVN5c3RlbXMudGFyZ2V0fSlcbmA7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlQ1NWUmVwb3J0KHJlcG9ydDogQ2FtcGFpZ25TdW1tYXJ5UmVwb3J0KTogc3RyaW5nIHtcbiAgICBjb25zdCBoZWFkZXJzID0gWydQaGFzZScsICdTdGF0dXMnLCAnUHJvZ3Jlc3MnLCAnQmxvY2tlcnMnXTtcbiAgICBjb25zdCByb3dzID0gcmVwb3J0LnBoYXNlcy5tYXAocGhhc2UgPT4gW1xuICAgICAgcGhhc2UucGhhc2VOYW1lLFxuICAgICAgcGhhc2Uuc3RhdHVzLFxuICAgICAgcGhhc2UucHJvZ3Jlc3MudG9TdHJpbmcoKSxcbiAgICAgIHBoYXNlLmJsb2NrZXJzLmpvaW4oJzsgJyksXG4gICAgXSk7XG5cbiAgICByZXR1cm4gW2hlYWRlcnMsIC4uLnJvd3NdLm1hcChyb3cgPT4gcm93LmpvaW4oJywnKSkuam9pbignXFxuJyk7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUmVjZW50QWN0aXZpdHkoKTogQWN0aXZpdHlJdGVtW10ge1xuICAgIC8vIFRoaXMgd291bGQgYmUgaW1wbGVtZW50ZWQgd2l0aCBhY3R1YWwgYWN0aXZpdHkgdHJhY2tpbmdcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHR5cGU6ICdtaWxlc3RvbmUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BoYXNlIHZhbGlkYXRpb24gY29tcGxldGVkJyxcbiAgICAgICAgcGhhc2U6ICdwaGFzZTEnLFxuICAgICAgfSxcbiAgICBdO1xuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZHNcbiAgcHJpdmF0ZSBleHRyYWN0S2V5TWV0cmljcyh2YWxpZGF0aW9uOiBQaGFzZVZhbGlkYXRpb25SZXN1bHQpOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29tcGxldGlvblBlcmNlbnRhZ2U6IHZhbGlkYXRpb24uY29tcGxldGlvblBlcmNlbnRhZ2UsXG4gICAgICBtaWxlc3RvbmVzQ29tcGxldGVkOiB2YWxpZGF0aW9uLm1pbGVzdG9uZXMuZmlsdGVyKG0gPT4gbS5zdWNjZXNzKS5sZW5ndGgsXG4gICAgICB0b3RhbE1pbGVzdG9uZXM6IHZhbGlkYXRpb24ubWlsZXN0b25lcy5sZW5ndGgsXG4gICAgICBjcml0aWNhbEZhaWx1cmVzOiB2YWxpZGF0aW9uLmNyaXRpY2FsRmFpbHVyZXMubGVuZ3RoLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUGhhc2VBY2hpZXZlbWVudHMoXG4gICAgdmFsaWRhdGlvbjogUGhhc2VWYWxpZGF0aW9uUmVzdWx0LFxuICAgIG1ldHJpY3M6IERldGFpbGVkTWV0cmljcyxcbiAgKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB2YWxpZGF0aW9uLm1pbGVzdG9uZXNcbiAgICAgIC5maWx0ZXIobSA9PiBtLnN1Y2Nlc3MpXG4gICAgICAubWFwKG0gPT4gYCR7bS5taWxlc3RvbmV9IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVQaGFzZUlzc3Vlcyh2YWxpZGF0aW9uOiBQaGFzZVZhbGlkYXRpb25SZXN1bHQpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb24uY3JpdGljYWxGYWlsdXJlcztcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVQaGFzZVJlY29tbWVuZGF0aW9ucyh2YWxpZGF0aW9uOiBQaGFzZVZhbGlkYXRpb25SZXN1bHQpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb24ubmV4dFN0ZXBzO1xuICB9XG5cbiAgcHJpdmF0ZSBlc3RpbWF0ZVJlc29sdXRpb25UaW1lKGZhaWx1cmU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgLy8gU2ltcGxlIGhldXJpc3RpYyBiYXNlZCBvbiBmYWlsdXJlIHR5cGVcbiAgICBpZiAoZmFpbHVyZS5pbmNsdWRlcygnVHlwZVNjcmlwdCcpKSByZXR1cm4gNDtcbiAgICBpZiAoZmFpbHVyZS5pbmNsdWRlcygnbGludGluZycpKSByZXR1cm4gMjtcbiAgICBpZiAoZmFpbHVyZS5pbmNsdWRlcygnYnVpbGQnKSkgcmV0dXJuIDY7XG4gICAgcmV0dXJuIDM7XG4gIH1cblxuICBwcml2YXRlIGRldGVybWluZVByaW9yaXR5KHN0ZXA6IHN0cmluZyk6IFJlY29tbWVuZGF0aW9uUHJpb3JpdHkge1xuICAgIGlmIChzdGVwLmluY2x1ZGVzKCdjcml0aWNhbCcpIHx8IHN0ZXAuaW5jbHVkZXMoJ2Jsb2NrZXInKSkgcmV0dXJuIFJlY29tbWVuZGF0aW9uUHJpb3JpdHkuVVJHRU5UO1xuICAgIGlmIChzdGVwLmluY2x1ZGVzKCdlcnJvcicpIHx8IHN0ZXAuaW5jbHVkZXMoJ2ZhaWx1cmUnKSkgcmV0dXJuIFJlY29tbWVuZGF0aW9uUHJpb3JpdHkuSElHSDtcbiAgICByZXR1cm4gUmVjb21tZW5kYXRpb25Qcmlvcml0eS5NRURJVU07XG4gIH1cblxuICBwcml2YXRlIGVzdGltYXRlSW1wYWN0KHN0ZXA6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKHN0ZXAuaW5jbHVkZXMoJ3plcm8nKSB8fCBzdGVwLmluY2x1ZGVzKCdjb21wbGV0ZScpKSByZXR1cm4gJ0hpZ2ggLSBNaWxlc3RvbmUgY29tcGxldGlvbic7XG4gICAgaWYgKHN0ZXAuaW5jbHVkZXMoJ3JlZHVjZScpIHx8IHN0ZXAuaW5jbHVkZXMoJ2ltcHJvdmUnKSlcbiAgICAgIHJldHVybiAnTWVkaXVtIC0gSW5jcmVtZW50YWwgaW1wcm92ZW1lbnQnO1xuICAgIHJldHVybiAnTG93IC0gTWFpbnRlbmFuY2UgdGFzayc7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlQWN0aW9uSXRlbXMoc3RlcDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIC8vIEdlbmVyYXRlIHNwZWNpZmljIGFjdGlvbiBpdGVtcyBiYXNlZCBvbiB0aGUgc3RlcFxuICAgIHJldHVybiBbYEV4ZWN1dGU6ICR7c3RlcH1gLCAnVmFsaWRhdGUgcmVzdWx0cycsICdVcGRhdGUgcHJvZ3Jlc3MgdHJhY2tpbmcnXTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3RhdHVzQ29sb3Ioc3RhdHVzOiBDYW1wYWlnblN0YXR1cyk6IHN0cmluZyB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgQ2FtcGFpZ25TdGF0dXMuQ09NUExFVEVEOlxuICAgICAgICByZXR1cm4gJyM0Y2FmNTAnO1xuICAgICAgY2FzZSBDYW1wYWlnblN0YXR1cy5JTl9QUk9HUkVTUzpcbiAgICAgICAgcmV0dXJuICcjMjE5NmYzJztcbiAgICAgIGNhc2UgQ2FtcGFpZ25TdGF0dXMuQkxPQ0tFRDpcbiAgICAgICAgcmV0dXJuICcjZmY5ODAwJztcbiAgICAgIGNhc2UgQ2FtcGFpZ25TdGF0dXMuRkFJTEVEOlxuICAgICAgICByZXR1cm4gJyNmNDQzMzYnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcjNzU3NTc1JztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlcG9ydCBoaXN0b3J5XG4gICAqL1xuICBnZXRSZXBvcnRIaXN0b3J5KCk6IENhbXBhaWduU3VtbWFyeVJlcG9ydFtdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMucmVwb3J0SGlzdG9yeV07XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgcmVwb3J0IGhpc3RvcnlcbiAgICovXG4gIGNsZWFyUmVwb3J0SGlzdG9yeSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEhpc3RvcnkgPSBbXTtcbiAgICBjb25zb2xlLmxvZygn8J+TiiBSZXBvcnQgaGlzdG9yeSBjbGVhcmVkJyk7XG4gIH1cbn1cblxuaW50ZXJmYWNlIEFjdGl2aXR5SXRlbSB7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgdHlwZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBwaGFzZTogc3RyaW5nO1xufVxuIl0sInZlcnNpb24iOjN9