486b8b20dced805172e4e215baca4674
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const useAstrologicalState_1 = require("@/hooks/useAstrologicalState");
const react_1 = require("react");
const navigation_1 = require("next/navigation");
const ElementalCalculator_1 = require("@/services/ElementalCalculator");
const ingredientRecommender_1 = require("@/utils/ingredientRecommender");
const lucide_react_1 = require("lucide-react");
const useChakraInfluencedFood_1 = require("@/hooks/useChakraInfluencedFood");
const ingredients_1 = require("@/data/ingredients");
const EnterpriseIntelligencePanel_1 = __importDefault(require("@/components/intelligence/EnterpriseIntelligencePanel"));
/**
 * Maps planets to their elemental influences (diurnal and nocturnal elements)
 */
const planetaryElements = {
    'Sun': { diurnal: 'Fire', nocturnal: 'Fire' },
    'Moon': { diurnal: 'Water', nocturnal: 'Water' },
    'Mercury': { diurnal: 'Air', nocturnal: 'Earth' },
    'Venus': { diurnal: 'Water', nocturnal: 'Earth' },
    'Mars': { diurnal: 'Fire', nocturnal: 'Water' },
    'Jupiter': { diurnal: 'Air', nocturnal: 'Fire' },
    'Saturn': { diurnal: 'Air', nocturnal: 'Earth' },
    'Uranus': { diurnal: 'Water', nocturnal: 'Air' },
    'Neptune': { diurnal: 'Water', nocturnal: 'Water' },
    'Pluto': { diurnal: 'Earth', nocturnal: 'Water' }
};
// Define a styles object for animations and custom styles
const customStyles = {
    '@keyframes fadeIn': {
        '0%': { opacity: 0 },
        '100%': { opacity: 1 }
    },
    animateFadeIn: {
        animation: 'fadeIn 0.3s ease-in-out'
    }
};
// Define category display names
const CATEGORY_DISPLAY_NAMES = {
    proteins: 'Proteins',
    vegetables: 'Vegetables',
    grains: 'Grains & Starches',
    fruits: 'Fruits',
    herbs: 'Herbs & Aromatics',
    spices: 'Spices & Seasonings',
    oils: 'Oils & Fats',
    vinegars: 'Vinegars & Acidifiers'
};
// Define category display counts
const CATEGORY_DISPLAY_COUNTS = {
    proteins: 12,
    vegetables: 12,
    grains: 10,
    fruits: 12,
    herbs: 10,
    spices: 12,
    oils: 8,
    vinegars: 8
};
// Using inline styles to avoid CSS module conflicts
function IngredientRecommender({ initialCategory = null, initialSelectedIngredient = null, isFullPageVersion = false, maxDisplayed = 12, onCategorySelect, onIngredientSelect } = {}) {
    const router = (0, navigation_1.useRouter)();
    // Use the hook to get astrological data
    const astroState = (0, useAstrologicalState_1.useAstrologicalState)();
    const { currentZodiac, currentPlanetaryAlignment, loading: astroLoading, isDaytime } = astroState;
    // Note: chakraEnergies are not available from useAstrologicalState
    // We'll rely on the useChakraInfluencedFood hook for chakra-based recommendations
    const contextChakraEnergies = null; // Not available from this hook
    const planetaryPositions = currentPlanetaryAlignment;
    const astroError = null; // Hook doesn't expose error state
    const [astroRecommendations, setAstroRecommendations] = (0, react_1.useState)({});
    // States for selected item and expansion
    const [selectedIngredient, setSelectedIngredient] = (0, react_1.useState)(null);
    const [expanded, setExpanded] = (0, react_1.useState)({});
    const [activeCategory, setActiveCategory] = (0, react_1.useState)(initialCategory || 'proteins');
    // Initialize state from props
    (0, react_1.useEffect)(() => {
        if (initialCategory) {
            setActiveCategory(initialCategory);
        }
        if (initialSelectedIngredient) {
            // Find the ingredient in recommendations and set it as selected
            // This will be handled after recommendations are loaded
        }
    }, [initialCategory, initialSelectedIngredient]);
    // Enterprise Intelligence state
    const [showEnterpriseIntelligence, setShowEnterpriseIntelligence] = (0, react_1.useState)(false);
    const [enterpriseIntelligenceAnalysis, setEnterpriseIntelligenceAnalysis] = (0, react_1.useState)(null);
    // Use the custom hook for food recommendations
    const { recommendations: foodRecommendations, chakraEnergies, loading: foodLoading, error: foodError, refreshRecommendations } = (0, useChakraInfluencedFood_1.useChakraInfluencedFood)({ limit: 300 }); // Increased from 200 to 300 to ensure all categories have plenty of items
    // Helper function to get element icon with inline styles
    const getElementIcon = (element) => {
        const iconStyle = {
            marginRight: '2px',
            color: element === 'Fire' ? '#ff6b6b' :
                element === 'Water' ? '#6bb5ff' :
                    element === 'Earth' ? '#6bff8e' :
                        '#d9b3ff' // Air
        };
        switch (element) {
            case 'Fire': return (0, jsx_runtime_1.jsx)(lucide_react_1.Flame, { style: iconStyle, size: 16 });
            case 'Water': return (0, jsx_runtime_1.jsx)(lucide_react_1.Droplets, { style: iconStyle, size: 16 });
            case 'Earth': return (0, jsx_runtime_1.jsx)(lucide_react_1.Mountain, { style: iconStyle, size: 16 });
            case 'Air': return (0, jsx_runtime_1.jsx)(lucide_react_1.Wind, { style: iconStyle, size: 16 });
            default: return null;
        }
    };
    // Handle ingredient selection to display details
    const handleIngredientSelect = (item, e) => {
        e.stopPropagation();
        // Toggle selected ingredient
        if ((selectedIngredient === null || selectedIngredient === void 0 ? void 0 : selectedIngredient.name) === item.name) {
            setSelectedIngredient(null);
        }
        else {
            setSelectedIngredient(item);
            // Call prop callback if provided
            if (onIngredientSelect) {
                onIngredientSelect(item);
            }
            // Store selection in session storage for context preservation
            try {
                sessionStorage.setItem('selectedIngredient', JSON.stringify({
                    name: item.name,
                    category: item.category,
                    timestamp: Date.now()
                }));
            }
            catch (error) {
                console.warn('Failed to store selected ingredient in session storage:', error);
            }
        }
    };
    // Handle category selection
    const handleCategorySelect = (category) => {
        setActiveCategory(category);
        // Call prop callback if provided
        if (onCategorySelect) {
            onCategorySelect(category);
        }
        // Store selection in session storage for context preservation
        try {
            sessionStorage.setItem('selectedIngredientCategory', category);
        }
        catch (error) {
            console.warn('Failed to store selected category in session storage:', error);
        }
    };
    // Handle navigation to full ingredients page
    const handleViewMore = () => {
        // Preserve current context in URL parameters
        const params = new URLSearchParams();
        if (activeCategory) {
            params.set('category', activeCategory);
        }
        if (selectedIngredient) {
            params.set('ingredient', selectedIngredient.name);
        }
        const url = `/ingredients${params.toString() ? `?${params.toString()}` : ''}`;
        router.push(url);
    };
    // Toggle expansion for a category
    const toggleCategoryExpansion = (_category, e) => {
        e.stopPropagation();
        setExpanded(prev => ({
            ...prev,
            [_category]: !prev[_category]
        }));
    };
    // Reset selected ingredient when recommendations change
    (0, react_1.useEffect)(() => {
        setSelectedIngredient(null);
    }, [astroRecommendations, foodRecommendations]);
    // Use chakra energies and planetary positions to generate ingredient recommendations
    (0, react_1.useEffect)(() => {
        var _a, _b;
        if (!astroLoading && !astroError) {
            // Create a combined approach using both chakra and standard recommendations
            const chakraRecommendations = contextChakraEnergies ? (0, ingredientRecommender_1.getChakraBasedRecommendations)(contextChakraEnergies, 16) : {};
            // Get elemental properties from planetary positions
            let elementalProps;
            if (planetaryPositions) {
                const calculator = new ElementalCalculator_1.ElementalCalculator();
                elementalProps = calculator.calculateElementalState(planetaryPositions);
            }
            // Determine current planetary day and hour
            const now = new Date();
            // Extract planetary day and hour from context if available
            const planetaryDay = ((_a = planetaryPositions === null || planetaryPositions === void 0 ? void 0 : planetaryPositions.planetaryDay) === null || _a === void 0 ? void 0 : _a.planet) || 'Sun';
            const planetaryHour = ((_b = planetaryPositions === null || planetaryPositions === void 0 ? void 0 : planetaryPositions.planetaryHour) === null || _b === void 0 ? void 0 : _b.planet) || 'Sun';
            const isDaytime = now.getHours() >= 6 && now.getHours() < 18;
            // Create an object with astrological state data
            const astroState = {
                elementalProperties: elementalProps || {
                    Fire: 0.25,
                    Water: 0.25,
                    Earth: 0.25,
                    Air: 0.25
                },
                timestamp: new Date(),
                currentStability: 1.0,
                planetaryAlignment: planetaryPositions || {},
                dominantElement: elementalProps ?
                    Object.entries(elementalProps).sort((a, b) => b[1] - a[1])[0][0] : 'Fire',
                zodiacSign: currentZodiac || 'aries',
                activePlanets: ['Sun', 'Moon', 'Mercury', 'Venus', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune', 'Pluto'],
                // Add standardized planetary day and hour information
                planetaryDay: planetaryDay,
                planetaryHour: planetaryHour,
                isDaytime: isDaytime
            };
            // Get standard recommendations with all planets
            const standardRecommendations = (0, ingredientRecommender_1.getIngredientRecommendations)({
                ...astroState,
                lunarPhase: 'new moon',
                aspects: []
            }, { limit: 40 });
            // Merge the recommendations, prioritizing chakra-based ones
            const mergedRecommendations = {};
            // Process all categories
            const allCategories = new Set([
                ...Object.keys(chakraRecommendations),
                ...Object.keys(standardRecommendations)
            ]);
            allCategories.forEach(_category => {
                const chakraItems = chakraRecommendations[_category] || [];
                const standardItems = standardRecommendations[_category] || [];
                // Create a unique set of items using name as the key
                const uniqueItems = new Map();
                // Add chakra items first (higher priority)
                chakraItems.forEach(item => {
                    uniqueItems.set(item.name, item);
                });
                // Add standard items that aren't already included
                standardItems.forEach(item => {
                    if (!uniqueItems.has(item.name)) {
                        uniqueItems.set(item.name, item);
                    }
                });
                // Convert back to array and limit to prevent overwhelming the user
                mergedRecommendations[_category] = Array.from(uniqueItems.values()).slice(0, 32);
            });
            setAstroRecommendations(mergedRecommendations);
        }
    }, [astroLoading, contextChakraEnergies, planetaryPositions, astroError, currentZodiac]);
    // Define herb names to improve herb detection
    const herbNames = (0, react_1.useMemo)(() => Object.keys(ingredients_1.herbsCollection), []);
    // Define oil types for better oil detection
    const oilTypes = (0, react_1.useMemo)(() => Object.keys(ingredients_1.oilsCollection).concat([
        'oil', 'olive oil', 'vegetable oil', 'sunflower oil', 'sesame oil', 'coconut oil',
        'avocado oil', 'walnut oil', 'peanut oil', 'grapeseed oil', 'canola oil'
    ]), []);
    // Define vinegar types for better vinegar detection
    const vinegarTypes = (0, react_1.useMemo)(() => Object.keys(ingredients_1.vinegarsCollection).concat([
        'vinegar', 'balsamic vinegar', 'apple cider vinegar', 'rice vinegar', 'red wine vinegar',
        'white wine vinegar', 'champagne vinegar', 'sherry vinegar', 'malt vinegar',
        'distilled vinegar', 'black vinegar', 'rice wine vinegar', 'white balsamic',
        'balsamic glaze', 'raspberry vinegar', 'fig vinegar', 'coconut vinegar'
    ]), []);
    // Helper function to check if an ingredient is an oil
    const isOil = (ingredient) => {
        var _a;
        const _category = ((_a = ingredient.category) === null || _a === void 0 ? void 0 : _a.toLowerCase()) || '';
        if (_category === 'oil' || _category === 'oils')
            return true;
        const name = ingredient.name.toLowerCase();
        return oilTypes.some(oil => name.includes(oil.toLowerCase()));
    };
    // Helper function to check if an ingredient is a vinegar
    const isVinegar = (ingredient) => {
        var _a, _b;
        // Extract ingredient data with safe property access
        const ingredientData = ingredient;
        const _category = ((_a = ingredientData === null || ingredientData === void 0 ? void 0 : ingredientData.category) === null || _a === void 0 ? void 0 : _a.toLowerCase()) || '';
        if (_category === 'vinegar' || _category === 'vinegars')
            return true;
        const name = ((_b = ingredientData === null || ingredientData === void 0 ? void 0 : ingredientData.name) === null || _b === void 0 ? void 0 : _b.toLowerCase()) || '';
        return vinegarTypes.some(vinegar => name.includes(vinegar.toLowerCase()));
    };
    // Helper function to get normalized category
    const getNormalizedCategory = (ingredient) => {
        // Extract ingredient data with safe property access
        const ingredientData = ingredient;
        const categoryProperty = ingredientData === null || ingredientData === void 0 ? void 0 : ingredientData.category;
        if (!categoryProperty)
            return 'other';
        const _category = categoryProperty.toLowerCase();
        // Map categories to our standard ones
        if (['vegetable', 'vegetables'].includes(_category))
            return 'vegetables';
        if (['protein', 'meat', 'seafood', 'fish', 'poultry'].includes(_category))
            return 'proteins';
        if (['herb', 'herbs', 'culinary_herb', 'medicinal_herb'].includes(_category))
            return 'herbs';
        if (['spice', 'spices', 'seasoning', 'seasonings'].includes(_category))
            return 'spices';
        if (['grain', 'grains', 'pasta', 'rice', 'cereal'].includes(_category))
            return 'grains';
        if (['fruit', 'fruits', 'berry', 'berries'].includes(_category))
            return 'fruits';
        if (['oil', 'oils', 'fat', 'fats'].includes(_category))
            return 'oils';
        if (['vinegar', 'vinegars', 'acid', 'acids'].includes(_category))
            return 'vinegars';
        return 'other';
    };
    // Combine and categorize all recommendations
    const combinedCategorizedRecommendations = (0, react_1.useMemo)(() => {
        // Start with empty categories
        const categories = {
            proteins: [],
            vegetables: [],
            grains: [],
            fruits: [],
            herbs: [],
            spices: [],
            oils: [],
            vinegars: []
        };
        // Helper function to normalize ingredient names for comparison
        const normalizeIngredientName = (name) => {
            return name.toLowerCase()
                .replace(/atlantic |wild |farmed |fresh |frozen |organic |raw |cooked /g, '')
                .replace(/\s+/g, ' ')
                .trim();
        };
        // Improved function for ingredient name similarity checking with fuzzy matching
        const areSimilarIngredients = (name1, name2) => {
            // Normalize both names
            const normalized1 = normalizeIngredientName(name1);
            const normalized2 = normalizeIngredientName(name2);
            // If normalized names are identical, they're definitely similar
            if (normalized1 === normalized2)
                return true;
            // Check if one name is contained within the other
            if (normalized1.includes(normalized2) || normalized2.includes(normalized1)) {
                return true;
            }
            // Simple fuzzy matching - check if they share a significant number of characters
            const commonWords = normalized1.split(' ').filter(word => word.length > 3 && normalized2.includes(word));
            if (commonWords.length > 0)
                return true;
            // Check for plurals or slight variations
            if (normalized1.endsWith('s') && normalized2 === normalized1.slice(0, -1))
                return true;
            if (normalized2.endsWith('s') && normalized1 === normalized2.slice(0, -1))
                return true;
            // Check for common substitutions (e.g., "beef" and "beef steak")
            const ingredientPairs = [
                ['chicken', 'chicken breast', 'chicken thigh', 'chicken leg'],
                ['beef', 'beef steak', 'ground beef', 'beef chuck'],
                ['pork', 'pork chop', 'pork loin', 'pork shoulder'],
                ['salmon', 'salmon fillet', 'smoked salmon', 'fresh salmon'],
                ['tomato', 'tomatoes', 'cherry tomato', 'roma tomato'],
                ['pepper', 'bell pepper', 'sweet pepper', 'chili pepper'],
                ['rice', 'brown rice', 'white rice', 'wild rice'],
                ['olive oil', 'extra virgin olive oil', 'evoo']
            ];
            // Check if both names are in the same ingredient family
            for (const group of ingredientPairs) {
                if (group.some(item => normalized1.includes(item)) &&
                    group.some(item => normalized2.includes(item))) {
                    return true;
                }
            }
            return false;
        };
        // Add food recommendations first (they are already categorized)
        if (foodRecommendations && foodRecommendations.length > 0) {
            foodRecommendations.forEach(ingredient => {
                var _a, _b;
                const name = ingredient.name.toLowerCase();
                // For seafood proteins - check first to prevent miscategorization
                if (name.includes('cod') || name.includes('sole') || name.includes('scallop') ||
                    name.includes('salmon') || name.includes('squid') || name.includes('shrimp') ||
                    name.includes('flounder') || name.includes('halibut') || name.includes('sea bass') ||
                    name.includes('octopus') || name.includes('fish') || name.includes('trout') ||
                    name.includes('tuna') || name.includes('crab') || name.includes('lobster')) {
                    categories.proteins.push({
                        ...ingredient,
                        matchScore: ingredient.score || 0.5
                    });
                }
                // Spices and seasonings
                else if (
                // Exclude common vegetable peppers
                (name.includes('pepper') &&
                    !name.includes('bell pepper') &&
                    !name.includes('sweet pepper') &&
                    !name.includes('jalapeno') &&
                    !name.includes('poblano') &&
                    !name.includes('anaheim') &&
                    !name.includes('banana pepper') &&
                    !name.includes('chili pepper') &&
                    !name.includes('paprika')) ||
                    name.includes('cinnamon') ||
                    name.includes('nutmeg') ||
                    name.includes('cumin') ||
                    name.includes('turmeric') ||
                    name.includes('cardamom') ||
                    name.includes('spice') ||
                    name.includes('seasoning')) {
                    categories.spices.push({
                        ...ingredient,
                        matchScore: ingredient.score || 0.5
                    });
                }
                // Vegetable Peppers
                else if (name.includes('bell pepper') ||
                    name.includes('sweet pepper') ||
                    name.includes('jalapeno') ||
                    name.includes('poblano') ||
                    name.includes('anaheim') ||
                    name.includes('banana pepper') ||
                    name.includes('chili pepper') ||
                    name.includes('paprika')) {
                    categories.vegetables.push({
                        ...ingredient,
                        matchScore: ingredient.score || 0.5
                    });
                }
                // Oils
                else if (isOil(ingredient)) {
                    categories.oils.push({
                        ...ingredient,
                        matchScore: ingredient.score || 0.5
                    });
                }
                // Vinegars
                else if (isVinegar(ingredient)) {
                    categories.vinegars.push({
                        ...ingredient,
                        matchScore: ingredient.score || 0.5
                    });
                }
                // Herbs
                else if (ingredient.category === 'herb' || name.includes('herb') || herbNames.some(herb => name.includes(herb.toLowerCase()))) {
                    categories.herbs.push({
                        ...ingredient,
                        matchScore: ingredient.score || 0.5
                    });
                }
                // For other ingredients, use explicit category if available
                else {
                    const _category = getNormalizedCategory(ingredient);
                    if (categories[_category]) {
                        categories[_category].push({
                            ...ingredient,
                            matchScore: ingredient.score || 0.5
                        });
                    }
                    else {
                        if (name.includes('ginger') || name.includes('garlic') || name.includes('onion') ||
                            name.includes('carrot') || name.includes('broccoli') || name.includes('tomato') ||
                            name.includes('zucchini') || name.includes('cucumber') || name.includes('lettuce') ||
                            name.includes('spinach') || name.includes('kale') || name.includes('cabbage') ||
                            name.includes('cauliflower') || name.includes('celery') || name.includes('potato') ||
                            name.includes('squash') || name.includes('eggplant') || name.includes('beet') ||
                            name.includes('asparagus') || name.includes('artichoke') || name.includes('radish') ||
                            name.includes('arugula') || name.includes('turnip') || name.includes('leek') ||
                            ((_a = ingredient.category) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === 'vegetable' || ((_b = ingredient.category) === null || _b === void 0 ? void 0 : _b.toLowerCase()) === 'vegetables') {
                            categories.vegetables.push({
                                ...ingredient,
                                matchScore: ingredient.score || 0.5
                            });
                        }
                        else if (name.includes('apple') || name.includes('orange') || name.includes('lemon') ||
                            name.includes('melon') || name.includes('berry') || name.includes('pineapple')) {
                            categories.fruits.push({
                                ...ingredient,
                                matchScore: ingredient.score || 0.5
                            });
                        }
                        else {
                            // Default to vegetables for unmatched items
                            categories.vegetables.push({
                                ...ingredient,
                                matchScore: ingredient.score || 0.5
                            });
                        }
                    }
                }
            });
        }
        // Now add the astrological recommendations
        Object.entries(astroRecommendations).forEach(([_category, items]) => {
            items.forEach(item => {
                const normalizedCategory = getNormalizedCategory(item);
                const targetCategory = normalizedCategory === 'other' ? determineCategory(item.name) : normalizedCategory;
                if (categories[targetCategory]) {
                    // Check if this item already exists in the category (with improved duplicate detection)
                    const existingItemIndex = categories[targetCategory].findIndex(existing => areSimilarIngredients(existing.name, item.name));
                    if (existingItemIndex >= 0) {
                        // Update the existing item with better score if needed
                        if (item.matchScore > categories[targetCategory][existingItemIndex].matchScore) {
                            categories[targetCategory][existingItemIndex] = {
                                ...item,
                                category: targetCategory
                            };
                        }
                    }
                    else {
                        // Add as a new item
                        categories[targetCategory].push({
                            ...item,
                            category: targetCategory
                        });
                    }
                }
            });
        });
        // Ensure vinegars are always present by adding them from the collection if needed
        if (!categories.vinegars || categories.vinegars.length === 0) {
            categories.vinegars = Object.entries(ingredients_1.vinegarsCollection).map(([key, vinegarData]) => {
                const displayName = vinegarData.name || key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                return {
                    name: displayName,
                    type: 'vinegars',
                    category: 'vinegars',
                    matchScore: 0.6,
                    elementalProperties: vinegarData.elementalProperties || {
                        Water: 0.4,
                        Earth: 0.3,
                        Air: 0.2,
                        Fire: 0.1
                    },
                    qualities: vinegarData.qualities || ['acidic', 'tangy', 'flavorful'],
                    description: `${displayName} - A versatile acidic component for your culinary creations.`
                };
            });
        }
        // Add any missing oils from the oils collection
        if (!categories.oils || categories.oils.length < 3) {
            const existingOilNames = new Set((categories.oils || []).map(oil => oil.name.toLowerCase()));
            const additionalOils = Object.entries(ingredients_1.oilsCollection)
                .filter(([_, oilData]) => { var _a; return !existingOilNames.has(((_a = oilData.name) === null || _a === void 0 ? void 0 : _a.toLowerCase()) || ''); })
                .slice(0, 10) // Limit to 10 additional oils
                .map(([key, oilData]) => {
                return {
                    name: oilData.name || key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase()),
                    type: 'oils',
                    category: 'oils',
                    matchScore: 0.6,
                    elementalProperties: oilData.elementalProperties || {
                        Fire: 0.3,
                        Water: 0.2,
                        Earth: 0.3,
                        Air: 0.2
                    },
                    qualities: oilData.qualities || ['cooking', 'flavoring'],
                    description: `${oilData.name || key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())} - ${oilData.description || "A versatile cooking oil with various applications."}`
                };
            });
            categories.oils = [...(categories.oils || []), ...additionalOils]
                .sort((a, b) => b.matchScore - a.matchScore);
        }
        // Sort each category by matchScore
        Object.keys(categories).forEach(category => {
            categories[category] = categories[category]
                .sort((a, b) => b.matchScore - a.matchScore)
                .filter(item => item.matchScore > 0);
        });
        // Filter out empty categories
        return Object.fromEntries(Object.entries(categories).filter(([_, items]) => items.length > 0));
    }, [foodRecommendations, astroRecommendations, herbNames, oilTypes, vinegarTypes]);
    // Helper function to determine the category of a food by name
    function determineCategory(name) {
        const lowercaseName = name.toLowerCase();
        // Proteins
        if (lowercaseName.includes('beef') || lowercaseName.includes('chicken') ||
            lowercaseName.includes('pork') || lowercaseName.includes('lamb') ||
            lowercaseName.includes('fish') || lowercaseName.includes('seafood') ||
            lowercaseName.includes('tofu') || lowercaseName.includes('tempeh') ||
            lowercaseName.includes('seitan') || lowercaseName.includes('protein')) {
            return 'proteins';
        }
        // Herbs
        if (lowercaseName.includes('basil') || lowercaseName.includes('oregano') ||
            lowercaseName.includes('thyme') || lowercaseName.includes('rosemary') ||
            lowercaseName.includes('mint') || lowercaseName.includes('cilantro') ||
            lowercaseName.includes('sage') || lowercaseName.includes('herb')) {
            return 'herbs';
        }
        // Spices
        if ((lowercaseName.includes('pepper') &&
            !lowercaseName.includes('bell pepper') &&
            !lowercaseName.includes('sweet pepper') &&
            !lowercaseName.includes('jalapeno') &&
            !lowercaseName.includes('poblano') &&
            !lowercaseName.includes('anaheim') &&
            !lowercaseName.includes('banana pepper') &&
            !lowercaseName.includes('chili pepper') &&
            !lowercaseName.includes('paprika')) ||
            lowercaseName.includes('cinnamon') ||
            lowercaseName.includes('nutmeg') ||
            lowercaseName.includes('cumin') ||
            lowercaseName.includes('turmeric') ||
            lowercaseName.includes('cardamom') ||
            lowercaseName.includes('spice') ||
            lowercaseName.includes('seasoning')) {
            return 'spices';
        }
        // Vegetable Peppers
        if (lowercaseName.includes('bell pepper') ||
            lowercaseName.includes('sweet pepper') ||
            lowercaseName.includes('jalapeno') ||
            lowercaseName.includes('poblano') ||
            lowercaseName.includes('anaheim') ||
            lowercaseName.includes('banana pepper') ||
            lowercaseName.includes('chili pepper') ||
            lowercaseName.includes('paprika')) {
            return 'vegetables';
        }
        // Vinegars
        if (lowercaseName.includes('vinegar') || lowercaseName.includes('balsamic') ||
            lowercaseName.includes('cider') || lowercaseName.includes('rice wine') ||
            lowercaseName.includes('sherry vinegar') || lowercaseName.includes('red wine vinegar') ||
            lowercaseName.includes('white wine vinegar') || lowercaseName.includes('champagne vinegar')) {
            return 'vinegars';
        }
        // Grains
        if (lowercaseName.includes('rice') || lowercaseName.includes('pasta') ||
            lowercaseName.includes('bread') || lowercaseName.includes('quinoa') ||
            lowercaseName.includes('barley') || lowercaseName.includes('oat') ||
            lowercaseName.includes('grain') || lowercaseName.includes('wheat')) {
            return 'grains';
        }
        // Fruits
        if (lowercaseName.includes('apple') || lowercaseName.includes('orange') ||
            lowercaseName.includes('banana') || lowercaseName.includes('berry') ||
            lowercaseName.includes('melon') || lowercaseName.includes('pear') ||
            lowercaseName.includes('grape') || lowercaseName.includes('fruit')) {
            return 'fruits';
        }
        // Vegetables
        if (lowercaseName.includes('ginger') || lowercaseName.includes('garlic') || lowercaseName.includes('onion') ||
            lowercaseName.includes('carrot') || lowercaseName.includes('broccoli') || lowercaseName.includes('tomato') ||
            lowercaseName.includes('zucchini') || lowercaseName.includes('cucumber') || lowercaseName.includes('lettuce') ||
            lowercaseName.includes('spinach') || lowercaseName.includes('kale') || lowercaseName.includes('cabbage') ||
            lowercaseName.includes('cauliflower') || lowercaseName.includes('celery') || lowercaseName.includes('potato') ||
            lowercaseName.includes('squash') || lowercaseName.includes('eggplant') || lowercaseName.includes('beet') ||
            lowercaseName.includes('asparagus') || lowercaseName.includes('artichoke') || lowercaseName.includes('radish') ||
            lowercaseName.includes('arugula') || lowercaseName.includes('turnip') || lowercaseName.includes('leek') ||
            lowercaseName.includes('vegetable')) {
            return 'vegetables';
        }
        // Default to vegetables for anything else
        return 'vegetables';
    }
    // Create match score class based on percentage with enhanced visual styling
    const getMatchScoreClass = (matchScore) => {
        // Use safe score value with default
        const safeScore = typeof matchScore === 'number' && !isNaN(matchScore) ? matchScore : 0.5;
        const matchPercentage = Math.round(safeScore * 100);
        // Enhanced styling with gradients and more distinct ranges
        if (matchPercentage >= 95) {
            return "bg-gradient-to-r from-indigo-600 to-indigo-500 text-white dark:from-indigo-600 dark:to-indigo-400 dark:text-white font-semibold shadow-sm";
        }
        else if (matchPercentage >= 90) {
            return "bg-gradient-to-r from-blue-500 to-indigo-400 text-white dark:from-blue-600 dark:to-indigo-500 dark:text-white font-semibold shadow-sm";
        }
        else if (matchPercentage >= 85) {
            return "bg-gradient-to-r from-blue-400 to-blue-300 text-blue-900 dark:from-blue-600 dark:to-blue-500 dark:text-blue-100 font-medium";
        }
        else if (matchPercentage >= 80) {
            return "bg-blue-100 text-blue-800 dark:bg-blue-800/40 dark:text-blue-200 font-medium";
        }
        else if (matchPercentage >= 75) {
            return "bg-green-100 text-green-800 dark:bg-green-800/40 dark:text-green-200";
        }
        else if (matchPercentage >= 70) {
            return "bg-green-50 text-green-700 dark:bg-green-800/30 dark:text-green-300";
        }
        else if (matchPercentage >= 65) {
            return "bg-yellow-100 text-yellow-800 dark:bg-yellow-800/40 dark:text-yellow-200";
        }
        else if (matchPercentage >= 60) {
            return "bg-yellow-50 text-yellow-700 dark:bg-yellow-800/30 dark:text-yellow-300";
        }
        else if (matchPercentage >= 50) {
            return "bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300";
        }
        return "bg-gray-100 text-gray-700 dark:bg-gray-800/50 dark:text-gray-400";
    };
    // Format the match score for display
    const formatMatchScore = (matchScore) => {
        const safeScore = typeof matchScore === 'number' && !isNaN(matchScore) ? matchScore : 0.5;
        return `${Math.round(safeScore * 100)}%`;
    };
    // Render loading state if needed
    if (astroLoading || foodLoading) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-center p-8 h-64", children: (0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500 mb-4" }), (0, jsx_runtime_1.jsx)("p", { className: "text-indigo-800 dark:text-indigo-300", children: "Loading celestial influences..." })] }) }));
    }
    if (astroError || foodError) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "p-6 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800 text-red-600 dark:text-red-300", children: (0, jsx_runtime_1.jsxs)("p", { className: "font-medium", children: ["Error: ", astroError || foodError] }) }));
    }
    // Display the recommendations
    return ((0, jsx_runtime_1.jsxs)("div", { className: "mt-6 w-full max-w-none", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-r from-indigo-800/10 via-purple-800/10 to-indigo-800/10 p-4 rounded-xl backdrop-blur-sm border border-indigo-100 dark:border-indigo-950 mb-6", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-2xl font-bold text-indigo-900 dark:text-indigo-300", children: "Celestial Ingredient Recommendations" }), (0, jsx_runtime_1.jsx)("p", { className: "text-indigo-700 dark:text-indigo-400 text-sm", children: "Ingredients aligned with your current celestial influences for optimal alchemical harmony." }), (0, jsx_runtime_1.jsx)("p", { className: "text-indigo-600 dark:text-indigo-500 text-xs mt-1 italic", children: "Click on any ingredient card to view detailed information." }), (0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-between mt-4", children: (0, jsx_runtime_1.jsx)("div", { className: "flex items-center space-x-2", children: (0, jsx_runtime_1.jsxs)("button", { onClick: () => setShowEnterpriseIntelligence(!showEnterpriseIntelligence), className: `flex items-center space-x-1 px-3 py-1 text-sm rounded transition-colors ${showEnterpriseIntelligence
                                    ? 'bg-purple-100 text-purple-700'
                                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Brain, { size: 16 }), (0, jsx_runtime_1.jsx)("span", { children: "Enterprise Intelligence" })] }) }) }), showEnterpriseIntelligence && ((0, jsx_runtime_1.jsx)("div", { className: "mt-4", children: (0, jsx_runtime_1.jsx)(EnterpriseIntelligencePanel_1.default, { recipeData: null, ingredientData: { ingredients: Object.values(combinedCategorizedRecommendations).flat() }, astrologicalContext: {
                                zodiacSign: (currentZodiac || 'aries'),
                                lunarPhase: 'new moon',
                                elementalProperties: astroState.elementalProperties || {
                                    Fire: 0.25, Water: 0.25, Earth: 0.25, Air: 0.25
                                },
                                planetaryPositions: currentPlanetaryAlignment
                            }, className: "border-t pt-4", showDetailedMetrics: true, autoAnalyze: true, onAnalysisComplete: (analysis) => {
                                setEnterpriseIntelligenceAnalysis(analysis);
                                console.log('Enterprise Intelligence Analysis completed:', {
                                    overallScore: analysis.overallScore,
                                    systemHealth: analysis.systemHealth
                                });
                            } }) })), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap justify-center gap-2 mt-4 bg-white/70 dark:bg-gray-800/70 p-2 rounded-lg shadow-sm", children: Object.entries(combinedCategorizedRecommendations).map(([category]) => {
                            const displayName = CATEGORY_DISPLAY_NAMES[category] || (category.charAt(0).toUpperCase() + category.slice(1));
                            const isActive = category === activeCategory;
                            // Define icons for each category
                            let icon;
                            if (category === 'proteins')
                                icon = (0, jsx_runtime_1.jsx)(lucide_react_1.Tag, { className: "mr-1 text-rose-500", size: 14 });
                            else if (category === 'vegetables')
                                icon = (0, jsx_runtime_1.jsx)(lucide_react_1.Leaf, { className: "mr-1 text-emerald-500", size: 14 });
                            else if (category === 'grains')
                                icon = (0, jsx_runtime_1.jsx)(lucide_react_1.Wind, { className: "mr-1 text-amber-500", size: 14 });
                            else if (category === 'herbs')
                                icon = (0, jsx_runtime_1.jsx)(lucide_react_1.Leaf, { className: "mr-1 text-green-500", size: 14 });
                            else if (category === 'spices')
                                icon = (0, jsx_runtime_1.jsx)(lucide_react_1.Flame, { className: "mr-1 text-orange-500", size: 14 });
                            else if (category === 'fruits')
                                icon = (0, jsx_runtime_1.jsx)(lucide_react_1.Droplets, { className: "mr-1 text-cyan-500", size: 14 });
                            else if (category === 'oils')
                                icon = (0, jsx_runtime_1.jsx)(lucide_react_1.Droplets, { className: "mr-1 text-yellow-500", size: 14 });
                            else if (category === 'vinegars')
                                icon = (0, jsx_runtime_1.jsx)(lucide_react_1.Beaker, { className: "mr-1 text-purple-500", size: 14 });
                            return ((0, jsx_runtime_1.jsxs)("a", { href: `#${category}`, onClick: (e) => {
                                    e.preventDefault();
                                    const element = document.getElementById(category);
                                    if (element) {
                                        element.scrollIntoView({ behavior: 'smooth' });
                                        handleCategorySelect(category);
                                    }
                                }, className: `px-3 py-1.5 rounded-full text-xs font-medium flex items-center shadow-sm transition-colors duration-200 ${isActive
                                    ? 'bg-indigo-500 text-white'
                                    : 'bg-white/90 dark:bg-gray-700/90 text-gray-700 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 hover:text-indigo-600 dark:hover:text-indigo-300'}`, children: [icon, displayName] }, `nav-${category}`));
                        }) })] }), Object.keys(combinedCategorizedRecommendations).length > 0 ? ((0, jsx_runtime_1.jsx)("div", { className: "space-y-6", children: Object.entries(combinedCategorizedRecommendations).map(([category, items]) => {
                    const displayName = CATEGORY_DISPLAY_NAMES[category] || (category.charAt(0).toUpperCase() + category.slice(1));
                    const displayCount = CATEGORY_DISPLAY_COUNTS[category] || 5;
                    const isExpanded = expanded[category] || false;
                    const itemsToShow = isExpanded ? items : items.slice(0, displayCount);
                    return ((0, jsx_runtime_1.jsxs)("div", { id: category, className: "bg-white/90 dark:bg-gray-800/90 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 scroll-mt-16", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center mb-3 cursor-pointer", onClick: (e) => toggleCategoryExpansion(category, e), children: [(0, jsx_runtime_1.jsxs)("h3", { className: "text-lg font-semibold capitalize text-gray-800 dark:text-gray-200 flex items-center", children: [category === 'proteins' && (0, jsx_runtime_1.jsx)(lucide_react_1.Tag, { className: "mr-2 text-rose-500", size: 18 }), category === 'vegetables' && (0, jsx_runtime_1.jsx)(lucide_react_1.Leaf, { className: "mr-2 text-emerald-500", size: 18 }), category === 'grains' && (0, jsx_runtime_1.jsx)(lucide_react_1.Wind, { className: "mr-2 text-amber-500", size: 18 }), category === 'herbs' && (0, jsx_runtime_1.jsx)(lucide_react_1.Leaf, { className: "mr-2 text-green-500", size: 18 }), category === 'spices' && (0, jsx_runtime_1.jsx)(lucide_react_1.Flame, { className: "mr-2 text-orange-500", size: 18 }), category === 'fruits' && (0, jsx_runtime_1.jsx)(lucide_react_1.Droplets, { className: "mr-2 text-cyan-500", size: 18 }), category === 'oils' && (0, jsx_runtime_1.jsx)(lucide_react_1.Droplets, { className: "mr-2 text-yellow-500", size: 18 }), category === 'vinegars' && (0, jsx_runtime_1.jsx)(lucide_react_1.Beaker, { className: "mr-2 text-purple-500", size: 18 }), displayName] }), (0, jsx_runtime_1.jsx)("button", { className: "text-gray-500 hover:text-gray-700 focus:outline-none", children: isExpanded ? ((0, jsx_runtime_1.jsx)(lucide_react_1.ChevronUp, { className: "h-5 w-5" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.ChevronDown, { className: "h-5 w-5" })) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-3", children: [itemsToShow.map((item) => {
                                        // Get element color class
                                        const elementalProps = item.elementalProperties || {
                                            Fire: 0.25, Water: 0.25, Earth: 0.25, Air: 0.25
                                        };
                                        // Find dominant element
                                        // Apply Pattern KK-1: Explicit Type Assertion for arithmetic operations
                                        const dominantElement = Object.entries(elementalProps)
                                            .sort((a, b) => {
                                            const aValue = Number(a[1]) || 0;
                                            const bValue = Number(b[1]) || 0;
                                            return bValue - aValue;
                                        })[0][0];
                                        const elementColor = {
                                            'Fire': 'border-red-400 bg-red-50/70 dark:bg-red-900/30',
                                            'Water': 'border-blue-400 bg-blue-50/70 dark:bg-blue-900/30',
                                            'Earth': 'border-green-400 bg-green-50/70 dark:bg-green-900/30',
                                            'Air': 'border-purple-400 bg-purple-50/70 dark:bg-purple-900/30'
                                        }[dominantElement] || 'border-gray-400 bg-gray-50/70 dark:bg-gray-900/30';
                                        // Find sensory properties if available
                                        const defaultSeason = ['Spring', 'Summer', 'Fall', 'Winter'][Math.floor(Math.random() * 4)];
                                        let seasonality;
                                        // Handle both string and object seasonality formats
                                        if (item.seasonality) {
                                            if (typeof item.seasonality === 'string') {
                                                seasonality = item.seasonality;
                                            }
                                            else if (typeof item.seasonality === 'object') {
                                                // Handle both array and object formats
                                                if (Array.isArray(item.seasonality)) {
                                                    seasonality = item.seasonality.join(', ');
                                                }
                                                else if (item.seasonality.peak) {
                                                    // Handle {peak: [...], notes: string} format
                                                    seasonality = Array.isArray(item.seasonality.peak)
                                                        ? item.seasonality.peak.join(', ')
                                                        : item.seasonality.peak;
                                                }
                                            }
                                        }
                                        else {
                                            seasonality = defaultSeason;
                                        }
                                        const qualities = item.qualities || [];
                                        // Use the new getMatchScoreClass function
                                        const matchScoreClass = getMatchScoreClass(item.matchScore);
                                        const isSelected = (selectedIngredient === null || selectedIngredient === void 0 ? void 0 : selectedIngredient.name) === item.name;
                                        return ((0, jsx_runtime_1.jsxs)("div", { className: `p-3 rounded-lg border-l-4 ${elementColor} hover:shadow-md transition-all flex flex-col ${isSelected ? 'ring-2 ring-indigo-500 shadow-md min-h-[200px] sm:col-span-2 md:col-span-2 lg:col-span-2' : 'h-full'} cursor-pointer`, onClick: (e) => handleIngredientSelect(item, e), children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-start", children: [(0, jsx_runtime_1.jsx)("h4", { className: "font-medium text-sm text-gray-800 dark:text-gray-200", children: item.name }), (0, jsx_runtime_1.jsx)("span", { className: `ml-1 text-xs px-1.5 py-0.5 rounded-sm ${matchScoreClass}`, children: formatMatchScore(item.matchScore) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-xs text-gray-600 dark:text-gray-400 mt-1 gap-2", children: [item.category && ((0, jsx_runtime_1.jsxs)("span", { className: "flex items-center", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Tag, { size: 10, className: "mr-0.5" }), item.category.split(' ')[0]] })), seasonality && ((0, jsx_runtime_1.jsxs)("span", { className: "flex items-center", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { size: 10, className: "mr-0.5" }), seasonality] }))] }), isSelected ? ((0, jsx_runtime_1.jsxs)("div", { className: "mt-2 pt-1", style: { animation: 'fadeIn 0.3s ease-in-out' }, children: [(0, jsx_runtime_1.jsx)("div", { className: "flex justify-end", children: (0, jsx_runtime_1.jsx)("button", { onClick: (e) => {
                                                                    e.stopPropagation();
                                                                    setSelectedIngredient(null);
                                                                }, className: "text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-200/50 dark:hover:bg-gray-700/50", "aria-label": "Close details", children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { size: 14 }) }) }), (0, jsx_runtime_1.jsxs)("div", { className: "mt-1 space-y-2 text-xs text-gray-700 dark:text-gray-300", children: [item.description && ((0, jsx_runtime_1.jsx)("p", { children: item.description })), item.qualities && item.qualities.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Qualities:" }), " ", item.qualities.join(', ')] })), item.culinaryApplications && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Culinary Applications:" }), ' ', Object.keys(item.culinaryApplications).slice(0, 3).join(', ')] })), item.varieties && Object.keys(item.varieties).length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Varieties:" }), ' ', Object.keys(item.varieties).slice(0, 3).join(', ')] })), item.storage && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Storage:" }), ' ', item.storage.duration, item.storage.temperature && typeof item.storage.temperature === 'object' &&
                                                                            ` at ${item.storage.temperature.fahrenheit}°F`] })), category === 'oils' && item.smokePoint && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Smoke Point:" }), " ", item.smokePoint.fahrenheit, "\u00B0F / ", item.smokePoint.celsius, "\u00B0C"] })), category === 'oils' && item.culinaryApplications && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Best for:" }), " ", Object.entries(item.culinaryApplications)
                                                                            .map(([type, data]) => {
                                                                            if (typeof data === 'object') {
                                                                                // Extract data with safe property access
                                                                                const culinaryData = data;
                                                                                const techniques = culinaryData === null || culinaryData === void 0 ? void 0 : culinaryData.techniques;
                                                                                if (Array.isArray(techniques)) {
                                                                                    return techniques.slice(0, 2).join(', ');
                                                                                }
                                                                            }
                                                                            return type;
                                                                        })
                                                                            .filter(Boolean)
                                                                            .join(', ')] })), item.seasonalAdjustments && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Seasonal Preparations:" }), ' ', Object.keys(item.seasonalAdjustments).join(', ')] })), category === 'proteins' && item.culinaryApplications && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Cooking Times:" }), ' ', Object.entries(item.culinaryApplications).map(([method, details], index) => {
                                                                            let cookingTime = '';
                                                                            // Handle different data formats for cooking time
                                                                            // Extract details data with safe property access
                                                                            const detailsData = details;
                                                                            const timing = detailsData === null || detailsData === void 0 ? void 0 : detailsData.timing;
                                                                            if (timing) {
                                                                                if (typeof timing === 'string') {
                                                                                    cookingTime = timing;
                                                                                }
                                                                                else if (typeof timing === 'object') {
                                                                                    // Extract timing properties with safe access
                                                                                    const timingData = timing;
                                                                                    const minimum = timingData === null || timingData === void 0 ? void 0 : timingData.minimum;
                                                                                    const maximum = timingData === null || timingData === void 0 ? void 0 : timingData.maximum;
                                                                                    const optimal = timingData === null || timingData === void 0 ? void 0 : timingData.optimal;
                                                                                    if (minimum && maximum) {
                                                                                        cookingTime = `${minimum}-${maximum}`;
                                                                                    }
                                                                                    else if (optimal) {
                                                                                        cookingTime = optimal;
                                                                                    }
                                                                                    else {
                                                                                        const times = Object.values(timing).filter(t => typeof t === 'string');
                                                                                        if (times.length)
                                                                                            cookingTime = times.join('-');
                                                                                    }
                                                                                }
                                                                            }
                                                                            return cookingTime ? ((0, jsx_runtime_1.jsxs)("span", { children: [index > 0 ? ', ' : '', method.replace(/_/g, ' '), ": ", cookingTime] }, method)) : null;
                                                                        }).filter(Boolean)] })), category === 'proteins' && item.culinaryApplications && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Cooking Temperatures:" }), ' ', Object.entries(item.culinaryApplications).map(([method, details], index) => {
                                                                            let temp = '';
                                                                            // Handle different data formats for temperature
                                                                            // Extract details data with safe property access
                                                                            const tempDetailsData = details;
                                                                            const temperature = tempDetailsData === null || tempDetailsData === void 0 ? void 0 : tempDetailsData.temperature;
                                                                            if (temperature) {
                                                                                if (typeof temperature === 'string') {
                                                                                    temp = temperature;
                                                                                }
                                                                                else if (typeof temperature === 'object') {
                                                                                    // Extract temperature properties with safe access
                                                                                    const temperatureData = temperature;
                                                                                    const fahrenheit = temperatureData === null || temperatureData === void 0 ? void 0 : temperatureData.fahrenheit;
                                                                                    const min = temperatureData === null || temperatureData === void 0 ? void 0 : temperatureData.min;
                                                                                    const max = temperatureData === null || temperatureData === void 0 ? void 0 : temperatureData.max;
                                                                                    const unit = temperatureData === null || temperatureData === void 0 ? void 0 : temperatureData.unit;
                                                                                    if (fahrenheit) {
                                                                                        temp = `${fahrenheit}°F`;
                                                                                    }
                                                                                    else if (min && max) {
                                                                                        temp = `${min}-${max}°${unit === 'celsius' ? 'C' : 'F'}`;
                                                                                    }
                                                                                }
                                                                            }
                                                                            return temp ? ((0, jsx_runtime_1.jsxs)("span", { children: [index > 0 ? ', ' : '', method.replace(/_/g, ' '), ": ", temp] }, method)) : null;
                                                                        }).filter(Boolean)] })), item.cuts && Object.keys(item.cuts).length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Available Cuts:" }), ' ', Object.values(item.cuts).map(cut => {
                                                                            if (typeof cut === 'object') {
                                                                                // Extract cut data with safe property access
                                                                                const cutData = cut;
                                                                                const name = cutData === null || cutData === void 0 ? void 0 : cutData.name;
                                                                                return name ? name : '';
                                                                            }
                                                                            return '';
                                                                        }).filter(Boolean).join(', ')] })), item.healthBenefits && item.healthBenefits.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Health Benefits:" }), ' ', Array.isArray(item.healthBenefits)
                                                                            ? item.healthBenefits.slice(0, 2).join(', ')
                                                                            : typeof item.healthBenefits === 'string' ? item.healthBenefits : ''] })), item.thermodynamicProperties && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Properties:" }), " ", Object.entries(item.thermodynamicProperties)
                                                                            .filter(([key]) => ['heat', 'reactivity', 'energy'].includes(key))
                                                                            .map(([key, value]) => `${key}: ${Math.round((Number(value) || 0) * 100)}%`)
                                                                            .join(', ')] })), item.culinaryUses && item.culinaryUses.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Uses:" }), " ", item.culinaryUses.join(', ')] })), item.nutritionalProfile && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Nutrition:" }), ' ', item.nutritionalProfile.calories && `${item.nutritionalProfile.calories} cal`, item.nutritionalProfile.macros && item.nutritionalProfile.macros.protein &&
                                                                            `, ${item.nutritionalProfile.macros.protein}g protein`] })), item.astrologicalProfile && item.astrologicalProfile.rulingPlanets && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-semibold", children: "Planets:" }), " ", item.astrologicalProfile.rulingPlanets.join(', ')] }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "mt-2 pt-1 space-y-1", children: [(0, jsx_runtime_1.jsx)("div", { className: "font-semibold text-xs text-gray-700 dark:text-gray-300", children: "Elemental Balance:" }), Object.entries(elementalProps).map(([element, value]) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-xs", children: [getElementIcon(element), (0, jsx_runtime_1.jsx)("div", { className: "flex-grow ml-1 bg-gray-200 dark:bg-gray-700 h-1.5 rounded-full overflow-hidden", children: (0, jsx_runtime_1.jsx)("div", { className: "h-full rounded-full", style: {
                                                                                    width: `${(Number(value) || 0) * 100}%`,
                                                                                    backgroundColor: element === 'Fire' ? '#ff6b6b' :
                                                                                        element === 'Water' ? '#6bb5ff' :
                                                                                            element === 'Earth' ? '#6bff8e' :
                                                                                                '#d9b3ff' // Air
                                                                                } }) }), (0, jsx_runtime_1.jsxs)("span", { className: "ml-1 w-7 text-right text-gray-600 dark:text-gray-400", children: [Math.round((Number(value) || 0) * 100), "%"] })] }, element)))] })] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)("div", { className: "mt-2 pt-1 space-y-1", children: Object.entries(elementalProps).map(([element, value]) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-xs", children: [getElementIcon(element), (0, jsx_runtime_1.jsx)("div", { className: "flex-grow ml-1 bg-gray-200 dark:bg-gray-700 h-1.5 rounded-full overflow-hidden", children: (0, jsx_runtime_1.jsx)("div", { className: "h-full rounded-full", style: {
                                                                                width: `${(Number(value) || 0) * 100}%`,
                                                                                backgroundColor: element === 'Fire' ? '#ff6b6b' :
                                                                                    element === 'Water' ? '#6bb5ff' :
                                                                                        element === 'Earth' ? '#6bff8e' :
                                                                                            '#d9b3ff' // Air
                                                                            } }) }), (0, jsx_runtime_1.jsxs)("span", { className: "ml-1 w-7 text-right text-gray-600 dark:text-gray-400", children: [Math.round((Number(value) || 0) * 100), "%"] })] }, element))) }), qualities.length > 0 && ((0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-1 mt-2", children: qualities.slice(0, 2).map(quality => ((0, jsx_runtime_1.jsx)("span", { className: "text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-1 py-0.5 rounded text-[10px]", children: quality }, quality))) })), category === 'oils' && item.smokePoint && ((0, jsx_runtime_1.jsxs)("div", { className: "mt-1 text-[10px] text-gray-600 dark:text-gray-400", children: [(0, jsx_runtime_1.jsx)("span", { className: "font-medium", children: "Smoke Point:" }), " ", item.smokePoint.fahrenheit, "\u00B0F"] })), category === 'proteins' && item.culinaryApplications && ((0, jsx_runtime_1.jsxs)("div", { className: "mt-1 text-[10px] text-gray-600 dark:text-gray-400", children: [(0, jsx_runtime_1.jsx)("span", { className: "font-medium", children: "Cook:" }), ' ', Object.keys(item.culinaryApplications).slice(0, 2).map((method, idx) => ((0, jsx_runtime_1.jsxs)("span", { children: [idx > 0 && ', ', method.replace(/_/g, ' ')] }, method)))] }))] }))] }, `${item.name}-${category}-${item.subCategory || ''}-${Math.random().toString(36).substr(2, 5)}`));
                                    }), items.length > displayCount && ((0, jsx_runtime_1.jsx)("div", { className: "col-span-full flex justify-center mt-2", children: (0, jsx_runtime_1.jsx)("button", { onClick: (e) => toggleCategoryExpansion(category, e), className: "text-indigo-600 dark:text-indigo-400 text-sm font-medium hover:text-indigo-800 dark:hover:text-indigo-300 transition-colors py-1 px-3 rounded-full border border-indigo-200 dark:border-indigo-700/50 hover:bg-indigo-50 dark:hover:bg-indigo-900/30", children: isExpanded ? ((0, jsx_runtime_1.jsxs)("span", { className: "flex items-center", children: ["Show Less ", (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronUp, { size: 14, className: "ml-1" })] })) : ((0, jsx_runtime_1.jsxs)("span", { className: "flex items-center", children: ["Show ", items.length - displayCount, " More ", (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronDown, { size: 14, className: "ml-1" })] })) }) }))] })] }, category));
                }) })) : ((0, jsx_runtime_1.jsx)("div", { className: "bg-gray-100 dark:bg-gray-800 p-8 rounded-lg text-center", children: (0, jsx_runtime_1.jsx)("p", { className: "text-gray-600 dark:text-gray-400", children: "No recommendations available. Try refreshing your astrological data." }) })), (0, jsx_runtime_1.jsxs)("div", { className: "mt-6 text-center space-y-3", children: [!isFullPageVersion && ((0, jsx_runtime_1.jsxs)("button", { className: "px-5 py-2 bg-gradient-to-r from-green-600 to-teal-600 text-white font-medium rounded-lg shadow-sm hover:shadow-md transform hover:-translate-y-0.5 transition-all flex items-center gap-2 mx-auto", onClick: handleViewMore, children: ["View All Ingredients ", (0, jsx_runtime_1.jsx)(lucide_react_1.ExternalLink, { size: 16 })] })), (0, jsx_runtime_1.jsx)("button", { className: "px-5 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium rounded-lg shadow-sm hover:shadow-md transform hover:-translate-y-0.5 transition-all", onClick: () => window.location.reload(), children: "Refresh Celestial Recommendations" })] })] }));
}
exports.default = IngredientRecommender;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9jb21wb25lbnRzL0luZ3JlZGllbnRSZWNvbW1lbmRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsdUVBQW9FO0FBQ3BFLGlDQUFxRDtBQUNyRCxnREFBNEM7QUFDNUMsd0VBQXFFO0FBRXJFLHlFQUF3SztBQUN4SywrQ0FBMko7QUFDM0osNkVBQTBFO0FBRTFFLG9EQUEyRztBQUczRyx3SEFBZ0c7QUFZaEc7O0dBRUc7QUFDSCxNQUFNLGlCQUFpQixHQUEyRDtJQUNoRixLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUU7SUFDN0MsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0lBQ2hELFNBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtJQUNqRCxPQUFPLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUU7SUFDakQsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0lBQy9DLFNBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRTtJQUNoRCxRQUFRLEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUU7SUFDaEQsUUFBUSxFQUFFLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFO0lBQ2hELFNBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtJQUNuRCxPQUFPLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUU7Q0FDbEQsQ0FBQztBQUVGLDBEQUEwRDtBQUMxRCxN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UUFBUSxFQUFFLENBQUMsQ0FBQyxFQUNwRCxTQUFTLEVBQUMsc1BBQXNQLFlBRS9QLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FDWixrQ0FBTSxTQUFTLEVBQUMsbUJBQW1CLDJCQUFXLHVCQUFDLHdCQUFTLElBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUMsTUFBTSxHQUFHLElBQU8sQ0FDOUYsQ0FBQyxDQUFDLENBQUMsQ0FDRixrQ0FBTSxTQUFTLEVBQUMsbUJBQW1CLHNCQUFPLEtBQUssQ0FBQyxNQUFNLEdBQUcsWUFBWSxZQUFPLHVCQUFDLDBCQUFXLElBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUMsTUFBTSxHQUFHLElBQU8sQ0FDOUgsR0FDTSxHQUNMLENBQ1AsSUFDRyxLQS9iZ0IsUUFBUSxDQWdjMUIsQ0FDUCxDQUFDO2dCQUNKLENBQUMsQ0FBQyxHQUNFLENBQ1AsQ0FBQyxDQUFDLENBQUMsQ0FDRixnQ0FBSyxTQUFTLEVBQUMseURBQXlELFlBQ3RFLDhCQUFHLFNBQVMsRUFBQyxrQ0FBa0MscUZBQXlFLEdBQ3BILENBQ1AsRUFFRCxpQ0FBSyxTQUFTLEVBQUMsNEJBQTRCLGFBRXhDLENBQUMsaUJBQWlCLElBQUksQ0FDckIsb0NBQ0UsU0FBUyxFQUFDLG1NQUFtTSxFQUM3TSxPQUFPLEVBQUUsY0FBYyxzQ0FFRix1QkFBQywyQkFBWSxJQUFDLElBQUksRUFBRSxFQUFFLEdBQUksSUFDeEMsQ0FDVixFQUVELG1DQUNFLFNBQVMsRUFBQyxzS0FBc0ssRUFDaEwsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLGtEQUdoQyxJQUNMLElBQ0YsQ0FDUCxDQUFDO0FBQ0osQ0FBQztBQXZ6Q0Qsd0NBdXpDQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvR3JlZ0Nhc3Ryby9EZXNrdG9wL1doYXRUb0VhdE5leHQvc3JjL2NvbXBvbmVudHMvSW5ncmVkaWVudFJlY29tbWVuZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VBc3Ryb2xvZ2ljYWxTdGF0ZSB9IGZyb20gJ0AvaG9va3MvdXNlQXN0cm9sb2dpY2FsU3RhdGUnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgeyBFbGVtZW50YWxDYWxjdWxhdG9yIH0gZnJvbSAnQC9zZXJ2aWNlcy9FbGVtZW50YWxDYWxjdWxhdG9yJztcbmltcG9ydCB7IEVsZW1lbnRhbFByb3BlcnRpZXMgfSBmcm9tICdAL3R5cGVzL2FsY2hlbXknO1xuaW1wb3J0IHsgZ2V0Q2hha3JhQmFzZWRSZWNvbW1lbmRhdGlvbnMsIEdyb3VwZWRJbmdyZWRpZW50UmVjb21tZW5kYXRpb25zLCBnZXRJbmdyZWRpZW50UmVjb21tZW5kYXRpb25zLCBJbmdyZWRpZW50UmVjb21tZW5kYXRpb24gfSBmcm9tICdAL3V0aWxzL2luZ3JlZGllbnRSZWNvbW1lbmRlcic7XG5pbXBvcnQgeyBGbGFtZSwgRHJvcGxldHMsIE1vdW50YWluLCBXaW5kLCBJbmZvLCBDbG9jaywgVGFnLCBMZWFmLCBYLCBDaGV2cm9uRG93biwgQ2hldnJvblVwLCBCZWFrZXIsIEJyYWluLCBFeHRlcm5hbExpbmssIEFycm93UmlnaHQgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2hha3JhSW5mbHVlbmNlZEZvb2QgfSBmcm9tICdAL2hvb2tzL3VzZUNoYWtyYUluZmx1ZW5jZWRGb29kJztcbmltcG9ydCB7IG5vcm1hbGl6ZUNoYWtyYUtleSB9IGZyb20gJ0AvY29uc3RhbnRzL2NoYWtyYVN5bWJvbHMnO1xuaW1wb3J0IHsgaGVyYnNDb2xsZWN0aW9uLCBvaWxzQ29sbGVjdGlvbiwgdmluZWdhcnNDb2xsZWN0aW9uLCBncmFpbnNDb2xsZWN0aW9uIH0gZnJvbSAnQC9kYXRhL2luZ3JlZGllbnRzJztcbmltcG9ydCB0eXBlIHsgSW5ncmVkaWVudCB9IGZyb20gJ0AvdHlwZXMvaW5ncmVkaWVudCc7XG5pbXBvcnQgdHlwZSB7IFVuaWZpZWRJbmdyZWRpZW50IH0gZnJvbSAnQC90eXBlcy9pbmdyZWRpZW50JztcbmltcG9ydCBFbnRlcnByaXNlSW50ZWxsaWdlbmNlUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL2ludGVsbGlnZW5jZS9FbnRlcnByaXNlSW50ZWxsaWdlbmNlUGFuZWwnO1xuXG4vLyBQcm9wcyBpbnRlcmZhY2UgZm9yIEluZ3JlZGllbnRSZWNvbW1lbmRlclxuaW50ZXJmYWNlIEluZ3JlZGllbnRSZWNvbW1lbmRlclByb3BzIHtcbiAgaW5pdGlhbENhdGVnb3J5Pzogc3RyaW5nIHwgbnVsbDtcbiAgaW5pdGlhbFNlbGVjdGVkSW5ncmVkaWVudD86IHN0cmluZyB8IG51bGw7XG4gIGlzRnVsbFBhZ2VWZXJzaW9uPzogYm9vbGVhbjtcbiAgbWF4RGlzcGxheWVkPzogbnVtYmVyO1xuICBvbkNhdGVnb3J5U2VsZWN0PzogKGNhdGVnb3J5OiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uSW5ncmVkaWVudFNlbGVjdD86IChpbmdyZWRpZW50OiBJbmdyZWRpZW50UmVjb21tZW5kYXRpb24pID0+IHZvaWQ7XG59XG5cbi8qKlxuICogTWFwcyBwbGFuZXRzIHRvIHRoZWlyIGVsZW1lbnRhbCBpbmZsdWVuY2VzIChkaXVybmFsIGFuZCBub2N0dXJuYWwgZWxlbWVudHMpXG4gKi9cbmNvbnN0IHBsYW5ldGFyeUVsZW1lbnRzOiBSZWNvcmQ8c3RyaW5nLCB7IGRpdXJuYWw6IHN0cmluZywgbm9jdHVybmFsOiBzdHJpbmcgfT4gPSB7XG4gICdTdW4nOiB7IGRpdXJuYWw6ICdGaXJlJywgbm9jdHVybmFsOiAnRmlyZScgfSxcbiAgJ01vb24nOiB7IGRpdXJuYWw6ICdXYXRlcicsIG5vY3R1cm5hbDogJ1dhdGVyJyB9LFxuICAnTWVyY3VyeSc6IHsgZGl1cm5hbDogJ0FpcicsIG5vY3R1cm5hbDogJ0VhcnRoJyB9LFxuICAnVmVudXMnOiB7IGRpdXJuYWw6ICdXYXRlcicsIG5vY3R1cm5hbDogJ0VhcnRoJyB9LFxuICAnTWFycyc6IHsgZGl1cm5hbDogJ0ZpcmUnLCBub2N0dXJuYWw6ICdXYXRlcicgfSxcbiAgJ0p1cGl0ZXInOiB7IGRpdXJuYWw6ICdBaXInLCBub2N0dXJuYWw6ICdGaXJlJyB9LFxuICAnU2F0dXJuJzogeyBkaXVybmFsOiAnQWlyJywgbm9jdHVybmFsOiAnRWFydGgnIH0sXG4gICdVcmFudXMnOiB7IGRpdXJuYWw6ICdXYXRlcicsIG5vY3R1cm5hbDogJ0FpcicgfSxcbiAgJ05lcHR1bmUnOiB7IGRpdXJuYWw6ICdXYXRlcicsIG5vY3R1cm5hbDogJ1dhdGVyJyB9LFxuICAnUGx1dG8nOiB7IGRpdXJuYWw6ICdFYXJ0aCcsIG5vY3R1cm5hbDogJ1dhdGVyJyB9XG59O1xuXG4vLyBEZWZpbmUgYSBzdHlsZXMgb2JqZWN0IGZvciBhbmltYXRpb25zIGFuZCBjdXN0b20gc3R5bGVzXG5jb25zdCBjdXN0b21TdHlsZXMgPSB7XG4gICdAa2V5ZnJhbWVzIGZhZGVJbic6IHtcbiAgICAnMCUnOiB7IG9wYWNpdHk6IDAgfSxcbiAgICAnMTAwJSc6IHsgb3BhY2l0eTogMSB9XG4gIH0sXG4gIGFuaW1hdGVGYWRlSW46IHtcbiAgICBhbmltYXRpb246ICdmYWRlSW4gMC4zcyBlYXNlLWluLW91dCdcbiAgfVxufTtcblxuLy8gRGVmaW5lIGNhdGVnb3J5IGRpc3BsYXkgbmFtZXNcbmNvbnN0IENBVEVHT1JZX0RJU1BMQVlfTkFNRVM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIHByb3RlaW5zOiAnUHJvdGVpbnMnLFxuICB2ZWdldGFibGVzOiAnVmVnZXRhYmxlcycsXG4gIGdyYWluczogJ0dyYWlucyAmIFN0YXJjaGVzJyxcbiAgZnJ1aXRzOiAnRnJ1aXRzJyxcbiAgaGVyYnM6ICdIZXJicyAmIEFyb21hdGljcycsXG4gIHNwaWNlczogJ1NwaWNlcyAmIFNlYXNvbmluZ3MnLFxuICBvaWxzOiAnT2lscyAmIEZhdHMnLFxuICB2aW5lZ2FyczogJ1ZpbmVnYXJzICYgQWNpZGlmaWVycydcbn07XG5cbi8vIERlZmluZSBjYXRlZ29yeSBkaXNwbGF5IGNvdW50c1xuY29uc3QgQ0FURUdPUllfRElTUExBWV9DT1VOVFM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gIHByb3RlaW5zOiAxMixcbiAgdmVnZXRhYmxlczogMTIsXG4gIGdyYWluczogMTAsXG4gIGZydWl0czogMTIsXG4gIGhlcmJzOiAxMCxcbiAgc3BpY2VzOiAxMixcbiAgb2lsczogOCxcbiAgdmluZWdhcnM6IDhcbn07XG5cbi8vIFVzaW5nIGlubGluZSBzdHlsZXMgdG8gYXZvaWQgQ1NTIG1vZHVsZSBjb25mbGljdHNcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEluZ3JlZGllbnRSZWNvbW1lbmRlcih7XG4gIGluaXRpYWxDYXRlZ29yeSA9IG51bGwsXG4gIGluaXRpYWxTZWxlY3RlZEluZ3JlZGllbnQgPSBudWxsLFxuICBpc0Z1bGxQYWdlVmVyc2lvbiA9IGZhbHNlLFxuICBtYXhEaXNwbGF5ZWQgPSAxMixcbiAgb25DYXRlZ29yeVNlbGVjdCxcbiAgb25JbmdyZWRpZW50U2VsZWN0XG59OiBJbmdyZWRpZW50UmVjb21tZW5kZXJQcm9wcyA9IHt9KSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICAvLyBVc2UgdGhlIGhvb2sgdG8gZ2V0IGFzdHJvbG9naWNhbCBkYXRhXG4gIGNvbnN0IGFzdHJvU3RhdGUgPSB1c2VBc3Ryb2xvZ2ljYWxTdGF0ZSgpO1xuICBjb25zdCB7IFxuICAgIGN1cnJlbnRab2RpYWMsIFxuICAgIGN1cnJlbnRQbGFuZXRhcnlBbGlnbm1lbnQsIFxuICAgIGxvYWRpbmc6IGFzdHJvTG9hZGluZywgXG4gICAgaXNEYXl0aW1lIFxuICB9ID0gYXN0cm9TdGF0ZTtcbiAgXG4gIC8vIE5vdGU6IGNoYWtyYUVuZXJnaWVzIGFyZSBub3QgYXZhaWxhYmxlIGZyb20gdXNlQXN0cm9sb2dpY2FsU3RhdGVcbiAgLy8gV2UnbGwgcmVseSBvbiB0aGUgdXNlQ2hha3JhSW5mbHVlbmNlZEZvb2QgaG9vayBmb3IgY2hha3JhLWJhc2VkIHJlY29tbWVuZGF0aW9uc1xuICBjb25zdCBjb250ZXh0Q2hha3JhRW5lcmdpZXMgPSBudWxsOyAvLyBOb3QgYXZhaWxhYmxlIGZyb20gdGhpcyBob29rXG4gIGNvbnN0IHBsYW5ldGFyeVBvc2l0aW9ucyA9IGN1cnJlbnRQbGFuZXRhcnlBbGlnbm1lbnQ7XG4gIGNvbnN0IGFzdHJvRXJyb3IgPSBudWxsOyAvLyBIb29rIGRvZXNuJ3QgZXhwb3NlIGVycm9yIHN0YXRlXG4gIGNvbnN0IFthc3Ryb1JlY29tbWVuZGF0aW9ucywgc2V0QXN0cm9SZWNvbW1lbmRhdGlvbnNdID0gdXNlU3RhdGU8R3JvdXBlZEluZ3JlZGllbnRSZWNvbW1lbmRhdGlvbnM+KHt9KTtcbiAgLy8gU3RhdGVzIGZvciBzZWxlY3RlZCBpdGVtIGFuZCBleHBhbnNpb25cbiAgY29uc3QgW3NlbGVjdGVkSW5ncmVkaWVudCwgc2V0U2VsZWN0ZWRJbmdyZWRpZW50XSA9IHVzZVN0YXRlPEluZ3JlZGllbnRSZWNvbW1lbmRhdGlvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZXhwYW5kZWQsIHNldEV4cGFuZGVkXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFthY3RpdmVDYXRlZ29yeSwgc2V0QWN0aXZlQ2F0ZWdvcnldID0gdXNlU3RhdGU8c3RyaW5nPihpbml0aWFsQ2F0ZWdvcnkgfHwgJ3Byb3RlaW5zJyk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBzdGF0ZSBmcm9tIHByb3BzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxDYXRlZ29yeSkge1xuICAgICAgc2V0QWN0aXZlQ2F0ZWdvcnkoaW5pdGlhbENhdGVnb3J5KTtcbiAgICB9XG4gICAgaWYgKGluaXRpYWxTZWxlY3RlZEluZ3JlZGllbnQpIHtcbiAgICAgIC8vIEZpbmQgdGhlIGluZ3JlZGllbnQgaW4gcmVjb21tZW5kYXRpb25zIGFuZCBzZXQgaXQgYXMgc2VsZWN0ZWRcbiAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGFmdGVyIHJlY29tbWVuZGF0aW9ucyBhcmUgbG9hZGVkXG4gICAgfVxuICB9LCBbaW5pdGlhbENhdGVnb3J5LCBpbml0aWFsU2VsZWN0ZWRJbmdyZWRpZW50XSk7XG4gIFxuICAvLyBFbnRlcnByaXNlIEludGVsbGlnZW5jZSBzdGF0ZVxuICBjb25zdCBbc2hvd0VudGVycHJpc2VJbnRlbGxpZ2VuY2UsIHNldFNob3dFbnRlcnByaXNlSW50ZWxsaWdlbmNlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2VudGVycHJpc2VJbnRlbGxpZ2VuY2VBbmFseXNpcywgc2V0RW50ZXJwcmlzZUludGVsbGlnZW5jZUFuYWx5c2lzXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XG4gIFxuICAvLyBVc2UgdGhlIGN1c3RvbSBob29rIGZvciBmb29kIHJlY29tbWVuZGF0aW9uc1xuICBjb25zdCB7IFxuICAgIHJlY29tbWVuZGF0aW9uczogZm9vZFJlY29tbWVuZGF0aW9ucywgXG4gICAgY2hha3JhRW5lcmdpZXMsXG4gICAgbG9hZGluZzogZm9vZExvYWRpbmcsIFxuICAgIGVycm9yOiBmb29kRXJyb3IsXG4gICAgcmVmcmVzaFJlY29tbWVuZGF0aW9uc1xuICB9ID0gdXNlQ2hha3JhSW5mbHVlbmNlZEZvb2QoeyBsaW1pdDogMzAwIH0pOyAvLyBJbmNyZWFzZWQgZnJvbSAyMDAgdG8gMzAwIHRvIGVuc3VyZSBhbGwgY2F0ZWdvcmllcyBoYXZlIHBsZW50eSBvZiBpdGVtc1xuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBlbGVtZW50IGljb24gd2l0aCBpbmxpbmUgc3R5bGVzXG4gIGNvbnN0IGdldEVsZW1lbnRJY29uID0gKGVsZW1lbnQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGljb25TdHlsZSA9IHsgXG4gICAgICBtYXJnaW5SaWdodDogJzJweCcsXG4gICAgICBjb2xvcjogZWxlbWVudCA9PT0gJ0ZpcmUnID8gJyNmZjZiNmInIDogXG4gICAgICAgICAgICBlbGVtZW50ID09PSAnV2F0ZXInID8gJyM2YmI1ZmYnIDpcbiAgICAgICAgICAgIGVsZW1lbnQgPT09ICdFYXJ0aCcgPyAnIzZiZmY4ZScgOlxuICAgICAgICAgICAgJyNkOWIzZmYnIC8vIEFpclxuICAgIH07XG4gICAgXG4gICAgc3dpdGNoIChlbGVtZW50KSB7XG4gICAgICBjYXNlICdGaXJlJzogcmV0dXJuIDxGbGFtZSBzdHlsZT17aWNvblN0eWxlfSBzaXplPXsxNn0gLz47XG4gICAgICBjYXNlICdXYXRlcic6IHJldHVybiA8RHJvcGxldHMgc3R5bGU9e2ljb25TdHlsZX0gc2l6ZT17MTZ9IC8+O1xuICAgICAgY2FzZSAnRWFydGgnOiByZXR1cm4gPE1vdW50YWluIHN0eWxlPXtpY29uU3R5bGV9IHNpemU9ezE2fSAvPjtcbiAgICAgIGNhc2UgJ0Fpcic6IHJldHVybiA8V2luZCBzdHlsZT17aWNvblN0eWxlfSBzaXplPXsxNn0gLz47XG4gICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBIYW5kbGUgaW5ncmVkaWVudCBzZWxlY3Rpb24gdG8gZGlzcGxheSBkZXRhaWxzXG4gIGNvbnN0IGhhbmRsZUluZ3JlZGllbnRTZWxlY3QgPSAoaXRlbTogdW5rbm93biwgZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgXG4gICAgLy8gVG9nZ2xlIHNlbGVjdGVkIGluZ3JlZGllbnRcbiAgICBpZiAoc2VsZWN0ZWRJbmdyZWRpZW50Py5uYW1lID09PSBpdGVtLm5hbWUpIHtcbiAgICAgIHNldFNlbGVjdGVkSW5ncmVkaWVudChudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2VsZWN0ZWRJbmdyZWRpZW50KGl0ZW0pO1xuICAgICAgXG4gICAgICAvLyBDYWxsIHByb3AgY2FsbGJhY2sgaWYgcHJvdmlkZWRcbiAgICAgIGlmIChvbkluZ3JlZGllbnRTZWxlY3QpIHtcbiAgICAgICAgb25JbmdyZWRpZW50U2VsZWN0KGl0ZW0gYXMgSW5ncmVkaWVudFJlY29tbWVuZGF0aW9uKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3RvcmUgc2VsZWN0aW9uIGluIHNlc3Npb24gc3RvcmFnZSBmb3IgY29udGV4dCBwcmVzZXJ2YXRpb25cbiAgICAgIHRyeSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkSW5ncmVkaWVudCcsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBuYW1lOiAoaXRlbSBhcyBhbnkpLm5hbWUsXG4gICAgICAgICAgY2F0ZWdvcnk6IChpdGVtIGFzIGFueSkuY2F0ZWdvcnksXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgIH0pKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHN0b3JlIHNlbGVjdGVkIGluZ3JlZGllbnQgaW4gc2Vzc2lvbiBzdG9yYWdlOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIGNhdGVnb3J5IHNlbGVjdGlvblxuICBjb25zdCBoYW5kbGVDYXRlZ29yeVNlbGVjdCA9IChjYXRlZ29yeTogc3RyaW5nKSA9PiB7XG4gICAgc2V0QWN0aXZlQ2F0ZWdvcnkoY2F0ZWdvcnkpO1xuICAgIFxuICAgIC8vIENhbGwgcHJvcCBjYWxsYmFjayBpZiBwcm92aWRlZFxuICAgIGlmIChvbkNhdGVnb3J5U2VsZWN0KSB7XG4gICAgICBvbkNhdGVnb3J5U2VsZWN0KGNhdGVnb3J5KTtcbiAgICB9XG4gICAgXG4gICAgLy8gU3RvcmUgc2VsZWN0aW9uIGluIHNlc3Npb24gc3RvcmFnZSBmb3IgY29udGV4dCBwcmVzZXJ2YXRpb25cbiAgICB0cnkge1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRJbmdyZWRpZW50Q2F0ZWdvcnknLCBjYXRlZ29yeSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHN0b3JlIHNlbGVjdGVkIGNhdGVnb3J5IGluIHNlc3Npb24gc3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhhbmRsZSBuYXZpZ2F0aW9uIHRvIGZ1bGwgaW5ncmVkaWVudHMgcGFnZVxuICBjb25zdCBoYW5kbGVWaWV3TW9yZSA9ICgpID0+IHtcbiAgICAvLyBQcmVzZXJ2ZSBjdXJyZW50IGNvbnRleHQgaW4gVVJMIHBhcmFtZXRlcnNcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgaWYgKGFjdGl2ZUNhdGVnb3J5KSB7XG4gICAgICBwYXJhbXMuc2V0KCdjYXRlZ29yeScsIGFjdGl2ZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgaWYgKHNlbGVjdGVkSW5ncmVkaWVudCkge1xuICAgICAgcGFyYW1zLnNldCgnaW5ncmVkaWVudCcsIHNlbGVjdGVkSW5ncmVkaWVudC5uYW1lKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXJsID0gYC9pbmdyZWRpZW50cyR7cGFyYW1zLnRvU3RyaW5nKCkgPyBgPyR7cGFyYW1zLnRvU3RyaW5nKCl9YCA6ICcnfWA7XG4gICAgcm91dGVyLnB1c2godXJsKTtcbiAgfTtcbiAgXG4gIC8vIFRvZ2dsZSBleHBhbnNpb24gZm9yIGEgY2F0ZWdvcnlcbiAgY29uc3QgdG9nZ2xlQ2F0ZWdvcnlFeHBhbnNpb24gPSAoX2NhdGVnb3J5OiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIFxuICAgIHNldEV4cGFuZGVkKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbX2NhdGVnb3J5XTogIXByZXZbX2NhdGVnb3J5XVxuICAgIH0pKTtcbiAgfTtcbiAgXG4gIC8vIFJlc2V0IHNlbGVjdGVkIGluZ3JlZGllbnQgd2hlbiByZWNvbW1lbmRhdGlvbnMgY2hhbmdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRJbmdyZWRpZW50KG51bGwpO1xuICB9LCBbYXN0cm9SZWNvbW1lbmRhdGlvbnMsIGZvb2RSZWNvbW1lbmRhdGlvbnNdKTtcbiAgXG4gIC8vIFVzZSBjaGFrcmEgZW5lcmdpZXMgYW5kIHBsYW5ldGFyeSBwb3NpdGlvbnMgdG8gZ2VuZXJhdGUgaW5ncmVkaWVudCByZWNvbW1lbmRhdGlvbnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFzdHJvTG9hZGluZyAmJiAhYXN0cm9FcnJvcikge1xuICAgICAgLy8gQ3JlYXRlIGEgY29tYmluZWQgYXBwcm9hY2ggdXNpbmcgYm90aCBjaGFrcmEgYW5kIHN0YW5kYXJkIHJlY29tbWVuZGF0aW9uc1xuICAgICAgY29uc3QgY2hha3JhUmVjb21tZW5kYXRpb25zID0gY29udGV4dENoYWtyYUVuZXJnaWVzID8gZ2V0Q2hha3JhQmFzZWRSZWNvbW1lbmRhdGlvbnMoY29udGV4dENoYWtyYUVuZXJnaWVzLCAxNikgOiB7fTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGVsZW1lbnRhbCBwcm9wZXJ0aWVzIGZyb20gcGxhbmV0YXJ5IHBvc2l0aW9uc1xuICAgICAgbGV0IGVsZW1lbnRhbFByb3BzOiBFbGVtZW50YWxQcm9wZXJ0aWVzIHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKHBsYW5ldGFyeVBvc2l0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxjdWxhdG9yID0gbmV3IEVsZW1lbnRhbENhbGN1bGF0b3IoKTtcbiAgICAgICAgZWxlbWVudGFsUHJvcHMgPSBjYWxjdWxhdG9yLmNhbGN1bGF0ZUVsZW1lbnRhbFN0YXRlKHBsYW5ldGFyeVBvc2l0aW9ucyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERldGVybWluZSBjdXJyZW50IHBsYW5ldGFyeSBkYXkgYW5kIGhvdXJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAvLyBFeHRyYWN0IHBsYW5ldGFyeSBkYXkgYW5kIGhvdXIgZnJvbSBjb250ZXh0IGlmIGF2YWlsYWJsZVxuICAgICAgY29uc3QgcGxhbmV0YXJ5RGF5ID0gcGxhbmV0YXJ5UG9zaXRpb25zPy5wbGFuZXRhcnlEYXk/LnBsYW5ldCB8fCAnU3VuJztcbiAgICAgIGNvbnN0IHBsYW5ldGFyeUhvdXIgPSBwbGFuZXRhcnlQb3NpdGlvbnM/LnBsYW5ldGFyeUhvdXI/LnBsYW5ldCB8fCAnU3VuJztcbiAgICAgIGNvbnN0IGlzRGF5dGltZSA9IG5vdy5nZXRIb3VycygpID49IDYgJiYgbm93LmdldEhvdXJzKCkgPCAxODtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB3aXRoIGFzdHJvbG9naWNhbCBzdGF0ZSBkYXRhXG4gICAgICBjb25zdCBhc3Ryb1N0YXRlID0ge1xuICAgICAgICBlbGVtZW50YWxQcm9wZXJ0aWVzOiBlbGVtZW50YWxQcm9wcyB8fCB7XG4gICAgICAgICAgRmlyZTogMC4yNSxcbiAgICAgICAgICBXYXRlcjogMC4yNSxcbiAgICAgICAgICBFYXJ0aDogMC4yNSxcbiAgICAgICAgICBBaXI6IDAuMjVcbiAgICAgICAgfSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBjdXJyZW50U3RhYmlsaXR5OiAxLjAsXG4gICAgICAgIHBsYW5ldGFyeUFsaWdubWVudDogcGxhbmV0YXJ5UG9zaXRpb25zIHx8IHt9LFxuICAgICAgICBkb21pbmFudEVsZW1lbnQ6IGVsZW1lbnRhbFByb3BzID8gXG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMoZWxlbWVudGFsUHJvcHMpLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKVswXVswXSA6ICdGaXJlJyxcbiAgICAgICAgem9kaWFjU2lnbjogY3VycmVudFpvZGlhYyB8fCAnYXJpZXMnLFxuICAgICAgICBhY3RpdmVQbGFuZXRzOiBbJ1N1bicsICdNb29uJywgJ01lcmN1cnknLCAnVmVudXMnLCAnTWFycycsICdKdXBpdGVyJywgJ1NhdHVybicsICdVcmFudXMnLCAnTmVwdHVuZScsICdQbHV0byddLFxuICAgICAgICAvLyBBZGQgc3RhbmRhcmRpemVkIHBsYW5ldGFyeSBkYXkgYW5kIGhvdXIgaW5mb3JtYXRpb25cbiAgICAgICAgcGxhbmV0YXJ5RGF5OiBwbGFuZXRhcnlEYXksXG4gICAgICAgIHBsYW5ldGFyeUhvdXI6IHBsYW5ldGFyeUhvdXIsXG4gICAgICAgIGlzRGF5dGltZTogaXNEYXl0aW1lXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBHZXQgc3RhbmRhcmQgcmVjb21tZW5kYXRpb25zIHdpdGggYWxsIHBsYW5ldHNcbiAgICAgIGNvbnN0IHN0YW5kYXJkUmVjb21tZW5kYXRpb25zID0gZ2V0SW5ncmVkaWVudFJlY29tbWVuZGF0aW9ucyh7XG4gICAgICAgIC4uLmFzdHJvU3RhdGUsXG4gICAgICAgIGx1bmFyUGhhc2U6ICduZXcgbW9vbicsXG4gICAgICAgIGFzcGVjdHM6IFtdXG4gICAgICB9IGFzIGFueSwgeyBsaW1pdDogNDAgfSk7XG4gICAgICBcbiAgICAgIC8vIE1lcmdlIHRoZSByZWNvbW1lbmRhdGlvbnMsIHByaW9yaXRpemluZyBjaGFrcmEtYmFzZWQgb25lc1xuICAgICAgY29uc3QgbWVyZ2VkUmVjb21tZW5kYXRpb25zOiBHcm91cGVkSW5ncmVkaWVudFJlY29tbWVuZGF0aW9ucyA9IHt9O1xuICAgICAgXG4gICAgICAvLyBQcm9jZXNzIGFsbCBjYXRlZ29yaWVzXG4gICAgICBjb25zdCBhbGxDYXRlZ29yaWVzID0gbmV3IFNldChbXG4gICAgICAgIC4uLk9iamVjdC5rZXlzKGNoYWtyYVJlY29tbWVuZGF0aW9ucyksXG4gICAgICAgIC4uLk9iamVjdC5rZXlzKHN0YW5kYXJkUmVjb21tZW5kYXRpb25zKVxuICAgICAgXSk7XG4gICAgICBcbiAgICAgIGFsbENhdGVnb3JpZXMuZm9yRWFjaChfY2F0ZWdvcnkgPT4ge1xuICAgICAgICBjb25zdCBjaGFrcmFJdGVtcyA9IGNoYWtyYVJlY29tbWVuZGF0aW9uc1tfY2F0ZWdvcnldIHx8IFtdO1xuICAgICAgICBjb25zdCBzdGFuZGFyZEl0ZW1zID0gc3RhbmRhcmRSZWNvbW1lbmRhdGlvbnNbX2NhdGVnb3J5XSB8fCBbXTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBzZXQgb2YgaXRlbXMgdXNpbmcgbmFtZSBhcyB0aGUga2V5XG4gICAgICAgIGNvbnN0IHVuaXF1ZUl0ZW1zID0gbmV3IE1hcCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGNoYWtyYSBpdGVtcyBmaXJzdCAoaGlnaGVyIHByaW9yaXR5KVxuICAgICAgICBjaGFrcmFJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIHVuaXF1ZUl0ZW1zLnNldChpdGVtLm5hbWUsIGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBzdGFuZGFyZCBpdGVtcyB0aGF0IGFyZW4ndCBhbHJlYWR5IGluY2x1ZGVkXG4gICAgICAgIHN0YW5kYXJkSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBpZiAoIXVuaXF1ZUl0ZW1zLmhhcyhpdGVtLm5hbWUpKSB7XG4gICAgICAgICAgICB1bmlxdWVJdGVtcy5zZXQoaXRlbS5uYW1lLCBpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29udmVydCBiYWNrIHRvIGFycmF5IGFuZCBsaW1pdCB0byBwcmV2ZW50IG92ZXJ3aGVsbWluZyB0aGUgdXNlclxuICAgICAgICBtZXJnZWRSZWNvbW1lbmRhdGlvbnNbX2NhdGVnb3J5XSA9IEFycmF5LmZyb20odW5pcXVlSXRlbXMudmFsdWVzKCkpLnNsaWNlKDAsIDMyKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBzZXRBc3Ryb1JlY29tbWVuZGF0aW9ucyhtZXJnZWRSZWNvbW1lbmRhdGlvbnMpO1xuICAgIH1cbiAgfSwgW2FzdHJvTG9hZGluZywgY29udGV4dENoYWtyYUVuZXJnaWVzLCBwbGFuZXRhcnlQb3NpdGlvbnMsIGFzdHJvRXJyb3IsIGN1cnJlbnRab2RpYWNdKTtcbiAgXG4gIC8vIERlZmluZSBoZXJiIG5hbWVzIHRvIGltcHJvdmUgaGVyYiBkZXRlY3Rpb25cbiAgY29uc3QgaGVyYk5hbWVzID0gdXNlTWVtbygoKSA9PiBPYmplY3Qua2V5cyhoZXJic0NvbGxlY3Rpb24pLCBbXSk7XG4gIFxuICAvLyBEZWZpbmUgb2lsIHR5cGVzIGZvciBiZXR0ZXIgb2lsIGRldGVjdGlvblxuICBjb25zdCBvaWxUeXBlcyA9IHVzZU1lbW8oKCkgPT4gXG4gICAgT2JqZWN0LmtleXMob2lsc0NvbGxlY3Rpb24pLmNvbmNhdChbXG4gICAgICAnb2lsJywgJ29saXZlIG9pbCcsICd2ZWdldGFibGUgb2lsJywgJ3N1bmZsb3dlciBvaWwnLCAnc2VzYW1lIG9pbCcsICdjb2NvbnV0IG9pbCcsXG4gICAgICAnYXZvY2FkbyBvaWwnLCAnd2FsbnV0IG9pbCcsICdwZWFudXQgb2lsJywgJ2dyYXBlc2VlZCBvaWwnLCAnY2Fub2xhIG9pbCdcbiAgICBdKSwgXG4gIFtdKTtcbiAgXG4gIC8vIERlZmluZSB2aW5lZ2FyIHR5cGVzIGZvciBiZXR0ZXIgdmluZWdhciBkZXRlY3Rpb25cbiAgY29uc3QgdmluZWdhclR5cGVzID0gdXNlTWVtbygoKSA9PiBcbiAgICBPYmplY3Qua2V5cyh2aW5lZ2Fyc0NvbGxlY3Rpb24pLmNvbmNhdChbXG4gICAgICAndmluZWdhcicsICdiYWxzYW1pYyB2aW5lZ2FyJywgJ2FwcGxlIGNpZGVyIHZpbmVnYXInLCAncmljZSB2aW5lZ2FyJywgJ3JlZCB3aW5lIHZpbmVnYXInLFxuICAgICAgJ3doaXRlIHdpbmUgdmluZWdhcicsICdjaGFtcGFnbmUgdmluZWdhcicsICdzaGVycnkgdmluZWdhcicsICdtYWx0IHZpbmVnYXInLCBcbiAgICAgICdkaXN0aWxsZWQgdmluZWdhcicsICdibGFjayB2aW5lZ2FyJywgJ3JpY2Ugd2luZSB2aW5lZ2FyJywgJ3doaXRlIGJhbHNhbWljJyxcbiAgICAgICdiYWxzYW1pYyBnbGF6ZScsICdyYXNwYmVycnkgdmluZWdhcicsICdmaWcgdmluZWdhcicsICdjb2NvbnV0IHZpbmVnYXInXG4gICAgXSksIFxuICBbXSk7XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgYW4gaW5ncmVkaWVudCBpcyBhbiBvaWxcbiAgY29uc3QgaXNPaWwgPSAoaW5ncmVkaWVudDogSW5ncmVkaWVudCB8IFVuaWZpZWRJbmdyZWRpZW50KTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgX2NhdGVnb3J5ID0gaW5ncmVkaWVudC5jYXRlZ29yeT8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICBpZiAoX2NhdGVnb3J5ID09PSAnb2lsJyB8fCBfY2F0ZWdvcnkgPT09ICdvaWxzJykgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgY29uc3QgbmFtZSA9IGluZ3JlZGllbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBvaWxUeXBlcy5zb21lKG9pbCA9PiBuYW1lLmluY2x1ZGVzKG9pbC50b0xvd2VyQ2FzZSgpKSk7XG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgYW4gaW5ncmVkaWVudCBpcyBhIHZpbmVnYXJcbiAgY29uc3QgaXNWaW5lZ2FyID0gKGluZ3JlZGllbnQ6IHVua25vd24pOiBib29sZWFuID0+IHtcbiAgICAvLyBFeHRyYWN0IGluZ3JlZGllbnQgZGF0YSB3aXRoIHNhZmUgcHJvcGVydHkgYWNjZXNzXG4gICAgY29uc3QgaW5ncmVkaWVudERhdGEgPSBpbmdyZWRpZW50IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIGNvbnN0IF9jYXRlZ29yeSA9IGluZ3JlZGllbnREYXRhPy5jYXRlZ29yeT8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICBpZiAoX2NhdGVnb3J5ID09PSAndmluZWdhcicgfHwgX2NhdGVnb3J5ID09PSAndmluZWdhcnMnKSByZXR1cm4gdHJ1ZTtcbiAgICBcbiAgICBjb25zdCBuYW1lID0gaW5ncmVkaWVudERhdGE/Lm5hbWU/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XG4gICAgcmV0dXJuIHZpbmVnYXJUeXBlcy5zb21lKHZpbmVnYXIgPT4gbmFtZS5pbmNsdWRlcyh2aW5lZ2FyLnRvTG93ZXJDYXNlKCkpKTtcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgbm9ybWFsaXplZCBjYXRlZ29yeVxuICBjb25zdCBnZXROb3JtYWxpemVkQ2F0ZWdvcnkgPSAoaW5ncmVkaWVudDogdW5rbm93bik6IHN0cmluZyA9PiB7XG4gICAgLy8gRXh0cmFjdCBpbmdyZWRpZW50IGRhdGEgd2l0aCBzYWZlIHByb3BlcnR5IGFjY2Vzc1xuICAgIGNvbnN0IGluZ3JlZGllbnREYXRhID0gaW5ncmVkaWVudCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICBjb25zdCBjYXRlZ29yeVByb3BlcnR5ID0gaW5ncmVkaWVudERhdGE/LmNhdGVnb3J5O1xuICAgIFxuICAgIGlmICghY2F0ZWdvcnlQcm9wZXJ0eSkgcmV0dXJuICdvdGhlcic7XG4gICAgXG4gICAgY29uc3QgX2NhdGVnb3J5ID0gY2F0ZWdvcnlQcm9wZXJ0eS50b0xvd2VyQ2FzZSgpO1xuICAgIFxuICAgIC8vIE1hcCBjYXRlZ29yaWVzIHRvIG91ciBzdGFuZGFyZCBvbmVzXG4gICAgaWYgKFsndmVnZXRhYmxlJywgJ3ZlZ2V0YWJsZXMnXS5pbmNsdWRlcyhfY2F0ZWdvcnkpKSByZXR1cm4gJ3ZlZ2V0YWJsZXMnO1xuICAgIGlmIChbJ3Byb3RlaW4nLCAnbWVhdCcsICdzZWFmb29kJywgJ2Zpc2gnLCAncG91bHRyeSddLmluY2x1ZGVzKF9jYXRlZ29yeSkpIHJldHVybiAncHJvdGVpbnMnO1xuICAgIGlmIChbJ2hlcmInLCAnaGVyYnMnLCAnY3VsaW5hcnlfaGVyYicsICdtZWRpY2luYWxfaGVyYiddLmluY2x1ZGVzKF9jYXRlZ29yeSkpIHJldHVybiAnaGVyYnMnO1xuICAgIGlmIChbJ3NwaWNlJywgJ3NwaWNlcycsICdzZWFzb25pbmcnLCAnc2Vhc29uaW5ncyddLmluY2x1ZGVzKF9jYXRlZ29yeSkpIHJldHVybiAnc3BpY2VzJztcbiAgICBpZiAoWydncmFpbicsICdncmFpbnMnLCAncGFzdGEnLCAncmljZScsICdjZXJlYWwnXS5pbmNsdWRlcyhfY2F0ZWdvcnkpKSByZXR1cm4gJ2dyYWlucyc7XG4gICAgaWYgKFsnZnJ1aXQnLCAnZnJ1aXRzJywgJ2JlcnJ5JywgJ2JlcnJpZXMnXS5pbmNsdWRlcyhfY2F0ZWdvcnkpKSByZXR1cm4gJ2ZydWl0cyc7XG4gICAgaWYgKFsnb2lsJywgJ29pbHMnLCAnZmF0JywgJ2ZhdHMnXS5pbmNsdWRlcyhfY2F0ZWdvcnkpKSByZXR1cm4gJ29pbHMnO1xuICAgIGlmIChbJ3ZpbmVnYXInLCAndmluZWdhcnMnLCAnYWNpZCcsICdhY2lkcyddLmluY2x1ZGVzKF9jYXRlZ29yeSkpIHJldHVybiAndmluZWdhcnMnO1xuICAgIFxuICAgIHJldHVybiAnb3RoZXInO1xuICB9O1xuICBcbiAgLy8gQ29tYmluZSBhbmQgY2F0ZWdvcml6ZSBhbGwgcmVjb21tZW5kYXRpb25zXG4gIGNvbnN0IGNvbWJpbmVkQ2F0ZWdvcml6ZWRSZWNvbW1lbmRhdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAvLyBTdGFydCB3aXRoIGVtcHR5IGNhdGVnb3JpZXNcbiAgICBjb25zdCBjYXRlZ29yaWVzOiBSZWNvcmQ8c3RyaW5nLCBhbnlbXT4gPSB7XG4gICAgICBwcm90ZWluczogW10sXG4gICAgICB2ZWdldGFibGVzOiBbXSxcbiAgICAgIGdyYWluczogW10sXG4gICAgICBmcnVpdHM6IFtdLFxuICAgICAgaGVyYnM6IFtdLFxuICAgICAgc3BpY2VzOiBbXSxcbiAgICAgIG9pbHM6IFtdLFxuICAgICAgdmluZWdhcnM6IFtdXG4gICAgfTtcbiAgICBcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gbm9ybWFsaXplIGluZ3JlZGllbnQgbmFtZXMgZm9yIGNvbXBhcmlzb25cbiAgICBjb25zdCBub3JtYWxpemVJbmdyZWRpZW50TmFtZSA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAucmVwbGFjZSgvYXRsYW50aWMgfHdpbGQgfGZhcm1lZCB8ZnJlc2ggfGZyb3plbiB8b3JnYW5pYyB8cmF3IHxjb29rZWQgL2csICcnKVxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgICAgIC50cmltKCk7XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbXByb3ZlZCBmdW5jdGlvbiBmb3IgaW5ncmVkaWVudCBuYW1lIHNpbWlsYXJpdHkgY2hlY2tpbmcgd2l0aCBmdXp6eSBtYXRjaGluZ1xuICAgIGNvbnN0IGFyZVNpbWlsYXJJbmdyZWRpZW50cyA9IChuYW1lMTogc3RyaW5nLCBuYW1lMjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAvLyBOb3JtYWxpemUgYm90aCBuYW1lc1xuICAgICAgY29uc3Qgbm9ybWFsaXplZDEgPSBub3JtYWxpemVJbmdyZWRpZW50TmFtZShuYW1lMSk7XG4gICAgICBjb25zdCBub3JtYWxpemVkMiA9IG5vcm1hbGl6ZUluZ3JlZGllbnROYW1lKG5hbWUyKTtcbiAgICAgIFxuICAgICAgLy8gSWYgbm9ybWFsaXplZCBuYW1lcyBhcmUgaWRlbnRpY2FsLCB0aGV5J3JlIGRlZmluaXRlbHkgc2ltaWxhclxuICAgICAgaWYgKG5vcm1hbGl6ZWQxID09PSBub3JtYWxpemVkMikgcmV0dXJuIHRydWU7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIG9uZSBuYW1lIGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIG90aGVyXG4gICAgICBpZiAobm9ybWFsaXplZDEuaW5jbHVkZXMobm9ybWFsaXplZDIpIHx8IG5vcm1hbGl6ZWQyLmluY2x1ZGVzKG5vcm1hbGl6ZWQxKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2ltcGxlIGZ1enp5IG1hdGNoaW5nIC0gY2hlY2sgaWYgdGhleSBzaGFyZSBhIHNpZ25pZmljYW50IG51bWJlciBvZiBjaGFyYWN0ZXJzXG4gICAgICBjb25zdCBjb21tb25Xb3JkcyA9IG5vcm1hbGl6ZWQxLnNwbGl0KCcgJykuZmlsdGVyKHdvcmQgPT4gXG4gICAgICAgIHdvcmQubGVuZ3RoID4gMyAmJiBub3JtYWxpemVkMi5pbmNsdWRlcyh3b3JkKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGNvbW1vbldvcmRzLmxlbmd0aCA+IDApIHJldHVybiB0cnVlO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgcGx1cmFscyBvciBzbGlnaHQgdmFyaWF0aW9uc1xuICAgICAgaWYgKG5vcm1hbGl6ZWQxLmVuZHNXaXRoKCdzJykgJiYgbm9ybWFsaXplZDIgPT09IG5vcm1hbGl6ZWQxLnNsaWNlKDAsIC0xKSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAobm9ybWFsaXplZDIuZW5kc1dpdGgoJ3MnKSAmJiBub3JtYWxpemVkMSA9PT0gbm9ybWFsaXplZDIuc2xpY2UoMCwgLTEpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIGNvbW1vbiBzdWJzdGl0dXRpb25zIChlLmcuLCBcImJlZWZcIiBhbmQgXCJiZWVmIHN0ZWFrXCIpXG4gICAgICBjb25zdCBpbmdyZWRpZW50UGFpcnMgPSBbXG4gICAgICAgIFsnY2hpY2tlbicsICdjaGlja2VuIGJyZWFzdCcsICdjaGlja2VuIHRoaWdoJywgJ2NoaWNrZW4gbGVnJ10sXG4gICAgICAgIFsnYmVlZicsICdiZWVmIHN0ZWFrJywgJ2dyb3VuZCBiZWVmJywgJ2JlZWYgY2h1Y2snXSxcbiAgICAgICAgWydwb3JrJywgJ3BvcmsgY2hvcCcsICdwb3JrIGxvaW4nLCAncG9yayBzaG91bGRlciddLFxuICAgICAgICBbJ3NhbG1vbicsICdzYWxtb24gZmlsbGV0JywgJ3Ntb2tlZCBzYWxtb24nLCAnZnJlc2ggc2FsbW9uJ10sXG4gICAgICAgIFsndG9tYXRvJywgJ3RvbWF0b2VzJywgJ2NoZXJyeSB0b21hdG8nLCAncm9tYSB0b21hdG8nXSxcbiAgICAgICAgWydwZXBwZXInLCAnYmVsbCBwZXBwZXInLCAnc3dlZXQgcGVwcGVyJywgJ2NoaWxpIHBlcHBlciddLFxuICAgICAgICBbJ3JpY2UnLCAnYnJvd24gcmljZScsICd3aGl0ZSByaWNlJywgJ3dpbGQgcmljZSddLFxuICAgICAgICBbJ29saXZlIG9pbCcsICdleHRyYSB2aXJnaW4gb2xpdmUgb2lsJywgJ2V2b28nXVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgYm90aCBuYW1lcyBhcmUgaW4gdGhlIHNhbWUgaW5ncmVkaWVudCBmYW1pbHlcbiAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgaW5ncmVkaWVudFBhaXJzKSB7XG4gICAgICAgIGlmIChncm91cC5zb21lKGl0ZW0gPT4gbm9ybWFsaXplZDEuaW5jbHVkZXMoaXRlbSkpICYmIFxuICAgICAgICAgICAgZ3JvdXAuc29tZShpdGVtID0+IG5vcm1hbGl6ZWQyLmluY2x1ZGVzKGl0ZW0pKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQWRkIGZvb2QgcmVjb21tZW5kYXRpb25zIGZpcnN0ICh0aGV5IGFyZSBhbHJlYWR5IGNhdGVnb3JpemVkKVxuICAgIGlmIChmb29kUmVjb21tZW5kYXRpb25zICYmIGZvb2RSZWNvbW1lbmRhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgZm9vZFJlY29tbWVuZGF0aW9ucy5mb3JFYWNoKGluZ3JlZGllbnQgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gaW5ncmVkaWVudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3Igc2VhZm9vZCBwcm90ZWlucyAtIGNoZWNrIGZpcnN0IHRvIHByZXZlbnQgbWlzY2F0ZWdvcml6YXRpb25cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2NvZCcpIHx8IG5hbWUuaW5jbHVkZXMoJ3NvbGUnKSB8fCBuYW1lLmluY2x1ZGVzKCdzY2FsbG9wJykgfHwgXG4gICAgICAgICAgbmFtZS5pbmNsdWRlcygnc2FsbW9uJykgfHwgbmFtZS5pbmNsdWRlcygnc3F1aWQnKSB8fCBuYW1lLmluY2x1ZGVzKCdzaHJpbXAnKSB8fCBcbiAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdmbG91bmRlcicpIHx8IG5hbWUuaW5jbHVkZXMoJ2hhbGlidXQnKSB8fCBuYW1lLmluY2x1ZGVzKCdzZWEgYmFzcycpIHx8IFxuICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ29jdG9wdXMnKSB8fCBuYW1lLmluY2x1ZGVzKCdmaXNoJykgfHwgbmFtZS5pbmNsdWRlcygndHJvdXQnKSB8fCBcbiAgICAgICAgICBuYW1lLmluY2x1ZGVzKCd0dW5hJykgfHwgbmFtZS5pbmNsdWRlcygnY3JhYicpIHx8IG5hbWUuaW5jbHVkZXMoJ2xvYnN0ZXInKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXRlZ29yaWVzLnByb3RlaW5zLnB1c2goe1xuICAgICAgICAgICAgLi4uaW5ncmVkaWVudCxcbiAgICAgICAgICAgIG1hdGNoU2NvcmU6IGluZ3JlZGllbnQuc2NvcmUgfHwgMC41XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3BpY2VzIGFuZCBzZWFzb25pbmdzXG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIC8vIEV4Y2x1ZGUgY29tbW9uIHZlZ2V0YWJsZSBwZXBwZXJzXG4gICAgICAgICAgKG5hbWUuaW5jbHVkZXMoJ3BlcHBlcicpICYmIFxuICAgICAgICAgICAhbmFtZS5pbmNsdWRlcygnYmVsbCBwZXBwZXInKSAmJiBcbiAgICAgICAgICAgIW5hbWUuaW5jbHVkZXMoJ3N3ZWV0IHBlcHBlcicpICYmIFxuICAgICAgICAgICAhbmFtZS5pbmNsdWRlcygnamFsYXBlbm8nKSAmJiBcbiAgICAgICAgICAgIW5hbWUuaW5jbHVkZXMoJ3BvYmxhbm8nKSAmJiBcbiAgICAgICAgICAgIW5hbWUuaW5jbHVkZXMoJ2FuYWhlaW0nKSAmJiBcbiAgICAgICAgICAgIW5hbWUuaW5jbHVkZXMoJ2JhbmFuYSBwZXBwZXInKSAmJiBcbiAgICAgICAgICAgIW5hbWUuaW5jbHVkZXMoJ2NoaWxpIHBlcHBlcicpICYmIFxuICAgICAgICAgICAhbmFtZS5pbmNsdWRlcygncGFwcmlrYScpKSB8fCBcbiAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdjaW5uYW1vbicpIHx8IFxuICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ251dG1lZycpIHx8IFxuICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2N1bWluJykgfHwgXG4gICAgICAgICAgbmFtZS5pbmNsdWRlcygndHVybWVyaWMnKSB8fCBcbiAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdjYXJkYW1vbScpIHx8XG4gICAgICAgICAgbmFtZS5pbmNsdWRlcygnc3BpY2UnKSB8fCBcbiAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdzZWFzb25pbmcnKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXRlZ29yaWVzLnNwaWNlcy5wdXNoKHtcbiAgICAgICAgICAgIC4uLmluZ3JlZGllbnQsXG4gICAgICAgICAgICBtYXRjaFNjb3JlOiBpbmdyZWRpZW50LnNjb3JlIHx8IDAuNVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFZlZ2V0YWJsZSBQZXBwZXJzXG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2JlbGwgcGVwcGVyJykgfHwgXG4gICAgICAgICAgbmFtZS5pbmNsdWRlcygnc3dlZXQgcGVwcGVyJykgfHwgXG4gICAgICAgICAgbmFtZS5pbmNsdWRlcygnamFsYXBlbm8nKSB8fCBcbiAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdwb2JsYW5vJykgfHwgXG4gICAgICAgICAgbmFtZS5pbmNsdWRlcygnYW5haGVpbScpIHx8IFxuICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2JhbmFuYSBwZXBwZXInKSB8fCBcbiAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdjaGlsaSBwZXBwZXInKSB8fCBcbiAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdwYXByaWthJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2F0ZWdvcmllcy52ZWdldGFibGVzLnB1c2goe1xuICAgICAgICAgICAgLi4uaW5ncmVkaWVudCxcbiAgICAgICAgICAgIG1hdGNoU2NvcmU6IGluZ3JlZGllbnQuc2NvcmUgfHwgMC41XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT2lsc1xuICAgICAgICBlbHNlIGlmIChpc09pbChpbmdyZWRpZW50KSkge1xuICAgICAgICAgIGNhdGVnb3JpZXMub2lscy5wdXNoKHtcbiAgICAgICAgICAgIC4uLmluZ3JlZGllbnQsXG4gICAgICAgICAgICBtYXRjaFNjb3JlOiBpbmdyZWRpZW50LnNjb3JlIHx8IDAuNVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFZpbmVnYXJzXG4gICAgICAgIGVsc2UgaWYgKGlzVmluZWdhcihpbmdyZWRpZW50KSkge1xuICAgICAgICAgIGNhdGVnb3JpZXMudmluZWdhcnMucHVzaCh7XG4gICAgICAgICAgICAuLi5pbmdyZWRpZW50LFxuICAgICAgICAgICAgbWF0Y2hTY29yZTogaW5ncmVkaWVudC5zY29yZSB8fCAwLjVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIZXJic1xuICAgICAgICBlbHNlIGlmIChpbmdyZWRpZW50LmNhdGVnb3J5ID09PSAnaGVyYicgfHwgbmFtZS5pbmNsdWRlcygnaGVyYicpIHx8IGhlcmJOYW1lcy5zb21lKGhlcmIgPT4gbmFtZS5pbmNsdWRlcyhoZXJiLnRvTG93ZXJDYXNlKCkpKSkge1xuICAgICAgICAgIGNhdGVnb3JpZXMuaGVyYnMucHVzaCh7XG4gICAgICAgICAgICAuLi5pbmdyZWRpZW50LFxuICAgICAgICAgICAgbWF0Y2hTY29yZTogaW5ncmVkaWVudC5zY29yZSB8fCAwLjVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3Igb3RoZXIgaW5ncmVkaWVudHMsIHVzZSBleHBsaWNpdCBjYXRlZ29yeSBpZiBhdmFpbGFibGVcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc3QgX2NhdGVnb3J5ID0gZ2V0Tm9ybWFsaXplZENhdGVnb3J5KGluZ3JlZGllbnQpO1xuICAgICAgICAgIGlmIChjYXRlZ29yaWVzW19jYXRlZ29yeV0pIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXNbX2NhdGVnb3J5XS5wdXNoKHtcbiAgICAgICAgICAgICAgLi4uaW5ncmVkaWVudCxcbiAgICAgICAgICAgICAgbWF0Y2hTY29yZTogaW5ncmVkaWVudC5zY29yZSB8fCAwLjVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2dpbmdlcicpIHx8IG5hbWUuaW5jbHVkZXMoJ2dhcmxpYycpIHx8IG5hbWUuaW5jbHVkZXMoJ29uaW9uJykgfHwgXG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2NhcnJvdCcpIHx8IG5hbWUuaW5jbHVkZXMoJ2Jyb2Njb2xpJykgfHwgbmFtZS5pbmNsdWRlcygndG9tYXRvJykgfHxcbiAgICAgICAgICAgICAgbmFtZS5pbmNsdWRlcygnenVjY2hpbmknKSB8fCBuYW1lLmluY2x1ZGVzKCdjdWN1bWJlcicpIHx8IG5hbWUuaW5jbHVkZXMoJ2xldHR1Y2UnKSB8fFxuICAgICAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdzcGluYWNoJykgfHwgbmFtZS5pbmNsdWRlcygna2FsZScpIHx8IG5hbWUuaW5jbHVkZXMoJ2NhYmJhZ2UnKSB8fFxuICAgICAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdjYXVsaWZsb3dlcicpIHx8IG5hbWUuaW5jbHVkZXMoJ2NlbGVyeScpIHx8IG5hbWUuaW5jbHVkZXMoJ3BvdGF0bycpIHx8XG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ3NxdWFzaCcpIHx8IG5hbWUuaW5jbHVkZXMoJ2VnZ3BsYW50JykgfHwgbmFtZS5pbmNsdWRlcygnYmVldCcpIHx8XG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2FzcGFyYWd1cycpIHx8IG5hbWUuaW5jbHVkZXMoJ2FydGljaG9rZScpIHx8IG5hbWUuaW5jbHVkZXMoJ3JhZGlzaCcpIHx8XG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2FydWd1bGEnKSB8fCBuYW1lLmluY2x1ZGVzKCd0dXJuaXAnKSB8fCBuYW1lLmluY2x1ZGVzKCdsZWVrJykgfHxcbiAgICAgICAgICAgICAgaW5ncmVkaWVudC5jYXRlZ29yeT8udG9Mb3dlckNhc2UoKSA9PT0gJ3ZlZ2V0YWJsZScgfHwgaW5ncmVkaWVudC5jYXRlZ29yeT8udG9Mb3dlckNhc2UoKSA9PT0gJ3ZlZ2V0YWJsZXMnXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY2F0ZWdvcmllcy52ZWdldGFibGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIC4uLmluZ3JlZGllbnQsXG4gICAgICAgICAgICAgICAgbWF0Y2hTY29yZTogaW5ncmVkaWVudC5zY29yZSB8fCAwLjVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdhcHBsZScpIHx8IG5hbWUuaW5jbHVkZXMoJ29yYW5nZScpIHx8IG5hbWUuaW5jbHVkZXMoJ2xlbW9uJykgfHwgXG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ21lbG9uJykgfHwgbmFtZS5pbmNsdWRlcygnYmVycnknKSB8fCBuYW1lLmluY2x1ZGVzKCdwaW5lYXBwbGUnKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXMuZnJ1aXRzLnB1c2goe1xuICAgICAgICAgICAgICAgIC4uLmluZ3JlZGllbnQsXG4gICAgICAgICAgICAgICAgbWF0Y2hTY29yZTogaW5ncmVkaWVudC5zY29yZSB8fCAwLjVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIHZlZ2V0YWJsZXMgZm9yIHVubWF0Y2hlZCBpdGVtc1xuICAgICAgICAgICAgICBjYXRlZ29yaWVzLnZlZ2V0YWJsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgLi4uaW5ncmVkaWVudCxcbiAgICAgICAgICAgICAgICBtYXRjaFNjb3JlOiBpbmdyZWRpZW50LnNjb3JlIHx8IDAuNVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBOb3cgYWRkIHRoZSBhc3Ryb2xvZ2ljYWwgcmVjb21tZW5kYXRpb25zXG4gICAgT2JqZWN0LmVudHJpZXMoYXN0cm9SZWNvbW1lbmRhdGlvbnMpLmZvckVhY2goKFtfY2F0ZWdvcnksIGl0ZW1zXSkgPT4ge1xuICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZENhdGVnb3J5ID0gZ2V0Tm9ybWFsaXplZENhdGVnb3J5KGl0ZW0pO1xuICAgICAgICBjb25zdCB0YXJnZXRDYXRlZ29yeSA9IG5vcm1hbGl6ZWRDYXRlZ29yeSA9PT0gJ290aGVyJyA/IGRldGVybWluZUNhdGVnb3J5KGl0ZW0ubmFtZSkgOiBub3JtYWxpemVkQ2F0ZWdvcnk7XG4gICAgICAgIFxuICAgICAgICBpZiAoY2F0ZWdvcmllc1t0YXJnZXRDYXRlZ29yeV0pIHtcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGl0ZW0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIGNhdGVnb3J5ICh3aXRoIGltcHJvdmVkIGR1cGxpY2F0ZSBkZXRlY3Rpb24pXG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtSW5kZXggPSBjYXRlZ29yaWVzW3RhcmdldENhdGVnb3J5XS5maW5kSW5kZXgoXG4gICAgICAgICAgICBleGlzdGluZyA9PiBhcmVTaW1pbGFySW5ncmVkaWVudHMoZXhpc3RpbmcubmFtZSwgaXRlbS5uYW1lKVxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGV4aXN0aW5nSXRlbUluZGV4ID49IDApIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgaXRlbSB3aXRoIGJldHRlciBzY29yZSBpZiBuZWVkZWRcbiAgICAgICAgICAgIGlmIChpdGVtLm1hdGNoU2NvcmUgPiBjYXRlZ29yaWVzW3RhcmdldENhdGVnb3J5XVtleGlzdGluZ0l0ZW1JbmRleF0ubWF0Y2hTY29yZSkge1xuICAgICAgICAgICAgICBjYXRlZ29yaWVzW3RhcmdldENhdGVnb3J5XVtleGlzdGluZ0l0ZW1JbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGFyZ2V0Q2F0ZWdvcnlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIGFzIGEgbmV3IGl0ZW1cbiAgICAgICAgICAgIGNhdGVnb3JpZXNbdGFyZ2V0Q2F0ZWdvcnldLnB1c2goe1xuICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogdGFyZ2V0Q2F0ZWdvcnlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRW5zdXJlIHZpbmVnYXJzIGFyZSBhbHdheXMgcHJlc2VudCBieSBhZGRpbmcgdGhlbSBmcm9tIHRoZSBjb2xsZWN0aW9uIGlmIG5lZWRlZFxuICAgIGlmICghY2F0ZWdvcmllcy52aW5lZ2FycyB8fCBjYXRlZ29yaWVzLnZpbmVnYXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2F0ZWdvcmllcy52aW5lZ2FycyA9IE9iamVjdC5lbnRyaWVzKHZpbmVnYXJzQ29sbGVjdGlvbikubWFwKChba2V5LCB2aW5lZ2FyRGF0YV0pID0+IHtcbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSB2aW5lZ2FyRGF0YS5uYW1lIHx8IGtleS5yZXBsYWNlKC9fL2csICcgJykucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgICAgICB0eXBlOiAndmluZWdhcnMnLFxuICAgICAgICAgIGNhdGVnb3J5OiAndmluZWdhcnMnLFxuICAgICAgICAgIG1hdGNoU2NvcmU6IDAuNixcbiAgICAgICAgICBlbGVtZW50YWxQcm9wZXJ0aWVzOiB2aW5lZ2FyRGF0YS5lbGVtZW50YWxQcm9wZXJ0aWVzIHx8IHsgXG4gICAgICAgICAgICBXYXRlcjogMC40LCBcbiAgICAgICAgICAgIEVhcnRoOiAwLjMsIFxuICAgICAgICAgICAgQWlyOiAwLjIsIFxuICAgICAgICAgICAgRmlyZTogMC4xIFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcXVhbGl0aWVzOiAodmluZWdhckRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLnF1YWxpdGllcyB8fCBbJ2FjaWRpYycsICd0YW5neScsICdmbGF2b3JmdWwnXSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7ZGlzcGxheU5hbWV9IC0gQSB2ZXJzYXRpbGUgYWNpZGljIGNvbXBvbmVudCBmb3IgeW91ciBjdWxpbmFyeSBjcmVhdGlvbnMuYFxuICAgICAgICB9IGFzIEluZ3JlZGllbnRSZWNvbW1lbmRhdGlvbjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBBZGQgYW55IG1pc3Npbmcgb2lscyBmcm9tIHRoZSBvaWxzIGNvbGxlY3Rpb25cbiAgICBpZiAoIWNhdGVnb3JpZXMub2lscyB8fCBjYXRlZ29yaWVzLm9pbHMubGVuZ3RoIDwgMykge1xuICAgICAgY29uc3QgZXhpc3RpbmdPaWxOYW1lcyA9IG5ldyBTZXQoKGNhdGVnb3JpZXMub2lscyB8fCBbXSkubWFwKG9pbCA9PiBvaWwubmFtZS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICBjb25zdCBhZGRpdGlvbmFsT2lscyA9IE9iamVjdC5lbnRyaWVzKG9pbHNDb2xsZWN0aW9uKVxuICAgICAgICAuZmlsdGVyKChbXywgb2lsRGF0YV0pID0+IFxuICAgICAgICAgICFleGlzdGluZ09pbE5hbWVzLmhhcyhvaWxEYXRhLm5hbWU/LnRvTG93ZXJDYXNlKCkgfHwgJycpXG4gICAgICAgIClcbiAgICAgICAgLnNsaWNlKDAsIDEwKSAvLyBMaW1pdCB0byAxMCBhZGRpdGlvbmFsIG9pbHNcbiAgICAgICAgLm1hcCgoW2tleSwgb2lsRGF0YV0pID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogb2lsRGF0YS5uYW1lIHx8IGtleS5yZXBsYWNlKC9fL2csICcgJykucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKSxcbiAgICAgICAgICAgIHR5cGU6ICdvaWxzJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnb2lscycsXG4gICAgICAgICAgICBtYXRjaFNjb3JlOiAwLjYsXG4gICAgICAgICAgICBlbGVtZW50YWxQcm9wZXJ0aWVzOiBvaWxEYXRhLmVsZW1lbnRhbFByb3BlcnRpZXMgfHwgeyBcbiAgICAgICAgICAgICAgRmlyZTogMC4zLCBcbiAgICAgICAgICAgICAgV2F0ZXI6IDAuMiwgXG4gICAgICAgICAgICAgIEVhcnRoOiAwLjMsIFxuICAgICAgICAgICAgICBBaXI6IDAuMiBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBxdWFsaXRpZXM6IChvaWxEYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5xdWFsaXRpZXMgfHwgWydjb29raW5nJywgJ2ZsYXZvcmluZyddLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGAke29pbERhdGEubmFtZSB8fCBrZXkucmVwbGFjZSgvXy9nLCAnICcpLnJlcGxhY2UoL1xcYlxcdy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSl9IC0gJHsob2lsRGF0YSBhcyBzdHJpbmcpLmRlc2NyaXB0aW9uIHx8IFwiQSB2ZXJzYXRpbGUgY29va2luZyBvaWwgd2l0aCB2YXJpb3VzIGFwcGxpY2F0aW9ucy5cIn1gXG4gICAgICAgICAgfSBhcyBJbmdyZWRpZW50UmVjb21tZW5kYXRpb247XG4gICAgICAgIH0pO1xuICAgICAgXG4gICAgICBjYXRlZ29yaWVzLm9pbHMgPSBbLi4uKGNhdGVnb3JpZXMub2lscyB8fCBbXSksIC4uLmFkZGl0aW9uYWxPaWxzXVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5tYXRjaFNjb3JlIC0gYS5tYXRjaFNjb3JlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gU29ydCBlYWNoIGNhdGVnb3J5IGJ5IG1hdGNoU2NvcmVcbiAgICBPYmplY3Qua2V5cyhjYXRlZ29yaWVzKS5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgIGNhdGVnb3JpZXNbY2F0ZWdvcnldID0gY2F0ZWdvcmllc1tjYXRlZ29yeV1cbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIubWF0Y2hTY29yZSAtIGEubWF0Y2hTY29yZSlcbiAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0ubWF0Y2hTY29yZSA+IDApO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEZpbHRlciBvdXQgZW1wdHkgY2F0ZWdvcmllc1xuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBPYmplY3QuZW50cmllcyhjYXRlZ29yaWVzKS5maWx0ZXIoKFtfLCBpdGVtc10pID0+IGl0ZW1zLmxlbmd0aCA+IDApXG4gICAgKTtcbiAgfSwgW2Zvb2RSZWNvbW1lbmRhdGlvbnMsIGFzdHJvUmVjb21tZW5kYXRpb25zLCBoZXJiTmFtZXMsIG9pbFR5cGVzLCB2aW5lZ2FyVHlwZXNdKTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgdGhlIGNhdGVnb3J5IG9mIGEgZm9vZCBieSBuYW1lXG4gIGZ1bmN0aW9uIGRldGVybWluZUNhdGVnb3J5KG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBcbiAgICAvLyBQcm90ZWluc1xuICAgIGlmIChcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2JlZWYnKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdjaGlja2VuJykgfHwgXG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdwb3JrJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnbGFtYicpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnZmlzaCcpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3NlYWZvb2QnKSB8fFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygndG9mdScpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3RlbXBlaCcpIHx8XG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdzZWl0YW4nKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdwcm90ZWluJylcbiAgICApIHtcbiAgICAgIHJldHVybiAncHJvdGVpbnMnO1xuICAgIH1cbiAgICBcbiAgICAvLyBIZXJic1xuICAgIGlmIChcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2Jhc2lsJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnb3JlZ2FubycpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygndGh5bWUnKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdyb3NlbWFyeScpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnbWludCcpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2NpbGFudHJvJykgfHxcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3NhZ2UnKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdoZXJiJylcbiAgICApIHtcbiAgICAgIHJldHVybiAnaGVyYnMnO1xuICAgIH1cbiAgICBcbiAgICAvLyBTcGljZXNcbiAgICBpZiAoXG4gICAgICAobG93ZXJjYXNlTmFtZS5pbmNsdWRlcygncGVwcGVyJykgJiYgXG4gICAgICAgIWxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2JlbGwgcGVwcGVyJykgJiYgXG4gICAgICAgIWxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3N3ZWV0IHBlcHBlcicpICYmIFxuICAgICAgICFsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdqYWxhcGVubycpICYmIFxuICAgICAgICFsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdwb2JsYW5vJykgJiYgXG4gICAgICAgIWxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2FuYWhlaW0nKSAmJiBcbiAgICAgICAhbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnYmFuYW5hIHBlcHBlcicpICYmIFxuICAgICAgICFsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdjaGlsaSBwZXBwZXInKSAmJiBcbiAgICAgICAhbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygncGFwcmlrYScpKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2Npbm5hbW9uJykgfHwgXG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdudXRtZWcnKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2N1bWluJykgfHwgXG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCd0dXJtZXJpYycpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnY2FyZGFtb20nKSB8fFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnc3BpY2UnKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3NlYXNvbmluZycpXG4gICAgKSB7XG4gICAgICByZXR1cm4gJ3NwaWNlcyc7XG4gICAgfVxuICAgIFxuICAgIC8vIFZlZ2V0YWJsZSBQZXBwZXJzXG4gICAgaWYgKFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnYmVsbCBwZXBwZXInKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3N3ZWV0IHBlcHBlcicpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnamFsYXBlbm8nKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3BvYmxhbm8nKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2FuYWhlaW0nKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2JhbmFuYSBwZXBwZXInKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2NoaWxpIHBlcHBlcicpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygncGFwcmlrYScpXG4gICAgKSB7XG4gICAgICByZXR1cm4gJ3ZlZ2V0YWJsZXMnO1xuICAgIH1cbiAgICBcbiAgICAvLyBWaW5lZ2Fyc1xuICAgIGlmIChcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3ZpbmVnYXInKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdiYWxzYW1pYycpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnY2lkZXInKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdyaWNlIHdpbmUnKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3NoZXJyeSB2aW5lZ2FyJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygncmVkIHdpbmUgdmluZWdhcicpIHx8XG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCd3aGl0ZSB3aW5lIHZpbmVnYXInKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdjaGFtcGFnbmUgdmluZWdhcicpXG4gICAgKSB7XG4gICAgICByZXR1cm4gJ3ZpbmVnYXJzJztcbiAgICB9XG4gICAgXG4gICAgLy8gR3JhaW5zXG4gICAgaWYgKFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygncmljZScpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3Bhc3RhJykgfHwgXG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdicmVhZCcpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3F1aW5vYScpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnYmFybGV5JykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnb2F0JykgfHxcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2dyYWluJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnd2hlYXQnKVxuICAgICkge1xuICAgICAgcmV0dXJuICdncmFpbnMnO1xuICAgIH1cbiAgICBcbiAgICAvLyBGcnVpdHNcbiAgICBpZiAoXG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdhcHBsZScpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ29yYW5nZScpIHx8IFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnYmFuYW5hJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnYmVycnknKSB8fCBcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ21lbG9uJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygncGVhcicpIHx8XG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdncmFwZScpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2ZydWl0JylcbiAgICApIHtcbiAgICAgIHJldHVybiAnZnJ1aXRzJztcbiAgICB9XG4gICAgXG4gICAgLy8gVmVnZXRhYmxlc1xuICAgIGlmIChcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2dpbmdlcicpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2dhcmxpYycpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ29uaW9uJykgfHwgXG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdjYXJyb3QnKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdicm9jY29saScpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3RvbWF0bycpIHx8XG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCd6dWNjaGluaScpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2N1Y3VtYmVyJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnbGV0dHVjZScpIHx8XG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdzcGluYWNoJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygna2FsZScpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2NhYmJhZ2UnKSB8fFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnY2F1bGlmbG93ZXInKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdjZWxlcnknKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdwb3RhdG8nKSB8fFxuICAgICAgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnc3F1YXNoJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnZWdncGxhbnQnKSB8fCBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdiZWV0JykgfHxcbiAgICAgIGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2FzcGFyYWd1cycpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ2FydGljaG9rZScpIHx8IGxvd2VyY2FzZU5hbWUuaW5jbHVkZXMoJ3JhZGlzaCcpIHx8XG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCdhcnVndWxhJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygndHVybmlwJykgfHwgbG93ZXJjYXNlTmFtZS5pbmNsdWRlcygnbGVlaycpIHx8XG4gICAgICBsb3dlcmNhc2VOYW1lLmluY2x1ZGVzKCd2ZWdldGFibGUnKVxuICAgICkge1xuICAgICAgcmV0dXJuICd2ZWdldGFibGVzJztcbiAgICB9XG4gICAgXG4gICAgLy8gRGVmYXVsdCB0byB2ZWdldGFibGVzIGZvciBhbnl0aGluZyBlbHNlXG4gICAgcmV0dXJuICd2ZWdldGFibGVzJztcbiAgfVxuICBcbiAgLy8gQ3JlYXRlIG1hdGNoIHNjb3JlIGNsYXNzIGJhc2VkIG9uIHBlcmNlbnRhZ2Ugd2l0aCBlbmhhbmNlZCB2aXN1YWwgc3R5bGluZ1xuICBjb25zdCBnZXRNYXRjaFNjb3JlQ2xhc3MgPSAobWF0Y2hTY29yZT86IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgLy8gVXNlIHNhZmUgc2NvcmUgdmFsdWUgd2l0aCBkZWZhdWx0XG4gICAgY29uc3Qgc2FmZVNjb3JlID0gdHlwZW9mIG1hdGNoU2NvcmUgPT09ICdudW1iZXInICYmICFpc05hTihtYXRjaFNjb3JlKSA/IG1hdGNoU2NvcmUgOiAwLjU7XG4gICAgY29uc3QgbWF0Y2hQZXJjZW50YWdlID0gTWF0aC5yb3VuZChzYWZlU2NvcmUgKiAxMDApO1xuICAgIFxuICAgIC8vIEVuaGFuY2VkIHN0eWxpbmcgd2l0aCBncmFkaWVudHMgYW5kIG1vcmUgZGlzdGluY3QgcmFuZ2VzXG4gICAgaWYgKG1hdGNoUGVyY2VudGFnZSA+PSA5NSkge1xuICAgICAgcmV0dXJuIFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWluZGlnby02MDAgdG8taW5kaWdvLTUwMCB0ZXh0LXdoaXRlIGRhcms6ZnJvbS1pbmRpZ28tNjAwIGRhcms6dG8taW5kaWdvLTQwMCBkYXJrOnRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBzaGFkb3ctc21cIjtcbiAgICB9IGVsc2UgaWYgKG1hdGNoUGVyY2VudGFnZSA+PSA5MCkge1xuICAgICAgcmV0dXJuIFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWluZGlnby00MDAgdGV4dC13aGl0ZSBkYXJrOmZyb20tYmx1ZS02MDAgZGFyazp0by1pbmRpZ28tNTAwIGRhcms6dGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHNoYWRvdy1zbVwiO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hQZXJjZW50YWdlID49IDg1KSB7XG4gICAgICByZXR1cm4gXCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS00MDAgdG8tYmx1ZS0zMDAgdGV4dC1ibHVlLTkwMCBkYXJrOmZyb20tYmx1ZS02MDAgZGFyazp0by1ibHVlLTUwMCBkYXJrOnRleHQtYmx1ZS0xMDAgZm9udC1tZWRpdW1cIjtcbiAgICB9IGVsc2UgaWYgKG1hdGNoUGVyY2VudGFnZSA+PSA4MCkge1xuICAgICAgcmV0dXJuIFwiYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTgwMCBkYXJrOmJnLWJsdWUtODAwLzQwIGRhcms6dGV4dC1ibHVlLTIwMCBmb250LW1lZGl1bVwiO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hQZXJjZW50YWdlID49IDc1KSB7XG4gICAgICByZXR1cm4gXCJiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAgZGFyazpiZy1ncmVlbi04MDAvNDAgZGFyazp0ZXh0LWdyZWVuLTIwMFwiO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hQZXJjZW50YWdlID49IDcwKSB7XG4gICAgICByZXR1cm4gXCJiZy1ncmVlbi01MCB0ZXh0LWdyZWVuLTcwMCBkYXJrOmJnLWdyZWVuLTgwMC8zMCBkYXJrOnRleHQtZ3JlZW4tMzAwXCI7XG4gICAgfSBlbHNlIGlmIChtYXRjaFBlcmNlbnRhZ2UgPj0gNjUpIHtcbiAgICAgIHJldHVybiBcImJnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctODAwIGRhcms6YmcteWVsbG93LTgwMC80MCBkYXJrOnRleHQteWVsbG93LTIwMFwiO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hQZXJjZW50YWdlID49IDYwKSB7XG4gICAgICByZXR1cm4gXCJiZy15ZWxsb3ctNTAgdGV4dC15ZWxsb3ctNzAwIGRhcms6YmcteWVsbG93LTgwMC8zMCBkYXJrOnRleHQteWVsbG93LTMwMFwiO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hQZXJjZW50YWdlID49IDUwKSB7XG4gICAgICByZXR1cm4gXCJiZy1vcmFuZ2UtNTAgdGV4dC1vcmFuZ2UtNzAwIGRhcms6Ymctb3JhbmdlLTkwMC8zMCBkYXJrOnRleHQtb3JhbmdlLTMwMFwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNzAwIGRhcms6YmctZ3JheS04MDAvNTAgZGFyazp0ZXh0LWdyYXktNDAwXCI7XG4gIH07XG5cbiAgLy8gRm9ybWF0IHRoZSBtYXRjaCBzY29yZSBmb3IgZGlzcGxheVxuICBjb25zdCBmb3JtYXRNYXRjaFNjb3JlID0gKG1hdGNoU2NvcmU/OiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IHNhZmVTY29yZSA9IHR5cGVvZiBtYXRjaFNjb3JlID09PSAnbnVtYmVyJyAmJiAhaXNOYU4obWF0Y2hTY29yZSkgPyBtYXRjaFNjb3JlIDogMC41O1xuICAgIHJldHVybiBgJHtNYXRoLnJvdW5kKHNhZmVTY29yZSAqIDEwMCl9JWA7XG4gIH07XG4gIFxuICAvLyBSZW5kZXIgbG9hZGluZyBzdGF0ZSBpZiBuZWVkZWRcbiAgaWYgKGFzdHJvTG9hZGluZyB8fCBmb29kTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtOCBoLTY0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLXQtMiBib3JkZXItYi0yIGJvcmRlci1pbmRpZ28tNTAwIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWluZGlnby04MDAgZGFyazp0ZXh0LWluZGlnby0zMDBcIj5Mb2FkaW5nIGNlbGVzdGlhbCBpbmZsdWVuY2VzLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbiAgXG4gIGlmIChhc3Ryb0Vycm9yIHx8IGZvb2RFcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBiZy1yZWQtNTAgZGFyazpiZy1yZWQtOTAwLzIwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1yZWQtMjAwIGRhcms6Ym9yZGVyLXJlZC04MDAgdGV4dC1yZWQtNjAwIGRhcms6dGV4dC1yZWQtMzAwXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+RXJyb3I6IHthc3Ryb0Vycm9yIHx8IGZvb2RFcnJvcn08L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4gIFxuICAvLyBEaXNwbGF5IHRoZSByZWNvbW1lbmRhdGlvbnNcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgdy1mdWxsIG1heC13LW5vbmVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWluZGlnby04MDAvMTAgdmlhLXB1cnBsZS04MDAvMTAgdG8taW5kaWdvLTgwMC8xMCBwLTQgcm91bmRlZC14bCBiYWNrZHJvcC1ibHVyLXNtIGJvcmRlciBib3JkZXItaW5kaWdvLTEwMCBkYXJrOmJvcmRlci1pbmRpZ28tOTUwIG1iLTZcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWluZGlnby05MDAgZGFyazp0ZXh0LWluZGlnby0zMDBcIj5DZWxlc3RpYWwgSW5ncmVkaWVudCBSZWNvbW1lbmRhdGlvbnM8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWluZGlnby03MDAgZGFyazp0ZXh0LWluZGlnby00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgIEluZ3JlZGllbnRzIGFsaWduZWQgd2l0aCB5b3VyIGN1cnJlbnQgY2VsZXN0aWFsIGluZmx1ZW5jZXMgZm9yIG9wdGltYWwgYWxjaGVtaWNhbCBoYXJtb255LlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtaW5kaWdvLTYwMCBkYXJrOnRleHQtaW5kaWdvLTUwMCB0ZXh0LXhzIG10LTEgaXRhbGljXCI+XG4gICAgICAgICAgQ2xpY2sgb24gYW55IGluZ3JlZGllbnQgY2FyZCB0byB2aWV3IGRldGFpbGVkIGluZm9ybWF0aW9uLlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgICB7LyogRW50ZXJwcmlzZSBJbnRlbGxpZ2VuY2UgVG9nZ2xlICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtdC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0VudGVycHJpc2VJbnRlbGxpZ2VuY2UoIXNob3dFbnRlcnByaXNlSW50ZWxsaWdlbmNlKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xIHB4LTMgcHktMSB0ZXh0LXNtIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICBzaG93RW50ZXJwcmlzZUludGVsbGlnZW5jZSBcbiAgICAgICAgICAgICAgICAgID8gJ2JnLXB1cnBsZS0xMDAgdGV4dC1wdXJwbGUtNzAwJyBcbiAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIHRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0yMDAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8QnJhaW4gc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgIDxzcGFuPkVudGVycHJpc2UgSW50ZWxsaWdlbmNlPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBFbnRlcnByaXNlIEludGVsbGlnZW5jZSBQYW5lbCAqL31cbiAgICAgICAge3Nob3dFbnRlcnByaXNlSW50ZWxsaWdlbmNlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgIDxFbnRlcnByaXNlSW50ZWxsaWdlbmNlUGFuZWxcbiAgICAgICAgICAgICAgcmVjaXBlRGF0YT17bnVsbH1cbiAgICAgICAgICAgICAgaW5ncmVkaWVudERhdGE9e3sgaW5ncmVkaWVudHM6IE9iamVjdC52YWx1ZXMoY29tYmluZWRDYXRlZ29yaXplZFJlY29tbWVuZGF0aW9ucykuZmxhdCgpIH19XG4gICAgICAgICAgICAgIGFzdHJvbG9naWNhbENvbnRleHQ9e3tcbiAgICAgICAgICAgICAgICB6b2RpYWNTaWduOiAoY3VycmVudFpvZGlhYyB8fCAnYXJpZXMnKSBhcyBhbnksXG4gICAgICAgICAgICAgICAgbHVuYXJQaGFzZTogJ25ldyBtb29uJyBhcyBhbnksXG4gICAgICAgICAgICAgICAgZWxlbWVudGFsUHJvcGVydGllczogYXN0cm9TdGF0ZS5lbGVtZW50YWxQcm9wZXJ0aWVzIHx8IHtcbiAgICAgICAgICAgICAgICAgIEZpcmU6IDAuMjUsIFdhdGVyOiAwLjI1LCBFYXJ0aDogMC4yNSwgQWlyOiAwLjI1XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwbGFuZXRhcnlQb3NpdGlvbnM6IGN1cnJlbnRQbGFuZXRhcnlBbGlnbm1lbnRcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLXQgcHQtNFwiXG4gICAgICAgICAgICAgIHNob3dEZXRhaWxlZE1ldHJpY3M9e3RydWV9XG4gICAgICAgICAgICAgIGF1dG9BbmFseXplPXt0cnVlfVxuICAgICAgICAgICAgICBvbkFuYWx5c2lzQ29tcGxldGU9eyhhbmFseXNpcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldEVudGVycHJpc2VJbnRlbGxpZ2VuY2VBbmFseXNpcyhhbmFseXNpcyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VudGVycHJpc2UgSW50ZWxsaWdlbmNlIEFuYWx5c2lzIGNvbXBsZXRlZDonLCB7XG4gICAgICAgICAgICAgICAgICBvdmVyYWxsU2NvcmU6IGFuYWx5c2lzLm92ZXJhbGxTY29yZSxcbiAgICAgICAgICAgICAgICAgIHN5c3RlbUhlYWx0aDogYW5hbHlzaXMuc3lzdGVtSGVhbHRoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgey8qIENhdGVnb3J5IG5hdmlnYXRpb24gbGlua3MgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAganVzdGlmeS1jZW50ZXIgZ2FwLTIgbXQtNCBiZy13aGl0ZS83MCBkYXJrOmJnLWdyYXktODAwLzcwIHAtMiByb3VuZGVkLWxnIHNoYWRvdy1zbVwiPlxuICAgICAgICAgIHtPYmplY3QuZW50cmllcyhjb21iaW5lZENhdGVnb3JpemVkUmVjb21tZW5kYXRpb25zKS5tYXAoKFtjYXRlZ29yeV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gQ0FURUdPUllfRElTUExBWV9OQU1FU1tjYXRlZ29yeV0gfHwgKGNhdGVnb3J5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2F0ZWdvcnkuc2xpY2UoMSkpO1xuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjYXRlZ29yeSA9PT0gYWN0aXZlQ2F0ZWdvcnk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERlZmluZSBpY29ucyBmb3IgZWFjaCBjYXRlZ29yeVxuICAgICAgICAgICAgbGV0IGljb247XG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnkgPT09ICdwcm90ZWlucycpIGljb24gPSA8VGFnIGNsYXNzTmFtZT1cIm1yLTEgdGV4dC1yb3NlLTUwMFwiIHNpemU9ezE0fSAvPjtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhdGVnb3J5ID09PSAndmVnZXRhYmxlcycpIGljb24gPSA8TGVhZiBjbGFzc05hbWU9XCJtci0xIHRleHQtZW1lcmFsZC01MDBcIiBzaXplPXsxNH0gLz47XG4gICAgICAgICAgICBlbHNlIGlmIChjYXRlZ29yeSA9PT0gJ2dyYWlucycpIGljb24gPSA8V2luZCBjbGFzc05hbWU9XCJtci0xIHRleHQtYW1iZXItNTAwXCIgc2l6ZT17MTR9IC8+O1xuICAgICAgICAgICAgZWxzZSBpZiAoY2F0ZWdvcnkgPT09ICdoZXJicycpIGljb24gPSA8TGVhZiBjbGFzc05hbWU9XCJtci0xIHRleHQtZ3JlZW4tNTAwXCIgc2l6ZT17MTR9IC8+O1xuICAgICAgICAgICAgZWxzZSBpZiAoY2F0ZWdvcnkgPT09ICdzcGljZXMnKSBpY29uID0gPEZsYW1lIGNsYXNzTmFtZT1cIm1yLTEgdGV4dC1vcmFuZ2UtNTAwXCIgc2l6ZT17MTR9IC8+O1xuICAgICAgICAgICAgZWxzZSBpZiAoY2F0ZWdvcnkgPT09ICdmcnVpdHMnKSBpY29uID0gPERyb3BsZXRzIGNsYXNzTmFtZT1cIm1yLTEgdGV4dC1jeWFuLTUwMFwiIHNpemU9ezE0fSAvPjtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhdGVnb3J5ID09PSAnb2lscycpIGljb24gPSA8RHJvcGxldHMgY2xhc3NOYW1lPVwibXItMSB0ZXh0LXllbGxvdy01MDBcIiBzaXplPXsxNH0gLz47XG4gICAgICAgICAgICBlbHNlIGlmIChjYXRlZ29yeSA9PT0gJ3ZpbmVnYXJzJykgaWNvbiA9IDxCZWFrZXIgY2xhc3NOYW1lPVwibXItMSB0ZXh0LXB1cnBsZS01MDBcIiBzaXplPXsxNH0gLz47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxhIFxuICAgICAgICAgICAgICAgIGtleT17YG5hdi0ke2NhdGVnb3J5fWB9XG4gICAgICAgICAgICAgICAgaHJlZj17YCMke2NhdGVnb3J5fWB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVDYXRlZ29yeVNlbGVjdChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEuNSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LW1lZGl1bSBmbGV4IGl0ZW1zLWNlbnRlciBzaGFkb3ctc20gdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwICR7XG4gICAgICAgICAgICAgICAgICBpc0FjdGl2ZSBcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctaW5kaWdvLTUwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgICAgICAgICAgOiAnYmctd2hpdGUvOTAgZGFyazpiZy1ncmF5LTcwMC85MCB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBob3ZlcjpiZy1pbmRpZ28tMTAwIGRhcms6aG92ZXI6YmctaW5kaWdvLTkwMC80MCBob3Zlcjp0ZXh0LWluZGlnby02MDAgZGFyazpob3Zlcjp0ZXh0LWluZGlnby0zMDAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aWNvbn1cbiAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWV9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHtPYmplY3Qua2V5cyhjb21iaW5lZENhdGVnb3JpemVkUmVjb21tZW5kYXRpb25zKS5sZW5ndGggPiAwID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgIHtPYmplY3QuZW50cmllcyhjb21iaW5lZENhdGVnb3JpemVkUmVjb21tZW5kYXRpb25zKS5tYXAoKFtjYXRlZ29yeSwgaXRlbXNdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IENBVEVHT1JZX0RJU1BMQVlfTkFNRVNbY2F0ZWdvcnldIHx8IChjYXRlZ29yeS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhdGVnb3J5LnNsaWNlKDEpKTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlDb3VudCA9IENBVEVHT1JZX0RJU1BMQVlfQ09VTlRTW2NhdGVnb3J5XSB8fCA1O1xuICAgICAgICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkW2NhdGVnb3J5XSB8fCBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zVG9TaG93ID0gaXNFeHBhbmRlZCA/IGl0ZW1zIDogaXRlbXMuc2xpY2UoMCwgZGlzcGxheUNvdW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBpZD17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnl9IGNsYXNzTmFtZT1cImJnLXdoaXRlLzkwIGRhcms6YmctZ3JheS04MDAvOTAgcC00IHJvdW5kZWQteGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItZ3JheS0xMDAgZGFyazpib3JkZXItZ3JheS03MDAgc2Nyb2xsLW10LTE2XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0zIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB0b2dnbGVDYXRlZ29yeUV4cGFuc2lvbihjYXRlZ29yeSwgZSl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBjYXBpdGFsaXplIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeSA9PT0gJ3Byb3RlaW5zJyAmJiA8VGFnIGNsYXNzTmFtZT1cIm1yLTIgdGV4dC1yb3NlLTUwMFwiIHNpemU9ezE4fSAvPn1cbiAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5ID09PSAndmVnZXRhYmxlcycgJiYgPExlYWYgY2xhc3NOYW1lPVwibXItMiB0ZXh0LWVtZXJhbGQtNTAwXCIgc2l6ZT17MTh9IC8+fVxuICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkgPT09ICdncmFpbnMnICYmIDxXaW5kIGNsYXNzTmFtZT1cIm1yLTIgdGV4dC1hbWJlci01MDBcIiBzaXplPXsxOH0gLz59XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeSA9PT0gJ2hlcmJzJyAmJiA8TGVhZiBjbGFzc05hbWU9XCJtci0yIHRleHQtZ3JlZW4tNTAwXCIgc2l6ZT17MTh9IC8+fVxuICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkgPT09ICdzcGljZXMnICYmIDxGbGFtZSBjbGFzc05hbWU9XCJtci0yIHRleHQtb3JhbmdlLTUwMFwiIHNpemU9ezE4fSAvPn1cbiAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5ID09PSAnZnJ1aXRzJyAmJiA8RHJvcGxldHMgY2xhc3NOYW1lPVwibXItMiB0ZXh0LWN5YW4tNTAwXCIgc2l6ZT17MTh9IC8+fVxuICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkgPT09ICdvaWxzJyAmJiA8RHJvcGxldHMgY2xhc3NOYW1lPVwibXItMiB0ZXh0LXllbGxvdy01MDBcIiBzaXplPXsxOH0gLz59XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeSA9PT0gJ3ZpbmVnYXJzJyAmJiA8QmVha2VyIGNsYXNzTmFtZT1cIm1yLTIgdGV4dC1wdXJwbGUtNTAwXCIgc2l6ZT17MTh9IC8+fVxuICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWV9XG4gICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgZm9jdXM6b3V0bGluZS1ub25lXCI+XG4gICAgICAgICAgICAgICAgICAgIHtpc0V4cGFuZGVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uVXAgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIHNtOmdyaWQtY29scy0zIG1kOmdyaWQtY29scy00IGxnOmdyaWQtY29scy01IHhsOmdyaWQtY29scy02IDJ4bDpncmlkLWNvbHMtOCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAge2l0ZW1zVG9TaG93Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgZWxlbWVudCBjb2xvciBjbGFzc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50YWxQcm9wcyA9IGl0ZW0uZWxlbWVudGFsUHJvcGVydGllcyB8fCB7XG4gICAgICAgICAgICAgICAgICAgICAgRmlyZTogMC4yNSwgV2F0ZXI6IDAuMjUsIEVhcnRoOiAwLjI1LCBBaXI6IDAuMjVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgZG9taW5hbnQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBQYXR0ZXJuIEtLLTE6IEV4cGxpY2l0IFR5cGUgQXNzZXJ0aW9uIGZvciBhcml0aG1ldGljIG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9taW5hbnRFbGVtZW50ID0gT2JqZWN0LmVudHJpZXMoZWxlbWVudGFsUHJvcHMpXG4gICAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFWYWx1ZSA9IE51bWJlcihhWzFdKSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYlZhbHVlID0gTnVtYmVyKGJbMV0pIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYlZhbHVlIC0gYVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIH0pWzBdWzBdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudENvbG9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICdGaXJlJzogJ2JvcmRlci1yZWQtNDAwIGJnLXJlZC01MC83MCBkYXJrOmJnLXJlZC05MDAvMzAnLFxuICAgICAgICAgICAgICAgICAgICAgICdXYXRlcic6ICdib3JkZXItYmx1ZS00MDAgYmctYmx1ZS01MC83MCBkYXJrOmJnLWJsdWUtOTAwLzMwJyxcbiAgICAgICAgICAgICAgICAgICAgICAnRWFydGgnOiAnYm9yZGVyLWdyZWVuLTQwMCBiZy1ncmVlbi01MC83MCBkYXJrOmJnLWdyZWVuLTkwMC8zMCcsXG4gICAgICAgICAgICAgICAgICAgICAgJ0Fpcic6ICdib3JkZXItcHVycGxlLTQwMCBiZy1wdXJwbGUtNTAvNzAgZGFyazpiZy1wdXJwbGUtOTAwLzMwJ1xuICAgICAgICAgICAgICAgICAgICB9W2RvbWluYW50RWxlbWVudF0gfHwgJ2JvcmRlci1ncmF5LTQwMCBiZy1ncmF5LTUwLzcwIGRhcms6YmctZ3JheS05MDAvMzAnO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCBzZW5zb3J5IHByb3BlcnRpZXMgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRTZWFzb24gPSBbJ1NwcmluZycsICdTdW1tZXInLCAnRmFsbCcsICdXaW50ZXInXVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KV07XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWFzb25hbGl0eTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBib3RoIHN0cmluZyBhbmQgb2JqZWN0IHNlYXNvbmFsaXR5IGZvcm1hdHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uc2Vhc29uYWxpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0uc2Vhc29uYWxpdHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb25hbGl0eSA9IGl0ZW0uc2Vhc29uYWxpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbS5zZWFzb25hbGl0eSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBib3RoIGFycmF5IGFuZCBvYmplY3QgZm9ybWF0c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5zZWFzb25hbGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uYWxpdHkgPSBpdGVtLnNlYXNvbmFsaXR5LmpvaW4oJywgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc2Vhc29uYWxpdHkucGVhaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUge3BlYWs6IFsuLi5dLCBub3Rlczogc3RyaW5nfSBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uYWxpdHkgPSBBcnJheS5pc0FycmF5KGl0ZW0uc2Vhc29uYWxpdHkucGVhaykgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBpdGVtLnNlYXNvbmFsaXR5LnBlYWsuam9pbignLCAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zZWFzb25hbGl0eS5wZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWFzb25hbGl0eSA9IGRlZmF1bHRTZWFzb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdGllcyA9IGl0ZW0ucXVhbGl0aWVzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBuZXcgZ2V0TWF0Y2hTY29yZUNsYXNzIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU2NvcmVDbGFzcyA9IGdldE1hdGNoU2NvcmVDbGFzcyhpdGVtLm1hdGNoU2NvcmUpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkSW5ncmVkaWVudD8ubmFtZSA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtpdGVtLm5hbWV9LSR7Y2F0ZWdvcnl9LSR7aXRlbS5zdWJDYXRlZ29yeSB8fCAnJ30tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSl9YH0gXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTMgcm91bmRlZC1sZyBib3JkZXItbC00ICR7ZWxlbWVudENvbG9yfSBob3ZlcjpzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgZmxleCBmbGV4LWNvbCAke2lzU2VsZWN0ZWQgPyAncmluZy0yIHJpbmctaW5kaWdvLTUwMCBzaGFkb3ctbWQgbWluLWgtWzIwMHB4XSBzbTpjb2wtc3Bhbi0yIG1kOmNvbC1zcGFuLTIgbGc6Y29sLXNwYW4tMicgOiAnaC1mdWxsJ30gY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGhhbmRsZUluZ3JlZGllbnRTZWxlY3QoaXRlbSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1zbSB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPntpdGVtLm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgbWwtMSB0ZXh0LXhzIHB4LTEuNSBweS0wLjUgcm91bmRlZC1zbSAke21hdGNoU2NvcmVDbGFzc31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0TWF0Y2hTY29yZShpdGVtLm1hdGNoU2NvcmUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFF1aWNrIGluZm8gcm93ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTEgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uY2F0ZWdvcnkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFnIHNpemU9ezEwfSBjbGFzc05hbWU9XCJtci0wLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uY2F0ZWdvcnkuc3BsaXQoJyAnKVswXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c2Vhc29uYWxpdHkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvY2sgc2l6ZT17MTB9IGNsYXNzTmFtZT1cIm1yLTAuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2Vhc29uYWxpdHl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBFeHBhbmRlZCB2aWV3ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge2lzU2VsZWN0ZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBwdC0xXCIgc3R5bGU9e3sgYW5pbWF0aW9uOiAnZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDbG9zZSBidXR0b24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbmdyZWRpZW50KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgcC0xIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ncmF5LTIwMC81MCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwLzUwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIGRldGFpbHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8WCBzaXplPXsxNH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBNb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSBzcGFjZS15LTIgdGV4dC14cyB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57aXRlbS5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5xdWFsaXRpZXMgJiYgaXRlbS5xdWFsaXRpZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPlF1YWxpdGllczo8L3NwYW4+IHtpdGVtLnF1YWxpdGllcy5qb2luKCcsICcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IGN1bGluYXJ5IGFwcGxpY2F0aW9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmN1bGluYXJ5QXBwbGljYXRpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+Q3VsaW5hcnkgQXBwbGljYXRpb25zOjwvc3Bhbj57JyAnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3Qua2V5cyhpdGVtLmN1bGluYXJ5QXBwbGljYXRpb25zKS5zbGljZSgwLCAzKS5qb2luKCcsICcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IHZhcmlldGllcyBpZiBhdmFpbGFibGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS52YXJpZXRpZXMgJiYgT2JqZWN0LmtleXMoaXRlbS52YXJpZXRpZXMpLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5WYXJpZXRpZXM6PC9zcGFuPnsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKGl0ZW0udmFyaWV0aWVzKS5zbGljZSgwLCAzKS5qb2luKCcsICcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IHN0b3JhZ2UgaW5mb3JtYXRpb24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5zdG9yYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+U3RvcmFnZTo8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5zdG9yYWdlLmR1cmF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnN0b3JhZ2UudGVtcGVyYXR1cmUgJiYgdHlwZW9mIGl0ZW0uc3RvcmFnZS50ZW1wZXJhdHVyZSA9PT0gJ29iamVjdCcgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgYXQgJHtpdGVtLnN0b3JhZ2UudGVtcGVyYXR1cmUuZmFocmVuaGVpdH3CsEZgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IHNtb2tlIHBvaW50IGZvciBvaWxzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5ID09PSAnb2lscycgJiYgaXRlbS5zbW9rZVBvaW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+U21va2UgUG9pbnQ6PC9zcGFuPiB7aXRlbS5zbW9rZVBvaW50LmZhaHJlbmhlaXR9wrBGIC8ge2l0ZW0uc21va2VQb2ludC5jZWxzaXVzfcKwQ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IHJlY29tbWVuZGVkIGN1bGluYXJ5IGFwcGxpY2F0aW9ucyBmb3Igb2lscyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeSA9PT0gJ29pbHMnICYmIGl0ZW0uY3VsaW5hcnlBcHBsaWNhdGlvbnMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5CZXN0IGZvcjo8L3NwYW4+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGl0ZW0uY3VsaW5hcnlBcHBsaWNhdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKFt0eXBlLCBkYXRhXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZGF0YSB3aXRoIHNhZmUgcHJvcGVydHkgYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdWxpbmFyeURhdGEgPSBkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVjaG5pcXVlcyA9IGN1bGluYXJ5RGF0YT8udGVjaG5pcXVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRlY2huaXF1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZWNobmlxdWVzLnNsaWNlKDAsIDIpLmpvaW4oJywgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IHNlYXNvbmFsIGFkanVzdG1lbnRzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uc2Vhc29uYWxBZGp1c3RtZW50cyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPlNlYXNvbmFsIFByZXBhcmF0aW9uczo8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmtleXMoaXRlbS5zZWFzb25hbEFkanVzdG1lbnRzKS5qb2luKCcsICcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IGNvb2tpbmcgdGltZS9tZXRob2RzIGZvciBwcm90ZWlucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeSA9PT0gJ3Byb3RlaW5zJyAmJiBpdGVtLmN1bGluYXJ5QXBwbGljYXRpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+Q29va2luZyBUaW1lczo8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoaXRlbS5jdWxpbmFyeUFwcGxpY2F0aW9ucykubWFwKChbbWV0aG9kLCBkZXRhaWxzXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb29raW5nVGltZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IGRhdGEgZm9ybWF0cyBmb3IgY29va2luZyB0aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGRldGFpbHMgZGF0YSB3aXRoIHNhZmUgcHJvcGVydHkgYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWxzRGF0YSA9IGRldGFpbHMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1pbmcgPSBkZXRhaWxzRGF0YT8udGltaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGltaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpbmdUaW1lID0gdGltaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aW1pbmcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCB0aW1pbmcgcHJvcGVydGllcyB3aXRoIHNhZmUgYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltaW5nRGF0YSA9IHRpbWluZyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5pbXVtID0gdGltaW5nRGF0YT8ubWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhpbXVtID0gdGltaW5nRGF0YT8ubWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpbWFsID0gdGltaW5nRGF0YT8ub3B0aW1hbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluaW11bSAmJiBtYXhpbXVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29raW5nVGltZSA9IGAke21pbmltdW19LSR7bWF4aW11bX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW1hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29va2luZ1RpbWUgPSBvcHRpbWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lcyA9IE9iamVjdC52YWx1ZXModGltaW5nKS5maWx0ZXIodCA9PiB0eXBlb2YgdCA9PT0gJ3N0cmluZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzLmxlbmd0aCkgY29va2luZ1RpbWUgPSB0aW1lcy5qb2luKCctJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb29raW5nVGltZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4ga2V5PXttZXRob2R9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbmRleCA+IDAgPyAnLCAnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21ldGhvZC5yZXBsYWNlKC9fL2csICcgJyl9OiB7Y29va2luZ1RpbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyB0ZW1wZXJhdHVyZSByZWNvbW1lbmRhdGlvbnMgZm9yIHByb3RlaW5zICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5ID09PSAncHJvdGVpbnMnICYmIGl0ZW0uY3VsaW5hcnlBcHBsaWNhdGlvbnMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5Db29raW5nIFRlbXBlcmF0dXJlczo8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoaXRlbS5jdWxpbmFyeUFwcGxpY2F0aW9ucykubWFwKChbbWV0aG9kLCBkZXRhaWxzXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgZGF0YSBmb3JtYXRzIGZvciB0ZW1wZXJhdHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBkZXRhaWxzIGRhdGEgd2l0aCBzYWZlIHByb3BlcnR5IGFjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcERldGFpbHNEYXRhID0gZGV0YWlscyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBlcmF0dXJlID0gdGVtcERldGFpbHNEYXRhPy50ZW1wZXJhdHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBlcmF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGVyYXR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRlbXBlcmF0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0ZW1wZXJhdHVyZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IHRlbXBlcmF0dXJlIHByb3BlcnRpZXMgd2l0aCBzYWZlIGFjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBlcmF0dXJlRGF0YSA9IHRlbXBlcmF0dXJlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhaHJlbmhlaXQgPSB0ZW1wZXJhdHVyZURhdGE/LmZhaHJlbmhlaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluID0gdGVtcGVyYXR1cmVEYXRhPy5taW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4ID0gdGVtcGVyYXR1cmVEYXRhPy5tYXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IHRlbXBlcmF0dXJlRGF0YT8udW5pdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFocmVuaGVpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IGAke2ZhaHJlbmhlaXR9wrBGYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbiAmJiBtYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSBgJHttaW59LSR7bWF4fcKwJHt1bml0ID09PSAnY2Vsc2l1cycgPyAnQycgOiAnRid9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17bWV0aG9kfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5kZXggPiAwID8gJywgJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZXRob2QucmVwbGFjZSgvXy9nLCAnICcpfToge3RlbXB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyBjdXRzIGZvciBzZWFmb29kIGFuZCBwcm90ZWlucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmN1dHMgJiYgT2JqZWN0LmtleXMoaXRlbS5jdXRzKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+QXZhaWxhYmxlIEN1dHM6PC9zcGFuPnsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC52YWx1ZXMoaXRlbS5jdXRzKS5tYXAoY3V0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGN1dCBkYXRhIHdpdGggc2FmZSBwcm9wZXJ0eSBhY2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3V0RGF0YSA9IGN1dCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGN1dERhdGE/Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lID8gbmFtZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKS5qb2luKCcsICcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IGhlYWx0aCBiZW5lZml0cyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmhlYWx0aEJlbmVmaXRzICYmIGl0ZW0uaGVhbHRoQmVuZWZpdHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkhlYWx0aCBCZW5lZml0czo8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QXJyYXkuaXNBcnJheShpdGVtLmhlYWx0aEJlbmVmaXRzKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXRlbS5oZWFsdGhCZW5lZml0cy5zbGljZSgwLCAyKS5qb2luKCcsICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBpdGVtLmhlYWx0aEJlbmVmaXRzID09PSAnc3RyaW5nJyA/IGl0ZW0uaGVhbHRoQmVuZWZpdHMgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyB0aGVybW9keW5hbWljIHByb3BlcnRpZXMgZm9yIG9pbHMgYW5kIG90aGVyIGluZ3JlZGllbnRzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0udGhlcm1vZHluYW1pY1Byb3BlcnRpZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5Qcm9wZXJ0aWVzOjwvc3Bhbj4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoaXRlbS50aGVybW9keW5hbWljUHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoW2tleV0pID0+IFsnaGVhdCcsICdyZWFjdGl2aXR5JywgJ2VuZXJneSddLmluY2x1ZGVzKGtleSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fTogJHtNYXRoLnJvdW5kKChOdW1iZXIodmFsdWUpIHx8IDApICogMTAwKX0lYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywgJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uY3VsaW5hcnlVc2VzICYmIGl0ZW0uY3VsaW5hcnlVc2VzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5Vc2VzOjwvc3Bhbj4ge2l0ZW0uY3VsaW5hcnlVc2VzLmpvaW4oJywgJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNob3cgbnV0cml0aW9uYWwgaGlnaGxpZ2h0cyBpZiBhdmFpbGFibGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5udXRyaXRpb25hbFByb2ZpbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5OdXRyaXRpb246PC9zcGFuPnsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubnV0cml0aW9uYWxQcm9maWxlLmNhbG9yaWVzICYmIGAke2l0ZW0ubnV0cml0aW9uYWxQcm9maWxlLmNhbG9yaWVzfSBjYWxgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLm51dHJpdGlvbmFsUHJvZmlsZS5tYWNyb3MgJiYgaXRlbS5udXRyaXRpb25hbFByb2ZpbGUubWFjcm9zLnByb3RlaW4gJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAsICR7aXRlbS5udXRyaXRpb25hbFByb2ZpbGUubWFjcm9zLnByb3RlaW59ZyBwcm90ZWluYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5hc3Ryb2xvZ2ljYWxQcm9maWxlICYmIGl0ZW0uYXN0cm9sb2dpY2FsUHJvZmlsZS5ydWxpbmdQbGFuZXRzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+UGxhbmV0czo8L3NwYW4+IHtpdGVtLmFzdHJvbG9naWNhbFByb2ZpbGUucnVsaW5nUGxhbmV0cy5qb2luKCcsICcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEVsZW1lbnRhbCBwcm9wZXJ0aWVzIC0gc2hvdyBpbiBleHBhbmRlZCB2aWV3ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBwdC0xIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQteHMgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5FbGVtZW50YWwgQmFsYW5jZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhlbGVtZW50YWxQcm9wcykubWFwKChbZWxlbWVudCwgdmFsdWVdKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtlbGVtZW50fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldEVsZW1lbnRJY29uKGVsZW1lbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93IG1sLTEgYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCBoLTEuNSByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLWZ1bGwgcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAkeyhOdW1iZXIodmFsdWUpIHx8IDApICogMTAwfSVgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID09PSAnRmlyZScgPyAnI2ZmNmI2YicgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPT09ICdXYXRlcicgPyAnIzZiYjVmZicgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9PT0gJ0VhcnRoJyA/ICcjNmJmZjhlJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnI2Q5YjNmZicgLy8gQWlyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB3LTcgdGV4dC1yaWdodCB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPntNYXRoLnJvdW5kKChOdW1iZXIodmFsdWUpIHx8IDApICogMTAwKX0lPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEVsZW1lbnRhbCBwcm9wZXJ0aWVzIGluIGNvbGxhcHNlZCB2aWV3ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBwdC0xIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKGVsZW1lbnRhbFByb3BzKS5tYXAoKFtlbGVtZW50LCB2YWx1ZV0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2VsZW1lbnR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0RWxlbWVudEljb24oZWxlbWVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3cgbWwtMSBiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNzAwIGgtMS41IHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7KE51bWJlcih2YWx1ZSkgfHwgMCkgKiAxMDB9JWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPT09ICdGaXJlJyA/ICcjZmY2YjZiJyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9PT0gJ1dhdGVyJyA/ICcjNmJiNWZmJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID09PSAnRWFydGgnID8gJyM2YmZmOGUnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcjZDliM2ZmJyAvLyBBaXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIHctNyB0ZXh0LXJpZ2h0IHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+e01hdGgucm91bmQoKE51bWJlcih2YWx1ZSkgfHwgMCkgKiAxMDApfSU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFF1YWxpdGllcyB0YWdzIGlmIHNwYWNlIGFsbG93cyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVhbGl0aWVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMSBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdWFsaXRpZXMuc2xpY2UoMCwgMikubWFwKHF1YWxpdHkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17cXVhbGl0eX0gY2xhc3NOYW1lPVwidGV4dC14cyBiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIHB4LTEgcHktMC41IHJvdW5kZWQgdGV4dC1bMTBweF1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdWFsaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDb21wYWN0IHNtb2tlIHBvaW50IGRpc3BsYXkgZm9yIG9pbHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5ID09PSAnb2lscycgJiYgaXRlbS5zbW9rZVBvaW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LVsxMHB4XSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlNtb2tlIFBvaW50Ojwvc3Bhbj4ge2l0ZW0uc21va2VQb2ludC5mYWhyZW5oZWl0fcKwRlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDb21wYWN0IGNvb2tpbmcgbWV0aG9kcyBmb3IgcHJvdGVpbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5ID09PSAncHJvdGVpbnMnICYmIGl0ZW0uY3VsaW5hcnlBcHBsaWNhdGlvbnMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHRleHQtWzEwcHhdIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+Q29vazo8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKGl0ZW0uY3VsaW5hcnlBcHBsaWNhdGlvbnMpLnNsaWNlKDAsIDIpLm1hcCgobWV0aG9kLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e21ldGhvZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWR4ID4gMCAmJiAnLCAnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21ldGhvZC5yZXBsYWNlKC9fL2csICcgJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogU2hvdyBtb3JlL2xlc3MgYnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAge2l0ZW1zLmxlbmd0aCA+IGRpc3BsYXlDb3VudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29sLXNwYW4tZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIG10LTJcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB0b2dnbGVDYXRlZ29yeUV4cGFuc2lvbihjYXRlZ29yeSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWluZGlnby02MDAgZGFyazp0ZXh0LWluZGlnby00MDAgdGV4dC1zbSBmb250LW1lZGl1bSBob3Zlcjp0ZXh0LWluZGlnby04MDAgZGFyazpob3Zlcjp0ZXh0LWluZGlnby0zMDAgdHJhbnNpdGlvbi1jb2xvcnMgcHktMSBweC0zIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWluZGlnby0yMDAgZGFyazpib3JkZXItaW5kaWdvLTcwMC81MCBob3ZlcjpiZy1pbmRpZ28tNTAgZGFyazpob3ZlcjpiZy1pbmRpZ28tOTAwLzMwXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNFeHBhbmRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5TaG93IExlc3MgPENoZXZyb25VcCBzaXplPXsxNH0gY2xhc3NOYW1lPVwibWwtMVwiIC8+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5TaG93IHtpdGVtcy5sZW5ndGggLSBkaXNwbGF5Q291bnR9IE1vcmUgPENoZXZyb25Eb3duIHNpemU9ezE0fSBjbGFzc05hbWU9XCJtbC0xXCIgLz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktMTAwIGRhcms6YmctZ3JheS04MDAgcC04IHJvdW5kZWQtbGcgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPk5vIHJlY29tbWVuZGF0aW9ucyBhdmFpbGFibGUuIFRyeSByZWZyZXNoaW5nIHlvdXIgYXN0cm9sb2dpY2FsIGRhdGEuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LWNlbnRlciBzcGFjZS15LTNcIj5cbiAgICAgICAgey8qIE5hdmlnYXRpb24gdG8gZnVsbCBpbmdyZWRpZW50cyBwYWdlIC0gb25seSBzaG93IGlmIG5vdCBhbHJlYWR5IG9uIGZ1bGwgcGFnZSAqL31cbiAgICAgICAgeyFpc0Z1bGxQYWdlVmVyc2lvbiAmJiAoXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTUgcHktMiBiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tNjAwIHRvLXRlYWwtNjAwIHRleHQtd2hpdGUgZm9udC1tZWRpdW0gcm91bmRlZC1sZyBzaGFkb3ctc20gaG92ZXI6c2hhZG93LW1kIHRyYW5zZm9ybSBob3ZlcjotdHJhbnNsYXRlLXktMC41IHRyYW5zaXRpb24tYWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG14LWF1dG9cIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVmlld01vcmV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgVmlldyBBbGwgSW5ncmVkaWVudHMgPEV4dGVybmFsTGluayBzaXplPXsxNn0gLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIDxidXR0b24gXG4gICAgICAgICAgY2xhc3NOYW1lPVwicHgtNSBweS0yIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1pbmRpZ28tNjAwIHRvLXB1cnBsZS02MDAgdGV4dC13aGl0ZSBmb250LW1lZGl1bSByb3VuZGVkLWxnIHNoYWRvdy1zbSBob3ZlcjpzaGFkb3ctbWQgdHJhbnNmb3JtIGhvdmVyOi10cmFuc2xhdGUteS0wLjUgdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX1cbiAgICAgICAgPlxuICAgICAgICAgIFJlZnJlc2ggQ2VsZXN0aWFsIFJlY29tbWVuZGF0aW9uc1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwidmVyc2lvbiI6M30=