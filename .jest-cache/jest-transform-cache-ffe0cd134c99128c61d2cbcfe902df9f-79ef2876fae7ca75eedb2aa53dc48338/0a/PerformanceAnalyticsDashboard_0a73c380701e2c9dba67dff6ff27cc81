39d3005b10acb86341bcabec81c9f2c8
"use strict";
/**
 * Performance Analytics Dashboard Component
 *
 * Displays comprehensive performance metrics, caching statistics,
 * and user interaction analytics for recommendation systems
 */
'use client';
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PerformanceAnalyticsDashboard = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const lucide_react_1 = require("lucide-react");
const useRecommendationAnalytics_1 = require("@/hooks/useRecommendationAnalytics");
// ========== COMPONENTS ==========
const MetricCard = ({ title, value, unit, trend, icon, color, description }) => {
    const [showTooltip, setShowTooltip] = (0, react_1.useState)(false);
    const formatValue = (val) => {
        if (typeof val === 'number') {
            if (val < 1) {
                return val.toFixed(3);
            }
            else if (val < 100) {
                return val.toFixed(1);
            }
            else {
                return Math.round(val).toString();
            }
        }
        return val;
    };
    const getTrendColor = (trendValue) => {
        if (!trendValue)
            return 'text-gray-500';
        return trendValue > 0 ? 'text-green-600' : 'text-red-600';
    };
    const getTrendIcon = (trendValue) => {
        if (!trendValue)
            return '';
        return trendValue > 0 ? '↗' : '↘';
    };
    return ((0, jsx_runtime_1.jsxs)("div", { className: `bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow relative`, children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-2", children: [(0, jsx_runtime_1.jsx)("div", { className: `p-2 rounded-lg ${color}`, children: icon }), description && ((0, jsx_runtime_1.jsxs)("div", { className: "relative", onMouseEnter: () => setShowTooltip(true), onMouseLeave: () => setShowTooltip(false), children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Info, { size: 16, className: "text-gray-400 cursor-help" }), showTooltip && ((0, jsx_runtime_1.jsx)("div", { className: "absolute right-0 top-6 bg-gray-800 text-white text-xs rounded p-2 whitespace-nowrap z-10", children: description }))] }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-1", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-medium text-gray-600", children: title }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-baseline space-x-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-2xl font-bold text-gray-900", children: formatValue(value) }), unit && ((0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-500", children: unit })), trend !== undefined && ((0, jsx_runtime_1.jsxs)("span", { className: `text-sm font-medium ${getTrendColor(trend)}`, children: [getTrendIcon(trend), " ", Math.abs(trend).toFixed(1), "%"] }))] })] })] }));
};
const PerformanceChart = ({ data, label, color, height = 60 }) => {
    if (data.length === 0) {
        return ((0, jsx_runtime_1.jsx)("div", { className: `flex items-center justify-center bg-gray-50 rounded`, style: { height }, children: (0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-500", children: "No data available" }) }));
    }
    const max = Math.max(...data);
    const min = Math.min(...data);
    const range = max - min || 1;
    return ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm font-medium text-gray-700", children: label }), (0, jsx_runtime_1.jsxs)("span", { className: "text-xs text-gray-500", children: [data.length, " data points"] })] }), (0, jsx_runtime_1.jsx)("div", { className: `relative bg-gray-50 rounded overflow-hidden`, style: { height }, children: (0, jsx_runtime_1.jsx)("svg", { width: "100%", height: "100%", className: "absolute inset-0", children: (0, jsx_runtime_1.jsx)("polyline", { fill: "none", stroke: color, strokeWidth: "2", points: data.map((value, index) => {
                            const x = (index / (data.length - 1)) * 100;
                            const y = 100 - ((value - min) / range) * 80 - 10;
                            return `${x},${y}`;
                        }).join(' ') }) }) })] }));
};
// ========== MAIN COMPONENT ==========
const PerformanceAnalyticsDashboard = ({ className = '', compact = false, showDetails = true }) => {
    const [analyticsState, analyticsActions] = (0, useRecommendationAnalytics_1.useRecommendationAnalytics)({
        enablePerformanceTracking: true,
        enableCaching: true,
        enableInteractionTracking: true,
        metricsUpdateInterval: 5000
    });
    const [isExpanded, setIsExpanded] = (0, react_1.useState)(!compact);
    const [refreshing, setRefreshing] = (0, react_1.useState)(false);
    const { metrics, cacheStats, performanceTrends, isLoading, error } = analyticsState;
    // ========== EVENT HANDLERS ==========
    const handleRefresh = async () => {
        setRefreshing(true);
        try {
            // Force a metrics update by getting a fresh snapshot
            analyticsActions.getAnalyticsSnapshot();
            await new Promise(resolve => setTimeout(resolve, 500)); // Brief delay for visual feedback
        }
        finally {
            setRefreshing(false);
        }
    };
    const handleClearAnalytics = () => {
        if (confirm('Are you sure you want to clear all analytics data?')) {
            analyticsActions.clearAnalytics();
        }
    };
    // ========== RENDER HELPERS ==========
    const renderCompactView = () => {
        var _a;
        return ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-4 p-3 bg-white rounded-lg border border-gray-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Zap, { size: 16, className: "text-blue-500" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm font-medium", children: "Performance" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-4 text-sm", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { size: 14, className: "text-gray-400" }), (0, jsx_runtime_1.jsxs)("span", { children: [((_a = metrics === null || metrics === void 0 ? void 0 : metrics.loadTime) === null || _a === void 0 ? void 0 : _a.toFixed(0)) || 0, "ms"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Database, { size: 14, className: "text-gray-400" }), (0, jsx_runtime_1.jsxs)("span", { children: [(cacheStats.hitRate * 100).toFixed(0), "%"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { size: 14, className: "text-gray-400" }), (0, jsx_runtime_1.jsx)("span", { children: performanceTrends.performanceScore.toFixed(0) })] })] }), (0, jsx_runtime_1.jsx)("button", { onClick: () => setIsExpanded(!isExpanded), className: "ml-auto p-1 hover:bg-gray-100 rounded", children: isExpanded ? (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronUp, { size: 16 }) : (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronDown, { size: 16 }) })] }));
    };
    const renderDetailedView = () => ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.BarChart3, { size: 20, className: "text-blue-500" }), (0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-gray-900", children: "Performance Analytics" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: handleRefresh, disabled: refreshing, className: "flex items-center space-x-1 px-3 py-1 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded transition-colors disabled:opacity-50", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RefreshCw, { size: 14, className: refreshing ? 'animate-spin' : '' }), (0, jsx_runtime_1.jsx)("span", { children: "Refresh" })] }), (0, jsx_runtime_1.jsx)("button", { onClick: handleClearAnalytics, className: "px-3 py-1 text-sm bg-gray-50 hover:bg-gray-100 text-gray-700 rounded transition-colors", children: "Clear Data" }), compact && ((0, jsx_runtime_1.jsx)("button", { onClick: () => setIsExpanded(!isExpanded), className: "p-1 hover:bg-gray-100 rounded", children: (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronUp, { size: 16 }) }))] })] }), error && ((0, jsx_runtime_1.jsxs)("div", { className: "p-4 bg-red-50 border border-red-200 rounded-lg", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2 text-red-700", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Info, { size: 16 }), (0, jsx_runtime_1.jsx)("span", { className: "font-medium", children: "Analytics Error" })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600 mt-1", children: error })] })), isLoading && ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-center p-8", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2 text-gray-500", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RefreshCw, { size: 16, className: "animate-spin" }), (0, jsx_runtime_1.jsx)("span", { children: "Loading analytics..." })] }) })), !isLoading && ((0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [(0, jsx_runtime_1.jsx)(MetricCard, { title: "Load Time", value: (metrics === null || metrics === void 0 ? void 0 : metrics.loadTime) || 0, unit: "ms", icon: (0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { size: 16, className: "text-white" }), color: "bg-blue-500", description: "Average time to load recommendations" }), (0, jsx_runtime_1.jsx)(MetricCard, { title: "Cache Hit Rate", value: (cacheStats.hitRate * 100), unit: "%", icon: (0, jsx_runtime_1.jsx)(lucide_react_1.Database, { size: 16, className: "text-white" }), color: "bg-green-500", description: "Percentage of requests served from cache" }), (0, jsx_runtime_1.jsx)(MetricCard, { title: "Performance Score", value: performanceTrends.performanceScore, unit: "/100", icon: (0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { size: 16, className: "text-white" }), color: "bg-purple-500", description: "Overall performance rating" }), (0, jsx_runtime_1.jsx)(MetricCard, { title: "Interaction Rate", value: (metrics === null || metrics === void 0 ? void 0 : metrics.userInteractionRate) || 0, unit: "/min", icon: (0, jsx_runtime_1.jsx)(lucide_react_1.Users, { size: 16, className: "text-white" }), color: "bg-orange-500", description: "User interactions per minute" })] })), showDetails && !isLoading && ((0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [(0, jsx_runtime_1.jsx)("div", { className: "bg-white rounded-lg border border-gray-200 p-4", children: (0, jsx_runtime_1.jsx)(PerformanceChart, { data: performanceTrends.loadTimeTrend || [], label: "Load Time Trend", color: "#3B82F6" }) }), (0, jsx_runtime_1.jsx)("div", { className: "bg-white rounded-lg border border-gray-200 p-4", children: (0, jsx_runtime_1.jsx)(PerformanceChart, { data: performanceTrends.cacheHitRateTrend || [], label: "Cache Hit Rate Trend", color: "#10B981" }) })] })), showDetails && !isLoading && ((0, jsx_runtime_1.jsxs)("div", { className: "bg-white rounded-lg border border-gray-200 p-4", children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-md font-semibold text-gray-900 mb-3", children: "Cache Statistics" }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold text-blue-600", children: cacheStats.totalEntries }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-500", children: "Total Entries" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold text-green-600", children: (cacheStats.memoryUsage / 1024).toFixed(1) }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-500", children: "Memory (KB)" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-2xl font-bold text-purple-600", children: [(cacheStats.hitRate * 100).toFixed(1), "%"] }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-500", children: "Hit Rate" })] })] })] }))] }));
    // ========== RENDER ==========
    return ((0, jsx_runtime_1.jsx)("div", { className: `${className}`, children: compact && !isExpanded ? renderCompactView() : renderDetailedView() }));
};
exports.PerformanceAnalyticsDashboard = PerformanceAnalyticsDashboard;
exports.default = exports.PerformanceAnalyticsDashboard;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy9jb21wb25lbnRzL2FuYWx5dGljcy9QZXJmb3JtYW5jZUFuYWx5dGljc0Rhc2hib2FyZC50c3giLCJtYXBwaW5ncyI6IjtBQUFBOzs7OztHQUtHO0FBRUgsWUFBWSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFYiwrQ0FBd0M7QUFDeEMsK0NBV3NCO0FBQ3RCLG1GQUFnRjtBQW9CaEYsbUNBQW1DO0FBRW5DLE1BQU0sVUFBVSxHQUE4QixDQUFDLEVBQzdDLEtBQUssRUFDTCxLQUFLLEVBQ0wsSUFBSSxFQUNKLEtBQUssRUFDTCxJQUFJLEVBQ0osS0FBSyxFQUNMLFdBQVcsRUFDWixFQUFFLEVBQUU7SUFDSCxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUV0RCxNQUFNLFdBQVcsR0FBRyxDQUFDLEdBQW9CLEVBQVUsRUFBRTtRQUNuRCxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtZQUMzQixJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUU7Z0JBQ1gsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3ZCO2lCQUFNLElBQUksR0FBRyxHQUFHLEdBQUcsRUFBRTtnQkFDcEIsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3ZCO2lCQUFNO2dCQUNMLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUNuQztTQUNGO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDLENBQUM7SUFFRixNQUFNLGFBQWEsR0FBRyxDQUFDLFVBQW1CLEVBQVUsRUFBRTtRQUNwRCxJQUFJLENBQUMsVUFBVTtZQUFFLE9BQU8sZUFBZSxDQUFDO1FBQ3hDLE9BQU8sVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdC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UCxDQUFDO0lBRUYsK0JBQStCO0lBRS9CLE9BQU8sQ0FDTCxnQ0FBSyxTQUFTLEVBQUUsR0FBRyxTQUFTLEVBQUUsWUFDM0IsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsRUFBRSxHQUNoRSxDQUNQLENBQUM7QUFDSixDQUFDLENBQUM7QUFqT1csUUFBQSw2QkFBNkIsaUNBaU94QztBQUVGLGtCQUFlLHFDQUE2QixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9HcmVnQ2FzdHJvL0Rlc2t0b3AvV2hhdFRvRWF0TmV4dC9zcmMvY29tcG9uZW50cy9hbmFseXRpY3MvUGVyZm9ybWFuY2VBbmFseXRpY3NEYXNoYm9hcmQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUGVyZm9ybWFuY2UgQW5hbHl0aWNzIERhc2hib2FyZCBDb21wb25lbnRcbiAqIFxuICogRGlzcGxheXMgY29tcHJlaGVuc2l2ZSBwZXJmb3JtYW5jZSBtZXRyaWNzLCBjYWNoaW5nIHN0YXRpc3RpY3MsXG4gKiBhbmQgdXNlciBpbnRlcmFjdGlvbiBhbmFseXRpY3MgZm9yIHJlY29tbWVuZGF0aW9uIHN5c3RlbXNcbiAqL1xuXG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFxuICBCYXJDaGFydDMsIFxuICBDbG9jaywgXG4gIERhdGFiYXNlLCBcbiAgVHJlbmRpbmdVcCwgXG4gIFVzZXJzLCBcbiAgWmFwLFxuICBDaGV2cm9uRG93bixcbiAgQ2hldnJvblVwLFxuICBJbmZvLFxuICBSZWZyZXNoQ3dcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IHVzZVJlY29tbWVuZGF0aW9uQW5hbHl0aWNzIH0gZnJvbSAnQC9ob29rcy91c2VSZWNvbW1lbmRhdGlvbkFuYWx5dGljcyc7XG5cbi8vID09PT09PT09PT0gSU5URVJGQUNFUyA9PT09PT09PT09XG5cbmludGVyZmFjZSBQZXJmb3JtYW5jZUFuYWx5dGljc0Rhc2hib2FyZFByb3BzIHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBjb21wYWN0PzogYm9vbGVhbjtcbiAgc2hvd0RldGFpbHM/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgTWV0cmljQ2FyZFByb3BzIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZyB8IG51bWJlcjtcbiAgdW5pdD86IHN0cmluZztcbiAgdHJlbmQ/OiBudW1iZXI7XG4gIGljb246IFJlYWN0LlJlYWN0Tm9kZTtcbiAgY29sb3I6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbi8vID09PT09PT09PT0gQ09NUE9ORU5UUyA9PT09PT09PT09XG5cbmNvbnN0IE1ldHJpY0NhcmQ6IFJlYWN0LkZDPE1ldHJpY0NhcmRQcm9wcz4gPSAoeyBcbiAgdGl0bGUsIFxuICB2YWx1ZSwgXG4gIHVuaXQsIFxuICB0cmVuZCwgXG4gIGljb24sIFxuICBjb2xvciwgXG4gIGRlc2NyaXB0aW9uIFxufSkgPT4ge1xuICBjb25zdCBbc2hvd1Rvb2x0aXAsIHNldFNob3dUb29sdGlwXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBmb3JtYXRWYWx1ZSA9ICh2YWw6IHN0cmluZyB8IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAodmFsIDwgMSkge1xuICAgICAgICByZXR1cm4gdmFsLnRvRml4ZWQoMyk7XG4gICAgICB9IGVsc2UgaWYgKHZhbCA8IDEwMCkge1xuICAgICAgICByZXR1cm4gdmFsLnRvRml4ZWQoMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWwpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH07XG5cbiAgY29uc3QgZ2V0VHJlbmRDb2xvciA9ICh0cmVuZFZhbHVlPzogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICBpZiAoIXRyZW5kVmFsdWUpIHJldHVybiAndGV4dC1ncmF5LTUwMCc7XG4gICAgcmV0dXJuIHRyZW5kVmFsdWUgPiAwID8gJ3RleHQtZ3JlZW4tNjAwJyA6ICd0ZXh0LXJlZC02MDAnO1xuICB9O1xuXG4gIGNvbnN0IGdldFRyZW5kSWNvbiA9ICh0cmVuZFZhbHVlPzogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICBpZiAoIXRyZW5kVmFsdWUpIHJldHVybiAnJztcbiAgICByZXR1cm4gdHJlbmRWYWx1ZSA+IDAgPyAn4oaXJyA6ICfihpgnO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2BiZy13aGl0ZSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcC00IGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvdyByZWxhdGl2ZWB9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHAtMiByb3VuZGVkLWxnICR7Y29sb3J9YH0+XG4gICAgICAgICAge2ljb259XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7ZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldFNob3dUb29sdGlwKHRydWUpfVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRTaG93VG9vbHRpcChmYWxzZSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEluZm8gc2l6ZT17MTZ9IGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgY3Vyc29yLWhlbHBcIiAvPlxuICAgICAgICAgICAge3Nob3dUb29sdGlwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0wIHRvcC02IGJnLWdyYXktODAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIHAtMiB3aGl0ZXNwYWNlLW5vd3JhcCB6LTEwXCI+XG4gICAgICAgICAgICAgICAge2Rlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMFwiPnt0aXRsZX08L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtYmFzZWxpbmUgc3BhY2UteC0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgIHtmb3JtYXRWYWx1ZSh2YWx1ZSl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHt1bml0ICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPnt1bml0fTwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHt0cmVuZCAhPT0gdW5kZWZpbmVkICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gJHtnZXRUcmVuZENvbG9yKHRyZW5kKX1gfT5cbiAgICAgICAgICAgICAge2dldFRyZW5kSWNvbih0cmVuZCl9IHtNYXRoLmFicyh0cmVuZCkudG9GaXhlZCgxKX0lXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IFBlcmZvcm1hbmNlQ2hhcnQ6IFJlYWN0LkZDPHsgXG4gIGRhdGE6IG51bWJlcltdOyBcbiAgbGFiZWw6IHN0cmluZzsgXG4gIGNvbG9yOiBzdHJpbmc7XG4gIGhlaWdodD86IG51bWJlcjtcbn0+ID0gKHsgZGF0YSwgbGFiZWwsIGNvbG9yLCBoZWlnaHQgPSA2MCB9KSA9PiB7XG4gIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktNTAgcm91bmRlZGB9IHN0eWxlPXt7IGhlaWdodCB9fT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+Tm8gZGF0YSBhdmFpbGFibGU8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgbWF4ID0gTWF0aC5tYXgoLi4uZGF0YSk7XG4gIGNvbnN0IG1pbiA9IE1hdGgubWluKC4uLmRhdGEpO1xuICBjb25zdCByYW5nZSA9IG1heCAtIG1pbiB8fCAxO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPntsYWJlbH08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgIHtkYXRhLmxlbmd0aH0gZGF0YSBwb2ludHNcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YHJlbGF0aXZlIGJnLWdyYXktNTAgcm91bmRlZCBvdmVyZmxvdy1oaWRkZW5gfSBzdHlsZT17eyBoZWlnaHQgfX0+XG4gICAgICAgIDxzdmcgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTBcIj5cbiAgICAgICAgICA8cG9seWxpbmVcbiAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgIHN0cm9rZT17Y29sb3J9XG4gICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxuICAgICAgICAgICAgcG9pbnRzPXtkYXRhLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHggPSAoaW5kZXggLyAoZGF0YS5sZW5ndGggLSAxKSkgKiAxMDA7XG4gICAgICAgICAgICAgIGNvbnN0IHkgPSAxMDAgLSAoKHZhbHVlIC0gbWluKSAvIHJhbmdlKSAqIDgwIC0gMTA7XG4gICAgICAgICAgICAgIHJldHVybiBgJHt4fSwke3l9YDtcbiAgICAgICAgICAgIH0pLmpvaW4oJyAnKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gPT09PT09PT09PSBNQUlOIENPTVBPTkVOVCA9PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBQZXJmb3JtYW5jZUFuYWx5dGljc0Rhc2hib2FyZDogUmVhY3QuRkM8UGVyZm9ybWFuY2VBbmFseXRpY3NEYXNoYm9hcmRQcm9wcz4gPSAoe1xuICBjbGFzc05hbWUgPSAnJyxcbiAgY29tcGFjdCA9IGZhbHNlLFxuICBzaG93RGV0YWlscyA9IHRydWVcbn0pID0+IHtcbiAgY29uc3QgW2FuYWx5dGljc1N0YXRlLCBhbmFseXRpY3NBY3Rpb25zXSA9IHVzZVJlY29tbWVuZGF0aW9uQW5hbHl0aWNzKHtcbiAgICBlbmFibGVQZXJmb3JtYW5jZVRyYWNraW5nOiB0cnVlLFxuICAgIGVuYWJsZUNhY2hpbmc6IHRydWUsXG4gICAgZW5hYmxlSW50ZXJhY3Rpb25UcmFja2luZzogdHJ1ZSxcbiAgICBtZXRyaWNzVXBkYXRlSW50ZXJ2YWw6IDUwMDBcbiAgfSk7XG5cbiAgY29uc3QgW2lzRXhwYW5kZWQsIHNldElzRXhwYW5kZWRdID0gdXNlU3RhdGUoIWNvbXBhY3QpO1xuICBjb25zdCBbcmVmcmVzaGluZywgc2V0UmVmcmVzaGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgeyBtZXRyaWNzLCBjYWNoZVN0YXRzLCBwZXJmb3JtYW5jZVRyZW5kcywgaXNMb2FkaW5nLCBlcnJvciB9ID0gYW5hbHl0aWNzU3RhdGU7XG5cbiAgLy8gPT09PT09PT09PSBFVkVOVCBIQU5ETEVSUyA9PT09PT09PT09XG5cbiAgY29uc3QgaGFuZGxlUmVmcmVzaCA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRSZWZyZXNoaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBGb3JjZSBhIG1ldHJpY3MgdXBkYXRlIGJ5IGdldHRpbmcgYSBmcmVzaCBzbmFwc2hvdFxuICAgICAgYW5hbHl0aWNzQWN0aW9ucy5nZXRBbmFseXRpY3NTbmFwc2hvdCgpO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpOyAvLyBCcmllZiBkZWxheSBmb3IgdmlzdWFsIGZlZWRiYWNrXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFJlZnJlc2hpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVDbGVhckFuYWx5dGljcyA9ICgpID0+IHtcbiAgICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsZWFyIGFsbCBhbmFseXRpY3MgZGF0YT8nKSkge1xuICAgICAgYW5hbHl0aWNzQWN0aW9ucy5jbGVhckFuYWx5dGljcygpO1xuICAgIH1cbiAgfTtcblxuICAvLyA9PT09PT09PT09IFJFTkRFUiBIRUxQRVJTID09PT09PT09PT1cblxuICBjb25zdCByZW5kZXJDb21wYWN0VmlldyA9ICgpID0+IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCBwLTMgYmctd2hpdGUgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICA8WmFwIHNpemU9ezE2fSBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwXCIgLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlBlcmZvcm1hbmNlPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00IHRleHQtc21cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICA8Q2xvY2sgc2l6ZT17MTR9IGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgIDxzcGFuPnttZXRyaWNzPy5sb2FkVGltZT8udG9GaXhlZCgwKSB8fCAwfW1zPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgPERhdGFiYXNlIHNpemU9ezE0fSBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCIgLz5cbiAgICAgICAgICA8c3Bhbj57KGNhY2hlU3RhdHMuaGl0UmF0ZSAqIDEwMCkudG9GaXhlZCgwKX0lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgPFRyZW5kaW5nVXAgc2l6ZT17MTR9IGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgIDxzcGFuPntwZXJmb3JtYW5jZVRyZW5kcy5wZXJmb3JtYW5jZVNjb3JlLnRvRml4ZWQoMCl9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRXhwYW5kZWQoIWlzRXhwYW5kZWQpfVxuICAgICAgICBjbGFzc05hbWU9XCJtbC1hdXRvIHAtMSBob3ZlcjpiZy1ncmF5LTEwMCByb3VuZGVkXCJcbiAgICAgID5cbiAgICAgICAge2lzRXhwYW5kZWQgPyA8Q2hldnJvblVwIHNpemU9ezE2fSAvPiA6IDxDaGV2cm9uRG93biBzaXplPXsxNn0gLz59XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcblxuICBjb25zdCByZW5kZXJEZXRhaWxlZFZpZXcgPSAoKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxCYXJDaGFydDMgc2l6ZT17MjB9IGNsYXNzTmFtZT1cInRleHQtYmx1ZS01MDBcIiAvPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPlBlcmZvcm1hbmNlIEFuYWx5dGljczwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWZyZXNofVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3JlZnJlc2hpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgcHgtMyBweS0xIHRleHQtc20gYmctYmx1ZS01MCBob3ZlcjpiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtNzAwIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFJlZnJlc2hDdyBzaXplPXsxNH0gY2xhc3NOYW1lPXtyZWZyZXNoaW5nID8gJ2FuaW1hdGUtc3BpbicgOiAnJ30gLz5cbiAgICAgICAgICAgIDxzcGFuPlJlZnJlc2g8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xlYXJBbmFseXRpY3N9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgdGV4dC1zbSBiZy1ncmF5LTUwIGhvdmVyOmJnLWdyYXktMTAwIHRleHQtZ3JheS03MDAgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ2xlYXIgRGF0YVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIHtjb21wYWN0ICYmIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNFeHBhbmRlZCghaXNFeHBhbmRlZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBob3ZlcjpiZy1ncmF5LTEwMCByb3VuZGVkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZXZyb25VcCBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBFcnJvciBTdGF0ZSAqL31cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQtcmVkLTcwMFwiPlxuICAgICAgICAgICAgPEluZm8gc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkFuYWx5dGljcyBFcnJvcjwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMCBtdC0xXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogTG9hZGluZyBTdGF0ZSAqL31cbiAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtOFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgIDxSZWZyZXNoQ3cgc2l6ZT17MTZ9IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICA8c3Bhbj5Mb2FkaW5nIGFuYWx5dGljcy4uLjwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogTWV0cmljcyBHcmlkICovfVxuICAgICAgeyFpc0xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTQgZ2FwLTRcIj5cbiAgICAgICAgICA8TWV0cmljQ2FyZFxuICAgICAgICAgICAgdGl0bGU9XCJMb2FkIFRpbWVcIlxuICAgICAgICAgICAgdmFsdWU9e21ldHJpY3M/LmxvYWRUaW1lIHx8IDB9XG4gICAgICAgICAgICB1bml0PVwibXNcIlxuICAgICAgICAgICAgaWNvbj17PENsb2NrIHNpemU9ezE2fSBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCIgLz59XG4gICAgICAgICAgICBjb2xvcj1cImJnLWJsdWUtNTAwXCJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiQXZlcmFnZSB0aW1lIHRvIGxvYWQgcmVjb21tZW5kYXRpb25zXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIDxNZXRyaWNDYXJkXG4gICAgICAgICAgICB0aXRsZT1cIkNhY2hlIEhpdCBSYXRlXCJcbiAgICAgICAgICAgIHZhbHVlPXsoY2FjaGVTdGF0cy5oaXRSYXRlICogMTAwKX1cbiAgICAgICAgICAgIHVuaXQ9XCIlXCJcbiAgICAgICAgICAgIGljb249ezxEYXRhYmFzZSBzaXplPXsxNn0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiIC8+fVxuICAgICAgICAgICAgY29sb3I9XCJiZy1ncmVlbi01MDBcIlxuICAgICAgICAgICAgZGVzY3JpcHRpb249XCJQZXJjZW50YWdlIG9mIHJlcXVlc3RzIHNlcnZlZCBmcm9tIGNhY2hlXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIDxNZXRyaWNDYXJkXG4gICAgICAgICAgICB0aXRsZT1cIlBlcmZvcm1hbmNlIFNjb3JlXCJcbiAgICAgICAgICAgIHZhbHVlPXtwZXJmb3JtYW5jZVRyZW5kcy5wZXJmb3JtYW5jZVNjb3JlfVxuICAgICAgICAgICAgdW5pdD1cIi8xMDBcIlxuICAgICAgICAgICAgaWNvbj17PFRyZW5kaW5nVXAgc2l6ZT17MTZ9IGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIiAvPn1cbiAgICAgICAgICAgIGNvbG9yPVwiYmctcHVycGxlLTUwMFwiXG4gICAgICAgICAgICBkZXNjcmlwdGlvbj1cIk92ZXJhbGwgcGVyZm9ybWFuY2UgcmF0aW5nXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIDxNZXRyaWNDYXJkXG4gICAgICAgICAgICB0aXRsZT1cIkludGVyYWN0aW9uIFJhdGVcIlxuICAgICAgICAgICAgdmFsdWU9e21ldHJpY3M/LnVzZXJJbnRlcmFjdGlvblJhdGUgfHwgMH1cbiAgICAgICAgICAgIHVuaXQ9XCIvbWluXCJcbiAgICAgICAgICAgIGljb249ezxVc2VycyBzaXplPXsxNn0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiIC8+fVxuICAgICAgICAgICAgY29sb3I9XCJiZy1vcmFuZ2UtNTAwXCJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiVXNlciBpbnRlcmFjdGlvbnMgcGVyIG1pbnV0ZVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogUGVyZm9ybWFuY2UgQ2hhcnRzICovfVxuICAgICAge3Nob3dEZXRhaWxzICYmICFpc0xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgZ2FwLTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBwLTRcIj5cbiAgICAgICAgICAgIDxQZXJmb3JtYW5jZUNoYXJ0XG4gICAgICAgICAgICAgIGRhdGE9e3BlcmZvcm1hbmNlVHJlbmRzLmxvYWRUaW1lVHJlbmQgfHwgW119XG4gICAgICAgICAgICAgIGxhYmVsPVwiTG9hZCBUaW1lIFRyZW5kXCJcbiAgICAgICAgICAgICAgY29sb3I9XCIjM0I4MkY2XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcC00XCI+XG4gICAgICAgICAgICA8UGVyZm9ybWFuY2VDaGFydFxuICAgICAgICAgICAgICBkYXRhPXtwZXJmb3JtYW5jZVRyZW5kcy5jYWNoZUhpdFJhdGVUcmVuZCB8fCBbXX1cbiAgICAgICAgICAgICAgbGFiZWw9XCJDYWNoZSBIaXQgUmF0ZSBUcmVuZFwiXG4gICAgICAgICAgICAgIGNvbG9yPVwiIzEwQjk4MVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBDYWNoZSBTdGF0aXN0aWNzICovfVxuICAgICAge3Nob3dEZXRhaWxzICYmICFpc0xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBwLTRcIj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1tZCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItM1wiPkNhY2hlIFN0YXRpc3RpY3M8L2g0PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwXCI+e2NhY2hlU3RhdHMudG90YWxFbnRyaWVzfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlRvdGFsIEVudHJpZXM8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyZWVuLTYwMFwiPlxuICAgICAgICAgICAgICAgIHsoY2FjaGVTdGF0cy5tZW1vcnlVc2FnZSAvIDEwMjQpLnRvRml4ZWQoMSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPk1lbW9yeSAoS0IpPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1wdXJwbGUtNjAwXCI+XG4gICAgICAgICAgICAgICAgeyhjYWNoZVN0YXRzLmhpdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5IaXQgUmF0ZTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcblxuICAvLyA9PT09PT09PT09IFJFTkRFUiA9PT09PT09PT09XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YCR7Y2xhc3NOYW1lfWB9PlxuICAgICAge2NvbXBhY3QgJiYgIWlzRXhwYW5kZWQgPyByZW5kZXJDb21wYWN0VmlldygpIDogcmVuZGVyRGV0YWlsZWRWaWV3KCl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQZXJmb3JtYW5jZUFuYWx5dGljc0Rhc2hib2FyZDsiXSwidmVyc2lvbiI6M30=