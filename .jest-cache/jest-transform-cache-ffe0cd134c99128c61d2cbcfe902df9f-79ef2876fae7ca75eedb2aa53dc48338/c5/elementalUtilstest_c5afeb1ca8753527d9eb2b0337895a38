e72a3df4ffb148330ffd5f5fa9c1133a
"use strict";
// src/__tests__/utils/elementalUtils.test.ts
Object.defineProperty(exports, "__esModule", { value: true });
const elementalUtils_1 = require("@/utils/elementalUtils");
describe('elementalUtils', () => {
    const validProps = {
        Fire: 0.25,
        Water: 0.25,
        Air: 0.25,
        Earth: 0.25
    };
    const invalidProps = {
        Fire: 0.5,
        Water: 0.5,
        Air: 0.5,
        Earth: 0.5 // Sum > 1
    };
    describe('validateProperties', () => {
        it('should validate correct elemental properties', () => {
            expect(elementalUtils_1.elementalUtils.validateProperties(validProps)).toBe(true);
        });
        it('should reject invalid elemental properties', () => {
            expect(elementalUtils_1.elementalUtils.validateProperties(invalidProps)).toBe(false);
        });
    });
    describe('normalizeProperties', () => {
        it('should normalize properties to sum to 1', () => {
            const normalized = elementalUtils_1.elementalUtils.normalizeProperties(invalidProps);
            const sum = Object.values(normalized).reduce((acc, val) => acc + val, 0);
            expect(Math.abs(sum - 1)).toBeLessThan(0.000001);
        });
        it('should handle empty or zero properties', () => {
            const emptyProps = {
                Fire: 0,
                Water: 0,
                Air: 0,
                Earth: 0
            };
            const normalized = elementalUtils_1.elementalUtils.normalizeProperties(emptyProps);
            expect(normalized.Fire).toBe(0.25);
            expect(normalized.Water).toBe(0.25);
            expect(normalized.Air).toBe(0.25);
            expect(normalized.Earth).toBe(0.25);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy91dGlscy9lbGVtZW50YWxVdGlscy50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQSw2Q0FBNkM7O0FBRTdDLDJEQUF3RDtBQUd4RCxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFO0lBQzlCLE1BQU0sVUFBVSxHQUF3QjtRQUN0QyxJQUFJLEVBQUUsSUFBSTtRQUNWLEtBQUssRUFBRSxJQUFJO1FBQ1gsR0FBRyxFQUFFLElBQUk7UUFDVCxLQUFLLEVBQUUsSUFBSTtLQUNaLENBQUM7SUFFRixNQUFNLFlBQVksR0FBd0I7UUFDeEMsSUFBSSxFQUFFLEdBQUc7UUFDVCxLQUFLLEVBQUUsR0FBRztRQUNWLEdBQUcsRUFBRSxHQUFHO1FBQ1IsS0FBSyxFQUFFLEdBQUcsQ0FBRSxVQUFVO0tBQ3ZCLENBQUM7SUFFRixRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQ2xDLEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRSxHQUFHLEVBQUU7WUFDdEQsTUFBTSxDQUFDLCtCQUFjLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsNENBQTRDLEVBQUUsR0FBRyxFQUFFO1lBQ3BELE1BQU0sQ0FBQywrQkFBYyxDQUFDLGtCQUFrQixDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RFLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO1FBQ25DLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7WUFDakQsTUFBTSxVQUFVLEdBQUcsK0JBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNwRSxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsR0FBSSxHQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDckYsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHdDQUF3QyxFQUFFLEdBQUcsRUFBRTtZQUNoRCxNQUFNLFVBQVUsR0FBRztnQkFDakIsSUFBSSxFQUFFLENBQUM7Z0JBQ1AsS0FBSyxFQUFFLENBQUM7Z0JBQ1IsR0FBRyxFQUFFLENBQUM7Z0JBQ04sS0FBSyxFQUFFLENBQUM7YUFDVCxDQUFDO1lBQ0YsTUFBTSxVQUFVLEdBQUcsK0JBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsRSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsQyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL0dyZWdDYXN0cm8vRGVza3RvcC9XaGF0VG9FYXROZXh0L3NyYy91dGlscy9lbGVtZW50YWxVdGlscy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9fX3Rlc3RzX18vdXRpbHMvZWxlbWVudGFsVXRpbHMudGVzdC50c1xuXG5pbXBvcnQgeyBlbGVtZW50YWxVdGlscyB9IGZyb20gJ0AvdXRpbHMvZWxlbWVudGFsVXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50YWxQcm9wZXJ0aWVzIH0gZnJvbSAnQC90eXBlcy9hbGNoZW15JztcblxuZGVzY3JpYmUoJ2VsZW1lbnRhbFV0aWxzJywgKCkgPT4ge1xuICBjb25zdCB2YWxpZFByb3BzOiBFbGVtZW50YWxQcm9wZXJ0aWVzID0ge1xuICAgIEZpcmU6IDAuMjUsXG4gICAgV2F0ZXI6IDAuMjUsXG4gICAgQWlyOiAwLjI1LFxuICAgIEVhcnRoOiAwLjI1XG4gIH07XG5cbiAgY29uc3QgaW52YWxpZFByb3BzOiBFbGVtZW50YWxQcm9wZXJ0aWVzID0ge1xuICAgIEZpcmU6IDAuNSxcbiAgICBXYXRlcjogMC41LFxuICAgIEFpcjogMC41LFxuICAgIEVhcnRoOiAwLjUgIC8vIFN1bSA+IDFcbiAgfTtcblxuICBkZXNjcmliZSgndmFsaWRhdGVQcm9wZXJ0aWVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29ycmVjdCBlbGVtZW50YWwgcHJvcGVydGllcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChlbGVtZW50YWxVdGlscy52YWxpZGF0ZVByb3BlcnRpZXModmFsaWRQcm9wcykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIGVsZW1lbnRhbCBwcm9wZXJ0aWVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGVsZW1lbnRhbFV0aWxzLnZhbGlkYXRlUHJvcGVydGllcyhpbnZhbGlkUHJvcHMpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ25vcm1hbGl6ZVByb3BlcnRpZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBub3JtYWxpemUgcHJvcGVydGllcyB0byBzdW0gdG8gMScsICgpID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBlbGVtZW50YWxVdGlscy5ub3JtYWxpemVQcm9wZXJ0aWVzKGludmFsaWRQcm9wcyk7XG4gICAgICBjb25zdCBzdW0gPSBPYmplY3QudmFsdWVzKG5vcm1hbGl6ZWQpLnJlZHVjZSgoYWNjLCB2YWwpID0+IGFjYyArICh2YWwgYXMgbnVtYmVyKSwgMCk7XG4gICAgICBleHBlY3QoTWF0aC5hYnMoc3VtIC0gMSkpLnRvQmVMZXNzVGhhbigwLjAwMDAwMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBvciB6ZXJvIHByb3BlcnRpZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbXB0eVByb3BzID0ge1xuICAgICAgICBGaXJlOiAwLFxuICAgICAgICBXYXRlcjogMCxcbiAgICAgICAgQWlyOiAwLFxuICAgICAgICBFYXJ0aDogMFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBlbGVtZW50YWxVdGlscy5ub3JtYWxpemVQcm9wZXJ0aWVzKGVtcHR5UHJvcHMpO1xuICAgICAgZXhwZWN0KG5vcm1hbGl6ZWQuRmlyZSkudG9CZSgwLjI1KTtcbiAgICAgIGV4cGVjdChub3JtYWxpemVkLldhdGVyKS50b0JlKDAuMjUpO1xuICAgICAgZXhwZWN0KG5vcm1hbGl6ZWQuQWlyKS50b0JlKDAuMjUpO1xuICAgICAgZXhwZWN0KG5vcm1hbGl6ZWQuRWFydGgpLnRvQmUoMC4yNSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9